{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/react/index.js","webpack:///./src/components/buttons/button-icon.jsx","webpack:///./src/adapter/editor-context.js","webpack:///./src/components/base/button-command.js","webpack:///./src/components/base/button-state-classes.js","webpack:///./src/oop/lang.js","webpack:///./node_modules/react-dom/index.js","webpack:///./node_modules/prop-types/index.js","webpack:///./src/components/base/button-style.js","webpack:///./src/components/base/button-command-active.js","webpack:///./src/components/base/widget-focus-manager.js","webpack:///./src/components/base/button-keystroke.js","webpack:///./src/components/buttons/button-dropdown.jsx","webpack:///./src/components/buttons/button-commands-list.jsx","webpack:///./src/adapter/main.js","webpack:///./src/components/base/button-action-style.js","webpack:///./src/components/buttons/button-styles-list.jsx","webpack:///./src/components/base/widget-dropdown.js","webpack:///./src/components/base/widget-exclusive.js","webpack:///./src/components/buttons/button-link-edit.jsx","webpack:///./src/components/base/button-props.js","webpack:///./src/components/base/toolbar-buttons.js","webpack:///./src/oop/oop.js","webpack:///./src/selections/selection-test.js","webpack:///./node_modules/object-assign/index.js","webpack:///./src/components/buttons/button-styles-list-header.jsx","webpack:///./src/components/buttons/button-styles-list-item-remove.jsx","webpack:///./src/components/buttons/button-styles-list-item.jsx","webpack:///./src/components/buttons/button-camera-image.jsx","webpack:///./src/components/buttons/button-command-list-item.jsx","webpack:///./src/components/buttons/button-embed-edit.jsx","webpack:///./src/components/buttons/button-embed-video-edit.jsx","webpack:///./src/utils.js","webpack:///./src/components/buttons/button-link-autocomplete-list.jsx","webpack:///./src/components/buttons/button-link-edit-browse.jsx","webpack:///./src/components/buttons/button-link-target-edit.jsx","webpack:///./src/components/buttons/button-target-list.jsx","webpack:///./src/components/buttons/button-link.jsx","webpack:///./src/components/buttons/button-table-edit.jsx","webpack:///./src/components/compat/widget-interaction-point.js","webpack:///./src/oop/attribute.js","webpack:///./src/selections/selection-arrowbox.js","webpack:///./src/selections/selection-position.js","webpack:///./src/selections/selections.js","webpack:///./src/plugins/index.js","webpack:///./scripts/build/with-react.js","webpack:///./src/components/base/index.js","webpack:///./node_modules/react/cjs/react.production.min.js","webpack:///./node_modules/react-dom/cjs/react-dom.production.min.js","webpack:///./node_modules/scheduler/index.js","webpack:///./node_modules/scheduler/cjs/scheduler.production.min.js","webpack:///./src/components/buttons/index.js","webpack:///./src/components/buttons/button-accessibility-image-alt.jsx","webpack:///./src/components/buttons/button-background-color.jsx","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./src/components/buttons/button-bold.jsx","webpack:///./src/components/buttons/button-camera.jsx","webpack:///./src/components/buttons/button-code.jsx","webpack:///./src/components/buttons/button-color.jsx","webpack:///./src/components/buttons/button-embed-video.jsx","webpack:///./src/components/buttons/button-embed.jsx","webpack:///./src/components/buttons/button-h1.jsx","webpack:///./src/components/buttons/button-h2.jsx","webpack:///./src/components/buttons/button-hline.jsx","webpack:///./src/components/buttons/button-smiley.jsx","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/process/browser.js","webpack:///./src/components/buttons/button-image-align-center.jsx","webpack:///./src/components/buttons/button-image-align-left.jsx","webpack:///./src/components/buttons/button-image-align-right.jsx","webpack:///./src/components/buttons/button-image.jsx","webpack:///./src/components/buttons/button-indent-block.jsx","webpack:///./src/components/buttons/button-italic.jsx","webpack:///./src/components/buttons/button-item-selector-audio.jsx","webpack:///./src/components/buttons/button-item-selector-image.jsx","webpack:///./src/components/buttons/button-item-selector-video.jsx","webpack:///./src/components/buttons/button-link-browse.jsx","webpack:///./src/components/buttons/button-ol.jsx","webpack:///./src/components/buttons/button-outdent-block.jsx","webpack:///./src/components/buttons/button-paragraph-align-left.jsx","webpack:///./src/components/buttons/button-paragraph-align-right.jsx","webpack:///./src/components/buttons/button-paragraph-align.jsx","webpack:///./src/components/buttons/button-paragraph-center.jsx","webpack:///./src/components/buttons/button-paragraph-justify.jsx","webpack:///./src/components/buttons/button-quote.jsx","webpack:///./src/components/buttons/button-remove-format.jsx","webpack:///./src/components/buttons/button-remove-image.jsx","webpack:///./src/components/buttons/button-separator.jsx","webpack:///./src/components/buttons/button-spacing.jsx","webpack:///./src/components/buttons/button-strike.jsx","webpack:///./src/components/buttons/button-styles.jsx","webpack:///./src/components/buttons/button-subscript.jsx","webpack:///./src/components/buttons/button-superscript.jsx","webpack:///./src/components/buttons/button-table-cell.jsx","webpack:///./src/components/buttons/button-table-column.jsx","webpack:///./src/components/buttons/button-table-heading.jsx","webpack:///./src/components/buttons/button-table-remove.jsx","webpack:///./src/components/buttons/button-table-row.jsx","webpack:///./src/components/buttons/button-table.jsx","webpack:///./src/components/buttons/button-twitter.jsx","webpack:///./src/components/buttons/button-ul.jsx","webpack:///./src/components/buttons/button-underline.jsx","webpack:///./src/components/compat/index.js","webpack:///./src/components/compat/button-action-style.js","webpack:///./src/components/compat/button-command-active.js","webpack:///./src/components/compat/button-command.js","webpack:///./src/components/compat/button-keystroke.js","webpack:///./src/components/compat/button-props.js","webpack:///./src/components/compat/button-state-classes.js","webpack:///./src/components/compat/button-style.js","webpack:///./src/components/compat/toolbar-buttons.js","webpack:///./src/components/compat/widget-arrow-box.js","webpack:///./src/components/compat/widget-dropdown.js","webpack:///./src/components/compat/widget-exclusive.js","webpack:///./src/components/compat/widget-focus-manager.js","webpack:///./src/components/compat/widget-position.js","webpack:///./src/components/toolbars/index.js","webpack:///./src/components/toolbars/toolbar-add.jsx","webpack:///./src/components/toolbars/toolbar-styles.jsx","webpack:///./src/adapter/core.js","webpack:///./src/core/index.js","webpack:///./src/core/debounce.js","webpack:///./src/core/link.js","webpack:///./src/core/plugins.js","webpack:///./src/core/selection-region.js","webpack:///./src/core/table.js","webpack:///./src/core/tools.js","webpack:///./src/core/uicore.js","webpack:///./src/plugins/addimages.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./src/plugins/autolink.js","webpack:///./src/plugins/autolist.js","webpack:///./src/plugins/dragresize.js","webpack:///./src/plugins/dragresize_ie.js","webpack:///./src/plugins/dragresize_ie11.js","webpack:///./src/plugins/embed.js","webpack:///./src/plugins/priorities.js","webpack:///./src/plugins/embedurl.js","webpack:///./src/plugins/Resizer.es.js","webpack:///./src/plugins/DragEvent.es.js","webpack:///./src/plugins/imagealignment.js","webpack:///./src/plugins/pasteimages.js","webpack:///./src/plugins/placeholder.js","webpack:///./src/plugins/selectionkeystrokes.js","webpack:///./src/plugins/tableresize.js","webpack:///./src/plugins/tabletools.js","webpack:///./src/components/uibridge/index.js","webpack:///./src/components/uibridge/button.jsx","webpack:///./src/components/uibridge/menu-button.jsx","webpack:///./src/components/uibridge/menu.jsx","webpack:///./src/components/uibridge/panel-menu-button.jsx","webpack:///./src/components/uibridge/richcombo.jsx","webpack:///./src/components/uibridge/uibridge.js","webpack:///./src/commands/index.js","webpack:///./src/commands/remove-image.js","webpack:///./src/components/main.jsx","webpack:///./src/oop/base.js","webpack:///./scripts/build/version.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ButtonIcon","className","symbol","Consumer","editor","nativeEditor","spritemap","config","path","classNamePrefix","combinedClassName","height","width","href","EditorContext","React","createContext","toProps","Component","forwardingComponent","forwardRef","props","ref","context","WrappedComponent","execCommand","data","command","fire","contextType","stateClasses","Lang","isFunction","this","isActive","isArray","toString","isBoolean","isNull","isNumber","isFinite","isObject","valueType","isString","mix","receiver","supplier","toInt","parseInt","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","style","parts","split","currentMember","shift","_style","CKEDITOR","elementPath","getStyle","checkActive","getCommand","state","TRISTATE_ON","DIRECTION_NONE","DIRECTION_NEXT","DIRECTION_PREV","ACTION_NONE","ACTION_MOVE_FOCUS","ACTION_DISMISS_FOCUS","focus","event","_isValidTarget","target","_descendants","length","activeDescendantEl","_activeDescendant","document","activeElement","focusFirstChild","indexOf","stopPropagation","preventDefault","handleKey","action","_getFocusAction","type","_moveFocus","direction","onDismiss","_refresh","keys","_getFocusMoveDirection","dismissAction","_getFocusDismissAction","dismiss","focusMoveDirection","_isValidKey","keyCode","dismissNext","dismissPrev","circular","next","prev","shifKey","element","tagName","toLowerCase","numDescendants","descendant","setAttribute","Math","max","min","domNode","ReactDOM","findDOMNode","descendants","querySelectorAll","priorityDescendants","Array","slice","forEach","item","dataTabIndex","getAttribute","push","sort","a","b","concat","some","index","keystroke","commandName","exec","keystrokeFn","fn","addCommand","_defaultKeystrokeCommand","keystrokeHandler","keystrokes","setKeystroke","ButtonDropdown","onFocus","onKeyDown","tabIndex","role","children","defaultProps","ButtonCommandsList","_ref","createRef","current","id","listId","_renderActions","commands","items","map","description","label","icon","Base","Compat","BRIDGE_BUTTONS","editable","node","srcNode","AlloyEditor","implementEventTarget","Core","getBasePath","window","ALLOYEDITOR_BASEPATH","scripts","getElementsByTagName","match","src","regexBasePath","location","Error","loadLanguageResources","callback","Strings","setTimeout","once","_langResourceRequested","languages","userLanguage","navigator","language","lang","locale","scriptLoader","load","getUrl","loaded","resource","basePath","timestamp","charAt","test","on","implementOn","getButtons","buttons","reduce","acc","val","registerBridgeButton","buttonName","pluginName","OOP","extend","Attribute","Buttons","SelectionGetArrowBoxClasses","SelectionSetPosition","SelectionTest","Selections","Toolbars","applyStyle","getSelection","lock","removeStyle","unlock","ButtonStylesList","blockStyles","inlineStyles","objectStyles","styles","STYLE_BLOCK","STYLE_INLINE","STYLE_OBJECT","_blockStyles","_inlineStyles","_objectStyles","removeStylesItem","showRemoveStylesItem","toggleDropdown","_renderStylesItems","activeStyle","styleFn","mergeDropdownProps","obj","itemKey","tools","merge","expanded","itemDropdown","dropdownTrigger","toggleDirection","setState","moveFocus","nextProps","requestExclusive","itemExclusive","filter","cancelExclusive","renderExclusive","ButtonLinkEdit","_clearLink","linkHref","_focusLinkInput","_handleKeyDown","_updateLink","autocompleteSelected","Link","advanceSelection","_handleLinkHrefChange","_handleLinkTargetChange","linkTarget","_removeLink","linkUtils","selection","bookmarks","createBookmarks","remove","advance","selectBookmarks","appendProtocol","linkAttrs","modifySelection","update","linkInput","_getInitialState","manualSelection","targetSelector","allowedTargets","handleLinkTargetChange","selectedTarget","linkTargetDefault","ButtonLinkTargetEdit","autocompleteDropdown","dataFn","autocompleteDropdownProps","handleLinkAutocompleteClick","_handleLinkAutocompleteClick","setAutocompleteState","_setAutocompleteState","term","ButtonLinkAutocompleteList","buttonClearLink","aria-label","clearInput","onClick","title","clear","placeholderProp","env","ie","placeholder","editLink","removeLink","disabled","showTargetSelector","onChange","confirm","_isValidState","defaultLinkTarget","link","getFromSelection","initialLink","instance","focusLinkEl","requestAnimationFrame","validState","selected","autocompleteUrl","customIndexStart","buttonCfg","_animationFrameId","cancelAnimationFrame","arrowBoxClasses","getInteractionPoint","SELECTION_TOP_TO_BOTTOM","attrs","viewPaneSize","dom","getViewPaneSize","x","left","y","top","eventPayload","editorEvent","selectionData","nativeEvent","pos","pageX","region","endRect","startRect","SELECTION_BOTTOM_TO_TOP","_getXPoint","_getYPoint","eventX","right","leftDist","abs","rightDist","elementTarget","$","offsetTop","offsetHeight","bottom","gutter","offsetWidth","SELECTION_LEFT_TO_RIGHT","SELECTION_RIGHT_TO_LEFT","domElement","hasClass","startPoint","endPoint","setStyles","opacity","pointerEvents","removeClass","addClass","uiNode","scrollTop","isVisible","interactionPoint","finalX","finalY","initialX","initialY","parseFloat","constrainToViewport","res","getConstrainedPosition","moveToPoint","body","uiNodeStyle","getComputedStyle","uiNodeMarginLeft","getPropertyValue","uiNodeMarginRight","totalWidth","clientWidth","xy","getWidgetXYPoint","additionalProps","list","button","getToolbarButtons","buttonProps","toolbarButtons","filterExclusive","cfg","mergeExclusiveProps","tabKey","trigger","createElement","protoProps","staticProps","supplierProto","receiverProto","constructor","superclass","_isRangeAtElementEnd","range","getText","endOffset","equals","startContainer","endContainer","startOffset","embedSelectionTest","payload","embedUrlSelectionTest","headingTextSelectionTest","headings","selectionEmpty","isSelectionEmpty","getCommonAncestor","isReadOnly","contains","linkSelectionTest","getRanges","elementIsNotImage","getName","imageSelectionTest","hasImage","findOne","isImage","textSelectionTest","tableSelectionTest","table","Table","isEditable","embed","embedUrl","header","image","text","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","join","test3","letter","source","from","symbols","to","arguments","ButtonsStylesListHeader","ButtonStylesListItemRemove","_removeStyles","removeBlocks","blockItem","blockStyle","normal","ButtonStylesListItem","_onClick","styleCfg","margin","_preview","buildPreview","dangerouslySetInnerHTML","__html","ButtonCameraImage","takePhoto","videoEl","_videoContainerRef","canvasEl","_canvasContainerRef","getContext","_videoHeight","videoWidth","drawImage","imgURL","toDataURL","el","createFromHtml","insertElement","_handleStreamError","alert","_handleStreamSuccess","stream","addEventListener","videoHeight","isNaN","_stream","mozGetUserMedia","mozSrcObject","srcObject","play","_buttonTakePhotoRef","stop","getVideoTracks","track","getUserMedia","webkitGetUserMedia","msGetUserMedia","video","audio","ButtonCommandListItem","_getClassName","KEY_ENTER","KEY_ESC","ButtonEmbedEdit","_embedLink","url","_removeEmbed","embedWrapper","getAscendant","getInitialState","selectedElement","getSelectedElement","clearLinkStyle","deleteEmbed","data-type","ButtonEmbedVideoEdit","_embedVideoURL","videoURL","_focusVideoUrlInput","refs","_handleVideoURLChange","newState","all","new","old","initialEmbed","inputPlaceholder","pasteVideoLink","clearVideoURLStyle","fitImage","sourceData","fileType","maxWidth","FIT_IMAGE_MAX_WIDTH","maxHeight","FIT_IMAGE_MAX_HEIGHT","Promise","resolved","_","Image","onload","cWidth","cHeight","coeff","canvas","dataurl","clearTimeout","_timeout","_updateItems","delay","_renderAutocompleteItems","nextState","data-value","promise","resolve","then","ButtonLinkEditBrowse","_browseClick","documentBrowseLinkUrl","browseLinkCallback","documentBrowseLinkCallback","linkEditButtonRef","changeLinkCallback","selectedItem","apply","linkTitle","plugins","creole","origin","allowedLinkTargets","aria-expanded","ButtonTargetList","listTargets","_renderListTargets","linkTargetSelf","linkTargetBlank","linkTargetParent","linkTargetTop","targets","_getAllowedTargetItems","ButtonLink","_requestExclusive","cssClass","getStateClasses","mergeButtonCfgProps","CTRL","ButtonTableEdit","_createTable","tableUtils","tableAttributes","cols","rows","_handleChange","inputName","rowsRef","colsRef","time","Date","now","rowsId","colsId","htmlFor","columns","border","cellPadding","cellSpacing","WidgetInteractionPoint","propTypes","PropTypes","__config__","__ATTRS__","attr","currentAttr","ATTRS","_isInitialized","_init","curValue","_callStringOrFunction","set","readOnly","writeOnce","validator","setter","stringOrFunction","args","result","hasDefaultValue","hasPassedValueViaConfig","valueFn","tableSelectionGetArrowBoxClasses","DEFAULT_GUTTER","centerToolbar","toolbar","rect","toolbarNode","halfNodeWidth","scrollPosition","getScrollPosition","widgetXY","endPosition","imageSelectionSetPosition","getClientRect","tableSelectionSetPosition","setPosition","full","simple","getArrowBoxClasses","embedurl","disableAutoInline","default","for","q","u","v","w","z","A","B","iterator","C","encodeURIComponent","D","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","E","F","updater","G","H","isReactComponent","forceUpdate","I","isPureReactComponent","J","K","L","__self","__source","M","e","g","k","f","h","$$typeof","_owner","N","O","escape","replace","P","Q","R","pop","keyPrefix","func","count","S","T","U","done","V","W","aa","X","Y","Z","ba","ReactCurrentDispatcher","ReactCurrentBatchConfig","suspense","ReactCurrentOwner","IsSomeRendererActing","Children","toArray","only","Fragment","Profiler","PureComponent","StrictMode","Suspense","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","_context","createFactory","render","isValidElement","lazy","_ctor","_status","_result","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","version","onError","da","ea","fa","ha","ia","ja","ka","la","ma","na","oa","currentTarget","pa","qa","ra","sa","extractEvents","eventTypes","ta","phasedRegistrationNames","ua","registrationName","va","wa","dependencies","xa","ya","za","Aa","Ba","Ca","stateNode","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","Ra","Sa","acceptsBooleans","Ta","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","Ua","Va","toUpperCase","xlinkHref","Wa","Xa","removeAttribute","setAttributeNS","Ya","Za","$a","ab","bb","cb","db","eb","fb","gb","hb","ib","jb","kb","lb","mb","nb","ob","pb","displayName","qb","tag","_debugOwner","_debugSource","fileName","lineNumber","return","rb","sb","nodeName","tb","getOwnPropertyDescriptor","configurable","getValue","setValue","stopTracking","_valueTracker","xb","yb","checked","zb","defaultChecked","defaultValue","_wrapperState","initialChecked","Ab","initialValue","controlled","Bb","Cb","Db","Eb","ownerDocument","Fb","Gb","Hb","options","defaultSelected","Ib","Jb","Kb","Lb","textContent","Mb","html","mathml","svg","Nb","Ob","Pb","Qb","MSApp","execUnsafeLocalFunction","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","Rb","lastChild","nodeType","nodeValue","Sb","Tb","animationend","animationiteration","animationstart","transitionend","Ub","Vb","Wb","animation","transition","Xb","Yb","Zb","$b","ac","bc","WeakMap","Map","cc","dc","alternate","effectTag","ec","memoizedState","dehydrated","fc","gc","child","sibling","hc","ic","jc","kc","lc","_dispatchListeners","_dispatchInstances","isPropagationStopped","isPersistent","release","mc","nc","srcElement","correspondingUseElement","parentNode","oc","pc","qc","topLevelType","targetInst","ancestors","rc","eventSystemFlags","sc","containerInfo","tc","uc","has","vc","wc","xc","yc","zc","Ac","Bc","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","blockedOn","container","Lc","delete","pointerId","Mc","Nc","Oc","Pc","unstable_runWithPriority","priority","hydrate","Qc","Rc","Sc","Tc","Uc","unstable_scheduleCallback","unstable_NormalPriority","Vc","Wc","Yc","Zc","$c","ad","bubbled","captured","eventPriority","bd","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","jd","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","kd","ld","trim","md","setProperty","substring","nd","menuitem","area","base","br","col","hr","img","input","keygen","meta","param","wbr","od","pd","is","qd","rd","sd","td","ud","vd","offset","nextSibling","wd","compareDocumentPosition","xd","HTMLIFrameElement","contentWindow","yd","contentEditable","zd","Ad","Bd","Cd","Dd","Ed","Fd","autoFocus","Gd","Hd","Id","Jd","Kd","previousSibling","Ld","random","Md","Nd","Od","Pd","Qd","Rd","Sd","Td","dispatchConfig","Ud","_targetInst","Vd","Wd","Xd","Yd","Zd","$d","ae","be","ce","Interface","isDefaultPrevented","defaultPrevented","returnValue","ee","eventPool","fe","destructor","de","getPooled","cancelBubble","persist","eventPhase","bubbles","cancelable","timeStamp","isTrusted","ge","he","je","ke","documentMode","le","me","ne","oe","beforeInput","compositionEnd","compositionStart","compositionUpdate","pe","qe","re","detail","se","te","which","ue","ctrlKey","altKey","metaKey","char","ve","we","color","date","datetime","email","month","number","password","search","tel","week","xe","ye","change","ze","Ae","Be","Ce","De","Ee","Fe","Ge","detachEvent","He","Ie","attachEvent","Je","Ke","Le","Me","_isInputEventSupported","Ne","view","Oe","Alt","Control","Meta","Shift","Pe","getModifierState","Qe","Re","Se","Te","Ue","Ve","screenX","screenY","clientX","clientY","pageY","shiftKey","relatedTarget","fromElement","toElement","movementX","movementY","We","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Xe","mouseEnter","mouseLeave","pointerEnter","pointerLeave","Ye","defaultView","parentWindow","Ze","$e","af","bf","cf","df","select","ef","ff","gf","hf","jf","start","selectionStart","end","selectionEnd","anchorNode","anchorOffset","focusNode","focusOffset","kf","onSelect","lf","animationName","elapsedTime","pseudoElement","mf","clipboardData","nf","of","charCode","pf","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","qf","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","rf","repeat","sf","dataTransfer","tf","touches","targetTouches","changedTouches","uf","vf","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","wf","xf","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","yf","zf","Af","Bf","Cf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","childContextTypes","Df","Ef","Ff","getChildContext","Gf","__reactInternalMemoizedMergedChildContext","Hf","If","Jf","Kf","unstable_cancelCallback","Lf","unstable_requestPaint","Mf","unstable_now","Nf","unstable_getCurrentPriorityLevel","Of","unstable_ImmediatePriority","Pf","Qf","Rf","unstable_LowPriority","Sf","unstable_IdlePriority","Tf","Uf","unstable_shouldYield","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","childExpirationTime","qg","firstContext","expirationTime","rg","sg","observedBits","responders","tg","ug","updateQueue","baseState","baseQueue","shared","pending","effects","vg","wg","suspenseConfig","xg","yg","zg","ca","Ag","Bg","Cg","Dg","Eg","Fg","Jg","_reactInternalFiber","Gg","Hg","Ig","Kg","shouldComponentUpdate","Lg","Mg","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ng","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Og","Pg","_stringRef","Qg","Rg","lastEffect","nextEffect","firstEffect","Sg","Tg","elementType","Ug","implementation","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","documentElement","eh","fh","gh","hh","memoizedProps","revealOrder","ih","responder","jh","kh","lh","mh","nh","oh","ph","qh","rh","sh","th","queue","uh","vh","wh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","xh","yh","zh","Ah","destroy","deps","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","readContext","useResponder","useDeferredValue","useTransition","Oh","Ph","Qh","Rh","Sh","Th","pendingProps","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","ei","fi","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","gi","getDerivedStateFromError","hi","pendingContext","ni","oi","pi","qi","ii","retryTime","ji","fallback","unstable_avoidThisFallback","ki","li","isBackwards","rendering","renderingStartTime","last","tail","tailExpiration","tailMode","mi","ri","si","wasMultiple","multiple","onclick","size","createElementNS","createTextNode","ti","ui","vi","wi","xi","yi","zi","Ai","stack","Bi","WeakSet","Set","Ci","Di","componentWillUnmount","Ei","Fi","Gi","__reactInternalSnapshotBeforeUpdate","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","insertBefore","_reactRootContainer","Si","Ti","display","Ui","Vi","add","Wi","Xi","Yi","Zi","$i","componentDidCatch","aj","componentStack","Rj","bj","ceil","cj","dj","ej","fj","gj","hj","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","timeoutMs","xj","yj","zj","lastExpiredTime","firstPendingTime","Aj","lastPingedTime","nextKnownPendingLevel","callbackExpirationTime","callbackPriority","callbackNode","Bj","timeout","Cj","Dj","Ej","Fj","Gj","Hj","finishedWork","finishedExpirationTime","lastSuspendedTime","Ij","timeoutHandle","Jj","busyMinDurationMs","busyDelayMs","Kj","Lj","Mj","Nj","pingCache","Oj","ub","vb","Pj","Xc","Qj","Sj","firstSuspendedTime","rangeCount","wb","activeElementDetached","focusedElem","selectionRange","Tj","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","Uj","Vj","Wj","hidden","Xj","unstable_observedBits","Yj","isDisabled","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","Zj","pendingChildren","ak","bk","ck","dk","ek","fk","_internalRoot","gk","hk","hasAttribute","ik","jk","kk","unmount","JSON","stringify","form","lk","Events","findFiberByHostInstance","overrideHookState","overrideProps","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","bundleType","rendererPackageName","createPortal","flushSync","unmountComponentAtNode","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","performance","floor","port2","port1","onmessage","postMessage","sortIndex","startTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","ButtonAccessibilityImageAlt","ButtonBackgroundColor","ButtonBold","ButtonCamera","ButtonCode","ButtonColor","ButtonEmbed","ButtonEmbedVideo","ButtonH1","ButtonH2","ButtonHline","ButtonSmiley","ButtonImageAlignCenter","ButtonImageAlignLeft","ButtonImageAlignRight","ButtonImage","ButtonIndentBlock","ButtonItalic","ButtonItemSelectorAudio","ButtonItemSelectorImage","ButtonItemSelectorVideo","ButtonLinkBrowse","ButtonOl","ButtonOutdentBlock","ButtonParagraphAlign","ButtonParagraphAlignLeft","ButtonParagraphAlignRight","ButtonParagraphCenter","ButtonParagraphJustify","ButtonQuote","ButtonRemoveFormat","ButtonRemoveImage","ButtonSeparator","ButtonSpacing","ButtonStrike","ButtonStylesListHeader","ButtonStyles","ButtonSubscript","ButtonSuperscript","ButtonTableCell","ButtonTableColumn","ButtonTableHeading","ButtonTableRemove","ButtonTableRow","ButtonTable","ButtonTwitter","ButtonUl","ButtonUnderline","getStartElement","_element","imageElement","imageAlt","_handleAltChange","_updateImageAlt","focusAltEl","refAltInput","_focusAltInput","activeColor","activeColorClass","colors","_getColors","itemStyle","attributes","class","styleClass","_checkActive","buttonStylesProps","styleConfig","_applyStyle","primary","success","danger","warning","info","bool","string","arrayOf","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","array","any","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","bold","aria-pressed","protocol","cameraDisabled","camera","code","dark","darkGray","secondary","light","lighter","white","SHIFT","h1","h2","horizontalrule","ButtonPathIcon","iconFile","dirname","iconPath","normalizeArray","allowAboveRoot","up","splice","unshift","basename","matchedSlash","charCodeAt","xs","resolvedPath","resolvedAbsolute","process","cwd","normalize","isAbsolute","trailingSlash","substr","paths","relative","arr","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","hasRoot","ext","extname","startDot","startPart","preDotState","str","len","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","run","Item","noop","nextTick","browser","argv","versions","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","alignCenter","alignLeft","alignRight","handleClick","fileInput","click","_onInputChange","inputEl","files","reader","FileReader","file","imageFiles","imageData","warn","readAsDataURL","inputSyle","accept","indent","italic","_handleClick","ButtonOrderedList","numberedlist","outdent","buttonCommandsList","buttonCommandsListId","_getCommands","inlineIcons","activeCommand","alignment","iconClassName","aria-owns","row","alignJustify","quote","removeformat","removeImage","_props","activeSpacing","spacings","_getSpacings","active","lastElement","strike","_getStyles","buttonStylesList","formatted","cite","subscript","superscript","cell","cellInsertBefore","cellInsertAfter","cellDelete","cellMerge","cellMergeDown","cellMergeRight","cellSplitHorizontal","cellSplitVertical","column","columnInsertBefore","columnInsertAfter","columnDelete","activeHeading","getHeading","activeHeadingIntro","headers","activeHeadingLabel","headersNone","headersRow","headersColumn","headersBoth","_removeTable","deleteTable","rowInsertBefore","rowInsertAfter","rowDelete","MAX_TWEET_LENGTH","_getHref","twitter","selectedText","getSelectedText","via","twitterHref","ButtonUnorderedlist","bulletedlist","underline","ButtonActionStyle","ButtonCommandActive","ButtonCommand","modifiesSelection","selectionChange","ButtonKeystroke","ButtonProps","ButtonStateClasses","ButtonStyle","ToolbarButtons","getToolbarButtonGroups","WidgetArrowBox","WidgetDropdown","_nextProps","WidgetExclusive","WidgetFocusManager","WidgetPosition","mixins","getDefaultProps","cancelAnimation","halfWidth","_animate","show","updatePosition","ToolbarAdd","ToolbarStyles","POSITION_LEFT","POSITION_RIGHT","_updatePosition","_prevProps","_prevState","isContentEditable","_getButtons","_getToolbarClassName","data-tabindex","clientRect","offsetLeft","position","gutterExclusive","currentSelection","_getCurrentSelection","getArrowBoxClassesFn","_getSelectionFunction","cssClasses","buttonsGroup","selectionType","hasGroups","selectionFn","selectionFunction","selections","testFn","setPositionFn","EMBED_VIDEO_WIDTH","EMBED_VIDEO_HEIGHT","initializer","inline","allowedContent","toolbars","removePlugins","extraPlugins","embedProviders","placeholderClass","pasteFromWordRemoveStyles","pasteFromWordRemoveFontStyles","selectionKeystrokes","edge","plugin","_addReadOnlyLinkClickListener","extraCommands","extraCommandKeys","_editor","_renderUI","_destroyed","_editorUIElement","inst","_clearSelections","instances","isMSSelection","empty","getWindow","_defaultReadOnlyClickFn","mouseEvent","hasCtrlKey","shouldOpen","listenerData","ckElement","getTarget","_redirectLink","_getNativeEditor","open","editorUIElement","callbackRef","_mainUI","eventsDelay","_toElement","getElementById","_validateAllowedContent","_validateToolbars","tpl","urlSchemes","enableContentEditable","removeImageCommand","debounce","debounceHandle","callFn","callArgs","callContext","detach","REGEX_BOOKMARK_SCHEME","REGEX_EMAIL_SCHEME","REGEX_URI_SCHEME","moveToElementEditEnd","nextNode","getNextEditableNode","whitespace","selectRanges","URI","collapsed","insertNode","selectNodeContents","_getCompleteURI","applyToRange","getChildren","getItem","shrink","SHRINK_TEXT","alwaysRemoveElement","selectElement","uri","setAttributes","removeAttrs","setAttrs","removeAttributes","wrapPluginLifecycle","methods","methodName","override","originalPluginMethod","phase","__processingPlugin__","filterUnwantedDependencies","requires","require","pluginsLoad","names","scope","SelectionRegion","createSelectionFromPoint","createSelectionFromRange","startX","startY","endX","endY","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","endRange","duplicate","setEndPoint","getCaretRegion","bookmarkNodeEl","startNode","scrollPos","getSelectionData","getNative","getSelectionRegion","getClientRectsRegion","getSelectionDirection","getType","SELECTION_NONE","ranges","nativeSelection","defaultRect","clientRects","Infinity","getClientRects","getRangeAt","Node","DOCUMENT_POSITION_PRECEDING","init","IE_NON_DIRECTLY_EDITABLE_ELEMENT","colgroup","tbody","tfoot","thead","tr","HEADING_BOTH","HEADING_COL","HEADING_NONE","HEADING_ROW","_createElement","append","j","appendBogus","setHeading","heading","firstCell","cells","moveToPosition","POSITION_AFTER_START","webkit","NODE_ELEMENT","getParent","rowHeadingSettings","tHead","colHeadingSettings","headingSettings","parent","getChildCount","POSITION_BEFORE_START","newCell","tableHead","tableBody","getElementsByTag","tableHeading","hadColHeading","needColHeading","needRowHeading","tableFirstRow","tableFirstRowChildCount","getChild","renameNode","createTHead","previousFirstRow","getFirst","newFirstRow","newFirstRowChildCount","hasColHeading","headingCommands","jsonp","urlTemplate","urlParams","errorCallback","callbackKey","getNextNumber","jsonpCallbacks","response","cleanUp","scriptElement","output","getBody","cancel","simulate","eventInstance","createEvent","initEvent","dispatchEvent","ariaState","ariaElement","_createAriaElement","uiTasksTimeout","uicore","handleUI","allowEsc","handleAria","_event","handleMouseLeave","aeUINodes","found","message","focusHandler","attachListener","statusElement","isIE","fitImageMaxWidth","fitImageMaxHeight","_onDragEnter","_onDragOver","_onDragDrop","_onPaste","_handleFiles","_processFile","transferFiles","_preventEvent","pastedData","imageFile","getAsFile","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","method","AsyncIterator","PromiseImpl","invoke","reject","record","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","userAgent","KEY_BACK","KEY_COMMA","KEY_SEMICOLON","KEY_SPACE","DELIMITERS","REGEX_LAST_WORD","REGEX_URL","REGEX_EMAIL","_onKeyUp","dataValue","RegExp","_isValidURL","_isValidEmail","_getLastWord","previousText","_currentKeyCode","previousNode","getPrevious","getLast","_startContainer","_offset","lastWord","_onKeyDown","_ckLink","_replaceContentByLink","content","ckLink","linkNode","_subscribeToKeyEvent","nextEditableNode","enclosedNode","getEnclosedNode","caretOffset","getNext","newRange","setEndAfter","DEFAULT_CONFIG","regex","_checkForBackspaceAndUndo","insertHtml","bullet","_getListConfig","configRegex","autolist","textContainer","regexLen","autolistCfg","regexItem","_createList","listConfig","setText","IMAGE_HANDLES","both","scale","POSITION_ELEMENT_FN","bl","box","positionElement","bm","round","lm","tl","_box","tm","rm","IMAGE_SNAP_TO_SIZE","isFirefox","isWebKit","enablePlugin","snapToSize","imageScaleResize","resizer","Resizer","mouseDownListener","isHandle","initDrag","hide","resizeElement","removeEventListener","resizeTimeout","DragEvent","events","mousemove","keydown","mouseup","ctx","getBoundingBox","getBoundingClientRect","pageXOffset","pageYOffset","addCss","onLoad","_evt","preview","handles","handleName","createHandle","classList","otherImages","showHandles","elements","getElementsByClassName","hideHandles","drag","onStart","showPreview","isDragging","onDrag","calculateSize","updatePreview","previewBox","updateHandles","onRelease","hidePreview","onComplete","resizeComplete","backgroundImage","delta","ratio","others","other","startPos","currentPos","ctrl","alt","alignmentsObj","center","cursor","regexPercent","template","widgetDef","widgets","initOn","alignClasses","image2_alignClasses","captionedClass","image2_captionedClass","helpers","image2","hasCaption","caption","ready","checkHasNaturalRatio","wrapper","align","alignElement","setData","image2_disableResizer","setupResizer","getStyleableElement","getWidgetAllowedContent","contentTransformations","features","checkFeature","contenteditable","oldData","classes","dimension","setDimensions","downcast","downcastWidgetElement","draggable","editables","selector","getWidgetFeatures","getClasses","classRegex","repository","parseElementClasses","getLabel","pathName","requiredContent","styleableElements","upcast","upcastWidgetElement","isCenterWrapper","centerWrapperChecker","dimensions","figure","replaceWith","isLinkedOrStandaloneImage","attrsHolder","resizeWrapper","parseCssText","wrapWith","htmlParser","isEmpty","writeCssText","validChildren","div","enterMode","ENTER_P","widget","doc","imageOrLink","oldResizeWrapper","evt","factor","startWidth","startHeight","clientHeight","cursorClass","nativeEvt","newWidth","newHeight","updateData","moveDiffX","moveDiffY","attachToDocuments","collection","globalDoc","onMouseMove","onMouseUp","widgetElement","rules","figcaption","hidpi","icons","natural","getNatural","naturalWidth","naturalHeigh","heigh","templateBlock","afterInit","block","integrate","alignCommandIntegrator","ae_dragresize_ie11","stateShifter","ae_dragresize_ie11_alignClasses","ae_dragresize_ie11_captionedClass","shiftables","stateActions","oldValue","newValue","changed","marginLeft","marginRight","newData","deflate","wrapInCentering","unwrapFromCentering","setStyle","captionPlaceholder","replaceSafely","needsDeflate","newEl","wrapInLink","getLinkAttributesGetter","removed","unwrapFromLink","attribsAndStyles","activeEnterMode","move","linkData","replacing","replaced","insertElementIntoRange","inflate","naturalHeight","getLinkAttributes","getLinkAttributesParser","parseLinkAttributes","removeWidgetAlignment","imageAlignment","deflated","focused","setWrapperAlign","shiftState","advanced","advCSSClasses","ae_dragresize_ie11_disableResizer","dragHandlerStyle","dragHandlerContainer","TRISTATE_OFF","unlink","querySelector","imageStyles","heightStyles","widthStyles","resizerNE","resizerNW","resizerSE","resizerSW","factorX","factorY","adjustToX","adjustToY","execCallbacks","enabled","refresh","getFocusedWidget","allowed","registered","TRISTATE_DISABLED","REGEX_HTTP","REGEX_DEFAULT_LINK","DEFAULT_AE_EMBED_URL_TPL","DEFAULT_AE_EMBED_WIDGET_TPL","DEFAULT_AE_EMBED_DEFAULT_LINK_TPL","AE_EMBED_URL_TPL","embedUrlTemplate","AE_EMBED_WIDGET_TPL","embedWidgetTpl","AE_EMBED_DEFAULT_LINK_TPL","embedLinkDefaultTpl","defaultEmbedWidgetUpcastFn","mask","createATag","setHtml","_msg","aTagHtml","embedWidgetUpcastFn","HIGH_PRIORITY","addElementCallback","FILTER_SKIP_TREE","DEFAULT_PRIORITY","DEFAULT_LFR_EMBED_WIDGET_TPL","EMBED_ALIGNMENT","CENTER","LEFT","RIGHT","ALIGN_VALUES","CENTERED_EMBED_STYLE","getEmbedAlignment","embedAlignment","centeredEmbed","every","styleCheck","vendorPrefixes","vendorPrefix","removeEmbedAlignment","setEmbedAlignment","wrapperElement","parentElement","pwidth","parse","iframeElement","selectWidget","root","find","elementList","currentAlignment","currentElement","LFR_EMBED_WIDGET_TPL","providers","provider","scheme","generateEmbedContent","helpMessage","videoPlaybackDisabled","helpMessageIcon","Liferay","Util","getLexiconIconTpl","upcastWidget","iframe","embedContent","getOuterHtml","widgetFragment","fragment","fromHtml","showError","errorMsg","validProvider","embedId","_selectEmbedWidget","platformNotSupported","enterValidUrl","stylesJSON","bounds","alignValue","selectedEmbed","sender","editorBounds","IMAGE_ALIGNMENT","IMAGE_STYLE_ALIGNMENT","getImageAlignment","centeredImage","imageContainer","textAlign","removeImageAlignment","setImageAlignment","refreshCommands","brFiller","needsBrFiller","enterModeEmptyValue","1","2","3","_checkEmptyData","_removePlaceholderClass","editableNode","innerHtml","editorNode","selectionKeystroke","pxUnit","cssLength","getWidth","getBorderWidth","side","computed","borderMap","thin","medium","thick","getMasterPillarRow","$rows","maxCells","cellsCount","$elected","$tr","buildTableColumnPillars","pillars","pillarIndex","rtl","tBodies","tbodyPosition","getDocumentPosition","nextTd","colSpan","pillarLeft","pillarRight","pillarWidth","getPillarAtPosition","positionX","pillar","ColumnResizer","currentShift","leftShiftBoundary","leftSideCells","resizing","rightShiftBoundary","rightSideCells","isResizing","posX","resizerNewPosition","onMouseDown","resizeStart","columnIndex","buildTableMap","leftColumnCells","rightColumnCells","leftMinSize","Number","MAX_VALUE","rightMinSize","leftCell","rightCell","setOpacity","resizeEnd","resizeColumn","removeCustomData","leftOldWidth","rightOldWidth","tableWidth","sizeShift","getPageOffset","getDocumentElement","clearPillarsCache","dest","isInline","getCustomData","setCustomData","cellNodeRegex","getSelectedCells","retval","database","moveOutOfCellGuard","setMarker","nearestCell","walker","guard","dtd","clearAllMarkers","getFocusElementAfterDelCells","cellsToDelete","focusedCell","insertRow","getDocument","startRow","startRowIndex","rowIndex","lastCell","endRowIndex","rowSpan","endRow","cloneRow","nextRow","newRow","clone","insertAfter","deleteRows","selectionOrRow","rowsToDelete","mapRow","cellRowIndex","nextMapRow","cursorPosition","getCellColIndex","isStart","rowCells","colIndex","mapCell","getColumnsIndices","insertColumn","startCol","lastCol","cloneCol","nextCol","nextCell","deleteColumns","selectionOrCell","startColIndex","endColIndex","firstRowCells","insertCell","startElement","deleteCells","cellToFocus","placeCursorInCell","trimCell","bogus","getBogus","placeAtEnd","docInner","docOuter","collapse","cellInRow","tableMap","oRow","cellInCol","oCol","mergeCells","mergeDirection","isDetect","commonAncestor","mapHeight","mapWidth","startColumn","targetCell","rowspan","colspan","er","lastRowIndex","totalRowSpan","totalColSpan","frag","documentFragment","cellFirstChild","isBlockBoundary","whitespaces","moveChildren","trs","nodeList","tailTr","verticalSplitCell","newRowSpan","newCellRowSpan","newRowIndex","newCellTr","newCellRow","candidateCell","cellsInSameRow","horizontalSplitCell","newColSpan","newCellColSpan","cellsInSameCol","createDef","def","contextSensitive","addCmd","cmd","addFeature","aRows","aMap","oCell","iColSpan","iRowSpan","rs","cs","BUTTON_DEFS","generateButtonBridge","buttonDefinition","ButtonBridge","buttonCommand","buttonOnClick","buttonClassName","buttonDisplayName","buttonLabel","buttonType","iconStyle","cssStyle","skin","getIconStyle","cssStyleParts","backgroundPosition","backgroundSize","UI_BUTTON","beforeInit","addButton","addHandler","MENUBUTTON_DEFS","generateMenuButtonBridge","menuButtonName","menuButtonDefinition","MenuButtonBridge","panelMenuButtonDisplayName","_getMenuItems","onMenu","menuItems","menuItem","getMenuItem","menuItemDefinition","definition","menuItemState","UI_MENU_BUTTON","addMenuButton","UI_MENUBUTTON","groups","groupsOrder","menuGroups","addMenuGroup","addMenuItem","group","addMenuItems","definitions","itemName","removeMenuItem","PANEL_MENU_DEFS","generatePanelMenuButtonBridge","panelMenuButtonName","panelMenuButtonDefinition","PanelMenuButtonBridge","panel","_getPanel","panelMenuButtonOnBlock","onBlock","blockElement","getHtml","UI_PANELBUTTON","addPanelMenuButton","RICH_COMBO_DEFS","generateRichComboBridge","richComboName","richComboDefinition","RichComboBridge","currentValue","editorCombo","_items","_setValue","onRender","_cacheValue","richComboLabel","_getItems","richCombo","UI_RICHCOMBO","addRichCombo","originalUIAddFn","typeHandler","handlers","nextRange","native","UI","_onDismissToolbarFocus","_onEditorInteraction","_onActionPerformed","_onEditorKey","_mousedownListener","_setUIHidden","_keyDownListener","prevProps","prevState","_getAvailableToolbarsMessage","ariaUpdate","_ariaUpdateTemplates","_getAriaUpdates","ariaUpdates","noToolbar","ariaUpdateNoToolbar","oneToolbar","ariaUpdateOneToolbar","manyToolbars","ariaUpdateManyToolbars","toolbarsNodeList","toolbarNames","_getAriaUpdateTemplate","domEvent","targetNode","_callChain","wat"],"mappings":"6DACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,qBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,+BC/EnDhC,EAAOD,QAAU,EAAQ,K,wFCMHkC,EAJxB,W,OAEA,O,0DAEe,SAASA,EAAT,GAA8C,QAAzBC,iBAAyB,MAAb,GAAa,EAATC,EAAS,EAATA,OACnD,OACC,wBAAC,UAAcC,SAAf,MACE,YAAc,IAAZC,EAAY,EAAZA,OACIC,EAAeD,EAAOvB,IAAI,gBAC1ByB,EAAYD,EAAaE,OAAOD,WAAa,GAC7CE,EAAUF,EAAV,IAAuBJ,EACvBO,EAAkBR,EAAYA,IAAIA,EAAc,GAChDS,EAAoBA,cAAcD,EAExC,OACC,+BAAKR,UAAWS,EAAmBC,OAAO,KAAKC,MAAM,MACpD,+BAAKC,KAAML,U,sPChBjB,O,0DAMA,IAAMM,EAAgBC,UAAMC,cAAc,IAU1CF,EAAcG,QAAU,SAAAC,GACvB,IAAMC,EAAsBJ,UAAMK,YAAW,SAACC,EAAOC,GAAR,OAC5C,wBAACR,EAAcX,SAAf,MACE,SAAAoB,GAAA,OAAW,wBAACL,EAAD,KAAeG,EAAf,CAAsBE,QAASA,EAASD,IAAKA,WAI3D,OADAH,EAAoB5B,IAAM2B,EAAU3B,IAC7B4B,G,UAGOL,G,8EC1Bf,W,moBAOe,SAAAU,GAAA,sOAYbC,YAAc,SAAAC,GACb,IAAMtB,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAOqB,YAAY,EAAKJ,MAAMM,QAASD,GAEvCtB,EAAOwB,KAAK,kBAAZ,IAjBY,4BACcJ,GADd,EAENK,YAAcf,UAFR,I,uUCPf,O,moBAWe,SAAAU,GAAA,kLAYZ,IAAIM,EAAe,GAOnB,OAJIC,UAAKC,WAAWC,KAAKC,WAAaD,KAAKC,aAC1CJ,GAAgB,qBAGVA,MAnBK,GACmBN,K,iSCP5BO,EAAO,CAUZI,QAVY,SAUJlD,GACP,MAAiD,mBAA1CP,OAAOkB,UAAUwC,SAASjE,KAAKc,IAYvCoD,UAvBY,SAuBFpD,GACT,MAAwB,mBAAVA,GAYf+C,WApCY,SAoCD/C,GACV,MAAwB,oBAAVA,GAYfqD,OAjDY,SAiDLrD,GACN,OAAiB,OAAVA,GAYRsD,SA9DY,SA8DHtD,GACR,MAAwB,kBAAVA,GAAsBuD,SAASvD,IAY9CwD,SA3EY,SA2EHxD,GACR,IAAMyD,EAAA,qBAAmBzD,EAAnB,cAAmBA,GAEzB,OAAOA,IAAwB,WAAdyD,GAA0BX,EAAKC,WAAW/C,KAY5D0D,SA1FY,SA0FH1D,GACR,MAAwB,kBAAVA,GAcf2D,IAzGY,SAyGRC,EAAUC,GACb,IAAMjD,EAAiBnB,OAAOkB,UAAUC,eAExC,IAAK,IAAMN,KAAOuD,EACbjD,EAAe1B,KAAK2E,EAAUvD,KACjCsD,EAAStD,GAAOuD,EAASvD,KAc5BwD,MA5HY,SA4HN9D,GACL,OAAO+D,SAAS/D,EAAO,M,UAIV8C,G,6BCzIf,SAASkB,IAEP,GAC4C,qBAAnCC,gCAC4C,oBAA5CA,+BAA+BD,SAFxC,CAMI,EAUJ,IAEEC,+BAA+BD,SAASA,GACxC,MAAOE,GAGPC,QAAQC,MAAMF,KAOhBF,IACAlF,EAAOD,QAAU,EAAQ,K,gBCjBzBC,EAAOD,QAAU,EAAQ,GAAR,I,mkBCZnB,O,OACA,O,moBAQe,SAAA0D,GAAA,iMAYRO,UAAKC,WAAL,yFACH,kGAGD,IAAIsB,EAAQrB,KAAKZ,MAAMiC,MAEvB,GAAIvB,UAAKY,SAASW,GAAQ,CACzB,IAAMC,EAAQD,EAAME,MAAM,KACtBC,EAAgBxB,KAAKV,QAAQnB,OAAOvB,IAAI,gBAC1C0B,OACEZ,EAAW4D,EAAMG,QAErB,MACC/D,GACAoC,UAAKU,SAASgB,IACd1B,UAAKU,SAASgB,EAAc9D,IAE5B8D,EAAgBA,EAAc9D,GAC9BA,EAAW4D,EAAMG,QAGd3B,UAAKU,SAASgB,KACjBH,EAAQG,GAIVxB,KAAK0B,OAAS,IAAIC,SAASN,MAAMA,KAtCrB,6CAiDRvB,UAAKC,WAAL,2FACH,oGAGDC,KAAK0B,OAAS,OArDF,iCAiEZ,OAAO1B,KAAK0B,SAjEA,iCA6EZ,IAAMvD,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBACjCgF,EAAczD,EAAOyD,cAC3B,OAAO5B,KAAK6B,WAAWC,YAAYF,EAAazD,OA/EpC,GACYoB,GADZ,EAENK,YAAcf,UAFR,I,uUCTf,O,moBAQe,SAAAU,GAAA,uLAaZ,IAAMpB,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjC8C,EAAUvB,EAAO4D,WAAW/B,KAAKZ,MAAMM,SAE7C,QAAOA,GAAUA,EAAQsC,QAAUL,SAASM,gBAjBhC,GACoB1C,GADpB,EAENK,YAAcf,UAFR,I,mkBCRf,O,OAEA,O,ynBAEA,IAAMqD,EAAiB,EACjBC,EAAiB,EACjBC,GAAkB,EAElBC,EAAc,EACdC,EAAoB,EACpBC,EAAuB,E,UAQd,SAAAhD,GAAA,0NA2CbiD,MAAQ,SAAAC,GACP,KAAKA,GAAS,EAAKC,eAAeD,EAAME,UACnC,EAAKC,cAAgB,EAAKA,aAAaC,OAAQ,CAClD,IAAMC,EAAqB,EAAKF,aAC/B,EAAKG,mBAOLC,SAASC,gBAAkBH,GAC1B,EAAK1D,MAAM8D,kBAKJ,IAFP,EAAKN,aAAaO,QACjBH,SAASC,gBAGVH,EAAmBN,QAIjBC,IACHA,EAAMW,kBACNX,EAAMY,oBApEG,EAkFbC,UAAY,SAAAb,GACX,GAAI,EAAKC,eAAeD,EAAME,SAAW,EAAKC,aAAc,CAC3D,IAAMW,EAAS,EAAKC,gBAAgBf,GAEhCc,EAAOE,OACVhB,EAAMW,kBACNX,EAAMY,iBAEFE,EAAOE,OAASnB,GACnB,EAAKoB,WAAWH,EAAOI,WAGpBJ,EAAOE,OAASlB,GACnB,EAAKnD,MAAMwE,UAAUL,EAAOI,cA/FnB,wEAUR7D,UAAKC,WAAL,wFACH,iGAGDC,KAAK6D,aAdO,2CA0BR/D,UAAKC,WAAL,yFACH,kGAGDC,KAAK6D,aA9BO,gCA6GHF,GACTA,EAAY7D,UAAKQ,SAASqD,GAAaA,EAAY,EAEnD3D,KAAK0D,WAAWC,KAhHJ,sCA8HGlB,GACf,IAAMc,EAAS,CACdE,KAAMpB,GAGP,GAAIrC,KAAKZ,MAAM0E,KAAM,CACpB,IAAMH,EAAY3D,KAAK+D,uBAAuBtB,GAE1CkB,IACHJ,EAAOI,UAAYA,EACnBJ,EAAOE,KAAOnB,GAGf,IAAM0B,EAAgBhE,KAAKiE,uBAC1BxB,EACAkB,GAGGK,EAAcE,UACjBX,EAAOI,UAAYK,EAAcL,UACjCJ,EAAOE,KAAOlB,GAIhB,OAAOgB,IAtJK,6CAyKUd,EAAO0B,GAC7B,IAAMH,EAAgB,CACrBL,UAAWQ,EACXD,SAAS,GAkCV,OA/BIlE,KAAKZ,MAAMwE,YACV5D,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKI,WACnDF,EAAcE,SAAU,GAGxBlE,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKQ,eAEhDN,EAAcE,SAAU,EACxBF,EAAcL,UAAYxB,GAG1BnC,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKS,eAEhDP,EAAcE,SAAU,EACxBF,EAAcL,UAAYvB,GAIzB4B,EAAcE,SACdlE,KAAKZ,MAAMoF,WACZL,IAEAH,EAAcE,QACZC,IAAuB/B,GACI,IAA3BpC,KAAK+C,mBACLoB,IAAuBhC,GACvBnC,KAAK+C,oBACJ/C,KAAK4C,aAAaC,OAAS,IAIzBmB,IA9MK,6CA4NUvB,GACtB,IAAIkB,EAAYzB,EAahB,OAXIlC,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKW,QACnDd,EAAYxB,GAETnC,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKY,QACnDf,EAAYvB,GAGTK,EAAMkC,UACThB,IAAc,GAGRA,IA1OK,kCAwPDU,EAASP,GACpB,OAAOhE,UAAKI,QAAQ4D,IACU,IAA3BA,EAAKX,QAAQkB,GACbA,IAAYP,IA3PH,qCAyQEc,GACd,IAAMC,EAAUD,EAAQC,QAAQC,cAEhC,MACa,UAAZD,GACY,WAAZA,GACY,aAAZA,IA/QW,iCA4RFlB,GACV,IAAMoB,EAAiB/E,KAAK4C,aAAaC,OAErCmC,EAAahF,KAAK4C,aAAa5C,KAAK+C,mBAExCiC,EAAWC,aAAa,YAAa,GAErCjF,KAAK+C,mBAAqBY,EAEtB3D,KAAKZ,MAAMoF,SAGdxE,KAAK+C,mBACF/C,KAAK+C,kBAAoBgC,EAC1BA,GACDA,EAED/E,KAAK+C,kBAAoBmC,KAAKC,IAC7BD,KAAKE,IAAIpF,KAAK+C,kBAAmBgC,EAAiB,GAClD,GAIFC,EAAahF,KAAK4C,aAAa5C,KAAK+C,mBAEpCiC,EAAWC,aAAa,WAAY,GACpCD,EAAWxC,UAtTC,iCAiUF,WACJ6C,EAAUC,UAASC,YAAYvF,MAErC,GAAIqF,EAAS,CACZ,IAAMG,EAAcH,EAAQI,iBAC3BzF,KAAKZ,MAAMoG,aAGRE,EAAsB,GAE1B1F,KAAK4C,aAAe,GAEpB+C,MAAMhI,UAAUiI,MAAM1J,KAAKsJ,GAAaK,SAAQ,SAAAC,GAC/C,IAAMC,EAAeD,EAAKE,aAAa,iBAEnCD,EACHL,EAAoBO,KAAKH,GAEzB,EAAKlD,aAAaqD,KAAKH,MAIzBJ,EAAsBA,EAAoBQ,MAAK,SAACC,EAAGC,GAClD,OACCtG,UAAKgB,MAAMqF,EAAEH,aAAa,kBAC1BlG,UAAKgB,MAAMsF,EAAEJ,aAAa,qBAI5BhG,KAAK4C,aAAe8C,EAAoBW,OACvCrG,KAAK4C,cAGN5C,KAAK+C,kBAAoB,EAEzB/C,KAAK4C,aAAa0D,MAAK,SAACR,EAAMS,GAC7B,GAAsC,MAAlCT,EAAKE,aAAa,YAIrB,OAHA,EAAKjD,kBAAoBwD,EACzB,EAAK/D,SAEE,UAzWE,GACmBjD,K,mkBCnBlC,O,OACA,O,moBAQe,SAAAA,GAAA,iMAYRO,UAAKC,WAAL,yFACH,kGAGD,IAAM3B,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBACvC4J,EAAYxG,KAAKZ,MAAMoH,UAEvBC,EAAcA,aAAaD,EAAUlK,KAEvCoD,EAAUtB,EAAa2D,WAAW0E,GAEjC/G,IACJA,EAAU,IAAIiC,SAASjC,QAAQtB,EAAc,CAC5CsI,KAAM,SAASvI,GACd,IAAMwI,EAAcH,EAAUI,GAE1B9G,UAAKY,SAASiG,GACjB3G,KAAK2G,GAAazK,KAAK8D,KAAM7B,GACnB2B,UAAKC,WAAW4G,IAC1BA,EAAYzK,KAAK8D,KAAM7B,IAEvBZ,KAAKyC,QAGR5B,EAAayI,WAAWJ,EAAa/G,IAGtCM,KAAK8G,yBACJ1I,EAAa2I,iBAAiBC,WAAWR,EAAU1C,MAEpD1F,EAAa6I,aAAaT,EAAU1C,KAAM2C,KA1C9B,6CAqDR3G,UAAKC,WAAL,2FACH,oGAGDC,KAAKV,QAAQnB,OACXvB,IAAI,gBACJqK,aACAjH,KAAKZ,MAAMoH,UAAU1C,KACrB9D,KAAK8G,8BA7DK,GACgBvH,GADhB,EAENK,YAAcf,UAFR,I,uUCTf,O,OAEA,Q,6nBAQMqI,E,kKAuCJ,OACC,+BACClJ,UAAU,iDACVmJ,QAASnH,KAAKwC,MACd4E,UAAWpH,KAAKsD,UAChB+D,SAAS,KACT,8BAAIrJ,UAAU,aAAasJ,KAAK,WAC9BtH,KAAKZ,MAAMmI,e,GA9CYzI,UAAMG,WAA7BiI,EAQEM,aAAe,CACrBhD,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAhBJwC,EA4BE5J,IAAM,W,WAyBC,aAAmB4J,I,uUC/DlC,O,OAEA,Q,OACA,Q,6nBASMO,E,YA+BL,WAAYrI,GAAO,yEACZA,IADY,OAElB,EAAKsI,KAAO5I,UAAM6I,YAFA,E,6DAelB3H,KAAK0H,KAAKE,QAAQpF,U,+BAYlB,OACC,+BACCxE,UAAU,iDACVmJ,QAASnH,KAAKwC,MACd4E,UAAWpH,KAAKsD,UAChBjE,IAAKW,KAAK0H,KACVL,SAAS,KACT,8BACCrJ,UAAU,aACV6J,GAAI7H,KAAKZ,MAAM0I,OACfR,KAAK,WACJtH,KAAK+H,eAAe/H,KAAKZ,MAAM4I,c,qCAerBA,GACd,IAAIC,SAoBJ,OAlBID,GAAYA,EAASnF,SACxBoF,EAAQD,EAASE,KAAI,SAAApC,GACpB,OACC,8BAAIxI,IAAKwI,EAAKpG,QAAS4H,KAAK,UAC3B,wBAAC,UAAD,CACC5H,QAASoG,EAAKpG,QACdyI,YACuB,kBAAfrC,EAAKsC,MACTtC,EAAKsC,MACLtC,EAAKsC,QAETC,KAAMvC,EAAKuC,YAOTJ,M,GAzGwBnJ,UAAMG,WAAjCwI,EASED,aAAe,CACrBhD,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAjBJ+C,EA6BEnK,IAAM,qB,WAgFC,aAAmBmK,I,iXCzHlC,YAAYa,E,KACZ,Q,OACA,SAAYC,E,KACZ,S,OACA,Q,OACA,O,OACA,Q,OACA,Q,OACA,Q,OACA,Q,OACA,Q,OACA,S,mNAEA,MAGA,IAAMC,EAAiB,GAYjBC,EAAW,SAASC,EAAMpK,GAM/B,OALAA,EAASA,GAAU,GACnBA,EAAOqK,QAAUD,EAEjBE,YAAYC,uBAEL,IAAIC,UAAKxK,IAcXyK,EAAc,WAEnB,IAAIxK,EAAOyK,OAAOC,sBAAwB,GAE1C,IAAK1K,EAGJ,IAFA,IAAM2K,EAAUlG,SAASmG,qBAAqB,UAErCpN,EAAI,EAAGA,EAAImN,EAAQrG,OAAQ9G,IAAK,CACxC,IAAMqN,EAAQF,EAAQnN,GAAGsN,IAAID,MAAMR,YAAYU,eAE/C,GAAIF,EAAO,CACV7K,EAAO6K,EAAM,GACb,OAkBH,IAX4B,IAAxB7K,EAAK4E,QAAQ,OAAqC,OAArB5E,EAAKqH,MAAM,EAAG,KAG7CrH,EADyB,IAAtBA,EAAK4E,QAAQ,KACToG,SAAS3K,KAAKwK,MAAM,kBAAkB,GAAK7K,EAI3CgL,SAAS3K,KAAKwK,MAAM,gBAAgB,GAAK7K,IAI7CA,EACJ,MAAM,IAAIiL,MACT,kKAIF,OAAOjL,GAYFkL,EAAwB,SAASC,GAatC,GAZAd,YAAYC,uBAER/I,UAAKC,WAAW2J,KACfd,YAAYe,QACfC,WAAWF,EAAU,GAErBd,YAAYiB,KAAK,2BAA2B,WAC3CD,WAAWF,EAAU,QAKnBd,YAAYkB,uBAAwB,CACxClB,YAAYkB,wBAAyB,EAErC,IAAMC,EAAY,CACjB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,MAGKC,EACLC,UAAUC,UAAYD,UAAUD,cAAgB,KAE3C1I,EAAQ0I,EACZlF,cACAsE,MAAM,0BACJe,EAAO7I,EAAM,GACX8I,EAAS9I,EAAM,GAEjByI,EAAU5G,QAAQgH,EAAO,IAAMC,IAAW,EAC7CD,EAAOA,EAAO,IAAMC,GACmB,IAA7BL,EAAU5G,QAAQgH,KAC5BA,EAAO,MAGRxI,SAAS0I,aAAaC,KACrB1B,YAAY2B,OAAO,qBAAuBJ,EAAO,QACjD,SAAAK,GACKA,GACH5B,YAAYjJ,KAAK,6BAInBK,QAkBGuK,EAAS,SAASE,GACvB,IAAMC,EAAW9B,YAAYG,cAmB7B,OAhBgC,IAA5B0B,EAAStH,QAAQ,OAA0C,IAA1BsH,EAAStH,QAAQ,OACrDsH,EAAWC,EAAWD,GAKtB9I,SAASgJ,WACgC,MAAzCF,EAASG,OAAOH,EAAS5H,OAAS,KACjC,SAASgI,KAAKJ,KAEfA,IACEA,EAAStH,QAAQ,MAAQ,EAAI,IAAM,KACpC,KACAxB,SAASgJ,WAGJF,GAUF5B,EAAuB,WACvBD,YAAYjJ,MAASiJ,YAAYkC,IACrCnJ,SAASc,MAAMsI,YAAYnC,cAYvBU,EAAgB,mEAmBhB0B,EAAa,SAASC,GAC3B,OAAO,WACN,OAAOA,EAAQC,QAAO,SAACC,EAAKC,GAE3B,OADAA,EAAM5C,EAAe4C,IAAQ,CAACA,GACvBD,EAAI9E,OAAO+E,KAChB,MAaCC,EAAuB,SAASC,EAAYC,GAC5C/C,EAAe+C,KACnB/C,EAAe+C,GAAc,IAG9B/C,EAAe+C,GAAYtF,KAAKqF,IAO3BE,EAAM,CACXC,kB,EAIAC,oB,EACApD,O,EACAqD,kB,EACApD,S,EACAO,e,EACAhJ,e,EACA0L,M,EACAI,sC,EACAC,+B,EACAC,wB,EACAC,qB,EACAC,mB,EACAvD,W,EACAM,c,EACAiC,a,EACAT,S,EACA1B,uB,EACAY,wB,EACAH,gB,EACA+B,wB,8ECnVD,W,OACA,O,moBAae,SAAA9L,GAAA,sOAWb0M,WAAa,WACZ,GACCnM,UAAKC,WAAW,EAAKE,WACrBH,UAAKC,WAAW,EAAK8B,UACpB,CACD,IAAM1D,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAO+N,eAAeC,OAElB,EAAKlM,WACR9B,EAAOiO,YAAY,EAAKvK,YAExB1D,EAAO8N,WAAW,EAAKpK,YAGxB1D,EAAO+N,eAAeG,SAEtBlO,EAAOwB,KAAK,kBAAZ,KA5BW,4BACkBJ,GADlB,EAENK,YAAcf,UAFR,I,uUCdf,O,OACA,O,OAEA,Q,OACA,Q,OACA,Q,OACA,Q,OACA,Q,6nBASMyN,E,6KA0CJhH,UAASC,YAAYvF,MAAMwC,U,2CAW3B,IAAM+J,EAAc,GACdC,EAAe,GACfC,EAAe,GAErBzM,KAAKZ,MAAMsN,OAAO7G,SAAQ,SAAAC,GACzB,IAAMzE,EAAQ,IAAIM,SAASN,MAAMyE,EAAKzE,OAElCA,EAAMoC,OAAS9B,SAASgL,YAC3BJ,EAAYtG,KAAKH,GACPzE,EAAMoC,OAAS9B,SAASiL,aAClCJ,EAAavG,KAAKH,GACRzE,EAAMoC,OAAS9B,SAASkL,cAClCJ,EAAaxG,KAAKH,MAIpB9F,KAAK8M,aAAeP,EACpBvM,KAAK+M,cAAgBP,EACrBxM,KAAKgN,cAAgBP,I,+BAYrB,IAAIQ,SAUJ,OARIjN,KAAKZ,MAAM8N,uBACdD,EACC,wBAAC,UAAD,CACCrJ,UAAW5D,KAAKZ,MAAM+N,kBAMxB,wBAAC,UAAmBnN,KAAKZ,MACvB6N,EAED,wBAAC,UAAD,CACC3Q,KAAMsM,YAAYe,QAAQ4C,YAC1BG,OAAQ1M,KAAK8M,eAEb9M,KAAKoN,mBAAmBpN,KAAK8M,cAE9B,wBAAC,UAAD,CACCxQ,KAAMsM,YAAYe,QAAQ6C,aAC1BE,OAAQ1M,KAAK+M,gBAEb/M,KAAKoN,mBAAmBpN,KAAK+M,eAE9B,wBAAC,UAAD,CACCzQ,KAAMsM,YAAYe,QAAQ8C,aAC1BC,OAAQ1M,KAAKgN,gBAEbhN,KAAKoN,mBAAmBpN,KAAKgN,kB,yCAedN,GAAQ,WACtBzE,SAiBJ,OAfIyE,GAAUA,EAAO7J,SACpBoF,EAAQyE,EAAOxE,KAAI,SAAApC,GAClB,OACC,8BAAIxI,IAAKwI,EAAKxJ,KAAMgL,KAAK,UACxB,wBAAC,UAAD,CACC+F,YAAa,EAAKjO,MAAMiO,YACxB/Q,KAAMwJ,EAAKxJ,KACX+E,MAAOyE,EAAKzE,MACZiM,QAASxH,EAAKwH,eAOZrF,M,GAlJsBnJ,UAAMG,WAA/BqN,EASE9E,aAAe,CACrBhD,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,KAERwI,sBAAsB,GAnBlBZ,EA8BEhP,IAAM,mB,WAwHC,aAAmBgP,I,uuBCtKlC,O,OAEA,O,moBAOe,SAAA/M,GAAA,mBAEb,WAAYH,GAAO,yEACZA,IADY,SA0CnBmO,mBAAqB,SAACC,EAAKC,GAC1B,OAAO9L,SAAS+L,MAAMC,MAAMH,EAAK,CAChCI,SAAU,EAAK5L,MAAM6L,eAAiBJ,EACtCpG,SAAU,EAAKrF,MAAM8L,kBAAoBL,EAAU,GAAK,EACxDN,eAAgB,EAAKA,eAAe5P,KAApB,EAA+BkQ,MA9C9B,EA2DnBN,eAAiB,SAACU,EAAcE,GAC/B,EAAKC,SACJ,CACCF,gBAAiBD,EACjBA,aACCA,IAAiB,EAAK7L,MAAM6L,aACzBA,EACA,OAEL,WACM,EAAK7L,MAAM6L,eACX,EAAKI,UACR,EAAKA,UAAUF,GAEfzI,UAASC,YAAT,GAA2B/C,aAtE/B,EAAKR,MAAL,KACI,EAAKA,MADT,CAEC8L,gBAAiB,KACjBD,aAAc,OANG,EAFN,mEAoBaK,GACrBpO,UAAKC,WAAL,gGACH,wGAAgCmO,GAGjClO,KAAKgO,SAAS,CACbF,gBAAiB,KACjBD,aAAc,WA3BH,GACetO,K,mkBCV9B,O,moBAUe,SAAAA,GAAA,0NA4Fb4O,iBAAmB,SAAAC,GAClB,EAAKJ,SAAS,CACbI,mBA9FW,oEAUGA,GACXpO,KAAKgC,MAAMoM,gBAAkBA,GAChCpO,KAAKgO,SAAS,CACbI,cAAe,SAbL,gDA4BaF,GACrBpO,UAAKC,WAAL,gGACH,wGAAgCmO,GAMjClO,KAAKgO,SAAS,CACbI,cAAe,SArCJ,sCAkDGnG,GAAO,WACtB,OAAOA,EAAMoG,QAAO,SAAAvI,GACnB,OAAI,EAAK9D,MAAMoM,cACV,EAAKpM,MAAMoM,gBAAkBtI,EAAKxI,IAC9BwI,OADR,EAIOA,OAzDG,0CA4EO0H,EAAKC,GACxB,OAAO9L,SAAS+L,MAAMC,MAAMH,EAAK,CAChCc,gBAAiBtO,KAAKsO,gBAAgB/Q,KAAKyC,KAAMyN,GACjDc,gBAAiBvO,KAAKgC,MAAMoM,gBAAkBX,EAC9CU,iBAAkBnO,KAAKmO,iBAAiB5Q,KAAKyC,KAAMyN,SAhFxC,GACgBlO,K,2eCX/B,O,OAEA,O,OACA,O,OACA,Q,OACA,Q,OACA,O,OACA,Q,OACA,Q,6nBAUMiP,E,YAsCL,WAAYpP,GAAO,yEACZA,IADY,SAiMnBqP,WAAa,WACZ,EAAKT,SAAS,CACbU,SAAU,KAGX,EAAKC,mBAtMa,EA0OnBC,eAAiB,SAAAnM,GAKhB,GAJsB,KAAlBA,EAAM4B,SAAoC,KAAlB5B,EAAM4B,SACjC5B,EAAMY,iBAGe,KAAlBZ,EAAM4B,QACT,EAAKwK,mBACC,GAAsB,KAAlBpM,EAAM4B,QAChB,EAAK2J,SAAS,CACbc,sBAAsB,SAEjB,GAAsB,KAAlBrM,EAAM4B,QAAgB,CAChC,IAAMlG,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEvC,IAAI+E,SAASoN,KAAK5Q,GAAQ6Q,mBAE1B,EAAK1P,QAAQnB,OACXvB,IAAI,gBACJ+C,KAAK,kBAFP,KA1PiB,EAyQnBsP,sBAAwB,SAAAxM,GACvB,EAAKuL,SAAS,CACbU,SAAUjM,EAAME,OAAO3F,QAGxB,EAAK2R,mBA9Qa,EA0RnBO,wBAA0B,SAAAzM,GACzB,EAAKuL,SAAS,CACbH,aAAc,KACdsB,WAAY1M,EAAME,OAAOqD,aAAa,gBAGvC,EAAK2I,mBAhSa,EAiVnBS,YAAc,WACb,IAAMjR,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBACjCyS,EAAY,IAAI1N,SAASoN,KAAK5Q,GAC9BmR,EAAYnR,EAAO+N,eACnBqD,EAAYD,EAAUE,kBAE5BH,EAAUI,OAAO,EAAKzN,MAAM4C,QAAS,CAAC8K,SAAS,IAE/CJ,EAAUK,gBAAgBJ,GAI1B,EAAKnQ,MAAMkP,kBAEXnQ,EAAOwB,KAAK,kBAAZ,IA/VkB,EAyXnBkP,YAAc,WACb,IAAM1Q,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBACjCyS,EAAY,IAAI1N,SAASoN,KAAK5Q,EAAQ,CAC3CyR,eAAgB,EAAKxQ,MAAMwQ,iBAExBC,EAAY,CACflN,OAAQ,EAAKX,MAAMmN,YAAc,MAE5BW,EAAkB,CAACJ,SAAS,GAE9B,EAAK1N,MAAM0M,WACV,EAAK1M,MAAM4C,SACdiL,EAAUjR,KAAO,EAAKoD,MAAM0M,SAE5BW,EAAUU,OACTF,EACA,EAAK7N,MAAM4C,QACXkL,KAGI,EAAK9N,MAAMmN,aAAYU,EAAY,IAExCR,EAAUhS,OACT,EAAK2E,MAAM0M,SACXmB,EACAC,IAIF3R,EAAOwB,KAAK,kBAAZ,IAKD,EAAKP,MAAMkP,mBAxZX,EAAK0B,UAAYlR,UAAM6I,YACvB,EAAK3F,MAAQ,EAAKiO,mBAJA,E,8DAkBdjQ,KAAKZ,MAAMmP,iBAAmBvO,KAAKZ,MAAM8Q,kBAG5ClQ,KAAK2O,oB,kDAaN3O,KAAKgO,SAAShO,KAAKiQ,sB,+BAYnB,IAAIE,EAAiB,CACpBC,eAAgBpQ,KAAKZ,MAAMgR,eAC3BjS,OAAQ6B,KAAKV,QAAQnB,OACrBkS,uBAAwBrQ,KAAKkP,wBAC7BoB,eACCtQ,KAAKgC,MAAMmN,YAAcvG,YAAYe,QAAQ4G,mBAG/CJ,EAAiBnQ,KAAKuN,mBACrB4C,EACAK,UAAqBlT,KAGtB,IAAImT,SAEJ,GAAIzQ,KAAKZ,MAAMK,KAAM,CACpB,IAAIiR,EAAS1Q,KAAKZ,MAAMK,KAExB,IAAKK,UAAKC,WAAW2Q,GAAS,CAC7B,IAAMzI,EAAQjI,KAAKZ,MAAMK,KAEzBiR,EAAS,kBAAMzI,GAGhB,IAAI0I,EAA4B,CAC/B7B,qBAAsB9O,KAAKgC,MAAM8M,qBACjCrP,KAAMiR,EACNvS,OAAQ6B,KAAKV,QAAQnB,OACrByS,4BAA6B5Q,KAAK6Q,6BAClCjN,UAAW5D,KAAKZ,MAAM+N,eACtB2D,qBAAsB9Q,KAAK+Q,sBAC3BC,KAAMhR,KAAKgC,MAAM0M,UAGlBiC,EAA4B3Q,KAAKuN,mBAChCoD,EACAM,UAA2B3T,KAG5BmT,EACC,wBAAC,UAA+BE,GAIlC,IAAIO,SAEAlR,KAAKgC,MAAM0M,WACdwC,EACC,kCACCC,aAAYvI,YAAYe,QAAQyH,WAChCpT,UAAU,4BACVqT,QAASrR,KAAKyO,WACd6C,MAAO1I,YAAYe,QAAQ4H,OAC3B,wBAAC,UAAD,CAAYtT,OAAO,mBAKtB,IAAMuT,EAAkB,GAMxB,OAJK7P,SAAS8P,IAAIC,IAAM9I,YAAYe,UACnC6H,EAAgBG,YAAc/I,YAAYe,QAAQiI,UAIlD,+BAAK5T,UAAU,0BACd,kCACCmT,aAAYvI,YAAYe,QAAQkI,WAChC7T,UAAU,YACV8T,UAAW9R,KAAKgC,MAAM4C,QACtByM,QAASrR,KAAKoP,YACdkC,MAAO1I,YAAYe,QAAQ8F,QAC3B,wBAAC,UAAD,CAAYxR,OAAO,kBAEpB,+BAAKD,UAAU,0BACbgC,KAAKZ,MAAM2S,oBACX,wBAAC,UAAyB5B,GAE3B,+BAAKnS,UAAU,sBACd,mCACCA,UAAU,WACVgU,SAAUhS,KAAKiP,sBACf7H,UAAWpH,KAAK4O,gBACZ4C,EAJL,CAKCnS,IAAKW,KAAKgQ,UACVvM,KAAK,OACLzG,MAAOgD,KAAKgC,MAAM0M,YAElB+B,GAEDS,GAEF,kCACCC,aAAYvI,YAAYe,QAAQsI,QAChCjU,UAAU,YACV8T,UAAW9R,KAAKkS,gBAChBb,QAASrR,KAAK6O,YACdyC,MAAO1I,YAAYe,QAAQsI,SAC3B,wBAAC,UAAD,CAAYjU,UAAU,oBAAoBC,OAAO,c,yCAelC,IAEXE,EAAU6B,KAAKZ,MAAME,QAArBnB,OACAgU,EAAqBnS,KAAKZ,MAA1B+S,kBAEDC,EAAO,IAAIzQ,SAASoN,KACzB5Q,EAAOvB,IAAI,iBACVyV,mBACIzT,EAAQwT,GAAQA,EAAKpM,aAAa,SAAY,GAC9CrD,EACJyP,GAAQA,EAAKpM,aAAa,WAAcmM,EAE1C,MAAO,CACNrD,sBAAsB,EACtBlK,QAASwN,EACTE,YAAa,CACZ1T,OACA+D,UAED+L,SAAU9P,EACVuQ,WAAYxM,K,wCA+Bb,IAAM4P,EAAWvS,KAEXwS,EAAc,WACnBD,EAASvC,UAAUpI,QAAQpF,SAGxBwG,OAAOyJ,sBACVzJ,OAAOyJ,sBAAsBD,GAE7B5I,WAAW4I,EAAa,K,mDAiFG/P,GAC5BzC,KAAKgO,SAAS,CACbH,aAAc,KACda,SAAUjM,EAAME,OAAOqD,aAAa,gBAGrChG,KAAK2O,oB,sCAeL,IAAM+D,EACL1S,KAAKgC,MAAM0M,WACV1O,KAAKgC,MAAM0M,WAAa1O,KAAKgC,MAAMsQ,YAAY1T,MAC/CoB,KAAKgC,MAAMmN,aAAenP,KAAKgC,MAAMsQ,YAAY3P,QAEnD,OAAO+P,I,4CAoCc1Q,GACrBhC,KAAKgO,SAAS,CACbc,qBAAsB9M,EAAM2Q,e,GAlZF7T,UAAMG,WAA7BuP,EACE5O,YAAcf,UADhB2P,EAWEhH,aAAe,CACrBoI,gBAAgB,EAChBgD,gBAAiB,GACjBpO,UAAU,EACVqO,kBAAkB,EAClBV,kBAAmB,GACnB3M,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,KAERqN,oBAAoB,GAzBhBvD,EAoCElR,IAAM,W,UAiaCuB,UAAcG,SAC5B,cAAe,aAAmBwP,M,uUCxdnC,O,moBAQe,SAAAjP,GAAA,kMAe2B,IAApBH,EAAoB,uDAAZY,KAAKZ,MAC1BhB,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBACvCkW,EAAY1U,EAAaE,OAAOwU,WAAa,GACnD,OAAOnR,SAAS+L,MAAMC,MAAMvO,EAAO0T,EAAU,iBAlBjC,GACYvT,GADZ,EAENK,YAAcf,UAFR,I,2eCRf,O,OACA,O,OAEA,O,OACA,O,moBAQe,SAAAU,GAAA,8LA6BRS,KAAK+S,mBACR/J,OAAOgK,qBAAqBhT,KAAK+S,qBA9BtB,2CA8CZ,IAAIE,EAAkB,eAWtB,OARCjT,KAAKkT,sBAAsBvP,YAC3BhC,SAASwR,wBAETF,GAAmB,oBAEnBA,GAAmB,uBAGbA,IAzDK,6CA6EUG,EAAOC,GAC7BA,EACCA,GACA,IAAI1R,SAAS2R,IAAItK,OAAOA,QAAQuK,kBAEjC,IAAIC,EAAIJ,EAAMK,KACVC,EAAIN,EAAMO,IAUd,OARIP,EAAMK,KAAOL,EAAMzU,MAAQ0U,EAAa1U,QAC3C6U,GAAKJ,EAAMK,KAAOL,EAAMzU,MAAQ0U,EAAa1U,OAG1C+U,EAAI,IACPA,EAAI,GAGE,CACNF,IACAE,OA/FW,4CAqHZ,IAAME,EAAe5T,KAAKZ,MAAMyU,YAC7B7T,KAAKZ,MAAMyU,YAAYpU,KACvB,KAEH,GAAKmU,EAAL,CAIA,IAAME,EAAgBF,EAAaE,cAE7BC,EAAcH,EAAaG,YAE3BC,EAAM,CACXR,EAAGI,EAAaG,YAAYE,MAC5BP,EAAGI,EAAcI,OAAOP,KAGrBhQ,EAAYmQ,EAAcI,OAAOvQ,UAE/BwQ,EAAUL,EAAcI,OAAOC,QAE/BC,EAAYN,EAAcI,OAAOE,UAEnCD,GAAWC,GAAaA,EAAUT,MAAQQ,EAAQR,MACrDhQ,EAAYhC,SAAS0S,yBAGtB,IAAIb,SACAE,SA0BJ,OArBIM,EAAIR,GAAKQ,EAAIN,GAChBF,EAAIxT,KAAKsU,WAAWR,EAAeE,EAAIR,GAGtCE,EADG/P,IAAchC,SAAS0S,wBACtBnP,KAAKE,IAAI4O,EAAIN,EAAGI,EAAcI,OAAOP,KAErCzO,KAAKC,IACR6O,EAAIN,EACJ1T,KAAKuU,WAAWT,EAAeC,MAIjCP,EAAIM,EAAcI,OAAOT,KAAOK,EAAcI,OAAOvV,MAAQ,EAG5D+U,EADG/P,IAAchC,SAASwR,wBACtBnT,KAAKuU,WAAWT,EAAeC,GAE/BD,EAAcI,OAAOP,KAIpB,CACNhQ,YACA6P,IACAE,QA9KW,iCA4LFI,EAAeU,GACzB,IAAMN,EAASJ,EAAcI,OAEvBT,EAAOS,EAAOE,UAAYF,EAAOE,UAAUX,KAAOS,EAAOT,KACzDgB,EAAQP,EAAOC,QAAUD,EAAOC,QAAQM,MAAQP,EAAOO,MAEzDjB,SAEJ,GAAIC,EAAOe,GAAUC,EAAQD,EAC5BhB,EAAIgB,MACE,CACN,IAAME,EAAWxP,KAAKyP,IAAIlB,EAAOe,GAC3BI,EAAY1P,KAAKyP,IAAIF,EAAQD,GAIlChB,EAFGkB,EAAWE,EAEVnB,EAEAgB,EAIN,OAAOjB,IAlNK,iCA+NFM,EAAeC,GACzB,IAAIL,EAAI,EAER,GAAII,GAAiBC,EAAa,CACjC,IAAMc,EAAgB,IAAIlT,SAAS2R,IAAI1O,QACtCmP,EAAYpR,QAOZ+Q,EAHAmB,EAAcC,GACyB,SAAvCD,EAAchT,SAAS,YAGtBkS,EAAYpR,OAAOoS,UACnBhB,EAAYpR,OAAOqS,aAEhBlB,EAAcI,OAAOe,OAI3B,OAAOvB,IAnPK,uCAoQID,EAAME,EAAKhQ,GAC3B,IAAM0B,EAAUC,UAASC,YAAYvF,MAE/BkV,EAASlV,KAAKZ,MAAM8V,OAgC1B,OA7BCvR,IAAchC,SAASwR,yBACvBxP,IAAchC,SAAS0S,yBAEvBZ,EAAOA,EAAOyB,EAAOzB,KAAOpO,EAAQ8P,YAAc,EAElDxB,EACChQ,IAAchC,SAASwR,wBACpBQ,EAAMuB,EAAOvB,IACbA,EAAMtO,EAAQ2P,aAAeE,EAAOvB,KAExChQ,IAAchC,SAASyT,yBACvBzR,IAAchC,SAAS0T,0BAEvB5B,EACC9P,IAAchC,SAASyT,wBACpB3B,EAAOyB,EAAOzB,KAAOpO,EAAQ2P,aAAe,EAC5CvB,EAAQ,EAAIpO,EAAQ2P,aAAgB,EAAIE,EAAOzB,KAEnDE,EAAMA,EAAMuB,EAAOvB,IAAMtO,EAAQ2P,aAAe,GAG7CvB,EAAO,IACVA,EAAO,GAGJE,EAAM,IACTA,EAAM,GAGA,CAACF,EAAME,KAvSF,kCAmTZ,IAAMtO,EAAUC,UAASC,YAAYvF,MAErC,GAAIqF,EAAS,CACZ,IAAMiQ,EAAa,IAAI3T,SAAS2R,IAAI1O,QAAQS,GAE5C,OAAOiQ,EAAWC,SAAS,wBAG5B,OAAO,IA3TK,kCAuUDC,EAAYC,GACvB,IAAMH,EAAa,IAAI3T,SAAS2R,IAAI1O,QACnCU,UAASC,YAAYvF,OAGtBsV,EAAWI,UAAU,CACpBjC,KAAM+B,EAAW,GAAK,KACtB7B,IAAK6B,EAAW,GAAK,KACrBG,QAAS,EACTC,cAAe,SAGhBN,EAAWO,YAAY,0BAEvB7V,KAAK+S,kBAAoB/J,OAAOyJ,uBAAsB,WACrD6C,EAAWQ,SAAS,yBACpBR,EAAWQ,SAAS,wBACpBR,EAAWI,UAAU,CACpBjC,KAAMgC,EAAS,GAAK,KACpB9B,IAAK8B,EAAS,GAAK,KACnBE,QAAS,IAIV/L,YAAW,WACV0L,EAAWI,UAAU,CACpBE,cAAe,OAEd,UAnWQ,6BA+WZ,IAAMvQ,EAAUC,UAASC,YAAYvF,MAC/B+V,EAAS/V,KAAKV,QAAQnB,OAAOvB,IAAI,UAEjCoZ,EAAYD,EAASA,EAAOC,UAAY,EAE9C,IAAKhW,KAAKiW,aAAe5Q,EAAS,CACjC,IAAM6Q,EAAmBlW,KAAKkT,sBAE9B,GAAIgD,EAAkB,CACrB,IAAMZ,EAAa,IAAI3T,SAAS2R,IAAI1O,QAAQS,GAExC8Q,SACAC,SACAC,SACAC,SAKJ,GAHAH,EAASE,EAAWE,WAAWjB,EAAWzT,SAAS,SACnDuU,EAASE,EAAWC,WAAWjB,EAAWzT,SAAS,QAE/C7B,KAAKZ,MAAMoX,oBAAqB,CACnC,IAAMC,EAAMzW,KAAK0W,uBAAuB,CACvChY,OAAQ6X,WAAWlR,EAAQ2P,cAC3BvB,KAAM0C,EACNxC,IAAKyC,EACLzX,MAAO4X,WAAWlR,EAAQ8P,eAG3BgB,EAASM,EAAIjD,EACb4C,EAASK,EAAI/C,EAOb4C,EAHAJ,EAAiBvS,YACjBhC,SAASwR,wBAGRnT,KAAKZ,MAAM0U,cAAcI,OAAOe,OAASe,EAGzChW,KAAKZ,MAAM0U,cAAcI,OAAOP,IAAMqC,EAGxChW,KAAK2W,YAAY,CAACN,EAAUC,GAAW,CAACH,EAAQC,QAzZtC,uCAsaZ,IAAMF,EAAmBlW,KAAKkT,sBAExB7N,EAAUC,UAASC,YAAYvF,MAErC,GAAIkW,GAAoB7Q,EAAS,CAChC,IAAM0Q,EACL/V,KAAKV,QAAQnB,OAAOvB,IAAI,WAAaoG,SAAS4T,KACzCC,EAAcC,iBAAiBf,GAC/BgB,EAAmBhW,SACxB8V,EAAYG,iBAAiB,eAC7B,IAEKC,EAAoBlW,SACzB8V,EAAYG,iBAAiB,gBAC7B,IAEKE,EACLH,EAAmBhB,EAAOoB,YAAcF,EAEnCjB,EACc,SAAnBD,EAAOlR,QAAqBkR,EAAOC,UAAY,EAE1CoB,EAAKpX,KAAKqX,iBACfnB,EAAiB1C,EACjB0C,EAAiBxC,EACjBwC,EAAiBvS,WAElByT,EAAG,IAAMpB,EAELoB,EAAG,GAAK,IACXA,EAAG,GAAK,GAELA,EAAG,GAAKF,EAAa7R,EAAQ8P,cAChCiC,EAAG,GAAKF,EAAa7R,EAAQ8P,aAG9B,IAAIxT,SAAS2R,IAAI1O,QAAQS,GAASqQ,UAAU,CAC3CjC,KAAM2D,EAAG,GAAK,KACdzD,IAAKyD,EAAG,GAAK,UA5cH,6CA0dUnM,EAASqM,GAAiB,WAKhD,OAJIxX,UAAKC,WAAWkL,KACnBA,EAAUA,EAAQ/O,KAAK8D,OAAS,IAG1BiL,EAAQC,QAAO,SAACqM,EAAMC,GAC5B,OAAI7R,MAAMzF,QAAQsX,IACjBD,EAAKtR,KAAK,EAAKwR,kBAAkBD,EAAQF,IAClCC,GAEA,EAAKE,kBAAkBxM,EAASqM,KAEtC,MAteS,wCAofKrM,EAASqM,GAC1B,IAAMI,EAAc,GAEdtZ,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBACvCkW,EAAY1U,EAAaE,OAAOwU,WAAa,GAE/ChT,UAAKC,WAAWkL,KACnBA,EAAUA,EAAQ/O,KAAK8D,OAAS,IAGjC,IAAM2X,EAAiB3X,KAAK4X,gBAC3B3M,EACEoD,QAAO,SAAAmJ,GACP,OACCA,IACC5O,YAAY+C,QAAQ6L,IACpB5O,YAAY+C,QAAQ6L,EAAOlb,UAG7B4L,KAAI,SAAAsP,GAcJ,OAbI1X,UAAKY,SAAS8W,IACjBE,EAAYF,GAAU1E,EAAU0E,GAChCA,EAAS5O,YAAY+C,QAAQ6L,IACnB1X,UAAKY,SAAS8W,EAAOlb,QAC/Bob,EACC9O,YAAY+C,QAAQ6L,EAAOlb,MAAMgB,KAC9BqE,SAAS+L,MAAMC,MAClBmF,EAAU0E,GACVA,EAAOK,KAERL,EAAS5O,YAAY+C,QAAQ6L,EAAOlb,OAG9Bkb,MAERtP,KAAI,SAASsP,EAAQjR,GACtB,IAAInH,EAAQY,KAAK8X,oBAChB,CACC3Z,OAAQ6B,KAAKV,QAAQnB,OACrBb,IACgB,cAAfka,EAAOla,IACJka,EAAOla,IACJka,EAAOla,IAFb,IAEoBiJ,EACrBwR,OAAQP,EAAOla,IACf+J,SACCrH,KAAKZ,MAAM4Y,SACXhY,KAAKZ,MAAM4Y,QAAQ5Y,MAAM2Y,SAAWP,EAAOla,IACxC,GACC,EACL0a,QAAShY,KAAKZ,MAAM4Y,SAErBR,EAAOla,KAWR,OARA8B,EAAQY,KAAKuN,mBAAmBnO,EAAOoY,EAAOla,KAE1Cga,IACHlY,EAAQuC,SAAS+L,MAAMC,MAAMvO,EAAOkY,IAGrClY,EAAQuC,SAAS+L,MAAMC,MAAMvO,EAAOsY,EAAYF,EAAOla,MAEhDwB,UAAMmZ,cAAcT,EAAQpY,KACjCY,MAEH,OAAO2X,MArjBK,GACepY,GADf,EAENK,YAAcf,UAFR,EAYN2I,aAZM,KAaTjI,EAAiBiI,aAbR,CAcZ0N,OAAQ,CACPzB,KAAM,EACNE,IAAK,IAEN6C,qBAAqB,IAlBT,I,8ECZf,W,0DAeA,IAAM/K,EAAS,SAAS7K,EAAUC,EAAUqX,EAAYC,GACvD,IAAKtX,IAAaD,EACjB,MAAM,IAAI4I,MAAM,sCAGjB,IAAM4O,EAAgBvX,EAASlD,UAEzB0a,EAAgB5b,OAAOY,OAAO+a,GAwBpC,OAvBAxX,EAASjD,UAAY0a,EAErBA,EAAcC,YAAc1X,EAC5BA,EAAS2X,WAAaH,EAIrBvX,IAAapE,QACb2b,EAAcE,cAAgB7b,OAAOkB,UAAU2a,cAE/CF,EAAcE,YAAczX,GAIzBqX,GACHpY,UAAKa,IAAI0X,EAAeH,GAIrBC,GACHrY,UAAKa,IAAIC,EAAUuX,GAGbvX,G,UAGO6K,G,8ECjDf,IAAM+M,EAAuB,SAASC,EAAO7T,GAW5C,OACCA,EAAQ8T,UAAU7V,SAAW4V,EAAME,WAClC/T,EAAQgU,OAAOH,EAAMI,iBACrBjU,EAAQgU,OAAOH,EAAMK,eACrBL,EAAMM,cAAgBN,EAAME,WACR,IAApBF,EAAME,WAIHK,EAAqB,SAASC,GACnC,IAAMnF,EAAgBmF,EAAQxZ,KAAKqU,cAEnC,SACCA,EAAclP,SACwC,aAAtDkP,EAAclP,QAAQoB,aAAa,iBAI/BkT,EAAwB,SAASD,GACtC,IAAMnF,EAAgBmF,EAAQxZ,KAAKqU,cAEnC,SACCA,EAAclP,SACwC,aAAtDkP,EAAclP,QAAQoB,aAAa,iBAI/BmT,EAA2B,SAASF,GACzC,IAAMG,EAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAC1Chb,EAAe6a,EAAQ9a,OAAOvB,IAAI,gBAClCkX,EAAgBmF,EAAQxZ,KAAKqU,cAC7BuF,EAAiBjb,EAAakb,mBAEpC,QACExF,EAAclP,UACfkP,EAAcI,QACbmF,GACAjb,EACC8N,eACAqN,oBACAC,eACFpb,EAAawD,cAAc6X,SAASL,KAIhCM,EAAoB,SAAST,GAClC,IAAM7a,EAAe6a,EAAQ9a,OAAOvB,IAAI,gBAClC0S,EAAYlR,EAAa8N,eACzBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KACrD,IAAIlB,EACH,OAAO,KAIR,IAAM3E,EAAgBmF,EAAQxZ,KAAKqU,cAE7BlP,EAAU,IAAIjD,SAASoN,KAAK3Q,GAAciU,mBAC1CiH,EAAmBlb,EAAakb,mBAChCM,GAAoB9F,EAAclP,SACD,QAApCkP,EAAclP,QAAQiV,UAGzB,UACCP,GACAM,GACAhV,GACAA,EAAQ8T,UAAU7V,SAAW4V,EAAME,WACnC/T,IACCA,EAAQ4U,cACRhB,EAAqBC,EAAO7T,KAIzBkV,EAAqB,SAASb,GACnC,IAAMnF,EAAgBmF,EAAQxZ,KAAKqU,cAC7BlP,EAAUkP,EAAclP,QACxBmV,IAAanV,KAAaA,EAAQoV,QAAQ,OAC1CC,IAAYrV,GAAiC,QAAtBA,EAAQiV,UAErC,SAAUjV,IAAYmV,IAAYE,IAG7BC,EAAoB,SAASjB,GAClC,IAAM7a,EAAe6a,EAAQ9a,OAAOvB,IAAI,gBAElCyc,EAAiBjb,EAAakb,mBAE9BxF,EAAgBmF,EAAQxZ,KAAKqU,cAEnC,QACEA,EAAclP,UACfkP,EAAcI,QACbmF,GACAjb,EACC8N,eACAqN,oBACAC,eAIEW,EAAqB,SAASlB,GACnC,IAAM7a,EAAe6a,EAAQ9a,OAAOvB,IAAI,gBAElCwd,EAAQ,IAAIzY,SAAS0Y,MAAMjc,GAC3BwG,EAAUwV,EAAM/H,mBAEtB,SAAUzN,IAAWwV,EAAME,WAAW1V,KAGjCkH,EAAgB,CACrByO,MAAOvB,EACPwB,SAAUtB,EACVuB,OAAQtB,EACRuB,MAAOZ,EACP1H,KAAMsH,EACNU,MAAOD,EACPQ,KAAMT,G,UAGQpO,G,6BC/Hf,IAAI8O,EAAwBne,OAAOme,sBAC/Bhd,EAAiBnB,OAAOkB,UAAUC,eAClCid,EAAmBpe,OAAOkB,UAAUmd,qBAExC,SAASC,EAAS3P,GACjB,GAAY,OAARA,QAAwB4P,IAAR5P,EACnB,MAAM,IAAI6P,UAAU,yDAGrB,OAAOxe,OAAO2O,GAGf,SAAS8P,IACR,IACC,IAAKze,OAAO0e,OACX,OAAO,EAMR,IAAIC,EAAQ,IAAIC,OAAO,OAEvB,GADAD,EAAM,GAAK,KACkC,MAAzC3e,OAAO6e,oBAAoBF,GAAO,GACrC,OAAO,EAKR,IADA,IAAIG,EAAQ,GACHxf,EAAI,EAAGA,EAAI,GAAIA,IACvBwf,EAAM,IAAMF,OAAOG,aAAazf,IAAMA,EAEvC,IAAI0f,EAAShf,OAAO6e,oBAAoBC,GAAOrT,KAAI,SAAU1K,GAC5D,OAAO+d,EAAM/d,MAEd,GAAwB,eAApBie,EAAOC,KAAK,IACf,OAAO,EAIR,IAAIC,EAAQ,GAIZ,MAHA,uBAAuBpa,MAAM,IAAIsE,SAAQ,SAAU+V,GAClDD,EAAMC,GAAUA,KAGf,yBADEnf,OAAOqH,KAAKrH,OAAO0e,OAAO,GAAIQ,IAAQD,KAAK,IAM9C,MAAOxa,GAER,OAAO,GAITpF,EAAOD,QAAUqf,IAAoBze,OAAO0e,OAAS,SAAUxY,EAAQkZ,GAKtE,IAJA,IAAIC,EAEAC,EADAC,EAAKjB,EAASpY,GAGT7E,EAAI,EAAGA,EAAIme,UAAUpZ,OAAQ/E,IAAK,CAG1C,IAAK,IAAIR,KAFTwe,EAAOrf,OAAOwf,UAAUne,IAERge,EACXle,EAAe1B,KAAK4f,EAAMxe,KAC7B0e,EAAG1e,GAAOwe,EAAKxe,IAIjB,GAAIsd,EAAuB,CAC1BmB,EAAUnB,EAAsBkB,GAChC,IAAK,IAAI/f,EAAI,EAAGA,EAAIggB,EAAQlZ,OAAQ9G,IAC/B8e,EAAiB3e,KAAK4f,EAAMC,EAAQhgB,MACvCigB,EAAGD,EAAQhgB,IAAM+f,EAAKC,EAAQhgB,MAMlC,OAAOigB,I,uUCnFR,O,6nBAOME,E,kKAYJ,OAAIlc,KAAKZ,MAAMsN,QAAU1M,KAAKZ,MAAMsN,OAAO7J,OACnC,gCAAM7E,UAAU,kBAAkBgC,KAAKZ,MAAM9C,MAE7C,S,GAf4BwC,UAAMG,WAAtCid,EACE5e,IAAM,yB,UAmBC4e,G,uUC3Bf,O,OAEA,O,6nBAQMC,E,mNAsDLC,cAAgB,WACf,IAAMje,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAOqB,YAAY,gBAEnB,EAAKJ,MAAMid,aAAaxW,SAAQ,SAAAyW,GAC/B,IAAMC,EAAa,IAAI5a,SAASN,MAAM,CAACuD,QAAS0X,IAEhDne,EAAOiO,YAAYmQ,MAGpBpe,EAAOwB,KAAK,kBAAZ,I,6DA/BA,OACC,8BAAI2H,KAAK,UACR,kCACCtJ,UAAU,qBACVqT,QAASrR,KAAKoc,cACd/U,SAAUrH,KAAKZ,MAAMiI,UACpBuB,YAAYe,QAAQ6S,a,GAxCe1d,UAAMG,WAAzCkd,EACEvc,YAAcf,UADhBsd,EAWE3U,aAAe,CACrB6U,aAAc,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,QAZ/CF,EAuBE7e,IAAM,6B,UA8CC6e,G,uUC/Ef,O,OAEA,O,OACA,Q,OACA,O,6nBAUMM,E,mNAuELC,SAAW,WACN,EAAKtd,MAAMkO,QACd,EAAKlO,MAAMkO,WAKX,EAAKhO,QAAQnB,OAAOvB,IAAI,gBAAgB4C,YAAY,gBAEpD,EAAKyM,e,yEAzDN,IAAI0Q,EAAW,CACd/X,QAAS,OACT8H,OAAQ,CACPkQ,OAAQ,IAIVD,EAAWhb,SAAS+L,MAAMC,MAAMgP,EAAU3c,KAAKZ,MAAMiC,OAErDrB,KAAK6c,SAAW,IAAIlb,SAASN,MAAMsb,GAAUG,aAC5C9c,KAAKZ,MAAM9C,Q,+BAeZ,IAAM0B,EACLgC,KAAKZ,MAAM9C,OAAS0D,KAAKZ,MAAMiO,YAC5B,4BACA,qBAEJ,OACC,kCACCrP,UAAWA,EACX+e,wBAAyB,CAACC,OAAQhd,KAAK6c,UACvCxL,QAASrR,KAAK0c,SACdrV,SAAUrH,KAAKZ,MAAMiI,e,GA1DUvI,UAAMG,WAAnCwd,EACE7c,YAAcf,UADhB4d,EAWEnf,IAAM,uB,WA0EC,cAAkB,aAAYmf,K,uUCnG7C,O,OAEA,O,6nBAOMQ,E,YAuBL,WAAY7d,GAAO,yEACZA,IADY,SA4FnB8d,UAAY,WACX,IAAMC,EAAU,EAAKC,mBAAmBxV,QAClCyV,EAAW,EAAKC,oBAAoB1V,QAEpCtI,EAAU+d,EAASE,WAAW,MAE9B7e,EAAS,EAAK8e,aACd7e,EAAQ,EAAKS,MAAMqe,WAEzB,GAAI9e,GAASD,EAAQ,CACpB2e,EAAS1e,MAAQA,EACjB0e,EAAS3e,OAASA,EAElBY,EAAQoe,UAAUP,EAAS,EAAG,EAAGxe,EAAOD,GAExC,IAAMif,EAASN,EAASO,UAAU,aAE5BC,EAAKlc,SAAS2R,IAAI1O,QAAQkZ,eAC/B,aAAeH,EAAS,MAGnBxf,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAO4f,cAAcF,GAErB,EAAKze,MAAMkP,kBAEXnQ,EAAOwB,KAAK,kBAAZ,GAEAxB,EAAOwB,KAAK,iBAAkBke,KAzHb,EAsInBG,mBAAqB,SAAA5c,GACpB4H,OAAOiV,MAAM,sBAAwB7c,IAvInB,EAoJnB8c,qBAAuB,SAAAC,GACtB,IAAMhB,EAAU,EAAKC,mBAAmBxV,QAClCyV,EAAW,EAAKC,oBAAoB1V,QAE1CuV,EAAQiB,iBACP,WACA,WACC,IAAI1f,EACHye,EAAQkB,aACPlB,EAAQM,WAAa,EAAKre,MAAMqe,YAE9Ba,MAAM5f,KACTA,EAAS,EAAKU,MAAMqe,YAAc,EAAI,IAGvCN,EAAQlY,aAAa,QAAS,EAAK7F,MAAMqe,YACzCN,EAAQlY,aAAa,SAAUvG,GAC/B2e,EAASpY,aAAa,QAAS,EAAK7F,MAAMqe,YAC1CJ,EAASpY,aAAa,SAAUvG,GAEhC,EAAK8e,aAAe9e,KAErB,GAGD,EAAK6f,QAAUJ,EAEXlU,UAAUuU,gBACbrB,EAAQsB,aAAeN,EAEvBhB,EAAQuB,UAAYP,EAGrBhB,EAAQwB,OAER,EAAKC,oBAAoBhX,QAAQkK,UAAW,GArL5C,EAAK8M,oBAAsB9f,UAAM6I,YACjC,EAAK2V,oBAAsBxe,UAAM6I,YACjC,EAAKyV,mBAAqBte,UAAM6I,YAJd,E,6DAiBlB3H,KAAK4e,oBAAoBhX,QAAQpF,U,6CAW7BxC,KAAKue,UACJve,KAAKue,QAAQM,KAChB7e,KAAKue,QAAQM,OACH7e,KAAKue,QAAQO,gBACvB9e,KAAKue,QAAQO,iBAAiBjZ,SAAQ,SAAAkZ,GACrCA,EAAMF,UAGR7e,KAAKue,QAAU,Q,+BAahB,IAAMS,EACL/U,UAAU+U,cACV/U,UAAUgV,oBACVhV,UAAUuU,iBACVvU,UAAUiV,eAYX,OAVAF,EAAa9iB,KACZ+N,UACA,CACCkV,OAAO,EACPC,OAAO,GAERpf,KAAKke,qBACLle,KAAKge,oBAIL,+BAAKhgB,UAAU,aACd,iCAAOqB,IAAKW,KAAKod,oBAAjB,+BAGA,kCACCpf,UAAU,kBACVqT,QAASrR,KAAKkd,UACd7d,IAAKW,KAAK4e,qBAHX,cAMA,kCACC5gB,UAAU,mBACVqB,IAAKW,KAAKsd,2B,GArGiBxe,UAAMG,WAAhCge,EACErd,YAAcf,UADhBoe,EASEzV,aAAe,CACrBiW,WAAY,KAVRR,EAqBE3f,IAAM,c,UAqMC2f,G,uUCnOf,O,OAEA,O,6nBASMoC,E,kKAoBJ,OACC,kCACClO,aAAYnR,KAAKZ,MAAM+I,YACvBnK,UAAWgC,KAAKsf,gBAChBjO,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,UACpBrH,KAAKZ,MAAM+I,e,sCAed,IAAMnK,EAAY,kCAElB,OAAOA,M,GA3C2Bc,UAAMG,WAApCogB,EASE/hB,IAAM,wB,WAsCC,aAAc+hB,I,uUC1D7B,O,OAEA,O,OACA,O,ynBAEA,IAAME,EAAY,GACZC,EAAU,GAQVC,E,YAaL,WAAYrgB,GAAO,yEACZA,IADY,SA6InBqP,WAAa,WACZ,EAAKT,SAAS,CACbU,SAAU,MA/IO,EA2JnBgR,WAAa,WACZ,IAAMthB,EAAe,EAAKkB,QAAQnB,OAAOvB,IAAI,gBAE7CwB,EAAaoB,YAAY,WAAY,CACpCmgB,IAAK,EAAK3d,MAAM0M,WAKjB,EAAKtP,MAAMkP,mBApKO,EA+KnBK,gBAAkB,WACjB,EAAKqB,UAAUpI,QAAQpF,SAhLL,EA8LnBoM,eAAiB,SAAAnM,GAKhB,GAJIA,EAAM4B,UAAYkb,GAAa9c,EAAM4B,UAAYmb,GACpD/c,EAAMY,iBAGHZ,EAAM4B,UAAYkb,EACrB,EAAKG,kBACC,GAAIjd,EAAM4B,UAAYmb,EAAS,CACrC,IAAMrhB,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAIvC,EAAKwC,MAAMkP,kBAEXnQ,EAAOwB,KAAK,kBAAZ,KA5MiB,EAyNnBsP,sBAAwB,SAAAxM,GACvB,EAAKuL,SAAS,CACbU,SAAUjM,EAAME,OAAO3F,SA3NN,EAyPnB4iB,aAAe,WACd,IAAMzhB,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEjCijB,EAAe,EAAK7d,MAAM4C,QAAQkb,cAAa,SAAAlb,GACpD,OAAOA,EAAQ2Q,SAAS,yBAGzBsK,EAAapQ,SAEbtR,EAAOwB,KAAK,kBAAZ,IA/PA,EAAKqQ,UAAYlR,UAAM6I,YACvB,EAAK3F,MAAQ,EAAK+d,kBAJA,E,8DAkBd/f,KAAKZ,MAAMmP,iBAAmBvO,KAAKZ,MAAM8Q,mBAGxClH,OAAOyJ,sBACVzJ,OAAOyJ,sBAAsBzS,KAAK2O,iBAElC/E,WAAW5J,KAAK2O,gBAAiB,M,kDAcnC3O,KAAKgO,SAAShO,KAAK+f,qB,wCAanB,IAAM5hB,EAAS6B,KAAKZ,MAAME,QAAQnB,OAAOvB,IAAI,gBACzC2d,SAEEjL,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM0Q,EAAkB1Q,EAAU2Q,qBAE9BD,IACHzF,EAAQyF,EAAgBhG,QAAQ,6BAIlC,IAAMpb,EAAO2b,EAAQA,EAAMvU,aAAa,qBAAuB,GAE/D,MAAO,CACNpB,QAAS2V,EACTjI,YAAa,CACZ1T,QAED8P,SAAU9P,K,+BAaX,IAAMshB,EAAiB,CACtBvK,QAAS3V,KAAKgC,MAAM0M,SAAW,EAAI,GAGpC,OACC,+BAAK1Q,UAAU,0BACd,kCACCmT,aAAYvI,YAAYe,QAAQwW,YAChCniB,UAAU,YACVoiB,YAAU,sBACVtO,UAAW9R,KAAKgC,MAAM4C,QACtByM,QAASrR,KAAK4f,aACdvY,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQwW,aAC3B,wBAAC,UAAD,CAAYniB,UAAU,oBAAoBC,OAAO,WAElD,+BAAKD,UAAU,0BACd,iCACCA,UAAU,WACVgU,SAAUhS,KAAKiP,sBACf7H,UAAWpH,KAAK4O,eAChB+C,YAAa/I,YAAYe,QAAQiI,SACjCvS,IAAKW,KAAKgQ,UACVvM,KAAK,OACLzG,MAAOgD,KAAKgC,MAAM0M,WAEnB,kCACCyC,aAAYvI,YAAYe,QAAQyH,WAChCpT,UAAU,4BACVqT,QAASrR,KAAKyO,WACdpN,MAAO6e,EACP5O,MAAO1I,YAAYe,QAAQ4H,OAC3B,wBAAC,UAAD,CAAYtT,OAAO,kBAGrB,kCACCkT,aAAYvI,YAAYe,QAAQsI,QAChCjU,UAAU,YACV8T,UAAW9R,KAAKkS,gBAChBb,QAASrR,KAAK0f,WACdpO,MAAO1I,YAAYe,QAAQsI,SAC3B,wBAAC,UAAD,CAAYjU,UAAU,oBAAoBC,OAAO,c,sCA6GpD,IAAMyU,EACL1S,KAAKgC,MAAM0M,UACX1O,KAAKgC,MAAM0M,WAAa1O,KAAKgC,MAAMsQ,YAAY1T,KAEhD,OAAO8T,M,GA3PqB5T,UAAMG,WAA9BwgB,EACE7f,YAAcf,UADhB4gB,EAWEniB,IAAM,Y,UAwQCuB,UAAcG,QAAQygB,I,uUCjSrC,O,OACA,O,OAEA,O,OACA,O,ynBAEA,IAAMF,EAAY,GACZC,EAAU,GASVa,E,YAKL,WAAYjhB,GAAO,yEACZA,IADY,SA0JnBkhB,eAAiB,WAChB,IAAMliB,EAAe,EAAKkB,QAAQnB,OAAOvB,IAAI,gBAE7CwB,EAAaoB,YAAY,WAAY,CACpCiE,KAAM,QACNkc,IAAK,EAAK3d,MAAMue,WAKjB,EAAKnhB,MAAMkP,mBApKO,EA+KnBkS,oBAAsB,WACrBlb,UAASC,YAAY,EAAKkb,KAAKzQ,WAAWxN,SAhLxB,EA8LnBoM,eAAiB,SAAAnM,GACZA,EAAM4B,UAAYkb,GAAa9c,EAAM4B,UAAYmb,GACpD/c,EAAMY,iBAGHZ,EAAM4B,UAAYkb,EACrB,EAAKe,iBACK7d,EAAM4B,UAAYmb,GAC5B,EAAKpgB,MAAMkP,mBAtMM,EAmNnBoS,sBAAwB,SAAAje,GACvB,EAAKuL,SAAS,CACbuS,SAAU9d,EAAME,OAAO3F,SAlNxB,EAAKgF,MAAQ,EAAK+d,kBAHA,E,8DAiBd/f,KAAKZ,MAAMmP,iBAAmBvO,KAAKZ,MAAM8Q,mBAGxClH,OAAOyJ,sBACVzJ,OAAOyJ,sBAAsBzS,KAAKwgB,qBAElC5W,WAAW5J,KAAKwgB,oBAAqB,M,kDAcvC,IAAMG,EAAW3gB,KAAK+f,kBAEtB/f,KAAKgO,SAAS,CACb4S,SAAK5F,EACLlX,UAAMkX,EACN6F,IAAKF,EACLG,SAAK9F,M,wCAcN,IAAM7c,EAAS6B,KAAKZ,MAAME,QAAQnB,OAAOvB,IAAI,gBACzCgI,SAEE0K,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM0Q,EAAkB1Q,EAAU2Q,qBAE9BD,IACHpb,EAAUob,EAAgBhG,QAAQ,+BAIpC,IAAMuG,EAAW3b,EACdA,EAAQoB,aAAa,wBACrB,GAEH,MAAO,CACNpB,UACAmc,aAAc,CACbR,YAEDA,c,+BAaD,IAAMS,EAAmBpY,YAAYe,QAAQsX,eAEvCC,EAAqB,CAC1BvL,QAAS3V,KAAKgC,MAAMue,SAAW,EAAI,GAGpC,OACC,+BAAKviB,UAAU,iCACd,+BAAKA,UAAU,0BACd,iCACCA,UAAU,WACVgU,SAAUhS,KAAK0gB,sBACftZ,UAAWpH,KAAK4O,eAChB+C,YAAaqP,EACb3hB,IAAI,YACJoE,KAAK,OACLzG,MAAOgD,KAAKgC,MAAMue,WAEnB,kCACCpP,aAAYvI,YAAYe,QAAQyH,WAChCpT,UAAU,2BACVqT,QAASrR,KAAKyO,WACdpN,MAAO6f,EACP5P,MAAO1I,YAAYe,QAAQ4H,SAG7B,kCACCJ,aAAYvI,YAAYe,QAAQsI,QAChCjU,UAAU,YACV8T,UAAW9R,KAAKkS,gBAChBb,QAASrR,KAAKsgB,eACdhP,MAAO1I,YAAYe,QAAQsI,SAC3B,wBAAC,UAAD,CAAYhU,OAAO,c,mCAiBtB+B,KAAKgO,SAAS,CACbuS,SAAU,O,sCAsFX,IAAM7N,EACL1S,KAAKgC,MAAMue,UACXvgB,KAAKgC,MAAMue,WAAavgB,KAAKgC,MAAM+e,aAAaR,SAEjD,OAAO7N,M,GA7O0B5T,UAAMG,WAAnCohB,EACEzgB,YAAcf,UADhBwhB,EAGE/iB,IAAM,iB,UA8OCuB,UAAcG,QAAQqhB,I,6BCrQrC,SAASc,EAASC,EAAYC,GAC7B,IAAMC,EAAWtY,OAAOuY,oBAClBC,EAAYxY,OAAOyY,qBAEzB,OAAO,IAAIC,SAAS,SAACC,EAAUC,GAC9B,GAAIN,GAAaE,EAGZ,CACJ,IAAM3F,EAAS,IAAIgG,MACnBhG,EAAOiG,OAAS,WACf,IAAInjB,EAAQkd,EAAOld,MACfD,EAASmd,EAAOnd,OAEdqjB,EAASpjB,EAAQ2iB,EACjBU,EAAUtjB,EAAS8iB,EAEzB,GAAGO,GAAU,GAAKC,GAAW,EAC5BL,EAASP,OAEL,CACJ,IAAMa,EAASF,EAASC,EAAWD,EAASC,EAC5CrjB,GAAgBsjB,EAChBvjB,GAAkBujB,EAOnB,IAAMC,EAASlf,SAASiV,cAAc,UACtCiK,EAAOvjB,MAAQA,EACfujB,EAAOxjB,OAASA,EAChB,IAAMY,EAAU4iB,EAAO3E,WAAW,MAClCje,EAAQoe,UAAU7B,EAAQ,EAAG,EAAGld,EAAOD,GAEvC,IAAMyjB,EAAUD,EAAOtE,UAAUyD,GACjCM,EAASQ,IAEVtG,EAAOxS,IAAM+X,OAjCbO,EAASP,M,mDAsCJD,Y,uUCxCR,O,OAEA,Q,OACA,Q,6nBASMlQ,E,YAiCL,WAAY7R,GAAO,yEACZA,IADY,OAGlB,EAAK4C,MAAQ,CACZiG,MAAO,IAJU,E,mEAgBOiG,GACpBA,EAAU8C,MAAQ9C,EAAU8C,OAAShR,KAAKZ,MAAM4R,OACpDoR,aAAapiB,KAAKqiB,UAEdnU,EAAU8C,KACbhR,KAAKqiB,SAAWzY,WAAW5J,KAAKsiB,aAActiB,KAAKZ,MAAMmjB,OAEzDviB,KAAKgO,SAAS,CACb/F,MAAO,MAKNiG,EAAUY,uBACblF,WAAW5J,KAAKwC,MAAO,GACvBxC,KAAKZ,MAAM0R,qBAAqB,CAC/B6B,UAAU,O,6CAaZyP,aAAapiB,KAAKqiB,Y,+BAYlB,OAAKriB,KAAKZ,MAAMwO,UAAa5N,KAAKgC,MAAMiG,MAAMpF,OAK7C,wBAAC,UAAD,KACE7C,KAAKwiB,yBAAyBxiB,KAAKgC,MAAMiG,QALpC,O,4CAoBaiG,EAAWuU,GAChC,OACCvU,EAAUN,WAAa5N,KAAKZ,MAAMwO,UAClCM,EAAU8C,OAAShR,KAAKZ,MAAM4R,MAC9ByR,EAAUxa,QAAUjI,KAAKgC,MAAMiG,Q,+CAcRA,GAAO,WAC/BA,EAAQA,GAAS,GAEjB,IAAM2I,EAA8B5Q,KAAKZ,MACvCwR,4BAEF,OAAO3I,EAAMC,KAAI,SAAApC,GAChB,IAAM9H,EACL,EAAKoB,MAAM4R,OAASlL,EAAK6Z,IACtB,4BACA,qBAEJ,OACC,8BAAIriB,IAAKwI,EAAK6Z,IAAKrY,KAAK,UACvB,kCACCtJ,UAAWA,EACX0kB,aAAY5c,EAAK6Z,IACjBtO,QAAST,GACR9K,EAAKwL,a,qCAeI,WACd,GAAKtR,KAAKZ,MAAM4R,KAAhB,CAIA,IAAM2R,EAAUjB,QAAQkB,QAAQ5iB,KAAKZ,MAAMK,KAAKO,KAAKZ,MAAM4R,OAE3D2R,EAAQE,MAAK,SAAA5a,GACRA,EAAMpF,SAAW,EAAKzD,MAAMwO,UAC/B,EAAKxO,MAAM+N,iBAGZ,EAAKa,SAAS,CACb/F,kB,GA/KqCnJ,UAAMG,WAAzCgS,EASEzJ,aAAe,CACrBhD,UAAU,EACV/E,KAAM,GACN8iB,MAAO,IACP/c,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAnBJuM,EA+BE3T,IAAM,6B,WAsJC,aAAmB2T,I,2eCjMlC,O,OAEA,O,OACA,O,OACA,O,OACA,Q,6nBASM6R,E,YASL,WAAY1jB,GAAO,yEACZA,IADY,EA6CnB2jB,aAAe,WACd,IAAM5kB,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBACjC+iB,EAAMxhB,EAAOG,OAAO0kB,sBACpBC,EAAqB9kB,EAAOG,OAAO4kB,2BACnC/T,EAAa,EAAKgU,kBAAkBvb,QACvC,EAAKub,kBAAkBvb,QAAQ5F,MAAMmN,WACrC,GAEGiU,EAAqB,SAAAC,GAC1B,EAAKxU,YACJwU,EAAarmB,MACbmS,EACAkU,EAAa/R,QAIXxR,UAAKC,WAAWkjB,IACnBA,EAAmBK,MAAM,KAAM,CAACnlB,EAAQwhB,EAAKyD,KA9D5B,EA4EnBvU,YAAc,SAACH,EAAUS,EAAYoU,GACpC,IAAMplB,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBACjCyS,EAAY,IAAI1N,SAASoN,KAAK5Q,EAAQ,CAACyR,gBAAgB,IACvDC,EAAY,CACjBlN,OAAQwM,GAEHW,EAAkB,CAACJ,SAAS,GAE9BhB,IACCvQ,EAAOqlB,SAAWrlB,EAAOqlB,QAAQC,SAAWF,IAC/C7U,EAAWnF,SAASma,OAAShV,GAG1B,EAAK1M,MAAM4C,SACdiL,EAAUjR,KAAO8P,EAEjBW,EAAUU,OACTF,EACA,EAAK7N,MAAM4C,QACXkL,IAGDT,EAAUhS,OAAOqR,EAAUmB,EAAWC,GAGvC3R,EAAOwB,KAAK,kBAAZ,KAlGD,IAAMyS,EAAO,IAAIzQ,SAASoN,KAEzB,EAAK3P,MAAME,QAAQnB,OAAOvB,IAAI,iBAC7ByV,mBAEIzT,EAAOwT,EAAOA,EAAKpM,aAAa,QAAU,GAR9B,OAUlB,EAAKmd,kBAAoBrkB,UAAM6I,YAE/B,EAAK3F,MAAQ,CACZ4C,QAASwN,EACT1D,SAAU9P,GAdO,E,kDAyBlB,OACC,+BAAKZ,UAAU,iCACd,wBAAC,UAAD,GAAgBqB,IAAKW,KAAKmjB,mBAAuBnjB,KAAKZ,QACtD,kCACC+R,aAAW,SACXnT,UAAU,YACVqT,QAASrR,KAAK+iB,aACdzR,MAAM,UACN,wBAAC,UAAD,CAAYrT,OAAO,iB,GA1CWa,UAAMG,WAAnC6jB,EACEljB,YAAcf,UADhBikB,EAGExlB,IAAM,iB,UAgHCuB,UAAcG,QAAQ8jB,I,uUCjIrC,O,OAEA,O,OACA,Q,6nBAQMtS,E,kKAoBJ,IAAMH,EAAyBrQ,KAAKZ,MAAMiR,uBACpCsT,EAAqB3jB,KAAKZ,MAAMgR,eAEtC,OACC,+BACCpS,UAAU,mGACVqJ,SAAS,KACT,kCACCuc,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAYnR,KAAKZ,MAAMkR,eACvBtS,UAAU,qBACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAOtR,KAAKZ,MAAMkR,gBAClB,+BAAKtS,UAAU,gBACd,gCAAMA,UAAU,uCACdgC,KAAKZ,MAAMkR,gBAEb,wBAAC,UAAD,CAAYrS,OAAO,mBAGpB+B,KAAKZ,MAAMwO,UACX,wBAAC,UAAD,CACC+V,mBAAoBA,EACpBtT,uBAAwBA,EACxBzM,UAAW5D,KAAKZ,MAAM+N,eACtBmD,eAAgBtQ,KAAKZ,MAAMkR,oB,4CAiBVpC,GACrB,OACCA,EAAUN,WAAa5N,KAAKZ,MAAMwO,UAClCM,EAAUoC,iBAAmBtQ,KAAKZ,MAAMkR,mB,GAnERxR,UAAMG,WAAnCuR,EASElT,IAAM,iB,UA+DCkT,G,uUCnFf,O,OACA,O,OAEA,Q,OACA,Q,6nBASMqT,E,6KAsCJve,UAASC,YAAYvF,MAAMwC,U,+BAY3B,IAAMshB,EAAc9jB,KAAK+jB,qBAEzB,OAAO,wBAAC,UAAmB/jB,KAAKZ,MAAQ0kB,K,+CAaxC,OACC9jB,KAAKZ,MAAMukB,oBAAsB,CAChC,CACCvb,MAAOQ,YAAYe,QAAQ4G,kBAC3BvT,MAAO,IAER,CACCoL,MAAOQ,YAAYe,QAAQqa,eAC3BhnB,MAAO,SAER,CACCoL,MAAOQ,YAAYe,QAAQsa,gBAC3BjnB,MAAO,UAER,CACCoL,MAAOQ,YAAYe,QAAQua,iBAC3BlnB,MAAO,WAER,CACCoL,MAAOQ,YAAYe,QAAQwa,cAC3BnnB,MAAO,W,2CAeU,WAChBonB,EAAUpkB,KAAKqkB,yBAEbhU,EAAyBrQ,KAAKZ,MAAMiR,uBAoB1C,OAlBA+T,EAAUA,EAAQlc,KAAI,SAAAvF,GACrB,IAAM3E,EACL,EAAKoB,MAAMkR,iBAAmB3N,EAAO3F,MAClC,4BACA,qBAEJ,OACC,8BAAIM,IAAKqF,EAAO3F,MAAOsK,KAAK,UAC3B,kCACCtJ,UAAWA,EACX0kB,aAAY/f,EAAO3F,MACnBqU,QAAShB,GACR1N,EAAOyF,WAMLgc,M,GA3HsBtlB,UAAMG,WAA/B4kB,EAQErc,aAAe,CACrBhD,UAAU,EACVgB,YAAa,sBACb1B,KAAM,CACLI,QAAS,CAAC,IACVI,YAAa,CAAC,IACdC,YAAa,CAAC,IACdE,KAAM,CAAC,IACPC,KAAM,CAAC,MAhBJmf,EA4BEvmB,IAAM,a,WAmGC,aAAmBumB,I,uUC5IlC,O,OAEA,O,OACA,Q,OACA,Q,OACA,O,OACA,O,OACA,Q,6nBAcMS,E,mNAmFLC,kBAAoB,WACnB,EAAKnlB,MAAM+O,iBAAiBmW,EAAWhnB,M,+DA9CvC,OAG0B,OAFzB,IAAIqE,SAASoN,KACZ/O,KAAKV,QAAQnB,OAAOvB,IAAI,iBACvByV,qB,+BAaH,IAAMmS,EAAWA,aAAaxkB,KAAKykB,kBAEnC,GAAIzkB,KAAKZ,MAAMmP,gBAAiB,CAC/B,IAAMnP,EAAQY,KAAK0kB,sBAEnB,OAAO,wBAAC,UAAmBtlB,GAE3B,OACC,kCACC+R,aAAYvI,YAAYe,QAAQyI,KAChCpU,UAAWwmB,EACXpE,YAAU,cACV/O,QAASrR,KAAKukB,kBACdld,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyI,MAC3B,wBAAC,UAAD,CAAYnU,OAAO,c,GArECa,UAAMG,WAAzBqlB,EACE1kB,YAAcf,UADhBylB,EAWE9c,aAAe,CACrBhB,UAAW,CACVI,GAAI,oBACJ9C,KAAMnC,SAASgjB,KAAO,GACtBroB,KAAM,SAfHgoB,EA2BEhnB,IAAM,O,WA6DC,cAAY,cAAgB,aAAmBgnB,M,uUC7G9D,O,OAEA,O,OACA,O,ynBAEA,IAAM/E,EAAY,GACZC,EAAU,GAQVoF,E,YAoCL,WAAYxlB,GAAO,yEACZA,IADY,SAiCnBylB,aAAe,WACd,IAAM1mB,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBACjCkoB,EAAa,IAAInjB,SAAS0Y,MAAMlc,GAEtC2mB,EAAWznB,OAAO,CACjB+V,MAAO,EAAKhU,MAAM2lB,gBAClBC,KAAM,EAAKhjB,MAAMgjB,KACjBC,KAAM,EAAKjjB,MAAMijB,OAGlB,EAAK7lB,MAAMkP,kBAEXnQ,EAAOwB,KAAK,kBAAZ,IA7CkB,EA0DnBulB,cAAgB,SAACC,EAAW1iB,GAC3B,IAAMT,EAAQ,GACdA,EAAMmjB,GAAa1iB,EAAME,OAAO3F,MAEhC,EAAKgR,SAAShM,IA9DI,EA4EnB4M,eAAiB,SAAAnM,GACZA,EAAM4B,UAAYkb,GAAa9c,EAAM4B,UAAYmb,GACpD/c,EAAMY,iBAGHZ,EAAM4B,UAAYkb,EACrB,EAAKsF,eACKpiB,EAAM4B,UAAYmb,GAC5B,EAAKpgB,MAAMkP,mBAjFZ,EAAK8W,QAAUtmB,UAAM6I,YACrB,EAAK0d,QAAUvmB,UAAM6I,YACrB,EAAK3F,MAAQ,CACZgjB,KAAM,EACNC,KAAM,GAPW,E,6DAsBlBjlB,KAAKolB,QAAQxd,QAAQpF,U,+BA2ErB,IAAM8iB,EAAOC,KAAKC,MACZC,EAASH,EAAO,OAChBI,EAASJ,EAAO,OAEtB,OACC,+BAAKtnB,UAAU,2BACd,iCAAO2nB,QAASF,GAAS7c,YAAYe,QAAQsb,MAC7C,+BAAKjnB,UAAU,4BACd,iCACCA,UAAU,WACV6J,GAAI4d,EACJrgB,IAAI,IACJ4M,SAAUhS,KAAKklB,cAAc3nB,KAAKyC,KAAM,QACxCoH,UAAWpH,KAAK4O,eAChB+C,YAAY,OACZtS,IAAKW,KAAKolB,QACV3hB,KAAK,SACLzG,MAAOgD,KAAKgC,MAAMijB,QAIpB,iCAAOU,QAASD,GAAS9c,YAAYe,QAAQic,SAC7C,+BAAK5nB,UAAU,4BACd,iCACCA,UAAU,WACV6J,GAAI6d,EACJtgB,IAAI,IACJ4M,SAAUhS,KAAKklB,cAAc3nB,KAAKyC,KAAM,QACxCoH,UAAWpH,KAAK4O,eAChB+C,YAAY,SACZtS,IAAKW,KAAKqlB,QACV5hB,KAAK,SACLzG,MAAOgD,KAAKgC,MAAMgjB,QAIpB,kCACC7T,aAAW,UACXnT,UAAU,YACVqT,QAASrR,KAAK6kB,cACd,wBAAC,UAAD,CAAY5mB,OAAO,gB,GA7KMa,UAAMG,WAA9B2lB,EACEhlB,YAAcf,UADhB+lB,EAUEpd,aAAe,CACrBud,gBAAiB,CAChBc,OAAQ,EACRC,YAAa,EACbC,YAAa,EACb1kB,MAAO,gBAfJujB,EA2BEtnB,IAAM,Y,UAyJCsnB,G,8EClMf,W,0DAOA,IAAMoB,EAAyB,CAE9BC,UAAW,CAQVpS,YAAaqS,UAAUzoB,QAqBxByV,oBA/B8B,WAgC7B,IAAMU,EAAe5T,KAAKZ,MAAMyU,YAC7B7T,KAAKZ,MAAMyU,YAAYpU,KACvB,KAEH,GAAKmU,EAAL,CAIA,IAAME,EAAgBF,EAAaE,cAE7BC,EAAcH,EAAaG,YAE3BC,EAAM,CACXR,EAAGI,EAAaG,YAAYE,MAC5BP,EAAGI,EAAcI,OAAOP,KAGrBhQ,EAAYmQ,EAAcI,OAAOvQ,UAE/BwQ,EAAUL,EAAcI,OAAOC,QAE/BC,EAAYN,EAAcI,OAAOE,UAEnCD,GAAWC,GAAaA,EAAUT,MAAQQ,EAAQR,MACrDhQ,EAAYhC,SAAS0S,yBAGtB,IAAIb,SACAE,SA0BJ,OArBIM,EAAIR,GAAKQ,EAAIN,GAChBF,EAAIxT,KAAKsU,WAAWR,EAAeE,EAAIR,GAGtCE,EADG/P,IAAchC,SAAS0S,wBACtBnP,KAAKE,IAAI4O,EAAIN,EAAGI,EAAcI,OAAOP,KAErCzO,KAAKC,IACR6O,EAAIN,EACJ1T,KAAKuU,WAAWT,EAAeC,MAIjCP,EAAIM,EAAcI,OAAOT,KAAOK,EAAcI,OAAOvV,MAAQ,EAG5D+U,EADG/P,IAAchC,SAASwR,wBACtBnT,KAAKuU,WAAWT,EAAeC,GAE/BD,EAAcI,OAAOP,KAIpB,CACNhQ,YACA6P,IACAE,OAeFY,WAxG8B,SAwGnBR,EAAeU,GACzB,IAAMN,EAASJ,EAAcI,OAEvBT,EAAOS,EAAOE,UAAYF,EAAOE,UAAUX,KAAOS,EAAOT,KACzDgB,EAAQP,EAAOC,QAAUD,EAAOC,QAAQM,MAAQP,EAAOO,MAEzDjB,SAEJ,GAAIC,EAAOe,GAAUC,EAAQD,EAC5BhB,EAAIgB,MACE,CACN,IAAME,EAAWxP,KAAKyP,IAAIlB,EAAOe,GAC3BI,EAAY1P,KAAKyP,IAAIF,EAAQD,GAIlChB,EAFGkB,EAAWE,EAEVnB,EAEAgB,EAIN,OAAOjB,GAcRe,WA5I8B,SA4InBT,EAAeC,GACzB,IAAIL,EAAI,EAER,GAAII,GAAiBC,EAAa,CACjC,IAAMc,EAAgB,IAAIlT,SAAS2R,IAAI1O,QAAQmP,EAAYpR,QAM1D+Q,EAHAmB,EAAcC,GACyB,SAAvCD,EAAchT,SAAS,YAGtBkS,EAAYpR,OAAOoS,UACnBhB,EAAYpR,OAAOqS,aAEhBlB,EAAcI,OAAOe,OAI3B,OAAOvB,I,UAIMsS,G,8ECzKf,W,kLAQA,SAASta,EAAUpN,GAClB0B,KAAKmmB,WAAa7nB,GAAU,GAC5B0B,KAAKomB,UAAY,GAGlB1a,EAAU/N,UAAY,CACrB2a,YAAa5M,EAWb9O,IAZqB,SAYjBypB,GACH,IAAMC,EAActmB,KAAKsY,YAAYiO,MAAMF,GAE3C,GAAKC,EAAL,CAIKtmB,KAAKwmB,eAAeH,IACxBrmB,KAAKymB,MAAMJ,GAGZ,IAAIK,EAAW1mB,KAAKomB,UAAUC,GAM9B,OAJIC,EAAY/pB,SACfmqB,EAAW1mB,KAAK2mB,sBAAsBL,EAAY/pB,OAAQmqB,IAGpDA,IAYRE,IAzCqB,SAyCjBP,EAAMrpB,GACT,IAAMspB,EAActmB,KAAKsY,YAAYiO,MAAMF,GAEtCC,IAIAtmB,KAAKwmB,eAAeH,IACxBrmB,KAAKymB,MAAMJ,GAGRC,EAAYO,UAIZP,EAAYQ,WAAa9mB,KAAKwmB,eAAeH,IAKhDC,EAAYS,YACX/mB,KAAK2mB,sBAAsBL,EAAYS,UAAW/pB,KAKhDspB,EAAYU,SACfhqB,EAAQgD,KAAK2mB,sBAAsBL,EAAYU,OAAQhqB,IAGxDgD,KAAKomB,UAAUC,GAAQrpB,KAgBxB2pB,sBAvFqB,SAuFCM,EAAkBC,GACvC,IAAIC,EAAS,KAeb,OAbKrnB,UAAKI,QAAQgnB,KACjBA,EAAO,CAACA,IAIRpnB,UAAKY,SAASumB,IACdnnB,UAAKC,WAAWC,KAAKinB,IAErBE,EAASnnB,KAAKinB,GAAL,MAAAjnB,KAAA,EAA0BknB,IACzBpnB,UAAKC,WAAWknB,KAC1BE,EAASF,EAAiB3D,MAAMtjB,KAAMknB,IAGhCC,GAaRV,MApHqB,SAoHfJ,GACL,IAAIrpB,SAEEspB,EAActmB,KAAKsY,YAAYiO,MAAMF,GAGrCe,EAAkB3qB,OAAOkB,UAAUC,eAAe1B,KACvDoqB,EACA,SAEKe,EAA0B5qB,OAAOkB,UAAUC,eAAe1B,KAC/D8D,KAAKmmB,WACLE,GAID,GAAIC,EAAYgB,QACftqB,EAAQgD,KAAK2mB,sBAAsBL,EAAYgB,QAAStqB,GAExDgD,KAAKomB,UAAUC,GAAQrpB,OAInB,GAAIspB,EAAYO,SACpB7pB,EAAQspB,EAAYtpB,WAIhB,GAAIspB,EAAYQ,UACpB,GAAIO,EACHrqB,EAAQgD,KAAKmmB,WAAWE,OAClB,KAAIe,EAGV,OAFApqB,EAAQspB,EAAYtpB,WAObqqB,EACRrqB,EAAQgD,KAAKmmB,WAAWE,GACde,IACVpqB,EAAQspB,EAAYtpB,OAMrB,GACCspB,EAAYS,WACZM,IACCrnB,KAAK2mB,sBAAsBL,EAAYS,UAAW/pB,GAClD,CACD,IAAIoqB,EAGH,OAFApqB,EAAQspB,EAAYtpB,MAQlBspB,EAAYU,QAAUK,IACzBrqB,EAAQgD,KAAK2mB,sBAAsBL,EAAYU,OAAQhqB,IAIxDgD,KAAKomB,UAAUC,GAAQrpB,GAexBwpB,eAtMqB,SAsMNH,GACd,OAAO5pB,OAAOkB,UAAUC,eAAe1B,KAAK8D,KAAKomB,UAAWC,K,UAI/C3a,G,8ECxNf,IAAM6b,EAAmC,WACxC,MAAO,oCAGF3b,EAA8B,CACnCwO,MAAOmN,G,UAGO3b,G,8ECRf,W,0DAGA,IAAM4b,EAAiB,CACtB/T,KAAM,EACNE,IAAK,GAUA8T,EAAgB,SAASC,EAASC,GACvC,IAAMC,EAActiB,UAASC,YAAYmiB,GAEnCtpB,EAAespB,EAAQpoB,QAAQnB,OAAOvB,IAAI,gBAC1CmZ,EAAS3X,EAAaE,OAAOyX,QAAU/S,SAAS4T,KAChDC,EAAcC,iBAAiBf,GAC/BgB,EAAmBhW,SACxB8V,EAAYG,iBAAiB,eAC7B,IAEKC,EAAoBlW,SACzB8V,EAAYG,iBAAiB,gBAC7B,IAEKE,EACLH,EAAmBhB,EAAOoB,YAAcF,EAEnC4Q,EAAgBD,EAAYzS,YAAc,EAC1C2S,EAAiB,IAAInmB,SAAS2R,IAAItK,OAAOA,QAAQ+e,oBAEjD7S,EAASwS,EAAQtoB,MAAM8V,QAAUsS,EAEjCQ,EAAWN,EAAQrQ,iBACxBsQ,EAAKlU,KAAOkU,EAAKhpB,MAAQ,EAAImpB,EAAetU,EAC5CmU,EAAKhU,IAAMmU,EAAepU,EAC1B/R,SAAS0S,yBAGJ4T,EAAc,CACnBN,EAAKlU,KAAOkU,EAAKhpB,MAAQ,EAAIkpB,EAAgBC,EAAetU,EAC5DmU,EAAKhU,IAAMiU,EAAY5S,aAAe8S,EAAepU,EAAIwB,EAAOvB,KAG7DsU,EAAY,GAAK,EACpBA,EAAY,GAAK,EACPA,EAAY,GAAK/Q,EAAa0Q,EAAYzS,cACpD8S,EAAY,GAAK/Q,EAAa0Q,EAAYzS,aAG3CuS,EAAQ/Q,YAAYqR,EAAUC,IAWzBC,EAA4B,SAASjP,GAC1C,IAAMnF,EAAgBmF,EAAQnF,cAC3BmF,EAAQnF,cACRmF,EAAQpF,YACRoF,EAAQpF,YAAYpU,KAAKqU,cACzB,KAEH,GAAIA,GAAiBA,EAAclP,QAAS,CAC3C,IAAMxG,EAAe6a,EAAQ9a,OAAOvB,IAAI,gBAClCmZ,EAAS3X,EAAaE,OAAOyX,OAE7BC,EAAYD,EAASA,EAAOC,UAAY,EAExC2R,EAAO7T,EAAclP,QAAQujB,gBAKnC,OAJAR,EAAKhU,KAAOqC,EAEZyR,EAAcznB,KAAM2nB,IAEb,IAYHS,EAA4B,SAASnP,GAC1C,IAAM7a,EAAe6a,EAAQ9a,OAAOvB,IAAI,gBAClCmZ,EAAS3X,EAAaE,OAAOyX,OAE7BC,EAAYD,EAASA,EAAOC,UAAY,EAExCoE,EAAQ,IAAIzY,SAAS0Y,MAAMjc,GAAciU,mBACzCsV,EAAOvN,EAAM+N,gBAKnB,OAJAR,EAAKhU,KAAOqC,EAEZyR,EAAcznB,KAAM2nB,IAEb,GAGF9b,EAAuB,CAC5B6O,MAAOwN,EACP9N,MAAOgO,G,UAGOvc,G,8ECnHf,Y,OACA,Q,OACA,Q,0DAEA,IAAME,EAAa,CAClB,CACCzP,KAAM,QACN2O,QAAS,CAAC,cAAe,aACzBJ,KAAMiB,UAAcyO,OAErB,CACCje,KAAM,WACN2O,QAAS,CAAC,aAAc,kBACxBJ,KAAMiB,UAAc0O,UAErB,CACCle,KAAM,OACN2O,QAAS,CAAC,YACVJ,KAAMiB,UAAcsG,MAErB,CACC9V,KAAM,QACN2O,QAAS,CAAC,YAAa,cAAe,aAAc,eACpDod,YAAaxc,UAAqB6O,MAClC7P,KAAMiB,UAAc4O,OAErB,CACCpe,KAAM,OACN2O,QAAS,CACRqd,KAAM,CACL,CACC,OACA,WACA,YACA,OACA,SACA,YACA,SACA,YACA,QAED,CACC,iBACA,YACA,KACA,KACA,YACA,KACA,KACA,YACA,cACA,eACA,YACA,YACA,UACA,YACA,OACA,QACA,YACA,iBAIFC,OAAQ,CAAC,SAAU,OAAQ,SAAU,YAAa,SAEnD1d,KAAMiB,UAAc6O,MAErB,CACCre,KAAM,QACN2O,QAAS,CACR,eACA,WACA,cACA,YACA,eAEDud,mBAAoB5c,UAA4BwO,MAChDiO,YAAaxc,UAAqBuO,MAClCvP,KAAMiB,UAAcsO,Q,UAIPrO,G,gGClFf,OAEA,OAEA,OAEA,OAEA,OAEA,OAEA,OACA,a,0DAEA,OAEA,OAEA,OAEA,OAEA,OAEA,O,EAEQ0c,oB,6BChCR,mGAIsB,qBAAXzf,SACVA,OAAOrH,SAAS+mB,mBAAoB,EACpC1f,OAAOJ,YAAc,EACrB,WAAoB,IACpB,WAAkBsd,UAAY,IAC9B,aAAsB,EAAQ,O,gLCJvByC,W,mGACAA,W,6FACAA,W,gGACAA,W,4FACAA,W,kGACAA,W,2FACAA,W,+FACAA,W,+FACAA,W,gGACAA,W,sJACAA,Y,6BCNK,IAAI3sB,EAAE,EAAQ,IAAiBwB,EAAE,oBAAoBV,QAAQA,OAAO8rB,IAAI/qB,EAAEL,EAAEV,OAAO8rB,IAAI,iBAAiB,MAAMC,EAAErrB,EAAEV,OAAO8rB,IAAI,gBAAgB,MAAM/rB,EAAEW,EAAEV,OAAO8rB,IAAI,kBAAkB,MAAM3rB,EAAEO,EAAEV,OAAO8rB,IAAI,qBAAqB,MAAME,EAAEtrB,EAAEV,OAAO8rB,IAAI,kBAAkB,MAAMG,EAAEvrB,EAAEV,OAAO8rB,IAAI,kBAAkB,MAAMI,EAAExrB,EAAEV,OAAO8rB,IAAI,iBAAiB,MAAMpV,EAAEhW,EAAEV,OAAO8rB,IAAI,qBAAqB,MAAMlV,EAAElW,EAAEV,OAAO8rB,IAAI,kBAAkB,MAAMK,EAAEzrB,EAAEV,OAAO8rB,IAAI,cAAc,MAAMM,EAAE1rB,EAAEV,OAAO8rB,IAAI,cACxe,MAAMO,EAAE,oBAAoBrsB,QAAQA,OAAOssB,SAAS,SAASC,EAAEljB,GAAG,IAAI,IAAIC,EAAE,yDAAyDD,EAAE/J,EAAE,EAAEA,EAAE6f,UAAUpZ,OAAOzG,IAAIgK,GAAG,WAAWkjB,mBAAmBrN,UAAU7f,IAAI,MAAM,yBAAyB+J,EAAE,WAAWC,EAAE,iHAC/P,IAAImjB,EAAE,CAACC,UAAU,WAAW,OAAM,GAAIC,mBAAmB,aAAaC,oBAAoB,aAAaC,gBAAgB,cAAcC,EAAE,GAAG,SAASC,EAAE1jB,EAAEC,EAAEhK,GAAG4D,KAAKZ,MAAM+G,EAAEnG,KAAKV,QAAQ8G,EAAEpG,KAAKygB,KAAKmJ,EAAE5pB,KAAK8pB,QAAQ1tB,GAAGmtB,EACpN,SAASQ,KAA6B,SAASC,EAAE7jB,EAAEC,EAAEhK,GAAG4D,KAAKZ,MAAM+G,EAAEnG,KAAKV,QAAQ8G,EAAEpG,KAAKygB,KAAKmJ,EAAE5pB,KAAK8pB,QAAQ1tB,GAAGmtB,EADsGM,EAAElsB,UAAUssB,iBAAiB,GAAGJ,EAAElsB,UAAUqQ,SAAS,SAAS7H,EAAEC,GAAG,GAAG,kBAAkBD,GAAG,oBAAoBA,GAAG,MAAMA,EAAE,MAAMqD,MAAM6f,EAAE,KAAKrpB,KAAK8pB,QAAQH,gBAAgB3pB,KAAKmG,EAAEC,EAAE,aAAayjB,EAAElsB,UAAUusB,YAAY,SAAS/jB,GAAGnG,KAAK8pB,QAAQL,mBAAmBzpB,KAAKmG,EAAE,gBACnd4jB,EAAEpsB,UAAUksB,EAAElsB,UAAsF,IAAIwsB,EAAEH,EAAErsB,UAAU,IAAIosB,EAAEI,EAAE7R,YAAY0R,EAAEhuB,EAAEmuB,EAAEN,EAAElsB,WAAWwsB,EAAEC,sBAAqB,EAAG,IAAIC,EAAE,CAACziB,QAAQ,MAAM0iB,EAAE7tB,OAAOkB,UAAUC,eAAe2sB,EAAE,CAACjtB,KAAI,EAAG+B,KAAI,EAAGmrB,QAAO,EAAGC,UAAS,GAChS,SAASC,EAAEvkB,EAAEC,EAAEhK,GAAG,IAAIuuB,EAAEtuB,EAAE,GAAGuuB,EAAE,KAAKC,EAAE,KAAK,GAAG,MAAMzkB,EAAE,IAAIukB,UAAK,IAASvkB,EAAE/G,MAAMwrB,EAAEzkB,EAAE/G,UAAK,IAAS+G,EAAE9I,MAAMstB,EAAE,GAAGxkB,EAAE9I,KAAK8I,EAAEkkB,EAAEpuB,KAAKkK,EAAEukB,KAAKJ,EAAE3sB,eAAe+sB,KAAKtuB,EAAEsuB,GAAGvkB,EAAEukB,IAAI,IAAIG,EAAE7O,UAAUpZ,OAAO,EAAE,GAAG,IAAIioB,EAAEzuB,EAAEkL,SAASnL,OAAO,GAAG,EAAE0uB,EAAE,CAAC,IAAI,IAAIC,EAAEplB,MAAMmlB,GAAG3uB,EAAE,EAAEA,EAAE2uB,EAAE3uB,IAAI4uB,EAAE5uB,GAAG8f,UAAU9f,EAAE,GAAGE,EAAEkL,SAASwjB,EAAE,GAAG5kB,GAAGA,EAAEqB,aAAa,IAAImjB,KAAKG,EAAE3kB,EAAEqB,aAAasjB,OAAE,IAASzuB,EAAEsuB,KAAKtuB,EAAEsuB,GAAGG,EAAEH,IAAI,MAAM,CAACK,SAASntB,EAAE4F,KAAK0C,EAAE7I,IAAIstB,EAAEvrB,IAAIwrB,EAAEzrB,MAAM/C,EAAE4uB,OAAOZ,EAAEziB,SACra,SAASsjB,EAAE/kB,EAAEC,GAAG,MAAM,CAAC4kB,SAASntB,EAAE4F,KAAK0C,EAAE1C,KAAKnG,IAAI8I,EAAE/G,IAAI8G,EAAE9G,IAAID,MAAM+G,EAAE/G,MAAM6rB,OAAO9kB,EAAE8kB,QAAQ,SAASE,EAAEhlB,GAAG,MAAM,kBAAkBA,GAAG,OAAOA,GAAGA,EAAE6kB,WAAWntB,EAAE,SAASutB,EAAOjlB,GAAG,IAAIC,EAAE,CAAC,IAAI,KAAK,IAAI,MAAM,MAAM,KAAK,GAAGD,GAAGklB,QAAQ,SAAQ,SAASllB,GAAG,OAAOC,EAAED,MAAK,IAAImlB,EAAE,OAAOC,EAAE,GAAG,SAASC,EAAErlB,EAAEC,EAAEhK,EAAEuuB,GAAG,GAAGY,EAAE1oB,OAAO,CAAC,IAAIxG,EAAEkvB,EAAEE,MAA8D,OAAxDpvB,EAAE8qB,OAAOhhB,EAAE9J,EAAEqvB,UAAUtlB,EAAE/J,EAAEsvB,KAAKvvB,EAAEC,EAAEiD,QAAQqrB,EAAEtuB,EAAEuvB,MAAM,EAASvvB,EAAE,MAAM,CAAC8qB,OAAOhhB,EAAEulB,UAAUtlB,EAAEulB,KAAKvvB,EAAEkD,QAAQqrB,EAAEiB,MAAM,GAC5b,SAASC,EAAE1lB,GAAGA,EAAEghB,OAAO,KAAKhhB,EAAEulB,UAAU,KAAKvlB,EAAEwlB,KAAK,KAAKxlB,EAAE7G,QAAQ,KAAK6G,EAAEylB,MAAM,EAAE,GAAGL,EAAE1oB,QAAQ0oB,EAAEtlB,KAAKE,GACtG,SAAS2lB,EAAE3lB,EAAEC,EAAEhK,EAAEuuB,GAAG,IAAItuB,SAAS8J,EAAK,cAAc9J,GAAG,YAAYA,IAAE8J,EAAE,MAAK,IAAIykB,GAAE,EAAG,GAAG,OAAOzkB,EAAEykB,GAAE,OAAQ,OAAOvuB,GAAG,IAAK,SAAS,IAAK,SAASuuB,GAAE,EAAG,MAAM,IAAK,SAAS,OAAOzkB,EAAE6kB,UAAU,KAAKntB,EAAE,KAAKgrB,EAAE+B,GAAE,GAAI,GAAGA,EAAE,OAAOxuB,EAAEuuB,EAAExkB,EAAE,KAAKC,EAAE,IAAI2lB,EAAE5lB,EAAE,GAAGC,GAAG,EAAyB,GAAvBwkB,EAAE,EAAExkB,EAAE,KAAKA,EAAE,IAAIA,EAAE,IAAOT,MAAMzF,QAAQiG,GAAG,IAAI,IAAI0kB,EAAE,EAAEA,EAAE1kB,EAAEtD,OAAOgoB,IAAI,CAACxuB,EAAE8J,EAAE0kB,GAAG,IAAIC,EAAE1kB,EAAE2lB,EAAE1vB,EAAEwuB,GAAGD,GAAGkB,EAAEzvB,EAAEyuB,EAAE1uB,EAAEuuB,QAAQ,GAAG,OAAOxkB,GAAG,kBAAkBA,EAAE2kB,EAAE,MAAMA,EAAE3B,GAAGhjB,EAAEgjB,IAAIhjB,EAAE,cAAc2kB,EAAE,oBAAoBA,EAAEA,EAAE,MAAM,oBAAoBA,EAAE,IAAI3kB,EAAE2kB,EAAE5uB,KAAKiK,GAAG0kB,EACpf,IAAIxuB,EAAE8J,EAAE1B,QAAQunB,MAAM3vB,EAAEA,EAAEW,MAAM8tB,EAAE1kB,EAAE2lB,EAAE1vB,EAAEwuB,KAAKD,GAAGkB,EAAEzvB,EAAEyuB,EAAE1uB,EAAEuuB,QAAQ,GAAG,WAAWtuB,EAAE,MAAMD,EAAE,GAAG+J,EAAEqD,MAAM6f,EAAE,GAAG,oBAAoBjtB,EAAE,qBAAqBK,OAAOqH,KAAKqC,GAAGuV,KAAK,MAAM,IAAItf,EAAE,KAAK,OAAOwuB,EAAE,SAASqB,EAAE9lB,EAAEC,EAAEhK,GAAG,OAAO,MAAM+J,EAAE,EAAE2lB,EAAE3lB,EAAE,GAAGC,EAAEhK,GAAG,SAAS2vB,EAAE5lB,EAAEC,GAAG,MAAM,kBAAkBD,GAAG,OAAOA,GAAG,MAAMA,EAAE7I,IAAI8tB,EAAOjlB,EAAE7I,KAAK8I,EAAEjG,SAAS,IAAI,SAAS+rB,EAAE/lB,EAAEC,GAAGD,EAAEwlB,KAAKzvB,KAAKiK,EAAE7G,QAAQ8G,EAAED,EAAEylB,SACxX,SAASO,EAAGhmB,EAAEC,EAAEhK,GAAG,IAAIuuB,EAAExkB,EAAEghB,OAAO9qB,EAAE8J,EAAEulB,UAAUvlB,EAAEA,EAAEwlB,KAAKzvB,KAAKiK,EAAE7G,QAAQ8G,EAAED,EAAEylB,SAASjmB,MAAMzF,QAAQiG,GAAGimB,EAAEjmB,EAAEwkB,EAAEvuB,GAAE,SAAS+J,GAAG,OAAOA,KAAI,MAAMA,IAAIglB,EAAEhlB,KAAKA,EAAE+kB,EAAE/kB,EAAE9J,IAAI8J,EAAE7I,KAAK8I,GAAGA,EAAE9I,MAAM6I,EAAE7I,IAAI,IAAI,GAAG6I,EAAE7I,KAAK+tB,QAAQC,EAAE,OAAO,KAAKlvB,IAAIuuB,EAAE1kB,KAAKE,IAAI,SAASimB,EAAEjmB,EAAEC,EAAEhK,EAAEuuB,EAAEtuB,GAAG,IAAIuuB,EAAE,GAAG,MAAMxuB,IAAIwuB,GAAG,GAAGxuB,GAAGivB,QAAQC,EAAE,OAAO,KAAKllB,EAAEolB,EAAEplB,EAAEwkB,EAAED,EAAEtuB,GAAG4vB,EAAE9lB,EAAEgmB,EAAG/lB,GAAGylB,EAAEzlB,GAAG,IAAIimB,EAAE,CAACzkB,QAAQ,MAAM,SAAS0kB,IAAI,IAAInmB,EAAEkmB,EAAEzkB,QAAQ,GAAG,OAAOzB,EAAE,MAAMqD,MAAM6f,EAAE,MAAM,OAAOljB,EACxa,IAAIomB,EAAG,CAACC,uBAAuBH,EAAEI,wBAAwB,CAACC,SAAS,MAAMC,kBAAkBtC,EAAEuC,qBAAqB,CAAChlB,SAAQ,GAAIuT,OAAOnf,GAAGH,EAAQgxB,SAAS,CAAC3kB,IAAI,SAAS/B,EAAEC,EAAEhK,GAAG,GAAG,MAAM+J,EAAE,OAAOA,EAAE,IAAIwkB,EAAE,GAAmB,OAAhByB,EAAEjmB,EAAEwkB,EAAE,KAAKvkB,EAAEhK,GAAUuuB,GAAG9kB,QAAQ,SAASM,EAAEC,EAAEhK,GAAG,GAAG,MAAM+J,EAAE,OAAOA,EAAEC,EAAEolB,EAAE,KAAK,KAAKplB,EAAEhK,GAAG6vB,EAAE9lB,EAAE+lB,EAAE9lB,GAAGylB,EAAEzlB,IAAIwlB,MAAM,SAASzlB,GAAG,OAAO8lB,EAAE9lB,GAAE,WAAW,OAAO,OAAM,OAAO2mB,QAAQ,SAAS3mB,GAAG,IAAIC,EAAE,GAAqC,OAAlCgmB,EAAEjmB,EAAEC,EAAE,MAAK,SAASD,GAAG,OAAOA,KAAWC,GAAG2mB,KAAK,SAAS5mB,GAAG,IAAIglB,EAAEhlB,GAAG,MAAMqD,MAAM6f,EAAE,MAAM,OAAOljB,IAC9etK,EAAQoD,UAAU4qB,EAAEhuB,EAAQmxB,SAASnwB,EAAEhB,EAAQoxB,SAASnE,EAAEjtB,EAAQqxB,cAAclD,EAAEnuB,EAAQsxB,WAAWlwB,EAAEpB,EAAQuxB,SAAS1Z,EAAE7X,EAAQwxB,mDAAmDd,EACrL1wB,EAAQyxB,aAAa,SAASnnB,EAAEC,EAAEhK,GAAG,GAAG,OAAO+J,QAAG,IAASA,EAAE,MAAMqD,MAAM6f,EAAE,IAAIljB,IAAI,IAAIwkB,EAAE3uB,EAAE,GAAGmK,EAAE/G,OAAO/C,EAAE8J,EAAE7I,IAAIstB,EAAEzkB,EAAE9G,IAAIwrB,EAAE1kB,EAAE8kB,OAAO,GAAG,MAAM7kB,EAAE,CAAoE,QAAnE,IAASA,EAAE/G,MAAMurB,EAAExkB,EAAE/G,IAAIwrB,EAAER,EAAEziB,cAAS,IAASxB,EAAE9I,MAAMjB,EAAE,GAAG+J,EAAE9I,KAAQ6I,EAAE1C,MAAM0C,EAAE1C,KAAK+D,aAAa,IAAIsjB,EAAE3kB,EAAE1C,KAAK+D,aAAa,IAAIujB,KAAK3kB,EAAEkkB,EAAEpuB,KAAKkK,EAAE2kB,KAAKR,EAAE3sB,eAAemtB,KAAKJ,EAAEI,QAAG,IAAS3kB,EAAE2kB,SAAI,IAASD,EAAEA,EAAEC,GAAG3kB,EAAE2kB,IAAI,IAAIA,EAAE9O,UAAUpZ,OAAO,EAAE,GAAG,IAAIkoB,EAAEJ,EAAEpjB,SAASnL,OAAO,GAAG,EAAE2uB,EAAE,CAACD,EAAEnlB,MAAMolB,GAAG,IAAI,IAAI5uB,EAAE,EAAEA,EAAE4uB,EAAE5uB,IAAI2uB,EAAE3uB,GAAG8f,UAAU9f,EAAE,GAAGwuB,EAAEpjB,SAASujB,EAAE,MAAM,CAACE,SAASntB,EAAE4F,KAAK0C,EAAE1C,KACxfnG,IAAIjB,EAAEgD,IAAIurB,EAAExrB,MAAMurB,EAAEM,OAAOJ,IAAIhvB,EAAQkD,cAAc,SAASoH,EAAEC,GAA8K,YAA3K,IAASA,IAAIA,EAAE,MAAMD,EAAE,CAAC6kB,SAAShC,EAAEuE,sBAAsBnnB,EAAEonB,cAAcrnB,EAAEsnB,eAAetnB,EAAEunB,aAAa,EAAEC,SAAS,KAAKzvB,SAAS,MAAMiI,EAAEwnB,SAAS,CAAC3C,SAASjC,EAAE6E,SAASznB,GAAUA,EAAEjI,SAASiI,GAAGtK,EAAQoc,cAAcyS,EAAE7uB,EAAQgyB,cAAc,SAAS1nB,GAAG,IAAIC,EAAEskB,EAAEntB,KAAK,KAAK4I,GAAY,OAATC,EAAE3C,KAAK0C,EAASC,GAAGvK,EAAQ8L,UAAU,WAAW,MAAM,CAACC,QAAQ,OAAO/L,EAAQsD,WAAW,SAASgH,GAAG,MAAM,CAAC6kB,SAASxX,EAAEsa,OAAO3nB,IAAItK,EAAQkyB,eAAe5C,EAC3etvB,EAAQmyB,KAAK,SAAS7nB,GAAG,MAAM,CAAC6kB,SAAS9B,EAAE+E,MAAM9nB,EAAE+nB,SAAS,EAAEC,QAAQ,OAAOtyB,EAAQuyB,KAAK,SAASjoB,EAAEC,GAAG,MAAM,CAAC4kB,SAAS/B,EAAExlB,KAAK0C,EAAEkoB,aAAQ,IAASjoB,EAAE,KAAKA,IAAIvK,EAAQyyB,YAAY,SAASnoB,EAAEC,GAAG,OAAOkmB,IAAIgC,YAAYnoB,EAAEC,IAAIvK,EAAQ0yB,WAAW,SAASpoB,EAAEC,GAAG,OAAOkmB,IAAIiC,WAAWpoB,EAAEC,IAAIvK,EAAQ2yB,cAAc,aAAa3yB,EAAQ4yB,UAAU,SAAStoB,EAAEC,GAAG,OAAOkmB,IAAImC,UAAUtoB,EAAEC,IAAIvK,EAAQ6yB,oBAAoB,SAASvoB,EAAEC,EAAEhK,GAAG,OAAOkwB,IAAIoC,oBAAoBvoB,EAAEC,EAAEhK,IACtcP,EAAQ8yB,gBAAgB,SAASxoB,EAAEC,GAAG,OAAOkmB,IAAIqC,gBAAgBxoB,EAAEC,IAAIvK,EAAQ+yB,QAAQ,SAASzoB,EAAEC,GAAG,OAAOkmB,IAAIsC,QAAQzoB,EAAEC,IAAIvK,EAAQgzB,WAAW,SAAS1oB,EAAEC,EAAEhK,GAAG,OAAOkwB,IAAIuC,WAAW1oB,EAAEC,EAAEhK,IAAIP,EAAQizB,OAAO,SAAS3oB,GAAG,OAAOmmB,IAAIwC,OAAO3oB,IAAItK,EAAQkzB,SAAS,SAAS5oB,GAAG,OAAOmmB,IAAIyC,SAAS5oB,IAAItK,EAAQmzB,QAAQ,W,6BCZxS,IAAI7C,EAAG,EAAQ,GAAS3uB,EAAE,EAAQ,IAAiBX,EAAE,EAAQ,IAAa,SAASisB,EAAE3iB,GAAG,IAAI,IAAIC,EAAE,yDAAyDD,EAAE/J,EAAE,EAAEA,EAAE6f,UAAUpZ,OAAOzG,IAAIgK,GAAG,WAAWkjB,mBAAmBrN,UAAU7f,IAAI,MAAM,yBAAyB+J,EAAE,WAAWC,EAAE,iHAAiH,IAAI+lB,EAAG,MAAM3iB,MAAMsf,EAAE,MACxa,SAASyD,EAAGpmB,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,EAAEF,EAAEG,EAAEF,GAAG,IAAI7uB,EAAE2J,MAAMhI,UAAUiI,MAAM1J,KAAK+f,UAAU,GAAG,IAAI7V,EAAEkd,MAAMlnB,EAAEJ,GAAG,MAAMG,GAAG6D,KAAKivB,QAAQ9yB,IAAI,IAAI+yB,GAAG,EAAGC,EAAG,KAAKC,GAAG,EAAGC,EAAG,KAAKC,EAAG,CAACL,QAAQ,SAAS9oB,GAAG+oB,GAAG,EAAGC,EAAGhpB,IAAI,SAASopB,EAAGppB,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,EAAEF,EAAEG,EAAEF,GAAGqE,GAAG,EAAGC,EAAG,KAAK5C,EAAGjJ,MAAMgM,EAAGrT,WAAW,SAASuT,EAAGrpB,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,EAAEF,EAAEG,EAAEF,GAA4B,GAAzB0E,EAAGjM,MAAMtjB,KAAKic,WAAciT,EAAG,CAAC,IAAGA,EAAgC,MAAM1lB,MAAMsf,EAAE,MAA1C,IAAI9sB,EAAEmzB,EAAGD,GAAG,EAAGC,EAAG,KAA8BC,IAAKA,GAAG,EAAGC,EAAGrzB,IAAI,IAAIyzB,EAAG,KAAKC,EAAG,KAAKC,EAAG,KACha,SAASC,EAAGzpB,EAAEC,EAAEhK,GAAG,IAAIC,EAAE8J,EAAE1C,MAAM,gBAAgB0C,EAAE0pB,cAAcF,EAAGvzB,GAAGozB,EAAGnzB,EAAE+J,OAAE,EAAOD,GAAGA,EAAE0pB,cAAc,KAAK,IAAIC,EAAG,KAAKC,EAAG,GAC5H,SAASC,IAAK,GAAGF,EAAG,IAAI,IAAI3pB,KAAK4pB,EAAG,CAAC,IAAI3pB,EAAE2pB,EAAG5pB,GAAG/J,EAAE0zB,EAAG3sB,QAAQgD,GAAG,MAAM,EAAE/J,GAAG,MAAMoN,MAAMsf,EAAE,GAAG3iB,IAAI,IAAI8pB,EAAG7zB,GAAG,CAAC,IAAIgK,EAAE8pB,cAAc,MAAM1mB,MAAMsf,EAAE,GAAG3iB,IAA2B,IAAI,IAAI9J,KAA/B4zB,EAAG7zB,GAAGgK,EAAEhK,EAAEgK,EAAE+pB,WAAwB/zB,EAAE,CAAC,IAAIuuB,OAAE,EAAWG,EAAE1uB,EAAEC,GAAGuuB,EAAExkB,EAAE2kB,EAAE1uB,EAAE,GAAG+zB,EAAGxyB,eAAemtB,GAAG,MAAMvhB,MAAMsf,EAAE,GAAGiC,IAAIqF,EAAGrF,GAAGD,EAAE,IAAID,EAAEC,EAAEuF,wBAAwB,GAAGxF,EAAE,CAAC,IAAIF,KAAKE,EAAEA,EAAEjtB,eAAe+sB,IAAI2F,EAAGzF,EAAEF,GAAGC,EAAEG,GAAGJ,GAAE,OAAQG,EAAEyF,kBAAkBD,EAAGxF,EAAEyF,iBAAiB3F,EAAEG,GAAGJ,GAAE,GAAIA,GAAE,EAAG,IAAIA,EAAE,MAAMnhB,MAAMsf,EAAE,GAAGzsB,EAAE8J,OACjc,SAASmqB,EAAGnqB,EAAEC,EAAEhK,GAAG,GAAGo0B,EAAGrqB,GAAG,MAAMqD,MAAMsf,EAAE,IAAI3iB,IAAIqqB,EAAGrqB,GAAGC,EAAEqqB,EAAGtqB,GAAGC,EAAE+pB,WAAW/zB,GAAGs0B,aAAa,IAAIT,EAAG,GAAGG,EAAG,GAAGI,EAAG,GAAGC,EAAG,GAAG,SAASE,EAAGxqB,GAAG,IAAS/J,EAALgK,GAAE,EAAK,IAAIhK,KAAK+J,EAAE,GAAGA,EAAEvI,eAAexB,GAAG,CAAC,IAAIC,EAAE8J,EAAE/J,GAAG,IAAI2zB,EAAGnyB,eAAexB,IAAI2zB,EAAG3zB,KAAKC,EAAE,CAAC,GAAG0zB,EAAG3zB,GAAG,MAAMoN,MAAMsf,EAAE,IAAI1sB,IAAI2zB,EAAG3zB,GAAGC,EAAE+J,GAAE,GAAIA,GAAG4pB,IAAK,IAAIY,IAAK,qBAAqB5nB,QAAQ,qBAAqBA,OAAOhG,UAAU,qBAAqBgG,OAAOhG,SAASiV,eAAe4Y,EAAG,KAAKC,EAAG,KAAKC,EAAG,KAC9a,SAASC,EAAG7qB,GAAG,GAAGA,EAAEupB,EAAGvpB,GAAG,CAAC,GAAG,oBAAoB0qB,EAAG,MAAMrnB,MAAMsf,EAAE,MAAM,IAAI1iB,EAAED,EAAE8qB,UAAU7qB,IAAIA,EAAEqpB,EAAGrpB,GAAGyqB,EAAG1qB,EAAE8qB,UAAU9qB,EAAE1C,KAAK2C,KAAK,SAAS8qB,EAAG/qB,GAAG2qB,EAAGC,EAAGA,EAAG9qB,KAAKE,GAAG4qB,EAAG,CAAC5qB,GAAG2qB,EAAG3qB,EAAE,SAASgrB,IAAK,GAAGL,EAAG,CAAC,IAAI3qB,EAAE2qB,EAAG1qB,EAAE2qB,EAAoB,GAAjBA,EAAGD,EAAG,KAAKE,EAAG7qB,GAAMC,EAAE,IAAID,EAAE,EAAEA,EAAEC,EAAEvD,OAAOsD,IAAI6qB,EAAG5qB,EAAED,KAAK,SAASirB,EAAGjrB,EAAEC,GAAG,OAAOD,EAAEC,GAAG,SAASirB,EAAGlrB,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,OAAOxkB,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,SAAS2G,KAAM,IAAIC,EAAGH,EAAGI,GAAG,EAAGC,GAAG,EAAG,SAASC,IAAQ,OAAOZ,GAAI,OAAOC,IAAGO,IAAKH,KAC9Z,SAASQ,EAAGxrB,EAAEC,EAAEhK,GAAG,GAAGq1B,EAAG,OAAOtrB,EAAEC,EAAEhK,GAAGq1B,GAAG,EAAG,IAAI,OAAOF,EAAGprB,EAAEC,EAAEhK,GAAG,QAAQq1B,GAAG,EAAGC,KAAM,IAAIE,EAAG,8VAA8VC,EAAGp1B,OAAOkB,UAAUC,eAAek0B,EAAG,GAAGC,EAAG,GACve,SAASC,EAAG7rB,GAAG,QAAG0rB,EAAG31B,KAAK61B,EAAG5rB,KAAe0rB,EAAG31B,KAAK41B,EAAG3rB,KAAeyrB,EAAG/mB,KAAK1E,GAAU4rB,EAAG5rB,IAAG,GAAG2rB,EAAG3rB,IAAG,GAAS,IAAG,SAAS8rB,EAAG9rB,EAAEC,EAAEhK,EAAEC,GAAG,GAAG,OAAOD,GAAG,IAAIA,EAAEqH,KAAK,OAAM,EAAG,cAAc2C,GAAG,IAAK,WAAW,IAAK,SAAS,OAAM,EAAG,IAAK,UAAU,OAAG/J,IAAc,OAAOD,GAASA,EAAE81B,iBAAgB/rB,EAAEA,EAAErB,cAAcc,MAAM,EAAE,GAAS,UAAUO,GAAG,UAAUA,IAAE,QAAQ,OAAM,GAC7W,SAASgsB,EAAGhsB,EAAEC,EAAEhK,EAAEC,GAAG,GAAG,OAAO+J,GAAG,qBAAqBA,GAAG6rB,EAAG9rB,EAAEC,EAAEhK,EAAEC,GAAG,OAAM,EAAG,GAAGA,EAAE,OAAM,EAAG,GAAG,OAAOD,EAAE,OAAOA,EAAEqH,MAAM,KAAK,EAAE,OAAO2C,EAAE,KAAK,EAAE,OAAM,IAAKA,EAAE,KAAK,EAAE,OAAOkY,MAAMlY,GAAG,KAAK,EAAE,OAAOkY,MAAMlY,IAAI,EAAEA,EAAE,OAAM,EAAG,SAAS2iB,EAAE5iB,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG9qB,KAAKkyB,gBAAgB,IAAI9rB,GAAG,IAAIA,GAAG,IAAIA,EAAEpG,KAAKoyB,cAAc/1B,EAAE2D,KAAKqyB,mBAAmB1H,EAAE3qB,KAAKsyB,gBAAgBl2B,EAAE4D,KAAKuyB,aAAapsB,EAAEnG,KAAKyD,KAAK2C,EAAEpG,KAAKwyB,YAAY1H,EAAE,IAAIzB,EAAE,GACxZ,uIAAuI9nB,MAAM,KAAKsE,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAE,MAAK,MAAM,CAAC,CAAC,gBAAgB,kBAAkB,CAAC,YAAY,SAAS,CAAC,UAAU,OAAO,CAAC,YAAY,eAAeN,SAAQ,SAASM,GAAG,IAAIC,EAAED,EAAE,GAAGkjB,EAAEjjB,GAAG,IAAI2iB,EAAE3iB,EAAE,GAAE,EAAGD,EAAE,GAAG,MAAK,MAAM,CAAC,kBAAkB,YAAY,aAAa,SAASN,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAErB,cAAc,MAAK,MAC9d,CAAC,cAAc,4BAA4B,YAAY,iBAAiBe,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAE,MAAK,MAAM,wNAAwN5E,MAAM,KAAKsE,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAErB,cAAc,MAAK,MACzZ,CAAC,UAAU,WAAW,QAAQ,YAAYe,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAE,MAAK,MAAM,CAAC,UAAU,YAAYN,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAE,MAAK,MAAM,CAAC,OAAO,OAAO,OAAO,QAAQN,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAE,MAAK,MAAM,CAAC,UAAU,SAASN,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAErB,cAAc,MAAK,MAAM,IAAI2tB,EAAG,gBAAgB,SAASC,EAAGvsB,GAAG,OAAOA,EAAE,GAAGwsB,cAC/X,0jCAA0jCpxB,MAAM,KAAKsE,SAAQ,SAASM,GAAG,IAAIC,EAAED,EAAEklB,QAAQoH,EACzmCC,GAAIrJ,EAAEjjB,GAAG,IAAI2iB,EAAE3iB,EAAE,GAAE,EAAGD,EAAE,MAAK,MAAM,2EAA2E5E,MAAM,KAAKsE,SAAQ,SAASM,GAAG,IAAIC,EAAED,EAAEklB,QAAQoH,EAAGC,GAAIrJ,EAAEjjB,GAAG,IAAI2iB,EAAE3iB,EAAE,GAAE,EAAGD,EAAE,gCAA+B,MAAM,CAAC,WAAW,WAAW,aAAaN,SAAQ,SAASM,GAAG,IAAIC,EAAED,EAAEklB,QAAQoH,EAAGC,GAAIrJ,EAAEjjB,GAAG,IAAI2iB,EAAE3iB,EAAE,GAAE,EAAGD,EAAE,wCAAuC,MAAM,CAAC,WAAW,eAAeN,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAErB,cAAc,MAAK,MACncukB,EAAEuJ,UAAU,IAAI7J,EAAE,YAAY,GAAE,EAAG,aAAa,gCAA+B,GAAI,CAAC,MAAM,OAAO,SAAS,cAAcljB,SAAQ,SAASM,GAAGkjB,EAAEljB,GAAG,IAAI4iB,EAAE5iB,EAAE,GAAE,EAAGA,EAAErB,cAAc,MAAK,MAAM,IAAI+tB,GAAG1G,EAAGkB,mDACnM,SAASyF,GAAG3sB,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAEtB,EAAEzrB,eAAewI,GAAGijB,EAAEjjB,GAAG,KAAS0kB,EAAE,OAAOH,EAAE,IAAIA,EAAElnB,MAAKpH,IAAO,EAAE+J,EAAEvD,SAAS,MAAMuD,EAAE,IAAI,MAAMA,EAAE,MAAI,MAAMA,EAAE,IAAI,MAAMA,EAAE,KAAS0kB,IAAIqH,EAAG/rB,EAAEhK,EAAEuuB,EAAEtuB,KAAKD,EAAE,MAAMC,GAAG,OAAOsuB,EAAEqH,EAAG5rB,KAAK,OAAOhK,EAAE+J,EAAE4sB,gBAAgB3sB,GAAGD,EAAElB,aAAamB,EAAE,GAAGhK,IAAIuuB,EAAE2H,gBAAgBnsB,EAAEwkB,EAAE4H,cAAc,OAAOn2B,EAAE,IAAIuuB,EAAElnB,MAAQ,GAAGrH,GAAGgK,EAAEukB,EAAEyH,cAAc/1B,EAAEsuB,EAAE0H,mBAAmB,OAAOj2B,EAAE+J,EAAE4sB,gBAAgB3sB,IAAIukB,EAAEA,EAAElnB,KAAKrH,EAAE,IAAIuuB,GAAG,IAAIA,IAAG,IAAKvuB,EAAE,GAAG,GAAGA,EAAEC,EAAE8J,EAAE6sB,eAAe32B,EAAE+J,EAAEhK,GAAG+J,EAAElB,aAAamB,EAAEhK,MADtOy2B,GAAGj1B,eAAe,4BAA4Bi1B,GAAGrG,uBAAuB,CAAC5kB,QAAQ,OAAOirB,GAAGj1B,eAAe,6BAA6Bi1B,GAAGpG,wBAAwB,CAACC,SAAS,OAEla,IAAIuG,GAAG,cAAcrJ,GAAE,oBAAoB9sB,QAAQA,OAAO8rB,IAAIsK,GAAGtJ,GAAE9sB,OAAO8rB,IAAI,iBAAiB,MAAMuK,GAAGvJ,GAAE9sB,OAAO8rB,IAAI,gBAAgB,MAAMwK,GAAGxJ,GAAE9sB,OAAO8rB,IAAI,kBAAkB,MAAMyK,GAAGzJ,GAAE9sB,OAAO8rB,IAAI,qBAAqB,MAAM0K,GAAG1J,GAAE9sB,OAAO8rB,IAAI,kBAAkB,MAAM2K,GAAG3J,GAAE9sB,OAAO8rB,IAAI,kBAAkB,MAAM4K,GAAG5J,GAAE9sB,OAAO8rB,IAAI,iBAAiB,MAAM6K,GAAG7J,GAAE9sB,OAAO8rB,IAAI,yBAAyB,MAAM8K,GAAG9J,GAAE9sB,OAAO8rB,IAAI,qBAAqB,MAAM+K,GAAG/J,GAAE9sB,OAAO8rB,IAAI,kBAAkB,MAAMgL,GAAGhK,GAAE9sB,OAAO8rB,IAAI,uBACve,MAAMiL,GAAGjK,GAAE9sB,OAAO8rB,IAAI,cAAc,MAAMkL,GAAGlK,GAAE9sB,OAAO8rB,IAAI,cAAc,MAAMmL,GAAGnK,GAAE9sB,OAAO8rB,IAAI,eAAe,MAAMoL,GAAG,oBAAoBl3B,QAAQA,OAAOssB,SAAS,SAAS6K,GAAG9tB,GAAG,OAAG,OAAOA,GAAG,kBAAkBA,EAAS,MAAKA,EAAE6tB,IAAI7tB,EAAE6tB,KAAK7tB,EAAE,cAAoB,oBAAoBA,EAAEA,EAAE,MAAK,SAAS+tB,GAAG/tB,GAAG,IAAI,IAAIA,EAAE+nB,QAAQ,CAAC/nB,EAAE+nB,QAAQ,EAAE,IAAI9nB,EAAED,EAAE8nB,MAAM7nB,EAAEA,IAAID,EAAEgoB,QAAQ/nB,EAAEA,EAAEyc,MAAK,SAASzc,GAAG,IAAID,EAAE+nB,UAAU9nB,EAAEA,EAAEuiB,QAAQxiB,EAAE+nB,QAAQ,EAAE/nB,EAAEgoB,QAAQ/nB,MAAI,SAASA,GAAG,IAAID,EAAE+nB,UAAU/nB,EAAE+nB,QAAQ,EAAE/nB,EAAEgoB,QAAQ/nB,OACve,SAAS+tB,GAAGhuB,GAAG,GAAG,MAAMA,EAAE,OAAO,KAAK,GAAG,oBAAoBA,EAAE,OAAOA,EAAEiuB,aAAajuB,EAAE7J,MAAM,KAAK,GAAG,kBAAkB6J,EAAE,OAAOA,EAAE,OAAOA,GAAG,KAAKitB,GAAG,MAAM,WAAW,KAAKD,GAAG,MAAM,SAAS,KAAKG,GAAG,MAAM,WAAW,KAAKD,GAAG,MAAM,aAAa,KAAKM,GAAG,MAAM,WAAW,KAAKC,GAAG,MAAM,eAAe,GAAG,kBAAkBztB,EAAE,OAAOA,EAAE6kB,UAAU,KAAKwI,GAAG,MAAM,mBAAmB,KAAKD,GAAG,MAAM,mBAAmB,KAAKG,GAAG,IAAIttB,EAAED,EAAE2nB,OAAmC,OAA5B1nB,EAAEA,EAAEguB,aAAahuB,EAAE9J,MAAM,GAAU6J,EAAEiuB,cAAc,KAAKhuB,EAAE,cAAcA,EAAE,IACnf,cAAc,KAAKytB,GAAG,OAAOM,GAAGhuB,EAAE1C,MAAM,KAAKswB,GAAG,OAAOI,GAAGhuB,EAAE2nB,QAAQ,KAAKgG,GAAG,GAAG3tB,EAAE,IAAIA,EAAE+nB,QAAQ/nB,EAAEgoB,QAAQ,KAAK,OAAOgG,GAAGhuB,GAAG,OAAO,KAAK,SAASkuB,GAAGluB,GAAG,IAAIC,EAAE,GAAG,EAAE,CAACD,EAAE,OAAOA,EAAEmuB,KAAK,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,IAAIl4B,EAAE,GAAG,MAAM+J,EAAE,QAAQ,IAAI9J,EAAE8J,EAAEouB,YAAY5J,EAAExkB,EAAEquB,aAAa1J,EAAEqJ,GAAGhuB,EAAE1C,MAAMrH,EAAE,KAAKC,IAAID,EAAE+3B,GAAG93B,EAAEoH,OAAOpH,EAAEyuB,EAAEA,EAAE,GAAGH,EAAEG,EAAE,QAAQH,EAAE8J,SAASpJ,QAAQ4H,GAAG,IAAI,IAAItI,EAAE+J,WAAW,IAAIt4B,IAAI0uB,EAAE,gBAAgB1uB,EAAE,KAAKA,EAAE,aAAaC,GAAG,WAAWyuB,EAAE1kB,GAAGhK,EAAE+J,EAAEA,EAAEwuB,aAAaxuB,GAAG,OAAOC,EACje,SAASwuB,GAAGzuB,GAAG,cAAcA,GAAG,IAAK,UAAU,IAAK,SAAS,IAAK,SAAS,IAAK,SAAS,IAAK,YAAY,OAAOA,EAAE,QAAQ,MAAM,IAAI,SAAS0uB,GAAG1uB,GAAG,IAAIC,EAAED,EAAE1C,KAAK,OAAO0C,EAAEA,EAAE2uB,WAAW,UAAU3uB,EAAErB,gBAAgB,aAAasB,GAAG,UAAUA,GAC7O,SAAS2uB,GAAG5uB,GAAG,IAAIC,EAAEyuB,GAAG1uB,GAAG,UAAU,QAAQ/J,EAAEK,OAAOu4B,yBAAyB7uB,EAAEmS,YAAY3a,UAAUyI,GAAG/J,EAAE,GAAG8J,EAAEC,GAAG,IAAID,EAAEvI,eAAewI,IAAI,qBAAqBhK,GAAG,oBAAoBA,EAAEQ,KAAK,oBAAoBR,EAAEwqB,IAAI,CAAC,IAAI+D,EAAEvuB,EAAEQ,IAAIkuB,EAAE1uB,EAAEwqB,IAAiL,OAA7KnqB,OAAOC,eAAeyJ,EAAEC,EAAE,CAAC6uB,cAAa,EAAGr4B,IAAI,WAAW,OAAO+tB,EAAEzuB,KAAK8D,OAAO4mB,IAAI,SAASzgB,GAAG9J,EAAE,GAAG8J,EAAE2kB,EAAE5uB,KAAK8D,KAAKmG,MAAM1J,OAAOC,eAAeyJ,EAAEC,EAAE,CAACzJ,WAAWP,EAAEO,aAAmB,CAACu4B,SAAS,WAAW,OAAO74B,GAAG84B,SAAS,SAAShvB,GAAG9J,EAAE,GAAG8J,GAAGivB,aAAa,WAAWjvB,EAAEkvB,cACxf,YAAYlvB,EAAEC,MAAM,SAASkvB,GAAGnvB,GAAGA,EAAEkvB,gBAAgBlvB,EAAEkvB,cAAcN,GAAG5uB,IAAI,SAASovB,GAAGpvB,GAAG,IAAIA,EAAE,OAAM,EAAG,IAAIC,EAAED,EAAEkvB,cAAc,IAAIjvB,EAAE,OAAM,EAAG,IAAIhK,EAAEgK,EAAE8uB,WAAe74B,EAAE,GAAqD,OAAlD8J,IAAI9J,EAAEw4B,GAAG1uB,GAAGA,EAAEqvB,QAAQ,OAAO,QAAQrvB,EAAEnJ,OAAOmJ,EAAE9J,EAAS8J,IAAI/J,IAAGgK,EAAE+uB,SAAShvB,IAAG,GAAO,SAASsvB,GAAGtvB,EAAEC,GAAG,IAAIhK,EAAEgK,EAAEovB,QAAQ,OAAOh4B,EAAE,GAAG4I,EAAE,CAACsvB,oBAAe,EAAOC,kBAAa,EAAO34B,WAAM,EAAOw4B,QAAQ,MAAMp5B,EAAEA,EAAE+J,EAAEyvB,cAAcC,iBACzY,SAASC,GAAG3vB,EAAEC,GAAG,IAAIhK,EAAE,MAAMgK,EAAEuvB,aAAa,GAAGvvB,EAAEuvB,aAAat5B,EAAE,MAAM+J,EAAEovB,QAAQpvB,EAAEovB,QAAQpvB,EAAEsvB,eAAet5B,EAAEw4B,GAAG,MAAMxuB,EAAEpJ,MAAMoJ,EAAEpJ,MAAMZ,GAAG+J,EAAEyvB,cAAc,CAACC,eAAex5B,EAAE05B,aAAa35B,EAAE45B,WAAW,aAAa5vB,EAAE3C,MAAM,UAAU2C,EAAE3C,KAAK,MAAM2C,EAAEovB,QAAQ,MAAMpvB,EAAEpJ,OAAO,SAASi5B,GAAG9vB,EAAEC,GAAGA,EAAEA,EAAEovB,QAAQ,MAAMpvB,GAAG0sB,GAAG3sB,EAAE,UAAUC,GAAE,GACjU,SAAS8vB,GAAG/vB,EAAEC,GAAG6vB,GAAG9vB,EAAEC,GAAG,IAAIhK,EAAEw4B,GAAGxuB,EAAEpJ,OAAOX,EAAE+J,EAAE3C,KAAK,GAAG,MAAMrH,EAAK,WAAWC,GAAM,IAAID,GAAG,KAAK+J,EAAEnJ,OAAOmJ,EAAEnJ,OAAOZ,KAAE+J,EAAEnJ,MAAM,GAAGZ,GAAO+J,EAAEnJ,QAAQ,GAAGZ,IAAI+J,EAAEnJ,MAAM,GAAGZ,QAAQ,GAAG,WAAWC,GAAG,UAAUA,EAA8B,YAA3B8J,EAAE4sB,gBAAgB,SAAgB3sB,EAAExI,eAAe,SAASu4B,GAAGhwB,EAAEC,EAAE3C,KAAKrH,GAAGgK,EAAExI,eAAe,iBAAiBu4B,GAAGhwB,EAAEC,EAAE3C,KAAKmxB,GAAGxuB,EAAEuvB,eAAe,MAAMvvB,EAAEovB,SAAS,MAAMpvB,EAAEsvB,iBAAiBvvB,EAAEuvB,iBAAiBtvB,EAAEsvB,gBACnZ,SAASU,GAAGjwB,EAAEC,EAAEhK,GAAG,GAAGgK,EAAExI,eAAe,UAAUwI,EAAExI,eAAe,gBAAgB,CAAC,IAAIvB,EAAE+J,EAAE3C,KAAK,KAAK,WAAWpH,GAAG,UAAUA,QAAG,IAAS+J,EAAEpJ,OAAO,OAAOoJ,EAAEpJ,OAAO,OAAOoJ,EAAE,GAAGD,EAAEyvB,cAAcG,aAAa35B,GAAGgK,IAAID,EAAEnJ,QAAQmJ,EAAEnJ,MAAMoJ,GAAGD,EAAEwvB,aAAavvB,EAAEhK,EAAE+J,EAAE7J,KAAK,KAAKF,IAAI+J,EAAE7J,KAAK,IAAI6J,EAAEuvB,iBAAiBvvB,EAAEyvB,cAAcC,eAAe,KAAKz5B,IAAI+J,EAAE7J,KAAKF,GACvV,SAAS+5B,GAAGhwB,EAAEC,EAAEhK,GAAM,WAAWgK,GAAGD,EAAEkwB,cAAcpzB,gBAAgBkD,IAAE,MAAM/J,EAAE+J,EAAEwvB,aAAa,GAAGxvB,EAAEyvB,cAAcG,aAAa5vB,EAAEwvB,eAAe,GAAGv5B,IAAI+J,EAAEwvB,aAAa,GAAGv5B,IAAG,SAASk6B,GAAGnwB,GAAG,IAAIC,EAAE,GAAuD,OAApD+lB,EAAGU,SAAShnB,QAAQM,GAAE,SAASA,GAAG,MAAMA,IAAIC,GAAGD,MAAYC,EAAE,SAASmwB,GAAGpwB,EAAEC,GAA6D,OAA1DD,EAAE3I,EAAE,CAAC+J,cAAS,GAAQnB,IAAMA,EAAEkwB,GAAGlwB,EAAEmB,aAAUpB,EAAEoB,SAASnB,GAASD,EACjV,SAASqwB,GAAGrwB,EAAEC,EAAEhK,EAAEC,GAAe,GAAZ8J,EAAEA,EAAEswB,QAAWrwB,EAAE,CAACA,EAAE,GAAG,IAAI,IAAIukB,EAAE,EAAEA,EAAEvuB,EAAEyG,OAAO8nB,IAAIvkB,EAAE,IAAIhK,EAAEuuB,KAAI,EAAG,IAAIvuB,EAAE,EAAEA,EAAE+J,EAAEtD,OAAOzG,IAAIuuB,EAAEvkB,EAAExI,eAAe,IAAIuI,EAAE/J,GAAGY,OAAOmJ,EAAE/J,GAAGuW,WAAWgY,IAAIxkB,EAAE/J,GAAGuW,SAASgY,GAAGA,GAAGtuB,IAAI8J,EAAE/J,GAAGs6B,iBAAgB,OAAQ,CAAmB,IAAlBt6B,EAAE,GAAGw4B,GAAGx4B,GAAGgK,EAAE,KAASukB,EAAE,EAAEA,EAAExkB,EAAEtD,OAAO8nB,IAAI,CAAC,GAAGxkB,EAAEwkB,GAAG3tB,QAAQZ,EAAiD,OAA9C+J,EAAEwkB,GAAGhY,UAAS,OAAGtW,IAAI8J,EAAEwkB,GAAG+L,iBAAgB,IAAW,OAAOtwB,GAAGD,EAAEwkB,GAAG7Y,WAAW1L,EAAED,EAAEwkB,IAAI,OAAOvkB,IAAIA,EAAEuM,UAAS,IACpY,SAASgkB,GAAGxwB,EAAEC,GAAG,GAAG,MAAMA,EAAE2W,wBAAwB,MAAMvT,MAAMsf,EAAE,KAAK,OAAOtrB,EAAE,GAAG4I,EAAE,CAACpJ,WAAM,EAAO24B,kBAAa,EAAOpuB,SAAS,GAAGpB,EAAEyvB,cAAcG,eAAe,SAASa,GAAGzwB,EAAEC,GAAG,IAAIhK,EAAEgK,EAAEpJ,MAAM,GAAG,MAAMZ,EAAE,CAA+B,GAA9BA,EAAEgK,EAAEmB,SAASnB,EAAEA,EAAEuvB,aAAgB,MAAMv5B,EAAE,CAAC,GAAG,MAAMgK,EAAE,MAAMoD,MAAMsf,EAAE,KAAK,GAAGnjB,MAAMzF,QAAQ9D,GAAG,CAAC,KAAK,GAAGA,EAAEyG,QAAQ,MAAM2G,MAAMsf,EAAE,KAAK1sB,EAAEA,EAAE,GAAGgK,EAAEhK,EAAE,MAAMgK,IAAIA,EAAE,IAAIhK,EAAEgK,EAAED,EAAEyvB,cAAc,CAACG,aAAanB,GAAGx4B,IAC/Y,SAASy6B,GAAG1wB,EAAEC,GAAG,IAAIhK,EAAEw4B,GAAGxuB,EAAEpJ,OAAOX,EAAEu4B,GAAGxuB,EAAEuvB,cAAc,MAAMv5B,IAAIA,EAAE,GAAGA,EAAEA,IAAI+J,EAAEnJ,QAAQmJ,EAAEnJ,MAAMZ,GAAG,MAAMgK,EAAEuvB,cAAcxvB,EAAEwvB,eAAev5B,IAAI+J,EAAEwvB,aAAav5B,IAAI,MAAMC,IAAI8J,EAAEwvB,aAAa,GAAGt5B,GAAG,SAASy6B,GAAG3wB,GAAG,IAAIC,EAAED,EAAE4wB,YAAY3wB,IAAID,EAAEyvB,cAAcG,cAAc,KAAK3vB,GAAG,OAAOA,IAAID,EAAEnJ,MAAMoJ,GAAG,IAAI4wB,GAAG,CAACC,KAAK,+BAA+BC,OAAO,qCAAqCC,IAAI,8BAC9X,SAASC,GAAGjxB,GAAG,OAAOA,GAAG,IAAK,MAAM,MAAM,6BAA6B,IAAK,OAAO,MAAM,qCAAqC,QAAQ,MAAM,gCAAgC,SAASkxB,GAAGlxB,EAAEC,GAAG,OAAO,MAAMD,GAAG,iCAAiCA,EAAEixB,GAAGhxB,GAAG,+BAA+BD,GAAG,kBAAkBC,EAAE,+BAA+BD,EAC3U,IAAImxB,GAAGC,GAAG,SAASpxB,GAAG,MAAM,qBAAqBqxB,OAAOA,MAAMC,wBAAwB,SAASrxB,EAAEhK,EAAEC,EAAEsuB,GAAG6M,MAAMC,yBAAwB,WAAW,OAAOtxB,EAAEC,EAAEhK,EAAEC,EAAEsuB,OAAMxkB,EAA5J,EAA+J,SAASA,EAAEC,GAAG,GAAGD,EAAEuxB,eAAeV,GAAGG,KAAK,cAAchxB,EAAEA,EAAEwxB,UAAUvxB,MAAM,CAA2F,IAA1FkxB,GAAGA,IAAIt0B,SAASiV,cAAc,OAAOqf,GAAGK,UAAU,QAAQvxB,EAAEwxB,UAAUz3B,WAAW,SAAaiG,EAAEkxB,GAAGO,WAAW1xB,EAAE0xB,YAAY1xB,EAAE2xB,YAAY3xB,EAAE0xB,YAAY,KAAKzxB,EAAEyxB,YAAY1xB,EAAE4xB,YAAY3xB,EAAEyxB,gBACjb,SAASG,GAAG7xB,EAAEC,GAAG,GAAGA,EAAE,CAAC,IAAIhK,EAAE+J,EAAE0xB,WAAW,GAAGz7B,GAAGA,IAAI+J,EAAE8xB,WAAW,IAAI77B,EAAE87B,SAAwB,YAAd97B,EAAE+7B,UAAU/xB,GAAUD,EAAE4wB,YAAY3wB,EAAE,SAASgyB,GAAGjyB,EAAEC,GAAG,IAAIhK,EAAE,GAAkF,OAA/EA,EAAE+J,EAAErB,eAAesB,EAAEtB,cAAc1I,EAAE,SAAS+J,GAAG,SAASC,EAAEhK,EAAE,MAAM+J,GAAG,MAAMC,EAAShK,EAAE,IAAIi8B,GAAG,CAACC,aAAaF,GAAG,YAAY,gBAAgBG,mBAAmBH,GAAG,YAAY,sBAAsBI,eAAeJ,GAAG,YAAY,kBAAkBK,cAAcL,GAAG,aAAa,kBAAkBM,GAAG,GAAGC,GAAG,GAC1M,SAASC,GAAGzyB,GAAG,GAAGuyB,GAAGvyB,GAAG,OAAOuyB,GAAGvyB,GAAG,IAAIkyB,GAAGlyB,GAAG,OAAOA,EAAE,IAAY/J,EAARgK,EAAEiyB,GAAGlyB,GAAK,IAAI/J,KAAKgK,EAAE,GAAGA,EAAExI,eAAexB,IAAIA,KAAKu8B,GAAG,OAAOD,GAAGvyB,GAAGC,EAAEhK,GAAG,OAAO+J,EAA9XyqB,IAAK+H,GAAG31B,SAASiV,cAAc,OAAO5W,MAAM,mBAAmB2H,gBAAgBqvB,GAAGC,aAAaO,iBAAiBR,GAAGE,mBAAmBM,iBAAiBR,GAAGG,eAAeK,WAAW,oBAAoB7vB,eAAeqvB,GAAGI,cAAcK,YACxO,IAAIC,GAAGH,GAAG,gBAAgBI,GAAGJ,GAAG,sBAAsBK,GAAGL,GAAG,kBAAkBM,GAAGN,GAAG,iBAAiBO,GAAG,sNAAsN53B,MAAM,KAAK63B,GAAG,IAAK,oBAAoBC,QAAQA,QAAQC,KAAK,SAASC,GAAGpzB,GAAG,IAAIC,EAAEgzB,GAAGx8B,IAAIuJ,GAAuC,YAApC,IAASC,IAAIA,EAAE,IAAIkzB,IAAIF,GAAGxS,IAAIzgB,EAAEC,IAAWA,EACpc,SAASozB,GAAGrzB,GAAG,IAAIC,EAAED,EAAE/J,EAAE+J,EAAE,GAAGA,EAAEszB,UAAU,KAAKrzB,EAAEuuB,QAAQvuB,EAAEA,EAAEuuB,WAAW,CAACxuB,EAAEC,EAAE,GAAGA,EAAED,EAAE,KAAiB,KAAZC,EAAEszB,aAAkBt9B,EAAEgK,EAAEuuB,QAAQxuB,EAAEC,EAAEuuB,aAAaxuB,GAAG,OAAO,IAAIC,EAAEkuB,IAAIl4B,EAAE,KAAK,SAASu9B,GAAGxzB,GAAG,GAAG,KAAKA,EAAEmuB,IAAI,CAAC,IAAIluB,EAAED,EAAEyzB,cAAsE,GAAxD,OAAOxzB,IAAID,EAAEA,EAAEszB,UAAU,OAAOtzB,IAAIC,EAAED,EAAEyzB,gBAAmB,OAAOxzB,EAAE,OAAOA,EAAEyzB,WAAW,OAAO,KAAK,SAASC,GAAG3zB,GAAG,GAAGqzB,GAAGrzB,KAAKA,EAAE,MAAMqD,MAAMsf,EAAE,MACvW,SAASiR,GAAG5zB,GAAG,IAAIC,EAAED,EAAEszB,UAAU,IAAIrzB,EAAE,CAAS,GAARA,EAAEozB,GAAGrzB,GAAM,OAAOC,EAAE,MAAMoD,MAAMsf,EAAE,MAAM,OAAO1iB,IAAID,EAAE,KAAKA,EAAE,IAAI,IAAI/J,EAAE+J,EAAE9J,EAAE+J,IAAI,CAAC,IAAIukB,EAAEvuB,EAAEu4B,OAAO,GAAG,OAAOhK,EAAE,MAAM,IAAIG,EAAEH,EAAE8O,UAAU,GAAG,OAAO3O,EAAE,CAAY,GAAXzuB,EAAEsuB,EAAEgK,OAAU,OAAOt4B,EAAE,CAACD,EAAEC,EAAE,SAAS,MAAM,GAAGsuB,EAAEqP,QAAQlP,EAAEkP,MAAM,CAAC,IAAIlP,EAAEH,EAAEqP,MAAMlP,GAAG,CAAC,GAAGA,IAAI1uB,EAAE,OAAO09B,GAAGnP,GAAGxkB,EAAE,GAAG2kB,IAAIzuB,EAAE,OAAOy9B,GAAGnP,GAAGvkB,EAAE0kB,EAAEA,EAAEmP,QAAQ,MAAMzwB,MAAMsf,EAAE,MAAO,GAAG1sB,EAAEu4B,SAASt4B,EAAEs4B,OAAOv4B,EAAEuuB,EAAEtuB,EAAEyuB,MAAM,CAAC,IAAI,IAAIF,GAAE,EAAGG,EAAEJ,EAAEqP,MAAMjP,GAAG,CAAC,GAAGA,IAAI3uB,EAAE,CAACwuB,GAAE,EAAGxuB,EAAEuuB,EAAEtuB,EAAEyuB,EAAE,MAAM,GAAGC,IAAI1uB,EAAE,CAACuuB,GAAE,EAAGvuB,EAAEsuB,EAAEvuB,EAAE0uB,EAAE,MAAMC,EAAEA,EAAEkP,QAAQ,IAAIrP,EAAE,CAAC,IAAIG,EAAED,EAAEkP,MAAMjP,GAAG,CAAC,GAAGA,IAC5f3uB,EAAE,CAACwuB,GAAE,EAAGxuB,EAAE0uB,EAAEzuB,EAAEsuB,EAAE,MAAM,GAAGI,IAAI1uB,EAAE,CAACuuB,GAAE,EAAGvuB,EAAEyuB,EAAE1uB,EAAEuuB,EAAE,MAAMI,EAAEA,EAAEkP,QAAQ,IAAIrP,EAAE,MAAMphB,MAAMsf,EAAE,OAAQ,GAAG1sB,EAAEq9B,YAAYp9B,EAAE,MAAMmN,MAAMsf,EAAE,MAAO,GAAG,IAAI1sB,EAAEk4B,IAAI,MAAM9qB,MAAMsf,EAAE,MAAM,OAAO1sB,EAAE60B,UAAUrpB,UAAUxL,EAAE+J,EAAEC,EAAE,SAAS8zB,GAAG/zB,GAAW,GAARA,EAAE4zB,GAAG5zB,IAAOA,EAAE,OAAO,KAAK,IAAI,IAAIC,EAAED,IAAI,CAAC,GAAG,IAAIC,EAAEkuB,KAAK,IAAIluB,EAAEkuB,IAAI,OAAOluB,EAAE,GAAGA,EAAE4zB,MAAM5zB,EAAE4zB,MAAMrF,OAAOvuB,EAAEA,EAAEA,EAAE4zB,UAAU,CAAC,GAAG5zB,IAAID,EAAE,MAAM,MAAMC,EAAE6zB,SAAS,CAAC,IAAI7zB,EAAEuuB,QAAQvuB,EAAEuuB,SAASxuB,EAAE,OAAO,KAAKC,EAAEA,EAAEuuB,OAAOvuB,EAAE6zB,QAAQtF,OAAOvuB,EAAEuuB,OAAOvuB,EAAEA,EAAE6zB,SAAS,OAAO,KAC5c,SAASE,GAAGh0B,EAAEC,GAAG,GAAG,MAAMA,EAAE,MAAMoD,MAAMsf,EAAE,KAAK,OAAG,MAAM3iB,EAASC,EAAKT,MAAMzF,QAAQiG,GAAOR,MAAMzF,QAAQkG,IAAUD,EAAEF,KAAKqd,MAAMnd,EAAEC,GAAGD,IAAEA,EAAEF,KAAKG,GAAUD,GAASR,MAAMzF,QAAQkG,GAAG,CAACD,GAAGE,OAAOD,GAAG,CAACD,EAAEC,GAAG,SAASg0B,GAAGj0B,EAAEC,EAAEhK,GAAGuJ,MAAMzF,QAAQiG,GAAGA,EAAEN,QAAQO,EAAEhK,GAAG+J,GAAGC,EAAElK,KAAKE,EAAE+J,GAAG,IAAIk0B,GAAG,KAC/Q,SAASC,GAAGn0B,GAAG,GAAGA,EAAE,CAAC,IAAIC,EAAED,EAAEo0B,mBAAmBn+B,EAAE+J,EAAEq0B,mBAAmB,GAAG70B,MAAMzF,QAAQkG,GAAG,IAAI,IAAI/J,EAAE,EAAEA,EAAE+J,EAAEvD,SAASsD,EAAEs0B,uBAAuBp+B,IAAIuzB,EAAGzpB,EAAEC,EAAE/J,GAAGD,EAAEC,SAAS+J,GAAGwpB,EAAGzpB,EAAEC,EAAEhK,GAAG+J,EAAEo0B,mBAAmB,KAAKp0B,EAAEq0B,mBAAmB,KAAKr0B,EAAEu0B,gBAAgBv0B,EAAEmS,YAAYqiB,QAAQx0B,IAAI,SAASy0B,GAAGz0B,GAAwC,GAArC,OAAOA,IAAIk0B,GAAGF,GAAGE,GAAGl0B,IAAIA,EAAEk0B,GAAGA,GAAG,KAAQl0B,EAAE,CAAU,GAATi0B,GAAGj0B,EAAEm0B,IAAOD,GAAG,MAAM7wB,MAAMsf,EAAE,KAAK,GAAGsG,EAAG,MAAMjpB,EAAEkpB,EAAGD,GAAG,EAAGC,EAAG,KAAKlpB,GAC9Y,SAAS00B,GAAG10B,GAA6F,OAA1FA,EAAEA,EAAExD,QAAQwD,EAAE20B,YAAY9xB,OAAO7C,EAAE40B,0BAA0B50B,EAAEA,EAAE40B,yBAAgC,IAAI50B,EAAE+xB,SAAS/xB,EAAE60B,WAAW70B,EAAE,SAAS80B,GAAG90B,GAAG,IAAIyqB,EAAG,OAAM,EAAGzqB,EAAE,KAAKA,EAAE,IAAIC,EAAED,KAAKnD,SAAqG,OAA5FoD,IAAIA,EAAEpD,SAASiV,cAAc,OAAO7R,EAAEnB,aAAakB,EAAE,WAAWC,EAAE,oBAAoBA,EAAED,IAAWC,EAAE,IAAI80B,GAAG,GAAG,SAASC,GAAGh1B,GAAGA,EAAEi1B,aAAa,KAAKj1B,EAAE4N,YAAY,KAAK5N,EAAEk1B,WAAW,KAAKl1B,EAAEm1B,UAAUz4B,OAAO,EAAE,GAAGq4B,GAAGr4B,QAAQq4B,GAAGj1B,KAAKE,GAC5a,SAASo1B,GAAGp1B,EAAEC,EAAEhK,EAAEC,GAAG,GAAG6+B,GAAGr4B,OAAO,CAAC,IAAI8nB,EAAEuQ,GAAGzP,MAA2E,OAArEd,EAAEyQ,aAAaj1B,EAAEwkB,EAAE6Q,iBAAiBn/B,EAAEsuB,EAAE5W,YAAY3N,EAAEukB,EAAE0Q,WAAWj/B,EAASuuB,EAAE,MAAM,CAACyQ,aAAaj1B,EAAEq1B,iBAAiBn/B,EAAE0X,YAAY3N,EAAEi1B,WAAWj/B,EAAEk/B,UAAU,IAC9M,SAASG,GAAGt1B,GAAG,IAAIC,EAAED,EAAEk1B,WAAWj/B,EAAEgK,EAAE,EAAE,CAAC,IAAIhK,EAAE,CAAC+J,EAAEm1B,UAAUr1B,KAAK7J,GAAG,MAAM,IAAIC,EAAED,EAAE,GAAG,IAAIC,EAAEi4B,IAAIj4B,EAAEA,EAAE40B,UAAUyK,kBAAkB,CAAC,KAAKr/B,EAAEs4B,QAAQt4B,EAAEA,EAAEs4B,OAAOt4B,EAAE,IAAIA,EAAEi4B,IAAI,KAAKj4B,EAAE40B,UAAUyK,cAAc,IAAIr/B,EAAE,MAAM+J,EAAEhK,EAAEk4B,IAAI,IAAIluB,GAAG,IAAIA,GAAGD,EAAEm1B,UAAUr1B,KAAK7J,GAAGA,EAAEu/B,GAAGt/B,SAASD,GAAG,IAAIA,EAAE,EAAEA,EAAE+J,EAAEm1B,UAAUz4B,OAAOzG,IAAI,CAACgK,EAAED,EAAEm1B,UAAUl/B,GAAG,IAAIuuB,EAAEkQ,GAAG10B,EAAE4N,aAAa1X,EAAE8J,EAAEi1B,aAAa,IAAItQ,EAAE3kB,EAAE4N,YAAY6W,EAAEzkB,EAAEq1B,iBAAiB,IAAIp/B,IAAIwuB,GAAG,IAAI,IAAI,IAAIG,EAAE,KAAKF,EAAE,EAAEA,EAAEoF,EAAGptB,OAAOgoB,IAAI,CAAC,IAAI7uB,EAAEi0B,EAAGpF,GAAG7uB,IAAIA,EAAEA,EAAEk0B,cAAc7zB,EAAE+J,EAAE0kB,EAAEH,EAAEC,MAAMG,EACpfoP,GAAGpP,EAAE/uB,IAAI4+B,GAAG7P,IAAI,SAAS6Q,GAAGz1B,EAAEC,EAAEhK,GAAG,IAAIA,EAAEy/B,IAAI11B,GAAG,CAAC,OAAOA,GAAG,IAAK,SAAS21B,GAAG11B,EAAE,UAAS,GAAI,MAAM,IAAK,QAAQ,IAAK,OAAO01B,GAAG11B,EAAE,SAAQ,GAAI01B,GAAG11B,EAAE,QAAO,GAAIhK,EAAEwqB,IAAI,OAAO,MAAMxqB,EAAEwqB,IAAI,QAAQ,MAAM,MAAM,IAAK,SAAS,IAAK,QAAQqU,GAAG90B,IAAI21B,GAAG11B,EAAED,GAAE,GAAI,MAAM,IAAK,UAAU,IAAK,SAAS,IAAK,QAAQ,MAAM,SAAS,IAAIgzB,GAAGh2B,QAAQgD,IAAI0jB,GAAE1jB,EAAEC,GAAGhK,EAAEwqB,IAAIzgB,EAAE,OACtV,IAAI41B,GAAGC,GAAGC,GAAGC,IAAG,EAAGC,GAAG,GAAGC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIjD,IAAIkD,GAAG,IAAIlD,IAAImD,GAAG,GAAGC,GAAG,0QAA0Qn7B,MAAM,KAAKo7B,GAAG,gHAAgHp7B,MAAM,KAC9d,SAASq7B,GAAGz2B,EAAEC,GAAG,IAAIhK,EAAEm9B,GAAGnzB,GAAGs2B,GAAG72B,SAAQ,SAASM,GAAGy1B,GAAGz1B,EAAEC,EAAEhK,MAAKugC,GAAG92B,SAAQ,SAASM,GAAGy1B,GAAGz1B,EAAEC,EAAEhK,MAAK,SAASygC,GAAG12B,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,MAAM,CAACmS,UAAU32B,EAAEi1B,aAAah1B,EAAEo1B,iBAAmB,GAAFp/B,EAAK2X,YAAY4W,EAAEoS,UAAU1gC,GAC1M,SAAS2gC,GAAG72B,EAAEC,GAAG,OAAOD,GAAG,IAAK,QAAQ,IAAK,OAAOi2B,GAAG,KAAK,MAAM,IAAK,YAAY,IAAK,YAAYC,GAAG,KAAK,MAAM,IAAK,YAAY,IAAK,WAAWC,GAAG,KAAK,MAAM,IAAK,cAAc,IAAK,aAAaC,GAAGU,OAAO72B,EAAE82B,WAAW,MAAM,IAAK,oBAAoB,IAAK,qBAAqBV,GAAGS,OAAO72B,EAAE82B,YAAY,SAASC,GAAGh3B,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG,OAAG,OAAO3kB,GAAGA,EAAE4N,cAAc+W,GAAS3kB,EAAE02B,GAAGz2B,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG,OAAO1kB,IAAIA,EAAEg3B,GAAGh3B,GAAG,OAAOA,GAAG41B,GAAG51B,IAAID,IAAEA,EAAEq1B,kBAAkBn/B,EAAS8J,GAChc,SAASk3B,GAAGl3B,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,OAAOvkB,GAAG,IAAK,QAAQ,OAAOg2B,GAAGe,GAAGf,GAAGj2B,EAAEC,EAAEhK,EAAEC,EAAEsuB,IAAG,EAAG,IAAK,YAAY,OAAO0R,GAAGc,GAAGd,GAAGl2B,EAAEC,EAAEhK,EAAEC,EAAEsuB,IAAG,EAAG,IAAK,YAAY,OAAO2R,GAAGa,GAAGb,GAAGn2B,EAAEC,EAAEhK,EAAEC,EAAEsuB,IAAG,EAAG,IAAK,cAAc,IAAIG,EAAEH,EAAEuS,UAAkD,OAAxCX,GAAG3V,IAAIkE,EAAEqS,GAAGZ,GAAG3/B,IAAIkuB,IAAI,KAAK3kB,EAAEC,EAAEhK,EAAEC,EAAEsuB,KAAU,EAAG,IAAK,oBAAoB,OAAOG,EAAEH,EAAEuS,UAAUV,GAAG5V,IAAIkE,EAAEqS,GAAGX,GAAG5/B,IAAIkuB,IAAI,KAAK3kB,EAAEC,EAAEhK,EAAEC,EAAEsuB,KAAI,EAAG,OAAM,EAC/V,SAAS2S,GAAGn3B,GAAG,IAAIC,EAAEu1B,GAAGx1B,EAAExD,QAAQ,GAAG,OAAOyD,EAAE,CAAC,IAAIhK,EAAEo9B,GAAGpzB,GAAG,GAAG,OAAOhK,EAAE,GAAGgK,EAAEhK,EAAEk4B,IAAI,KAAKluB,GAAG,GAAGA,EAAEuzB,GAAGv9B,GAAG,OAAOgK,EAA0E,OAAvED,EAAE22B,UAAU12B,OAAEvJ,EAAE0gC,yBAAyBp3B,EAAEq3B,UAAS,WAAWvB,GAAG7/B,WAAkB,GAAG,IAAIgK,GAAGhK,EAAE60B,UAAUwM,QAA8D,YAArDt3B,EAAE22B,UAAU,IAAI1gC,EAAEk4B,IAAIl4B,EAAE60B,UAAUyK,cAAc,MAAav1B,EAAE22B,UAAU,KAAK,SAASY,GAAGv3B,GAAG,GAAG,OAAOA,EAAE22B,UAAU,OAAM,EAAG,IAAI12B,EAAEu3B,GAAGx3B,EAAEi1B,aAAaj1B,EAAEq1B,iBAAiBr1B,EAAE42B,UAAU52B,EAAE4N,aAAa,GAAG,OAAO3N,EAAE,CAAC,IAAIhK,EAAEghC,GAAGh3B,GAAiC,OAA9B,OAAOhK,GAAG4/B,GAAG5/B,GAAG+J,EAAE22B,UAAU12B,GAAQ,EAAG,OAAM,EAC1e,SAASw3B,GAAGz3B,EAAEC,EAAEhK,GAAGshC,GAAGv3B,IAAI/J,EAAE6gC,OAAO72B,GAAG,SAASy3B,KAAK,IAAI3B,IAAG,EAAG,EAAEC,GAAGt5B,QAAQ,CAAC,IAAIsD,EAAEg2B,GAAG,GAAG,GAAG,OAAOh2B,EAAE22B,UAAU,CAAC32B,EAAEi3B,GAAGj3B,EAAE22B,WAAW,OAAO32B,GAAG41B,GAAG51B,GAAG,MAAM,IAAIC,EAAEu3B,GAAGx3B,EAAEi1B,aAAaj1B,EAAEq1B,iBAAiBr1B,EAAE42B,UAAU52B,EAAE4N,aAAa,OAAO3N,EAAED,EAAE22B,UAAU12B,EAAE+1B,GAAG16B,QAAQ,OAAO26B,IAAIsB,GAAGtB,MAAMA,GAAG,MAAM,OAAOC,IAAIqB,GAAGrB,MAAMA,GAAG,MAAM,OAAOC,IAAIoB,GAAGpB,MAAMA,GAAG,MAAMC,GAAG12B,QAAQ+3B,IAAIpB,GAAG32B,QAAQ+3B,IAAI,SAASE,GAAG33B,EAAEC,GAAGD,EAAE22B,YAAY12B,IAAID,EAAE22B,UAAU,KAAKZ,KAAKA,IAAG,EAAGr/B,EAAEkhC,0BAA0BlhC,EAAEmhC,wBAAwBH,MACze,SAASI,GAAG93B,GAAG,SAASC,EAAEA,GAAG,OAAO03B,GAAG13B,EAAED,GAAG,GAAG,EAAEg2B,GAAGt5B,OAAO,CAACi7B,GAAG3B,GAAG,GAAGh2B,GAAG,IAAI,IAAI/J,EAAE,EAAEA,EAAE+/B,GAAGt5B,OAAOzG,IAAI,CAAC,IAAIC,EAAE8/B,GAAG//B,GAAGC,EAAEygC,YAAY32B,IAAI9J,EAAEygC,UAAU,OAA+F,IAAxF,OAAOV,IAAI0B,GAAG1B,GAAGj2B,GAAG,OAAOk2B,IAAIyB,GAAGzB,GAAGl2B,GAAG,OAAOm2B,IAAIwB,GAAGxB,GAAGn2B,GAAGo2B,GAAG12B,QAAQO,GAAGo2B,GAAG32B,QAAQO,GAAOhK,EAAE,EAAEA,EAAEqgC,GAAG55B,OAAOzG,IAAIC,EAAEogC,GAAGrgC,GAAGC,EAAEygC,YAAY32B,IAAI9J,EAAEygC,UAAU,MAAM,KAAK,EAAEL,GAAG55B,SAASzG,EAAEqgC,GAAG,GAAG,OAAOrgC,EAAE0gC,YAAYQ,GAAGlhC,GAAG,OAAOA,EAAE0gC,WAAWL,GAAGh7B,QAC/X,IAAIy8B,GAAG,GAAGC,GAAG,IAAI7E,IAAI8E,GAAG,IAAI9E,IAAI+E,GAAG,CAAC,QAAQ,QAAQtF,GAAG,eAAeC,GAAG,qBAAqBC,GAAG,iBAAiB,UAAU,UAAU,iBAAiB,iBAAiB,iBAAiB,iBAAiB,UAAU,UAAU,YAAY,YAAY,QAAQ,QAAQ,QAAQ,QAAQ,oBAAoB,oBAAoB,OAAO,OAAO,aAAa,aAAa,iBAAiB,iBAAiB,YAAY,YAAY,qBAAqB,qBAAqB,UAAU,UAAU,WAAW,WAAW,UACpf,UAAU,UAAU,UAAU,UAAU,UAAU,aAAa,aAAaC,GAAG,gBAAgB,UAAU,WAAW,SAASoF,GAAGn4B,EAAEC,GAAG,IAAI,IAAIhK,EAAE,EAAEA,EAAE+J,EAAEtD,OAAOzG,GAAG,EAAE,CAAC,IAAIC,EAAE8J,EAAE/J,GAAGuuB,EAAExkB,EAAE/J,EAAE,GAAG0uB,EAAE,MAAMH,EAAE,GAAGgI,cAAchI,EAAE/kB,MAAM,IAAIklB,EAAE,CAACuF,wBAAwB,CAACkO,QAAQzT,EAAE0T,SAAS1T,EAAE,WAAW4F,aAAa,CAACr0B,GAAGoiC,cAAcr4B,GAAGg4B,GAAGxX,IAAIvqB,EAAE+J,GAAG+3B,GAAGvX,IAAIvqB,EAAEyuB,GAAGoT,GAAGvT,GAAGG,GACzVwT,GAAG,6iBAA6iB/8B,MAAM,KAAK,GAC3jB+8B,GAAG,oRAAoR/8B,MAAM,KAAK,GAAG+8B,GAAGD,GAAG,GAAG,IAAI,IAAIK,GAAG,qFAAqFn9B,MAAM,KAAKo9B,GAAG,EAAEA,GAAGD,GAAG77B,OAAO87B,KAAKP,GAAGxX,IAAI8X,GAAGC,IAAI,GAC9b,IAAIC,GAAG/hC,EAAEgiC,8BAA8BC,GAAGjiC,EAAE0gC,yBAAyBwB,IAAG,EAAG,SAASlV,GAAE1jB,EAAEC,GAAG01B,GAAG11B,EAAED,GAAE,GAAI,SAAS21B,GAAG31B,EAAEC,EAAEhK,GAAG,IAAIC,EAAE+hC,GAAGxhC,IAAIwJ,GAAG,YAAO,IAAS/J,EAAE,EAAEA,GAAG,KAAK,EAAEA,EAAE2iC,GAAGzhC,KAAK,KAAK6I,EAAE,EAAED,GAAG,MAAM,KAAK,EAAE9J,EAAE4iC,GAAG1hC,KAAK,KAAK6I,EAAE,EAAED,GAAG,MAAM,QAAQ9J,EAAEwL,GAAGtK,KAAK,KAAK6I,EAAE,EAAED,GAAG/J,EAAE+J,EAAEiY,iBAAiBhY,EAAE/J,GAAE,GAAI8J,EAAEiY,iBAAiBhY,EAAE/J,GAAE,GAAI,SAAS2iC,GAAG74B,EAAEC,EAAEhK,EAAEC,GAAGm1B,GAAIF,IAAK,IAAI3G,EAAE9iB,GAAGijB,EAAE0G,EAAGA,GAAG,EAAG,IAAIH,EAAG1G,EAAExkB,EAAEC,EAAEhK,EAAEC,GAAG,SAASm1B,EAAG1G,IAAI4G,KAAM,SAASuN,GAAG94B,EAAEC,EAAEhK,EAAEC,GAAGyiC,GAAGF,GAAG/2B,GAAGtK,KAAK,KAAK4I,EAAEC,EAAEhK,EAAEC,IACpc,SAASwL,GAAG1B,EAAEC,EAAEhK,EAAEC,GAAG,GAAG0iC,GAAG,GAAG,EAAE5C,GAAGt5B,SAAS,EAAE65B,GAAGv5B,QAAQgD,GAAGA,EAAE02B,GAAG,KAAK12B,EAAEC,EAAEhK,EAAEC,GAAG8/B,GAAGl2B,KAAKE,OAAO,CAAC,IAAIwkB,EAAEgT,GAAGx3B,EAAEC,EAAEhK,EAAEC,GAAG,GAAG,OAAOsuB,EAAEqS,GAAG72B,EAAE9J,QAAQ,IAAI,EAAEqgC,GAAGv5B,QAAQgD,GAAGA,EAAE02B,GAAGlS,EAAExkB,EAAEC,EAAEhK,EAAEC,GAAG8/B,GAAGl2B,KAAKE,QAAQ,IAAIk3B,GAAG1S,EAAExkB,EAAEC,EAAEhK,EAAEC,GAAG,CAAC2gC,GAAG72B,EAAE9J,GAAG8J,EAAEo1B,GAAGp1B,EAAE9J,EAAE,KAAK+J,GAAG,IAAIurB,EAAG8J,GAAGt1B,GAAG,QAAQg1B,GAAGh1B,MAClQ,SAASw3B,GAAGx3B,EAAEC,EAAEhK,EAAEC,GAAmB,GAAhBD,EAAEy+B,GAAGx+B,GAAGD,EAAEu/B,GAAGv/B,GAAM,OAAOA,EAAE,CAAC,IAAIuuB,EAAE6O,GAAGp9B,GAAG,GAAG,OAAOuuB,EAAEvuB,EAAE,SAAS,CAAC,IAAI0uB,EAAEH,EAAE2J,IAAI,GAAG,KAAKxJ,EAAE,CAAS,GAAR1uB,EAAEu9B,GAAGhP,GAAM,OAAOvuB,EAAE,OAAOA,EAAEA,EAAE,UAAU,GAAG,IAAI0uB,EAAE,CAAC,GAAGH,EAAEsG,UAAUwM,QAAQ,OAAO,IAAI9S,EAAE2J,IAAI3J,EAAEsG,UAAUyK,cAAc,KAAKt/B,EAAE,UAAUuuB,IAAIvuB,IAAIA,EAAE,OAAO+J,EAAEo1B,GAAGp1B,EAAE9J,EAAED,EAAEgK,GAAG,IAAIurB,EAAG8J,GAAGt1B,GAAG,QAAQg1B,GAAGh1B,GAAG,OAAO,KACpT,IAAI+4B,GAAG,CAACC,yBAAwB,EAAGC,mBAAkB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,SAAQ,EAAGC,cAAa,EAAGC,iBAAgB,EAAGC,aAAY,EAAG9Z,SAAQ,EAAG+Z,MAAK,EAAGC,UAAS,EAAGC,cAAa,EAAGC,YAAW,EAAGC,cAAa,EAAGC,WAAU,EAAGC,UAAS,EAAGC,SAAQ,EAAGC,YAAW,EAAGC,aAAY,EAAGC,cAAa,EAAGC,YAAW,EAAGC,eAAc,EAAGC,gBAAe,EAAGC,iBAAgB,EAAGC,YAAW,EAAGC,WAAU,EAAGC,YAAW,EAAGjrB,SAAQ,EAAGkrB,OAAM,EAAGC,SAAQ,EAAGC,SAAQ,EAAGC,QAAO,EAAGC,QAAO,EAAGC,MAAK,EAAGC,aAAY,EAC1fC,cAAa,EAAGC,aAAY,EAAGC,iBAAgB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,eAAc,EAAGC,aAAY,GAAIC,GAAG,CAAC,SAAS,KAAK,MAAM,KAA6H,SAASC,GAAGz7B,EAAEC,EAAEhK,GAAG,OAAO,MAAMgK,GAAG,mBAAmBA,GAAG,KAAKA,EAAE,GAAGhK,GAAG,kBAAkBgK,GAAG,IAAIA,GAAG84B,GAAGthC,eAAeuI,IAAI+4B,GAAG/4B,IAAI,GAAGC,GAAGy7B,OAAOz7B,EAAE,KAC9Z,SAAS07B,GAAG37B,EAAEC,GAAa,IAAI,IAAIhK,KAAlB+J,EAAEA,EAAE9E,MAAmB+E,EAAE,GAAGA,EAAExI,eAAexB,GAAG,CAAC,IAAIC,EAAE,IAAID,EAAE+G,QAAQ,MAAMwnB,EAAEiX,GAAGxlC,EAAEgK,EAAEhK,GAAGC,GAAG,UAAUD,IAAIA,EAAE,YAAYC,EAAE8J,EAAE47B,YAAY3lC,EAAEuuB,GAAGxkB,EAAE/J,GAAGuuB,GADTluB,OAAOqH,KAAKo7B,IAAIr5B,SAAQ,SAASM,GAAGw7B,GAAG97B,SAAQ,SAASO,GAAGA,EAAEA,EAAED,EAAEyE,OAAO,GAAG+nB,cAAcxsB,EAAE67B,UAAU,GAAG9C,GAAG94B,GAAG84B,GAAG/4B,SACrG,IAAI87B,GAAGzkC,EAAE,CAAC0kC,UAAS,GAAI,CAACC,MAAK,EAAGC,MAAK,EAAGC,IAAG,EAAGC,KAAI,EAAG/nB,OAAM,EAAGgoB,IAAG,EAAGC,KAAI,EAAGC,OAAM,EAAGC,QAAO,EAAGtwB,MAAK,EAAGuwB,MAAK,EAAGC,OAAM,EAAG/mB,QAAO,EAAGkD,OAAM,EAAG8jB,KAAI,IAClT,SAASC,GAAG38B,EAAEC,GAAG,GAAGA,EAAE,CAAC,GAAG67B,GAAG97B,KAAK,MAAMC,EAAEmB,UAAU,MAAMnB,EAAE2W,yBAAyB,MAAMvT,MAAMsf,EAAE,IAAI3iB,EAAE,KAAK,GAAG,MAAMC,EAAE2W,wBAAwB,CAAC,GAAG,MAAM3W,EAAEmB,SAAS,MAAMiC,MAAMsf,EAAE,KAAK,GAAK,kBAAkB1iB,EAAE2W,2BAAyB,WAAW3W,EAAE2W,yBAAyB,MAAMvT,MAAMsf,EAAE,KAAM,GAAG,MAAM1iB,EAAE/E,OAAO,kBAAkB+E,EAAE/E,MAAM,MAAMmI,MAAMsf,EAAE,GAAG,MAClW,SAASia,GAAG58B,EAAEC,GAAG,IAAI,IAAID,EAAEhD,QAAQ,KAAK,MAAM,kBAAkBiD,EAAE48B,GAAG,OAAO78B,GAAG,IAAK,iBAAiB,IAAK,gBAAgB,IAAK,YAAY,IAAK,gBAAgB,IAAK,gBAAgB,IAAK,mBAAmB,IAAK,iBAAiB,IAAK,gBAAgB,OAAM,EAAG,QAAQ,OAAM,GAAI,IAAI88B,GAAGjM,GAAGC,KAAK,SAASiM,GAAG/8B,EAAEC,GAAGD,EAAE,IAAIA,EAAE+xB,UAAU,KAAK/xB,EAAE+xB,SAAS/xB,EAAEA,EAAEkwB,cAAc,IAAIj6B,EAAEm9B,GAAGpzB,GAAGC,EAAEqqB,EAAGrqB,GAAG,IAAI,IAAI/J,EAAE,EAAEA,EAAE+J,EAAEvD,OAAOxG,IAAIu/B,GAAGx1B,EAAE/J,GAAG8J,EAAE/J,GAAG,SAAS+mC,MAC5a,SAASC,GAAGj9B,GAAwD,GAArDA,EAAEA,IAAI,qBAAqBnD,SAASA,cAAS,GAAW,qBAAqBmD,EAAE,OAAO,KAAK,IAAI,OAAOA,EAAElD,eAAekD,EAAEyQ,KAAK,MAAMxQ,GAAG,OAAOD,EAAEyQ,MAAM,SAASysB,GAAGl9B,GAAG,KAAKA,GAAGA,EAAE0xB,YAAY1xB,EAAEA,EAAE0xB,WAAW,OAAO1xB,EAAE,SAASm9B,GAAGn9B,EAAEC,GAAG,IAAwB/J,EAApBD,EAAEinC,GAAGl9B,GAAO,IAAJA,EAAE,EAAY/J,GAAG,CAAC,GAAG,IAAIA,EAAE87B,SAAS,CAA0B,GAAzB77B,EAAE8J,EAAE/J,EAAE26B,YAAYl0B,OAAUsD,GAAGC,GAAG/J,GAAG+J,EAAE,MAAM,CAACsC,KAAKtM,EAAEmnC,OAAOn9B,EAAED,GAAGA,EAAE9J,EAAE8J,EAAE,CAAC,KAAK/J,GAAG,CAAC,GAAGA,EAAEonC,YAAY,CAACpnC,EAAEA,EAAEonC,YAAY,MAAMr9B,EAAE/J,EAAEA,EAAE4+B,WAAW5+B,OAAE,EAAOA,EAAEinC,GAAGjnC,IAC5b,SAASqnC,GAAGt9B,EAAEC,GAAG,SAAOD,IAAGC,KAAED,IAAIC,KAAKD,GAAG,IAAIA,EAAE+xB,YAAY9xB,GAAG,IAAIA,EAAE8xB,SAASuL,GAAGt9B,EAAEC,EAAE40B,YAAY,aAAa70B,EAAEA,EAAEsT,SAASrT,KAAGD,EAAEu9B,4BAAwD,GAA7Bv9B,EAAEu9B,wBAAwBt9B,MAAa,SAASu9B,KAAK,IAAI,IAAIx9B,EAAE6C,OAAO5C,EAAEg9B,KAAKh9B,aAAaD,EAAEy9B,mBAAmB,CAAC,IAAI,IAAIxnC,EAAE,kBAAkBgK,EAAEy9B,cAAct6B,SAAS3K,KAAK,MAAMvC,GAAGD,GAAE,EAAG,IAAGA,EAAyB,MAAvB+J,EAAEC,EAAEy9B,cAAyBz9B,EAAEg9B,GAAGj9B,EAAEnD,UAAU,OAAOoD,EAC5Y,SAAS09B,GAAG39B,GAAG,IAAIC,EAAED,GAAGA,EAAE2uB,UAAU3uB,EAAE2uB,SAAShwB,cAAc,OAAOsB,IAAI,UAAUA,IAAI,SAASD,EAAE1C,MAAM,WAAW0C,EAAE1C,MAAM,QAAQ0C,EAAE1C,MAAM,QAAQ0C,EAAE1C,MAAM,aAAa0C,EAAE1C,OAAO,aAAa2C,GAAG,SAASD,EAAE49B,iBAAiB,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK,SAASC,GAAGn+B,EAAEC,GAAG,OAAOD,GAAG,IAAK,SAAS,IAAK,QAAQ,IAAK,SAAS,IAAK,WAAW,QAAQC,EAAEm+B,UAAU,OAAM,EAC7X,SAASC,GAAGr+B,EAAEC,GAAG,MAAM,aAAaD,GAAG,WAAWA,GAAG,aAAaA,GAAG,kBAAkBC,EAAEmB,UAAU,kBAAkBnB,EAAEmB,UAAU,kBAAkBnB,EAAE2W,yBAAyB,OAAO3W,EAAE2W,yBAAyB,MAAM3W,EAAE2W,wBAAwBC,OAAO,IAAIynB,GAAG,oBAAoB76B,WAAWA,gBAAW,EAAO86B,GAAG,oBAAoBtiB,aAAaA,kBAAa,EAAO,SAASuiB,GAAGx+B,GAAG,KAAK,MAAMA,EAAEA,EAAEA,EAAEq9B,YAAY,CAAC,IAAIp9B,EAAED,EAAE+xB,SAAS,GAAG,IAAI9xB,GAAG,IAAIA,EAAE,MAAM,OAAOD,EAClc,SAASy+B,GAAGz+B,GAAGA,EAAEA,EAAE0+B,gBAAgB,IAAI,IAAIz+B,EAAE,EAAED,GAAG,CAAC,GAAG,IAAIA,EAAE+xB,SAAS,CAAC,IAAI97B,EAAE+J,EAAE1G,KAAK,GAAGrD,IAAI4nC,IAAI5nC,IAAI+nC,IAAI/nC,IAAI8nC,GAAG,CAAC,GAAG,IAAI99B,EAAE,OAAOD,EAAEC,SAAShK,IAAI6nC,IAAI79B,IAAID,EAAEA,EAAE0+B,gBAAgB,OAAO,KAAK,IAAIC,GAAG5/B,KAAK6/B,SAAS5kC,SAAS,IAAIyF,MAAM,GAAGo/B,GAAG,2BAA2BF,GAAGG,GAAG,wBAAwBH,GAAGI,GAAG,qBAAqBJ,GACvT,SAASnJ,GAAGx1B,GAAG,IAAIC,EAAED,EAAE6+B,IAAI,GAAG5+B,EAAE,OAAOA,EAAE,IAAI,IAAIhK,EAAE+J,EAAE60B,WAAW5+B,GAAG,CAAC,GAAGgK,EAAEhK,EAAE8oC,KAAK9oC,EAAE4oC,IAAI,CAAe,GAAd5oC,EAAEgK,EAAEqzB,UAAa,OAAOrzB,EAAE4zB,OAAO,OAAO59B,GAAG,OAAOA,EAAE49B,MAAM,IAAI7zB,EAAEy+B,GAAGz+B,GAAG,OAAOA,GAAG,CAAC,GAAG/J,EAAE+J,EAAE6+B,IAAI,OAAO5oC,EAAE+J,EAAEy+B,GAAGz+B,GAAG,OAAOC,EAAED,EAAE/J,EAAEA,EAAE+J,EAAE60B,WAAW,OAAO,KAAK,SAASoC,GAAGj3B,GAAkB,OAAfA,EAAEA,EAAE6+B,KAAK7+B,EAAE++B,KAAW/+B,GAAG,IAAIA,EAAEmuB,KAAK,IAAInuB,EAAEmuB,KAAK,KAAKnuB,EAAEmuB,KAAK,IAAInuB,EAAEmuB,IAAI,KAAKnuB,EAAE,SAASg/B,GAAGh/B,GAAG,GAAG,IAAIA,EAAEmuB,KAAK,IAAInuB,EAAEmuB,IAAI,OAAOnuB,EAAE8qB,UAAU,MAAMznB,MAAMsf,EAAE,KAAM,SAASsc,GAAGj/B,GAAG,OAAOA,EAAE8+B,KAAK,KAClb,SAASI,GAAGl/B,GAAG,GAAGA,EAAEA,EAAEwuB,aAAaxuB,GAAG,IAAIA,EAAEmuB,KAAK,OAAOnuB,GAAI,KAC5D,SAASm/B,GAAGn/B,EAAEC,GAAG,IAAIhK,EAAE+J,EAAE8qB,UAAU,IAAI70B,EAAE,OAAO,KAAK,IAAIC,EAAEozB,EAAGrzB,GAAG,IAAIC,EAAE,OAAO,KAAKD,EAAEC,EAAE+J,GAAGD,EAAE,OAAOC,GAAG,IAAK,UAAU,IAAK,iBAAiB,IAAK,gBAAgB,IAAK,uBAAuB,IAAK,cAAc,IAAK,qBAAqB,IAAK,cAAc,IAAK,qBAAqB,IAAK,YAAY,IAAK,mBAAmB,IAAK,gBAAgB/J,GAAGA,EAAEyV,YAAY3L,EAAEA,EAAE1C,KAAKpH,IAAI,WAAW8J,GAAG,UAAUA,GAAG,WAAWA,GAAG,aAAaA,IAAIA,GAAG9J,EAAE,MAAM8J,EAAE,QAAQA,GAAE,EAAG,GAAGA,EAAE,OAAO,KAAK,GAAG/J,GAAG,oBAAoBA,EAAE,MAAMoN,MAAMsf,EAAE,IACjgB1iB,SAAShK,IAAI,OAAOA,EAAE,SAASmpC,GAAGp/B,EAAEC,EAAEhK,IAAMgK,EAAEk/B,GAAGn/B,EAAE/J,EAAEopC,eAAenV,wBAAwBjqB,OAAIhK,EAAEm+B,mBAAmBJ,GAAG/9B,EAAEm+B,mBAAmBn0B,GAAGhK,EAAEo+B,mBAAmBL,GAAG/9B,EAAEo+B,mBAAmBr0B,IAAG,SAASs/B,GAAGt/B,GAAG,GAAGA,GAAGA,EAAEq/B,eAAenV,wBAAwB,CAAC,IAAI,IAAIjqB,EAAED,EAAEu/B,YAAYtpC,EAAE,GAAGgK,GAAGhK,EAAE6J,KAAKG,GAAGA,EAAEi/B,GAAGj/B,GAAG,IAAIA,EAAEhK,EAAEyG,OAAO,EAAEuD,KAAKm/B,GAAGnpC,EAAEgK,GAAG,WAAWD,GAAG,IAAIC,EAAE,EAAEA,EAAEhK,EAAEyG,OAAOuD,IAAIm/B,GAAGnpC,EAAEgK,GAAG,UAAUD,IACtY,SAASw/B,GAAGx/B,EAAEC,EAAEhK,GAAG+J,GAAG/J,GAAGA,EAAEopC,eAAejV,mBAAmBnqB,EAAEk/B,GAAGn/B,EAAE/J,EAAEopC,eAAejV,qBAAqBn0B,EAAEm+B,mBAAmBJ,GAAG/9B,EAAEm+B,mBAAmBn0B,GAAGhK,EAAEo+B,mBAAmBL,GAAG/9B,EAAEo+B,mBAAmBr0B,IAAI,SAASy/B,GAAGz/B,GAAGA,GAAGA,EAAEq/B,eAAejV,kBAAkBoV,GAAGx/B,EAAEu/B,YAAY,KAAKv/B,GAAG,SAAS0/B,GAAG1/B,GAAGi0B,GAAGj0B,EAAEs/B,IAAI,IAAIK,GAAG,KAAKC,GAAG,KAAKC,GAAG,KACxU,SAASC,KAAK,GAAGD,GAAG,OAAOA,GAAG,IAAI7/B,EAAkB9J,EAAhB+J,EAAE2/B,GAAG3pC,EAAEgK,EAAEvD,OAAS8nB,EAAE,UAAUmb,GAAGA,GAAG9oC,MAAM8oC,GAAG/O,YAAYjM,EAAEH,EAAE9nB,OAAO,IAAIsD,EAAE,EAAEA,EAAE/J,GAAGgK,EAAED,KAAKwkB,EAAExkB,GAAGA,KAAK,IAAIykB,EAAExuB,EAAE+J,EAAE,IAAI9J,EAAE,EAAEA,GAAGuuB,GAAGxkB,EAAEhK,EAAEC,KAAKsuB,EAAEG,EAAEzuB,GAAGA,KAAK,OAAO2pC,GAAGrb,EAAE/kB,MAAMO,EAAE,EAAE9J,EAAE,EAAEA,OAAE,GAAQ,SAAS6pC,KAAK,OAAM,EAAG,SAASC,KAAK,OAAM,EAClQ,SAASpc,GAAE5jB,EAAEC,EAAEhK,EAAEC,GAA4F,IAAI,IAAIsuB,KAAjG3qB,KAAKwlC,eAAer/B,EAAEnG,KAAK0lC,YAAYt/B,EAAEpG,KAAK+T,YAAY3X,EAAE+J,EAAEnG,KAAKsY,YAAY8tB,UAAuBjgC,EAAEA,EAAEvI,eAAe+sB,MAAMvkB,EAAED,EAAEwkB,IAAI3qB,KAAK2qB,GAAGvkB,EAAEhK,GAAG,WAAWuuB,EAAE3qB,KAAK2C,OAAOtG,EAAE2D,KAAK2qB,GAAGvuB,EAAEuuB,IAAgI,OAA5H3qB,KAAKqmC,oBAAoB,MAAMjqC,EAAEkqC,iBAAiBlqC,EAAEkqC,kBAAiB,IAAKlqC,EAAEmqC,aAAaL,GAAGC,GAAGnmC,KAAKy6B,qBAAqB0L,GAAUnmC,KAGrF,SAASwmC,GAAGrgC,EAAEC,EAAEhK,EAAEC,GAAG,GAAG2D,KAAKymC,UAAU5jC,OAAO,CAAC,IAAI8nB,EAAE3qB,KAAKymC,UAAUhb,MAA2B,OAArBzrB,KAAK9D,KAAKyuB,EAAExkB,EAAEC,EAAEhK,EAAEC,GAAUsuB,EAAE,OAAO,IAAI3qB,KAAKmG,EAAEC,EAAEhK,EAAEC,GAC7X,SAASqqC,GAAGvgC,GAAG,KAAKA,aAAanG,MAAM,MAAMwJ,MAAMsf,EAAE,MAAM3iB,EAAEwgC,aAAa,GAAG3mC,KAAKymC,UAAU5jC,QAAQ7C,KAAKymC,UAAUxgC,KAAKE,GAAG,SAASygC,GAAGzgC,GAAGA,EAAEsgC,UAAU,GAAGtgC,EAAE0gC,UAAUL,GAAGrgC,EAAEw0B,QAAQ+L,GAHlLlpC,EAAEusB,GAAEpsB,UAAU,CAAC0F,eAAe,WAAWrD,KAAKsmC,kBAAiB,EAAG,IAAIngC,EAAEnG,KAAK+T,YAAY5N,IAAIA,EAAE9C,eAAe8C,EAAE9C,iBAAiB,mBAAmB8C,EAAEogC,cAAcpgC,EAAEogC,aAAY,GAAIvmC,KAAKqmC,mBAAmBH,KAAK9iC,gBAAgB,WAAW,IAAI+C,EAAEnG,KAAK+T,YAAY5N,IAAIA,EAAE/C,gBAAgB+C,EAAE/C,kBAAkB,mBAAmB+C,EAAE2gC,eAAe3gC,EAAE2gC,cAAa,GAAI9mC,KAAKy6B,qBAAqByL,KAAKa,QAAQ,WAAW/mC,KAAK06B,aAAawL,IAAIxL,aAAayL,GAAGQ,WAAW,WAAW,IACpdvgC,EADwdD,EAAEnG,KAAKsY,YAAY8tB,UACze,IAAIhgC,KAAKD,EAAEnG,KAAKoG,GAAG,KAAKpG,KAAK+T,YAAY/T,KAAK0lC,YAAY1lC,KAAKwlC,eAAe,KAAKxlC,KAAKy6B,qBAAqBz6B,KAAKqmC,mBAAmBF,GAAGnmC,KAAKw6B,mBAAmBx6B,KAAKu6B,mBAAmB,QAAQxQ,GAAEqc,UAAU,CAAC3iC,KAAK,KAAKd,OAAO,KAAKktB,cAAc,WAAW,OAAO,MAAMmX,WAAW,KAAKC,QAAQ,KAAKC,WAAW,KAAKC,UAAU,SAAShhC,GAAG,OAAOA,EAAEghC,WAAW5hB,KAAKC,OAAO8gB,iBAAiB,KAAKc,UAAU,MAC9Yrd,GAAEte,OAAO,SAAStF,GAAG,SAASC,KAAK,SAAShK,IAAI,OAAOC,EAAEinB,MAAMtjB,KAAKic,WAAW,IAAI5f,EAAE2D,KAAKoG,EAAEzI,UAAUtB,EAAEsB,UAAU,IAAIgtB,EAAE,IAAIvkB,EAAmH,OAAjH5I,EAAEmtB,EAAEvuB,EAAEuB,WAAWvB,EAAEuB,UAAUgtB,EAAEvuB,EAAEuB,UAAU2a,YAAYlc,EAAEA,EAAEgqC,UAAU5oC,EAAE,GAAGnB,EAAE+pC,UAAUjgC,GAAG/J,EAAEqP,OAAOpP,EAAEoP,OAAOm7B,GAAGxqC,GAAUA,GAAGwqC,GAAG7c,IACvE,IAAIsd,GAAGtd,GAAEte,OAAO,CAAChM,KAAK,OAAO6nC,GAAGvd,GAAEte,OAAO,CAAChM,KAAK,OAAOiS,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI61B,GAAG3W,GAAI,qBAAqB5nB,OAAOw+B,GAAG,KAAK5W,GAAI,iBAAiB5tB,WAAWwkC,GAAGxkC,SAASykC,cAClV,IAAIC,GAAG9W,GAAI,cAAc5nB,SAASw+B,GAAGG,GAAG/W,KAAM2W,IAAIC,IAAI,EAAEA,IAAI,IAAIA,IAAII,GAAGvsB,OAAOG,aAAa,IAAIqsB,GAAG,CAACC,YAAY,CAACzX,wBAAwB,CAACkO,QAAQ,gBAAgBC,SAAS,wBAAwB9N,aAAa,CAAC,iBAAiB,WAAW,YAAY,UAAUqX,eAAe,CAAC1X,wBAAwB,CAACkO,QAAQ,mBAAmBC,SAAS,2BAA2B9N,aAAa,uDAAuDnvB,MAAM,MAAMymC,iBAAiB,CAAC3X,wBAAwB,CAACkO,QAAQ,qBAC7eC,SAAS,6BAA6B9N,aAAa,yDAAyDnvB,MAAM,MAAM0mC,kBAAkB,CAAC5X,wBAAwB,CAACkO,QAAQ,sBAAsBC,SAAS,8BAA8B9N,aAAa,0DAA0DnvB,MAAM,OAAO2mC,IAAG,EAChU,SAASC,GAAGhiC,EAAEC,GAAG,OAAOD,GAAG,IAAK,QAAQ,OAAO,IAAIuL,GAAGvO,QAAQiD,EAAE/B,SAAS,IAAK,UAAU,OAAO,MAAM+B,EAAE/B,QAAQ,IAAK,WAAW,IAAK,YAAY,IAAK,OAAO,OAAM,EAAG,QAAQ,OAAM,GAAI,SAAS+jC,GAAGjiC,GAAc,OAAXA,EAAEA,EAAEkiC,OAAa,kBAAkBliC,GAAG,SAASA,EAAEA,EAAE1G,KAAK,KAAK,IAAI6oC,IAAG,EAAG,SAASC,GAAGpiC,EAAEC,GAAG,OAAOD,GAAG,IAAK,iBAAiB,OAAOiiC,GAAGhiC,GAAG,IAAK,WAAW,OAAG,KAAKA,EAAEoiC,MAAa,MAAKN,IAAG,EAAUN,IAAG,IAAK,YAAY,OAAOzhC,EAAEC,EAAE3G,KAAK0G,IAAIyhC,IAAIM,GAAG,KAAK/hC,EAAE,QAAQ,OAAO,MACzc,SAASsiC,GAAGtiC,EAAEC,GAAG,GAAGkiC,GAAG,MAAM,mBAAmBniC,IAAIohC,IAAIY,GAAGhiC,EAAEC,IAAID,EAAE8/B,KAAKD,GAAGD,GAAGD,GAAG,KAAKwC,IAAG,EAAGniC,GAAG,KAAK,OAAOA,GAAG,IAAK,QAAQ,OAAO,KAAK,IAAK,WAAW,KAAKC,EAAEsiC,SAAStiC,EAAEuiC,QAAQviC,EAAEwiC,UAAUxiC,EAAEsiC,SAAStiC,EAAEuiC,OAAO,CAAC,GAAGviC,EAAEyiC,MAAM,EAAEziC,EAAEyiC,KAAKhmC,OAAO,OAAOuD,EAAEyiC,KAAK,GAAGziC,EAAEoiC,MAAM,OAAOntB,OAAOG,aAAapV,EAAEoiC,OAAO,OAAO,KAAK,IAAK,iBAAiB,OAAOb,IAAI,OAAOvhC,EAAEgE,OAAO,KAAKhE,EAAE3G,KAAK,QAAQ,OAAO,MAClY,IAAIqpC,GAAG,CAAC3Y,WAAW0X,GAAG3X,cAAc,SAAS/pB,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAE,GAAG4c,GAAGnhC,EAAE,CAAC,OAAOD,GAAG,IAAK,mBAAmB,IAAI2kB,EAAE+c,GAAGG,iBAAiB,MAAM5hC,EAAE,IAAK,iBAAiB0kB,EAAE+c,GAAGE,eAAe,MAAM3hC,EAAE,IAAK,oBAAoB0kB,EAAE+c,GAAGI,kBAAkB,MAAM7hC,EAAE0kB,OAAE,OAAYwd,GAAGH,GAAGhiC,EAAE/J,KAAK0uB,EAAE+c,GAAGE,gBAAgB,YAAY5hC,GAAG,MAAM/J,EAAEiI,UAAUymB,EAAE+c,GAAGG,kBAClL,OADoMld,GAAG6c,IAAI,OAAOvrC,EAAEgO,SAASk+B,IAAIxd,IAAI+c,GAAGG,iBAAiBld,IAAI+c,GAAGE,gBAAgBO,KAAK3d,EAAEsb,OAAOH,GAAGzpC,EAAE0pC,GAAG,UAAUD,GAAGA,GAAG9oC,MAAM8oC,GAAG/O,YAAYuR,IAAG,IAAKxd,EAAEuc,GAAGR,UAAU/b,EACzf1kB,EAAEhK,EAAEC,GAAGsuB,EAAEG,EAAErrB,KAAKkrB,GAAGA,EAAEyd,GAAGhsC,GAAG,OAAOuuB,IAAIG,EAAErrB,KAAKkrB,IAAIkb,GAAG/a,GAAGH,EAAEG,GAAGH,EAAE,MAAMxkB,EAAEuhC,GAAGa,GAAGpiC,EAAE/J,GAAGqsC,GAAGtiC,EAAE/J,KAAKgK,EAAEkhC,GAAGT,UAAUgB,GAAGC,YAAY1hC,EAAEhK,EAAEC,GAAG+J,EAAE3G,KAAK0G,EAAE0/B,GAAGz/B,IAAIA,EAAE,KAAY,OAAOukB,EAAEvkB,EAAE,OAAOA,EAAEukB,EAAE,CAACA,EAAEvkB,KAAK2iC,GAAG,CAACC,OAAM,EAAGC,MAAK,EAAGC,UAAS,EAAG,kBAAiB,EAAGC,OAAM,EAAGC,OAAM,EAAGC,QAAO,EAAGC,UAAS,EAAG7wB,OAAM,EAAG8wB,QAAO,EAAGC,KAAI,EAAG7uB,MAAK,EAAG2K,MAAK,EAAG3F,KAAI,EAAG8pB,MAAK,GAAI,SAASC,GAAGvjC,GAAG,IAAIC,EAAED,GAAGA,EAAE2uB,UAAU3uB,EAAE2uB,SAAShwB,cAAc,MAAM,UAAUsB,IAAI2iC,GAAG5iC,EAAE1C,MAAM,aAAa2C,EAC5b,IAAIujC,GAAG,CAACC,OAAO,CAACvZ,wBAAwB,CAACkO,QAAQ,WAAWC,SAAS,mBAAmB9N,aAAa,8DAA8DnvB,MAAM,OAAO,SAASsoC,GAAG1jC,EAAEC,EAAEhK,GAA8D,OAA3D+J,EAAE4jB,GAAE8c,UAAU8C,GAAGC,OAAOzjC,EAAEC,EAAEhK,GAAG+J,EAAE1C,KAAK,SAASytB,EAAG90B,GAAGypC,GAAG1/B,GAAUA,EAAE,IAAI2jC,GAAG,KAAKC,GAAG,KAAK,SAASC,GAAG7jC,GAAGy0B,GAAGz0B,GAAG,SAAS8jC,GAAG9jC,GAAG,IAAIC,EAAE++B,GAAGh/B,GAAG,GAAGovB,GAAGnvB,GAAG,OAAOD,EAAE,SAAS+jC,GAAG/jC,EAAEC,GAAG,GAAG,WAAWD,EAAE,OAAOC,EAAE,IAAI+jC,IAAG,EAC9Y,SAASC,KAAKN,KAAKA,GAAGO,YAAY,mBAAmBC,IAAIP,GAAGD,GAAG,MAAM,SAASQ,GAAGnkC,GAAG,GAAG,UAAUA,EAAEosB,cAAc0X,GAAGF,IAAI,GAAG5jC,EAAE0jC,GAAGE,GAAG5jC,EAAE00B,GAAG10B,IAAIqrB,EAAGoJ,GAAGz0B,OAAO,CAACqrB,GAAG,EAAG,IAAIJ,EAAG4Y,GAAG7jC,GAAG,QAAQqrB,GAAG,EAAGE,MAAO,SAAS6Y,GAAGpkC,EAAEC,EAAEhK,GAAG,UAAU+J,GAAGikC,KAAKN,GAAG1jC,EAAE2jC,GAAG3tC,EAAE0tC,GAAGU,YAAY,mBAAmBF,KAAK,SAASnkC,GAAGikC,KAAK,SAASK,GAAGtkC,GAAG,GAAG,oBAAoBA,GAAG,UAAUA,GAAG,YAAYA,EAAE,OAAO8jC,GAAGF,IAAI,SAASW,GAAGvkC,EAAEC,GAAG,GAAG,UAAUD,EAAE,OAAO8jC,GAAG7jC,GAAG,SAASukC,GAAGxkC,EAAEC,GAAG,GAAG,UAAUD,GAAG,WAAWA,EAAE,OAAO8jC,GAAG7jC,GAD/EwqB,IAAKuZ,GAAGlP,GAAG,YAAYj4B,SAASykC,cAAc,EAAEzkC,SAASykC,eAE1c,IAAImD,GAAG,CAACza,WAAWwZ,GAAGkB,uBAAuBV,GAAGja,cAAc,SAAS/pB,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAEvkB,EAAE++B,GAAG/+B,GAAG4C,OAAO8hB,EAAEH,EAAEmK,UAAUnK,EAAEmK,SAAShwB,cAAc,GAAG,WAAWgmB,GAAG,UAAUA,GAAG,SAASH,EAAElnB,KAAK,IAAImnB,EAAEsf,QAAQ,GAAGR,GAAG/e,GAAG,GAAGwf,GAAGvf,EAAE+f,OAAO,CAAC/f,EAAE6f,GAAG,IAAI1f,EAAEwf,QAAQzf,EAAEH,EAAEmK,WAAW,UAAUhK,EAAEhmB,gBAAgB,aAAa6lB,EAAElnB,MAAM,UAAUknB,EAAElnB,QAAQmnB,EAAE8f,IAAI,GAAG9f,IAAIA,EAAEA,EAAEzkB,EAAEC,IAAI,OAAOyjC,GAAGjf,EAAExuB,EAAEC,GAAG0uB,GAAGA,EAAE5kB,EAAEwkB,EAAEvkB,GAAG,SAASD,IAAIA,EAAEwkB,EAAEiL,gBAAgBzvB,EAAE6vB,YAAY,WAAWrL,EAAElnB,MAAM0yB,GAAGxL,EAAE,SAASA,EAAE3tB,SAAS8tC,GAAG/gB,GAAEte,OAAO,CAACs/B,KAAK,KAAK1C,OAAO,OACrf2C,GAAG,CAACC,IAAI,SAASC,QAAQ,UAAUC,KAAK,UAAUC,MAAM,YAAY,SAASC,GAAGllC,GAAG,IAAIC,EAAEpG,KAAK+T,YAAY,OAAO3N,EAAEklC,iBAAiBllC,EAAEklC,iBAAiBnlC,MAAIA,EAAE6kC,GAAG7kC,OAAMC,EAAED,GAAM,SAASolC,KAAK,OAAOF,GACnM,IAAIG,GAAG,EAAEC,GAAG,EAAEC,IAAG,EAAGC,IAAG,EAAGC,GAAGd,GAAGr/B,OAAO,CAACogC,QAAQ,KAAKC,QAAQ,KAAKC,QAAQ,KAAKC,QAAQ,KAAK/3B,MAAM,KAAKg4B,MAAM,KAAKvD,QAAQ,KAAKwD,SAAS,KAAKvD,OAAO,KAAKC,QAAQ,KAAK0C,iBAAiBC,GAAG/zB,OAAO,KAAKvM,QAAQ,KAAKkhC,cAAc,SAAShmC,GAAG,OAAOA,EAAEgmC,gBAAgBhmC,EAAEimC,cAAcjmC,EAAE20B,WAAW30B,EAAEkmC,UAAUlmC,EAAEimC,cAAcE,UAAU,SAASnmC,GAAG,GAAG,cAAcA,EAAE,OAAOA,EAAEmmC,UAAU,IAAIlmC,EAAEolC,GAAgB,OAAbA,GAAGrlC,EAAE0lC,QAAeH,GAAG,cAAcvlC,EAAE1C,KAAK0C,EAAE0lC,QAAQzlC,EAAE,GAAGslC,IAAG,EAAG,IAAIa,UAAU,SAASpmC,GAAG,GAAG,cAAcA,EAAE,OAAOA,EAAEomC,UAC3f,IAAInmC,EAAEqlC,GAAgB,OAAbA,GAAGtlC,EAAE2lC,QAAeH,GAAG,cAAcxlC,EAAE1C,KAAK0C,EAAE2lC,QAAQ1lC,EAAE,GAAGulC,IAAG,EAAG,MAAMa,GAAGZ,GAAGngC,OAAO,CAACyxB,UAAU,KAAKv+B,MAAM,KAAKD,OAAO,KAAK+tC,SAAS,KAAKC,mBAAmB,KAAKC,MAAM,KAAKC,MAAM,KAAKC,MAAM,KAAKC,YAAY,KAAKC,UAAU,OAAOC,GAAG,CAACC,WAAW,CAAC1c,iBAAiB,eAAeG,aAAa,CAAC,WAAW,cAAcwc,WAAW,CAAC3c,iBAAiB,eAAeG,aAAa,CAAC,WAAW,cAAcyc,aAAa,CAAC5c,iBAAiB,iBAAiBG,aAAa,CAAC,aAAa,gBAAgB0c,aAAa,CAAC7c,iBAAiB,iBACjhBG,aAAa,CAAC,aAAa,iBAAiB2c,GAAG,CAACld,WAAW6c,GAAG9c,cAAc,SAAS/pB,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,IAAIG,EAAE,cAAc3kB,GAAG,gBAAgBA,EAAEykB,EAAE,aAAazkB,GAAG,eAAeA,EAAE,GAAG2kB,GAAG,KAAO,GAAFH,KAAQvuB,EAAE+vC,eAAe/vC,EAAEgwC,eAAexhB,IAAIE,EAAE,OAAO,KAA+E,GAA1EA,EAAEzuB,EAAE2M,SAAS3M,EAAEA,GAAGyuB,EAAEzuB,EAAEg6B,eAAevL,EAAEwiB,aAAaxiB,EAAEyiB,aAAavkC,OAAU4hB,GAAG,GAAGA,EAAExkB,EAAEA,GAAGA,EAAEhK,EAAE+vC,eAAe/vC,EAAEiwC,WAAW1Q,GAAGv1B,GAAG,KAAK,OAAOA,EAAE,CAAC,IAAI2kB,EAAEyO,GAAGpzB,IAAMA,IAAI2kB,GAAG,IAAI3kB,EAAEkuB,KAAK,IAAIluB,EAAEkuB,OAAIluB,EAAE,YAAWwkB,EAAE,KAAK,GAAGA,IAAIxkB,EAAE,OAAO,KAAK,GAAG,aAAaD,GAAG,cACzeA,EAAG,IAAI0kB,EAAE+gB,GAAO5vC,EAAEgxC,GAAGE,WAAe/wC,EAAE6wC,GAAGC,WAAepvC,EAAE,YAAgB,eAAesI,GAAG,gBAAgBA,IAAE0kB,EAAE2hB,GAAGxwC,EAAEgxC,GAAGI,aAAajxC,EAAE6wC,GAAGG,aAAatvC,EAAE,WAAgM,GAAtLsI,EAAE,MAAMykB,EAAEE,EAAEqa,GAAGva,GAAGE,EAAE,MAAM1kB,EAAE0kB,EAAEqa,GAAG/+B,GAAGpK,EAAE6uB,EAAEgc,UAAU7qC,EAAE4uB,EAAExuB,EAAEC,GAAGL,EAAEyH,KAAK5F,EAAE,QAAQ7B,EAAE2G,OAAOwD,EAAEnK,EAAEmwC,cAAcrhB,EAAE1uB,EAAEyuB,EAAEgc,UAAU1qC,EAAEiK,EAAEhK,EAAEC,GAAGD,EAAEqH,KAAK5F,EAAE,QAAQzB,EAAEuG,OAAOmoB,EAAE1uB,EAAE+vC,cAAchmC,EAAE9J,EAAEuuB,EAAE/sB,EAAEuI,EAAK/J,GAAGwB,EAAEsI,EAAE,CAAa,IAAZ0kB,EAAExuB,EAAEF,EAAE0B,EAAE+sB,EAAE,EAAMzkB,EAAE0kB,EAAE1kB,EAAEA,EAAEk/B,GAAGl/B,GAAGykB,IAAQ,IAAJzkB,EAAE,EAAMC,EAAEjK,EAAEiK,EAAEA,EAAEi/B,GAAGj/B,GAAGD,IAAI,KAAK,EAAEykB,EAAEzkB,GAAG0kB,EAAEwa,GAAGxa,GAAGD,IAAI,KAAK,EAAEzkB,EAAEykB,GAAGzuB,EAAEkpC,GAAGlpC,GAAGgK,IAAI,KAAKykB,KAAK,CAAC,GAAGC,IAAI1uB,GAAG0uB,IAAI1uB,EAAEs9B,UAAU,MAAMtzB,EAC3f0kB,EAAEwa,GAAGxa,GAAG1uB,EAAEkpC,GAAGlpC,GAAG0uB,EAAE,UAAUA,EAAE,KAAS,IAAJ1uB,EAAE0uB,EAAMA,EAAE,GAAGxuB,GAAGA,IAAIF,GAAG,CAAe,GAAdyuB,EAAEvuB,EAAEo9B,UAAa,OAAO7O,GAAGA,IAAIzuB,EAAE,MAAM0uB,EAAE5kB,KAAK5J,GAAGA,EAAEgpC,GAAGhpC,GAAG,IAAIA,EAAE,GAAGwB,GAAGA,IAAI1B,GAAG,CAAe,GAAdyuB,EAAE/sB,EAAE47B,UAAa,OAAO7O,GAAGA,IAAIzuB,EAAE,MAAME,EAAE4J,KAAKpI,GAAGA,EAAEwnC,GAAGxnC,GAAG,IAAIA,EAAE,EAAEA,EAAEgtB,EAAEhoB,OAAOhF,IAAI8nC,GAAG9a,EAAEhtB,GAAG,UAAU7B,GAAG,IAAI6B,EAAExB,EAAEwG,OAAO,EAAEhF,KAAK8nC,GAAGtpC,EAAEwB,GAAG,WAAWzB,GAAG,OAAO,KAAO,GAAFuuB,GAAM,CAAC3uB,GAAG,CAACA,EAAEI,KAAK,SAASoxC,GAAGrnC,EAAEC,GAAG,OAAOD,IAAIC,IAAI,IAAID,GAAG,EAAEA,IAAI,EAAEC,IAAID,IAAIA,GAAGC,IAAIA,EAAE,IAAIqnC,GAAG,oBAAoBhxC,OAAOumC,GAAGvmC,OAAOumC,GAAGwK,GAAGE,GAAGjxC,OAAOkB,UAAUC,eAC7b,SAAS+vC,GAAGxnC,EAAEC,GAAG,GAAGqnC,GAAGtnC,EAAEC,GAAG,OAAM,EAAG,GAAG,kBAAkBD,GAAG,OAAOA,GAAG,kBAAkBC,GAAG,OAAOA,EAAE,OAAM,EAAG,IAAIhK,EAAEK,OAAOqH,KAAKqC,GAAG9J,EAAEI,OAAOqH,KAAKsC,GAAG,GAAGhK,EAAEyG,SAASxG,EAAEwG,OAAO,OAAM,EAAG,IAAIxG,EAAE,EAAEA,EAAED,EAAEyG,OAAOxG,IAAI,IAAIqxC,GAAGxxC,KAAKkK,EAAEhK,EAAEC,MAAMoxC,GAAGtnC,EAAE/J,EAAEC,IAAI+J,EAAEhK,EAAEC,KAAK,OAAM,EAAG,OAAM,EACpQ,IAAIuxC,GAAGhd,GAAI,iBAAiB5tB,UAAU,IAAIA,SAASykC,aAAaoG,GAAG,CAACC,OAAO,CAACzd,wBAAwB,CAACkO,QAAQ,WAAWC,SAAS,mBAAmB9N,aAAa,iFAAiFnvB,MAAM,OAAOwsC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,IAAG,EAC1R,SAASC,GAAGhoC,EAAEC,GAAG,IAAIhK,EAAEgK,EAAE4C,SAAS5C,EAAEA,EAAEpD,SAAS,IAAIoD,EAAE8xB,SAAS9xB,EAAEA,EAAEiwB,cAAc,OAAG6X,IAAI,MAAMH,IAAIA,KAAK3K,GAAGhnC,GAAU,MAAKA,EAAE2xC,GAAG,mBAAmB3xC,GAAG0nC,GAAG1nC,GAAGA,EAAE,CAACgyC,MAAMhyC,EAAEiyC,eAAeC,IAAIlyC,EAAEmyC,eAAenyC,GAAGA,EAAEi6B,eAAej6B,EAAEi6B,cAAciX,aAAatkC,QAAQkD,eAAe9P,EAAE,CAACoyC,WAAWpyC,EAAEoyC,WAAWC,aAAaryC,EAAEqyC,aAAaC,UAAUtyC,EAAEsyC,UAAUC,YAAYvyC,EAAEuyC,cAAqBV,IAAIN,GAAGM,GAAG7xC,GAAG,MAAM6xC,GAAG7xC,EAAE+J,EAAE4jB,GAAE8c,UAAUgH,GAAGC,OAAOE,GAAG7nC,EAAEC,GAAGD,EAAE1C,KAAK,SAAS0C,EAAExD,OAAOorC,GAAGlI,GAAG1/B,GAAGA,IAC1d,IAAIyoC,GAAG,CAACze,WAAW0d,GAAG3d,cAAc,SAAS/pB,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAmE,GAAhEH,EAAEG,IAAIzuB,EAAE2M,SAAS3M,EAAEA,EAAE2G,SAAS,IAAI3G,EAAE67B,SAAS77B,EAAEA,EAAEg6B,iBAAoBvL,GAAGH,GAAG,CAACxkB,EAAE,CAACwkB,EAAE4O,GAAG5O,GAAGG,EAAE2F,EAAGoe,SAAS,IAAI,IAAIjkB,EAAE,EAAEA,EAAEE,EAAEjoB,OAAO+nB,IAAI,IAAID,EAAEkR,IAAI/Q,EAAEF,IAAI,CAACD,GAAE,EAAG,MAAMxkB,EAAEwkB,GAAE,EAAGG,GAAGH,EAAE,GAAGG,EAAE,OAAO,KAAsB,OAAjBH,EAAEvkB,EAAE++B,GAAG/+B,GAAG4C,OAAc7C,GAAG,IAAK,SAAWujC,GAAG/e,IAAI,SAASA,EAAEoZ,mBAAgBgK,GAAGpjB,EAAEqjB,GAAG5nC,EAAE6nC,GAAG,MAAK,MAAM,IAAK,OAAOA,GAAGD,GAAGD,GAAG,KAAK,MAAM,IAAK,YAAYG,IAAG,EAAG,MAAM,IAAK,cAAc,IAAK,UAAU,IAAK,UAAU,OAAOA,IAAG,EAAGC,GAAG/xC,EAAEC,GAAG,IAAK,kBAAkB,GAAGuxC,GAAG,MACxf,IAAK,UAAU,IAAK,QAAQ,OAAOO,GAAG/xC,EAAEC,GAAG,OAAO,OAAOyyC,GAAG/kB,GAAEte,OAAO,CAACsjC,cAAc,KAAKC,YAAY,KAAKC,cAAc,OAAOC,GAAGnlB,GAAEte,OAAO,CAAC0jC,cAAc,SAAShpC,GAAG,MAAM,kBAAkBA,EAAEA,EAAEgpC,cAAcnmC,OAAOmmC,iBAAiBC,GAAGtE,GAAGr/B,OAAO,CAAC0gC,cAAc,OAAO,SAASkD,GAAGlpC,GAAG,IAAIC,EAAED,EAAE9B,QAA+E,MAAvE,aAAa8B,GAAGA,EAAEA,EAAEmpC,SAAS,IAAInpC,GAAG,KAAKC,IAAID,EAAE,KAAKA,EAAEC,EAAE,KAAKD,IAAIA,EAAE,IAAW,IAAIA,GAAG,KAAKA,EAAEA,EAAE,EACxY,IAAIopC,GAAG,CAACC,IAAI,SAASC,SAAS,IAAIC,KAAK,YAAYC,GAAG,UAAUC,MAAM,aAAaC,KAAK,YAAYC,IAAI,SAASC,IAAI,KAAKC,KAAK,cAAcC,KAAK,cAAcC,OAAO,aAAaC,gBAAgB,gBAAgBC,GAAG,CAACC,EAAE,YAAYC,EAAE,MAAMC,GAAG,QAAQC,GAAG,QAAQC,GAAG,QAAQC,GAAG,UAAUC,GAAG,MAAMC,GAAG,QAAQC,GAAG,WAAWC,GAAG,SAASC,GAAG,IAAIC,GAAG,SAASC,GAAG,WAAWC,GAAG,MAAMC,GAAG,OAAOC,GAAG,YAAYC,GAAG,UAAUC,GAAG,aAAaC,GAAG,YAAYC,GAAG,SAASC,GAAG,SAASC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAChfC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,MAAMC,IAAI,MAAMC,IAAI,MAAMC,IAAI,UAAUC,IAAI,aAAaC,IAAI,QAAQC,GAAG3H,GAAGr/B,OAAO,CAACnO,IAAI,SAAS6I,GAAG,GAAGA,EAAE7I,IAAI,CAAC,IAAI8I,EAAEmpC,GAAGppC,EAAE7I,MAAM6I,EAAE7I,IAAI,GAAG,iBAAiB8I,EAAE,OAAOA,EAAE,MAAM,aAAaD,EAAE1C,MAAM0C,EAAEkpC,GAAGlpC,GAAG,KAAKA,EAAE,QAAQkV,OAAOG,aAAarV,IAAI,YAAYA,EAAE1C,MAAM,UAAU0C,EAAE1C,KAAK2sC,GAAGjqC,EAAE9B,UAAU,eAAe,IAAIkF,SAAS,KAAKm/B,QAAQ,KAAKwD,SAAS,KAAKvD,OAAO,KAAKC,QAAQ,KAAK8J,OAAO,KAAKtoC,OAAO,KAAKkhC,iBAAiBC,GAAG+D,SAAS,SAASnpC,GAAG,MAAM,aAC9eA,EAAE1C,KAAK4rC,GAAGlpC,GAAG,GAAG9B,QAAQ,SAAS8B,GAAG,MAAM,YAAYA,EAAE1C,MAAM,UAAU0C,EAAE1C,KAAK0C,EAAE9B,QAAQ,GAAGmkC,MAAM,SAASriC,GAAG,MAAM,aAAaA,EAAE1C,KAAK4rC,GAAGlpC,GAAG,YAAYA,EAAE1C,MAAM,UAAU0C,EAAE1C,KAAK0C,EAAE9B,QAAQ,KAAKsuC,GAAG/G,GAAGngC,OAAO,CAACmnC,aAAa,OAAOC,GAAG/H,GAAGr/B,OAAO,CAACqnC,QAAQ,KAAKC,cAAc,KAAKC,eAAe,KAAKrK,OAAO,KAAKC,QAAQ,KAAKF,QAAQ,KAAKwD,SAAS,KAAKZ,iBAAiBC,KAAK0H,GAAGlpB,GAAEte,OAAO,CAAC8mB,aAAa,KAAKyc,YAAY,KAAKC,cAAc,OAAOiE,GAAGtH,GAAGngC,OAAO,CAAC0nC,OAAO,SAAShtC,GAAG,MAAM,WAAWA,EAAEA,EAAEgtC,OAAO,gBAClfhtC,GAAGA,EAAEitC,YAAY,GAAGC,OAAO,SAASltC,GAAG,MAAM,WAAWA,EAAEA,EAAEktC,OAAO,gBAAgBltC,GAAGA,EAAEmtC,YAAY,eAAentC,GAAGA,EAAEotC,WAAW,GAAGC,OAAO,KAAKC,UAAU,OAAOC,GAAG,CAACvjB,WAAW+N,GAAGhO,cAAc,SAAS/pB,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAEwT,GAAGvhC,IAAIuJ,GAAG,IAAIwkB,EAAE,OAAO,KAAK,OAAOxkB,GAAG,IAAK,WAAW,GAAG,IAAIkpC,GAAGjzC,GAAG,OAAO,KAAK,IAAK,UAAU,IAAK,QAAQ+J,EAAEssC,GAAG,MAAM,IAAK,OAAO,IAAK,QAAQtsC,EAAEipC,GAAG,MAAM,IAAK,QAAQ,GAAG,IAAIhzC,EAAEob,OAAO,OAAO,KAAK,IAAK,WAAW,IAAK,WAAW,IAAK,YAAY,IAAK,YAAY,IAAK,UAAU,IAAK,WAAW,IAAK,YAAY,IAAK,cAAcrR,EACniBylC,GAAG,MAAM,IAAK,OAAO,IAAK,UAAU,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,OAAOzlC,EAAEwsC,GAAG,MAAM,IAAK,cAAc,IAAK,WAAW,IAAK,YAAY,IAAK,aAAaxsC,EAAE0sC,GAAG,MAAM,KAAK9Z,GAAG,KAAKC,GAAG,KAAKC,GAAG9yB,EAAE2oC,GAAG,MAAM,KAAK5V,GAAG/yB,EAAE8sC,GAAG,MAAM,IAAK,SAAS9sC,EAAE2kC,GAAG,MAAM,IAAK,QAAQ3kC,EAAE+sC,GAAG,MAAM,IAAK,OAAO,IAAK,MAAM,IAAK,QAAQ/sC,EAAE+oC,GAAG,MAAM,IAAK,oBAAoB,IAAK,qBAAqB,IAAK,gBAAgB,IAAK,cAAc,IAAK,cAAc,IAAK,aAAa,IAAK,cAAc,IAAK,YAAY/oC,EACzhBqmC,GAAG,MAAM,QAAQrmC,EAAE4jB,GAA+B,OAA7B3jB,EAAED,EAAE0gC,UAAUlc,EAAEvkB,EAAEhK,EAAEC,GAAGwpC,GAAGz/B,GAAUA,IAAI,GAAG0pB,EAAG,MAAMtmB,MAAMsf,EAAE,MAAMgH,EAAGnqB,MAAMhI,UAAUiI,MAAM1J,KAAK,0HAA0HqF,MAAM,MAAMyuB,IAAK,IAAI2jB,GAAGvW,GAAG3N,EAAG2V,GAAG1V,EAAGikB,GAAGhkB,EAAGwV,GAAGxU,EAAG,CAACijB,kBAAkBF,GAAGG,sBAAsBxG,GAAGyG,kBAAkBlJ,GAAGmJ,kBAAkBnF,GAAGoF,uBAAuBlL,KAAK,IAAImL,GAAG,GAAGC,IAAI,EAAE,SAASlqB,GAAE7jB,GAAG,EAAE+tC,KAAK/tC,EAAEyB,QAAQqsC,GAAGC,IAAID,GAAGC,IAAI,KAAKA,MACtd,SAAS/pB,GAAEhkB,EAAEC,GAAG8tC,KAAKD,GAAGC,IAAI/tC,EAAEyB,QAAQzB,EAAEyB,QAAQxB,EAAE,IAAI+tC,GAAG,GAAG9pB,GAAE,CAACziB,QAAQusC,IAAI7pB,GAAE,CAAC1iB,SAAQ,GAAIwsC,GAAGD,GAAG,SAASE,GAAGluC,EAAEC,GAAG,IAAIhK,EAAE+J,EAAE1C,KAAK6wC,aAAa,IAAIl4C,EAAE,OAAO+3C,GAAG,IAAI93C,EAAE8J,EAAE8qB,UAAU,GAAG50B,GAAGA,EAAEk4C,8CAA8CnuC,EAAE,OAAO/J,EAAEm4C,0CAA0C,IAAS1pB,EAALH,EAAE,GAAK,IAAIG,KAAK1uB,EAAEuuB,EAAEG,GAAG1kB,EAAE0kB,GAAoH,OAAjHzuB,IAAI8J,EAAEA,EAAE8qB,UAAU9qB,EAAEouC,4CAA4CnuC,EAAED,EAAEquC,0CAA0C7pB,GAAUA,EAAE,SAASJ,GAAEpkB,GAAyB,OAAtBA,EAAEA,EAAEsuC,kBAAyB,OAAOtuC,QAAG,IAASA,EAChf,SAASuuC,KAAK1qB,GAAEM,IAAGN,GAAEK,IAAG,SAASsqB,GAAGxuC,EAAEC,EAAEhK,GAAG,GAAGiuB,GAAEziB,UAAUusC,GAAG,MAAM3qC,MAAMsf,EAAE,MAAMqB,GAAEE,GAAEjkB,GAAG+jB,GAAEG,GAAEluB,GAAG,SAASw4C,GAAGzuC,EAAEC,EAAEhK,GAAG,IAAIC,EAAE8J,EAAE8qB,UAAgC,GAAtB9qB,EAAEC,EAAEquC,kBAAqB,oBAAoBp4C,EAAEw4C,gBAAgB,OAAOz4C,EAAwB,IAAI,IAAIuuB,KAA9BtuB,EAAEA,EAAEw4C,kBAA+Bx4C,EAAE,KAAKsuB,KAAKxkB,GAAG,MAAMqD,MAAMsf,EAAE,IAAIqL,GAAG/tB,IAAI,UAAUukB,IAAI,OAAOntB,EAAE,GAAGpB,EAAE,GAAGC,GAAG,SAASy4C,GAAG3uC,GAAyG,OAAtGA,GAAGA,EAAEA,EAAE8qB,YAAY9qB,EAAE4uC,2CAA2CZ,GAAGC,GAAG/pB,GAAEziB,QAAQuiB,GAAEE,GAAElkB,GAAGgkB,GAAEG,GAAEA,GAAE1iB,UAAe,EACpb,SAASotC,GAAG7uC,EAAEC,EAAEhK,GAAG,IAAIC,EAAE8J,EAAE8qB,UAAU,IAAI50B,EAAE,MAAMmN,MAAMsf,EAAE,MAAM1sB,GAAG+J,EAAEyuC,GAAGzuC,EAAEC,EAAEguC,IAAI/3C,EAAE04C,0CAA0C5uC,EAAE6jB,GAAEM,IAAGN,GAAEK,IAAGF,GAAEE,GAAElkB,IAAI6jB,GAAEM,IAAGH,GAAEG,GAAEluB,GACxJ,IAAI64C,GAAGp4C,EAAE0gC,yBAAyB2X,GAAGr4C,EAAEkhC,0BAA0BoX,GAAGt4C,EAAEu4C,wBAAwBC,GAAGx4C,EAAEy4C,sBAAsBC,GAAG14C,EAAE24C,aAAaC,GAAG54C,EAAE64C,iCAAiCC,GAAG94C,EAAE+4C,2BAA2BC,GAAGh5C,EAAEgiC,8BAA8BiX,GAAGj5C,EAAEmhC,wBAAwB+X,GAAGl5C,EAAEm5C,qBAAqBC,GAAGp5C,EAAEq5C,sBAAsBC,GAAG,GAAGC,GAAGv5C,EAAEw5C,qBAAqBC,QAAG,IAASjB,GAAGA,GAAG,aAAakB,GAAG,KAAKC,GAAG,KAAKC,IAAG,EAAGC,GAAGnB,KAAKoB,GAAG,IAAID,GAAGnB,GAAG,WAAW,OAAOA,KAAKmB,IACvc,SAASE,KAAK,OAAOnB,MAAM,KAAKE,GAAG,OAAO,GAAG,KAAKE,GAAG,OAAO,GAAG,KAAKC,GAAG,OAAO,GAAG,KAAKC,GAAG,OAAO,GAAG,KAAKE,GAAG,OAAO,GAAG,QAAQ,MAAMzsC,MAAMsf,EAAE,OAAQ,SAAS+tB,GAAG1wC,GAAG,OAAOA,GAAG,KAAK,GAAG,OAAOwvC,GAAG,KAAK,GAAG,OAAOE,GAAG,KAAK,GAAG,OAAOC,GAAG,KAAK,GAAG,OAAOC,GAAG,KAAK,GAAG,OAAOE,GAAG,QAAQ,MAAMzsC,MAAMsf,EAAE,OAAQ,SAASguB,GAAG3wC,EAAEC,GAAW,OAARD,EAAE0wC,GAAG1wC,GAAU8uC,GAAG9uC,EAAEC,GAAG,SAAS2wC,GAAG5wC,EAAEC,EAAEhK,GAAW,OAAR+J,EAAE0wC,GAAG1wC,GAAU+uC,GAAG/uC,EAAEC,EAAEhK,GAAG,SAAS46C,GAAG7wC,GAA8C,OAA3C,OAAOowC,IAAIA,GAAG,CAACpwC,GAAGqwC,GAAGtB,GAAGS,GAAGsB,KAAKV,GAAGtwC,KAAKE,GAAUgwC,GAAG,SAASe,KAAK,GAAG,OAAOV,GAAG,CAAC,IAAIrwC,EAAEqwC,GAAGA,GAAG,KAAKrB,GAAGhvC,GAAG8wC,KAC/e,SAASA,KAAK,IAAIR,IAAI,OAAOF,GAAG,CAACE,IAAG,EAAG,IAAItwC,EAAE,EAAE,IAAI,IAAIC,EAAEmwC,GAAGO,GAAG,IAAG,WAAW,KAAK3wC,EAAEC,EAAEvD,OAAOsD,IAAI,CAAC,IAAI/J,EAAEgK,EAAED,GAAG,GAAG/J,EAAEA,GAAE,SAAU,OAAOA,OAAMm6C,GAAG,KAAK,MAAMn6C,GAAG,MAAM,OAAOm6C,KAAKA,GAAGA,GAAG3wC,MAAMO,EAAE,IAAI+uC,GAAGS,GAAGuB,IAAI96C,EAAG,QAAQq6C,IAAG,IAAK,SAASU,GAAGhxC,EAAEC,EAAEhK,GAAS,OAANA,GAAG,GAAU,YAAsC,IAAxB,WAAW+J,EAAEC,EAAE,IAAIhK,EAAE,IAAMA,EAAE,SAASg7C,GAAGjxC,EAAEC,GAAG,GAAGD,GAAGA,EAAEqB,aAAyC,IAAI,IAAIpL,KAAnCgK,EAAE5I,EAAE,GAAG4I,GAAGD,EAAEA,EAAEqB,aAA0BrB,OAAE,IAASC,EAAEhK,KAAKgK,EAAEhK,GAAG+J,EAAE/J,IAAI,OAAOgK,EAAE,IAAIixC,GAAG,CAACzvC,QAAQ,MAAM0vC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK,SAASC,KAAKD,GAAGD,GAAGD,GAAG,KACle,SAASI,GAAGvxC,GAAG,IAAIC,EAAEixC,GAAGzvC,QAAQoiB,GAAEqtB,IAAIlxC,EAAE1C,KAAKmqB,SAASJ,cAAcpnB,EAAE,SAASuxC,GAAGxxC,EAAEC,GAAG,KAAK,OAAOD,GAAG,CAAC,IAAI/J,EAAE+J,EAAEszB,UAAU,GAAGtzB,EAAEyxC,oBAAoBxxC,EAAED,EAAEyxC,oBAAoBxxC,EAAE,OAAOhK,GAAGA,EAAEw7C,oBAAoBxxC,IAAIhK,EAAEw7C,oBAAoBxxC,OAAQ,MAAG,OAAOhK,GAAGA,EAAEw7C,oBAAoBxxC,GAA+B,MAA7BhK,EAAEw7C,oBAAoBxxC,EAAaD,EAAEA,EAAEwuB,QAAQ,SAASkjB,GAAG1xC,EAAEC,GAAGkxC,GAAGnxC,EAAEqxC,GAAGD,GAAG,KAAKpxC,EAAEA,EAAEuqB,aAAa,OAAOvqB,GAAG,OAAOA,EAAE2xC,eAAe3xC,EAAE4xC,gBAAgB3xC,IAAI4xC,IAAG,GAAI7xC,EAAE2xC,aAAa,MAClc,SAASG,GAAG9xC,EAAEC,GAAG,GAAGoxC,KAAKrxC,IAAG,IAAKC,GAAG,IAAIA,EAAmG,GAA7F,kBAAkBA,GAAG,aAAaA,IAAEoxC,GAAGrxC,EAAEC,EAAE,YAAWA,EAAE,CAAC9G,QAAQ6G,EAAE+xC,aAAa9xC,EAAE3B,KAAK,MAAS,OAAO8yC,GAAG,CAAC,GAAG,OAAOD,GAAG,MAAM9tC,MAAMsf,EAAE,MAAMyuB,GAAGnxC,EAAEkxC,GAAG5mB,aAAa,CAACqnB,eAAe,EAAED,aAAa1xC,EAAE+xC,WAAW,WAAWZ,GAAGA,GAAG9yC,KAAK2B,EAAE,OAAOD,EAAEqnB,cAAc,IAAI4qB,IAAG,EAAG,SAASC,GAAGlyC,GAAGA,EAAEmyC,YAAY,CAACC,UAAUpyC,EAAEyzB,cAAc4e,UAAU,KAAKC,OAAO,CAACC,QAAQ,MAAMC,QAAQ,MACzZ,SAASC,GAAGzyC,EAAEC,GAAGD,EAAEA,EAAEmyC,YAAYlyC,EAAEkyC,cAAcnyC,IAAIC,EAAEkyC,YAAY,CAACC,UAAUpyC,EAAEoyC,UAAUC,UAAUryC,EAAEqyC,UAAUC,OAAOtyC,EAAEsyC,OAAOE,QAAQxyC,EAAEwyC,UAAU,SAASE,GAAG1yC,EAAEC,GAAoF,OAAjFD,EAAE,CAAC4xC,eAAe5xC,EAAE2yC,eAAe1yC,EAAEkuB,IAAI,EAAErb,QAAQ,KAAKvP,SAAS,KAAKjF,KAAK,MAAa0B,EAAE1B,KAAK0B,EAAE,SAAS4yC,GAAG5yC,EAAEC,GAAmB,GAAhBD,EAAEA,EAAEmyC,YAAe,OAAOnyC,EAAE,CAACA,EAAEA,EAAEsyC,OAAO,IAAIr8C,EAAE+J,EAAEuyC,QAAQ,OAAOt8C,EAAEgK,EAAE3B,KAAK2B,GAAGA,EAAE3B,KAAKrI,EAAEqI,KAAKrI,EAAEqI,KAAK2B,GAAGD,EAAEuyC,QAAQtyC,GACpY,SAAS4yC,GAAG7yC,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEszB,UAAU,OAAOr9B,GAAGw8C,GAAGx8C,EAAE+J,GAAGA,EAAEA,EAAEmyC,YAAYl8C,EAAE+J,EAAEqyC,UAAU,OAAOp8C,GAAG+J,EAAEqyC,UAAUpyC,EAAE3B,KAAK2B,EAAEA,EAAE3B,KAAK2B,IAAIA,EAAE3B,KAAKrI,EAAEqI,KAAKrI,EAAEqI,KAAK2B,GAClJ,SAAS6yC,GAAG9yC,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAExkB,EAAEmyC,YAAYF,IAAG,EAAG,IAAIttB,EAAEH,EAAE6tB,UAAU5tB,EAAED,EAAE8tB,OAAOC,QAAQ,GAAG,OAAO9tB,EAAE,CAAC,GAAG,OAAOE,EAAE,CAAC,IAAIC,EAAED,EAAErmB,KAAKqmB,EAAErmB,KAAKmmB,EAAEnmB,KAAKmmB,EAAEnmB,KAAKsmB,EAAED,EAAEF,EAAED,EAAE8tB,OAAOC,QAAQ,KAAK3tB,EAAE5kB,EAAEszB,UAAU,OAAO1O,IAAIA,EAAEA,EAAEutB,YAAY,OAAOvtB,IAAIA,EAAEytB,UAAU5tB,IAAI,GAAG,OAAOE,EAAE,CAACC,EAAED,EAAErmB,KAAK,IAAIomB,EAAEF,EAAE4tB,UAAUv8C,EAAE,EAAEG,EAAE,KAAK0B,EAAE,KAAK2V,EAAE,KAAK,GAAG,OAAOuX,EAAE,CAAC,IAAI9B,EAAE8B,EAAE,EAAE,CAAoB,GAAnBH,EAAE3B,EAAE8uB,eAAkBntB,EAAEvuB,EAAE,CAAC,IAAI68C,EAAG,CAACnB,eAAe9uB,EAAE8uB,eAAee,eAAe7vB,EAAE6vB,eAAexkB,IAAIrL,EAAEqL,IAAIrb,QAAQgQ,EAAEhQ,QAAQvP,SAASuf,EAAEvf,SAASjF,KAAK,MAAM,OAAO+O,GAAG3V,EAAE2V,EACnf0lC,EAAG/8C,EAAE0uB,GAAGrX,EAAEA,EAAE/O,KAAKy0C,EAAGtuB,EAAE5uB,IAAIA,EAAE4uB,OAAO,CAAC,OAAOpX,IAAIA,EAAEA,EAAE/O,KAAK,CAACszC,eAAe,WAAWe,eAAe7vB,EAAE6vB,eAAexkB,IAAIrL,EAAEqL,IAAIrb,QAAQgQ,EAAEhQ,QAAQvP,SAASuf,EAAEvf,SAASjF,KAAK,OAAO00C,GAAGvuB,EAAE3B,EAAE6vB,gBAAgB3yC,EAAE,CAAC,IAAIojB,EAAEpjB,EAAElJ,EAAEgsB,EAAW,OAAT2B,EAAExkB,EAAE8yC,EAAG98C,EAASa,EAAEq3B,KAAK,KAAK,EAAc,GAAZ/K,EAAEtsB,EAAEgc,QAAW,oBAAoBsQ,EAAE,CAACsB,EAAEtB,EAAErtB,KAAKg9C,EAAGruB,EAAED,GAAG,MAAMzkB,EAAE0kB,EAAEtB,EAAE,MAAMpjB,EAAE,KAAK,EAAEojB,EAAEmQ,WAAuB,KAAbnQ,EAAEmQ,UAAgB,GAAG,KAAK,EAAuD,GAArDnQ,EAAEtsB,EAAEgc,QAAQ2R,EAAE,oBAAoBrB,EAAEA,EAAErtB,KAAKg9C,EAAGruB,EAAED,GAAGrB,EAAK,OAAOqB,QAAG,IAASA,EAAE,MAAMzkB,EAAE0kB,EAAErtB,EAAE,GAAGqtB,EAAED,GAAG,MAAMzkB,EAAE,KAAK,EAAEiyC,IAAG,GAAI,OAAOnvB,EAAEvf,WAC5evD,EAAEuzB,WAAW,GAAG9O,EAAED,EAAEguB,QAAQ,OAAO/tB,EAAED,EAAEguB,QAAQ,CAAC1vB,GAAG2B,EAAE3kB,KAAKgjB,IAAa,GAATA,EAAEA,EAAExkB,KAAQ,OAAOwkB,GAAGA,IAAI8B,EAAE,IAAGH,EAAED,EAAE8tB,OAAOC,QAAQ,OAAO9tB,EAAE,MAAW3B,EAAE6B,EAAErmB,KAAKmmB,EAAEnmB,KAAKmmB,EAAEnmB,KAAKsmB,EAAEJ,EAAE6tB,UAAU1tB,EAAEF,EAAED,EAAE8tB,OAAOC,QAAQ,YAAW,GAAG,OAAOllC,EAAErX,EAAE0uB,EAAErX,EAAE/O,KAAK5G,EAAE8sB,EAAE4tB,UAAUp8C,EAAEwuB,EAAE6tB,UAAUhlC,EAAE4lC,GAAGp9C,GAAGmK,EAAE4xC,eAAe/7C,EAAEmK,EAAEyzB,cAAc/O,GACxS,SAASwuB,GAAGlzC,EAAEC,EAAEhK,GAA8B,GAA3B+J,EAAEC,EAAEuyC,QAAQvyC,EAAEuyC,QAAQ,KAAQ,OAAOxyC,EAAE,IAAIC,EAAE,EAAEA,EAAED,EAAEtD,OAAOuD,IAAI,CAAC,IAAI/J,EAAE8J,EAAEC,GAAGukB,EAAEtuB,EAAEqN,SAAS,GAAG,OAAOihB,EAAE,CAAyB,GAAxBtuB,EAAEqN,SAAS,KAAKrN,EAAEsuB,EAAEA,EAAEvuB,EAAK,oBAAoBC,EAAE,MAAMmN,MAAMsf,EAAE,IAAIzsB,IAAIA,EAAEH,KAAKyuB,KAAK,IAAI2uB,GAAGzmB,GAAGpG,wBAAwB8sB,IAAG,IAAKptB,EAAGltB,WAAWwhB,KAAK,SAAS+4B,GAAGrzC,EAAEC,EAAEhK,EAAEC,GAAG+J,EAAED,EAAEyzB,cAAcx9B,EAAEA,EAAEC,EAAE+J,GAAGhK,EAAE,OAAOA,QAAG,IAASA,EAAEgK,EAAE5I,EAAE,GAAG4I,EAAEhK,GAAG+J,EAAEyzB,cAAcx9B,EAAE,IAAI+J,EAAE4xC,iBAAiB5xC,EAAEmyC,YAAYC,UAAUn8C,GAC3Z,IAAIq9C,GAAG,CAACjwB,UAAU,SAASrjB,GAAG,SAAOA,EAAEA,EAAEuzC,sBAAqBlgB,GAAGrzB,KAAKA,GAAMwjB,gBAAgB,SAASxjB,EAAEC,EAAEhK,GAAG+J,EAAEA,EAAEuzC,oBAAoB,IAAIr9C,EAAEs9C,KAAKhvB,EAAE2uB,GAAG5sB,SAASrwB,EAAEu9C,GAAGv9C,EAAE8J,EAAEwkB,GAAGA,EAAEkuB,GAAGx8C,EAAEsuB,GAAGA,EAAE1R,QAAQ7S,OAAE,IAAShK,GAAG,OAAOA,IAAIuuB,EAAEjhB,SAAStN,GAAG28C,GAAG5yC,EAAEwkB,GAAGkvB,GAAG1zC,EAAE9J,IAAIqtB,oBAAoB,SAASvjB,EAAEC,EAAEhK,GAAG+J,EAAEA,EAAEuzC,oBAAoB,IAAIr9C,EAAEs9C,KAAKhvB,EAAE2uB,GAAG5sB,SAASrwB,EAAEu9C,GAAGv9C,EAAE8J,EAAEwkB,GAAGA,EAAEkuB,GAAGx8C,EAAEsuB,GAAGA,EAAE2J,IAAI,EAAE3J,EAAE1R,QAAQ7S,OAAE,IAAShK,GAAG,OAAOA,IAAIuuB,EAAEjhB,SAAStN,GAAG28C,GAAG5yC,EAAEwkB,GAAGkvB,GAAG1zC,EAAE9J,IAAIotB,mBAAmB,SAAStjB,EAAEC,GAAGD,EAAEA,EAAEuzC,oBAAoB,IAAIt9C,EAAEu9C,KAAKt9C,EAAEi9C,GAAG5sB,SACnftwB,EAAEw9C,GAAGx9C,EAAE+J,EAAE9J,GAAGA,EAAEw8C,GAAGz8C,EAAEC,GAAGA,EAAEi4B,IAAI,OAAE,IAASluB,GAAG,OAAOA,IAAI/J,EAAEqN,SAAStD,GAAG2yC,GAAG5yC,EAAE9J,GAAGw9C,GAAG1zC,EAAE/J,KAAK,SAAS09C,GAAG3zC,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,EAAEF,GAAiB,OAAdzkB,EAAEA,EAAE8qB,UAAgB,oBAAoB9qB,EAAE4zC,sBAAsB5zC,EAAE4zC,sBAAsB19C,EAAEyuB,EAAEF,IAAGxkB,EAAEzI,YAAWyI,EAAEzI,UAAUysB,wBAAsBujB,GAAGvxC,EAAEC,KAAKsxC,GAAGhjB,EAAEG,IAC7Q,SAASkvB,GAAG7zC,EAAEC,EAAEhK,GAAG,IAAIC,GAAE,EAAGsuB,EAAEwpB,GAAOrpB,EAAE1kB,EAAExG,YAA8W,MAAlW,kBAAkBkrB,GAAG,OAAOA,EAAEA,EAAEmtB,GAAGntB,IAAIH,EAAEJ,GAAEnkB,GAAGguC,GAAG/pB,GAAEziB,QAAQvL,EAAE+J,EAAEkuC,aAAaxpB,GAAGzuB,EAAE,OAAOA,QAAG,IAASA,GAAGg4C,GAAGluC,EAAEwkB,GAAGwpB,IAAI/tC,EAAE,IAAIA,EAAEhK,EAAE0uB,GAAG3kB,EAAEyzB,cAAc,OAAOxzB,EAAEpE,YAAO,IAASoE,EAAEpE,MAAMoE,EAAEpE,MAAM,KAAKoE,EAAE0jB,QAAQ2vB,GAAGtzC,EAAE8qB,UAAU7qB,EAAEA,EAAEszC,oBAAoBvzC,EAAE9J,IAAI8J,EAAEA,EAAE8qB,UAAU9qB,EAAEouC,4CAA4C5pB,EAAExkB,EAAEquC,0CAA0C1pB,GAAU1kB,EAC9Z,SAAS6zC,GAAG9zC,EAAEC,EAAEhK,EAAEC,GAAG8J,EAAEC,EAAEpE,MAAM,oBAAoBoE,EAAE8zC,2BAA2B9zC,EAAE8zC,0BAA0B99C,EAAEC,GAAG,oBAAoB+J,EAAE+zC,kCAAkC/zC,EAAE+zC,iCAAiC/9C,EAAEC,GAAG+J,EAAEpE,QAAQmE,GAAGszC,GAAG/vB,oBAAoBtjB,EAAEA,EAAEpE,MAAM,MAC/P,SAASo4C,GAAGj0C,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAExkB,EAAE8qB,UAAUtG,EAAEvrB,MAAMhD,EAAEuuB,EAAE3oB,MAAMmE,EAAEyzB,cAAcjP,EAAElK,KAAK84B,GAAGlB,GAAGlyC,GAAG,IAAI2kB,EAAE1kB,EAAExG,YAAY,kBAAkBkrB,GAAG,OAAOA,EAAEH,EAAErrB,QAAQ24C,GAAGntB,IAAIA,EAAEP,GAAEnkB,GAAGguC,GAAG/pB,GAAEziB,QAAQ+iB,EAAErrB,QAAQ+0C,GAAGluC,EAAE2kB,IAAImuB,GAAG9yC,EAAE/J,EAAEuuB,EAAEtuB,GAAGsuB,EAAE3oB,MAAMmE,EAAEyzB,cAAc9O,EAAE1kB,EAAEi0C,yBAAyB,oBAAoBvvB,IAAI0uB,GAAGrzC,EAAEC,EAAE0kB,EAAE1uB,GAAGuuB,EAAE3oB,MAAMmE,EAAEyzB,eAAe,oBAAoBxzB,EAAEi0C,0BAA0B,oBAAoB1vB,EAAE2vB,yBAAyB,oBAAoB3vB,EAAE4vB,2BAA2B,oBAAoB5vB,EAAE6vB,qBACtep0C,EAAEukB,EAAE3oB,MAAM,oBAAoB2oB,EAAE6vB,oBAAoB7vB,EAAE6vB,qBAAqB,oBAAoB7vB,EAAE4vB,2BAA2B5vB,EAAE4vB,4BAA4Bn0C,IAAIukB,EAAE3oB,OAAOy3C,GAAG/vB,oBAAoBiB,EAAEA,EAAE3oB,MAAM,MAAMi3C,GAAG9yC,EAAE/J,EAAEuuB,EAAEtuB,GAAGsuB,EAAE3oB,MAAMmE,EAAEyzB,eAAe,oBAAoBjP,EAAE8vB,oBAAoBt0C,EAAEuzB,WAAW,GAAG,IAAIghB,GAAG/0C,MAAMzF,QAC3T,SAASy6C,GAAGx0C,EAAEC,EAAEhK,GAAW,GAAR+J,EAAE/J,EAAEiD,IAAO,OAAO8G,GAAG,oBAAoBA,GAAG,kBAAkBA,EAAE,CAAC,GAAG/J,EAAE6uB,OAAO,CAAY,GAAX7uB,EAAEA,EAAE6uB,OAAU7uB,EAAE,CAAC,GAAG,IAAIA,EAAEk4B,IAAI,MAAM9qB,MAAMsf,EAAE,MAAM,IAAIzsB,EAAED,EAAE60B,UAAU,IAAI50B,EAAE,MAAMmN,MAAMsf,EAAE,IAAI3iB,IAAI,IAAIwkB,EAAE,GAAGxkB,EAAE,OAAG,OAAOC,GAAG,OAAOA,EAAE/G,KAAK,oBAAoB+G,EAAE/G,KAAK+G,EAAE/G,IAAIu7C,aAAajwB,EAASvkB,EAAE/G,KAAI+G,EAAE,SAASD,GAAG,IAAIC,EAAE/J,EAAEokB,KAAKra,IAAImzC,KAAKnzC,EAAE/J,EAAEokB,KAAK,IAAI,OAAOta,SAASC,EAAEukB,GAAGvkB,EAAEukB,GAAGxkB,GAAGC,EAAEw0C,WAAWjwB,EAASvkB,GAAE,GAAG,kBAAkBD,EAAE,MAAMqD,MAAMsf,EAAE,MAAM,IAAI1sB,EAAE6uB,OAAO,MAAMzhB,MAAMsf,EAAE,IAAI3iB,IAAK,OAAOA,EAChe,SAAS00C,GAAG10C,EAAEC,GAAG,GAAG,aAAaD,EAAE1C,KAAK,MAAM+F,MAAMsf,EAAE,GAAG,oBAAoBrsB,OAAOkB,UAAUwC,SAASjE,KAAKkK,GAAG,qBAAqB3J,OAAOqH,KAAKsC,GAAGsV,KAAK,MAAM,IAAItV,EAAE,KACpK,SAAS00C,GAAG30C,GAAG,SAASC,EAAEA,EAAEhK,GAAG,GAAG+J,EAAE,CAAC,IAAI9J,EAAE+J,EAAE20C,WAAW,OAAO1+C,GAAGA,EAAE2+C,WAAW5+C,EAAEgK,EAAE20C,WAAW3+C,GAAGgK,EAAE60C,YAAY70C,EAAE20C,WAAW3+C,EAAEA,EAAE4+C,WAAW,KAAK5+C,EAAEs9B,UAAU,GAAG,SAASt9B,EAAEA,EAAEC,GAAG,IAAI8J,EAAE,OAAO,KAAK,KAAK,OAAO9J,GAAG+J,EAAEhK,EAAEC,GAAGA,EAAEA,EAAE49B,QAAQ,OAAO,KAAK,SAAS59B,EAAE8J,EAAEC,GAAG,IAAID,EAAE,IAAImzB,IAAI,OAAOlzB,GAAG,OAAOA,EAAE9I,IAAI6I,EAAEygB,IAAIxgB,EAAE9I,IAAI8I,GAAGD,EAAEygB,IAAIxgB,EAAEG,MAAMH,GAAGA,EAAEA,EAAE6zB,QAAQ,OAAO9zB,EAAE,SAASwkB,EAAExkB,EAAEC,GAAsC,OAAnCD,EAAE+0C,GAAG/0C,EAAEC,GAAGD,EAAEI,MAAM,EAAEJ,EAAE8zB,QAAQ,KAAY9zB,EAAE,SAAS2kB,EAAE1kB,EAAEhK,EAAEC,GAAa,OAAV+J,EAAEG,MAAMlK,EAAM8J,GAAW9J,EAAE+J,EAAEqzB,UAAa,OAAOp9B,GAASA,EAAEA,EAAEkK,MAAMlK,EAAED,GAAGgK,EAAEszB,UAClf,EAAEt9B,GAAGC,IAAE+J,EAAEszB,UAAU,EAASt9B,IADkaA,EACha,SAASwuB,EAAExkB,GAA0C,OAAvCD,GAAG,OAAOC,EAAEqzB,YAAYrzB,EAAEszB,UAAU,GAAUtzB,EAAE,SAAS2kB,EAAE5kB,EAAEC,EAAEhK,EAAEC,GAAG,OAAG,OAAO+J,GAAG,IAAIA,EAAEkuB,KAAWluB,EAAE+0C,GAAG/+C,EAAE+J,EAAEjJ,KAAKb,GAAG+J,EAAEuuB,OAAOxuB,EAAEC,IAAEA,EAAEukB,EAAEvkB,EAAEhK,GAAGgK,EAAEuuB,OAAOxuB,EAASC,GAAE,SAASykB,EAAE1kB,EAAEC,EAAEhK,EAAEC,GAAG,OAAG,OAAO+J,GAAGA,EAAEg1C,cAAch/C,EAAEqH,MAAYpH,EAAEsuB,EAAEvkB,EAAEhK,EAAEgD,OAAO/C,EAAEgD,IAAIs7C,GAAGx0C,EAAEC,EAAEhK,GAAGC,EAAEs4B,OAAOxuB,EAAE9J,IAAEA,EAAEg/C,GAAGj/C,EAAEqH,KAAKrH,EAAEkB,IAAIlB,EAAEgD,MAAM,KAAK+G,EAAEjJ,KAAKb,GAAGA,EAAEgD,IAAIs7C,GAAGx0C,EAAEC,EAAEhK,GAAGC,EAAEs4B,OAAOxuB,EAAS9J,GAAE,SAASL,EAAEmK,EAAEC,EAAEhK,EAAEC,GAAG,OAAG,OAAO+J,GAAG,IAAIA,EAAEkuB,KAAKluB,EAAE6qB,UAAUyK,gBAAgBt/B,EAAEs/B,eAAet1B,EAAE6qB,UAAUqqB,iBACtel/C,EAAEk/C,gBAAsBl1C,EAAEm1C,GAAGn/C,EAAE+J,EAAEjJ,KAAKb,GAAG+J,EAAEuuB,OAAOxuB,EAAEC,IAAEA,EAAEukB,EAAEvkB,EAAEhK,EAAEmL,UAAU,IAAInB,EAAEuuB,OAAOxuB,EAASC,GAAE,SAASjK,EAAEgK,EAAEC,EAAEhK,EAAEC,EAAEyuB,GAAG,OAAG,OAAO1kB,GAAG,IAAIA,EAAEkuB,KAAWluB,EAAEo1C,GAAGp/C,EAAE+J,EAAEjJ,KAAKb,EAAEyuB,GAAG1kB,EAAEuuB,OAAOxuB,EAAEC,IAAEA,EAAEukB,EAAEvkB,EAAEhK,GAAGgK,EAAEuuB,OAAOxuB,EAASC,GAAE,SAASvI,EAAEsI,EAAEC,EAAEhK,GAAG,GAAG,kBAAkBgK,GAAG,kBAAkBA,EAAE,OAAOA,EAAE+0C,GAAG,GAAG/0C,EAAED,EAAEjJ,KAAKd,GAAGgK,EAAEuuB,OAAOxuB,EAAEC,EAAE,GAAG,kBAAkBA,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAE4kB,UAAU,KAAKkI,GAAG,OAAO92B,EAAEi/C,GAAGj1C,EAAE3C,KAAK2C,EAAE9I,IAAI8I,EAAEhH,MAAM,KAAK+G,EAAEjJ,KAAKd,GAAGA,EAAEiD,IAAIs7C,GAAGx0C,EAAE,KAAKC,GAAGhK,EAAEu4B,OAAOxuB,EAAE/J,EAAE,KAAK+2B,GAAG,OAAO/sB,EAAEm1C,GAAGn1C,EAAED,EAAEjJ,KAAKd,GAAGgK,EAAEuuB,OAAOxuB,EAAEC,EAAE,GAAGs0C,GAAGt0C,IACvf6tB,GAAG7tB,GAAG,OAAOA,EAAEo1C,GAAGp1C,EAAED,EAAEjJ,KAAKd,EAAE,MAAMgK,EAAEuuB,OAAOxuB,EAAEC,EAAEy0C,GAAG10C,EAAEC,GAAG,OAAO,KAAK,SAASoN,EAAErN,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAE,OAAOvkB,EAAEA,EAAE9I,IAAI,KAAK,GAAG,kBAAkBlB,GAAG,kBAAkBA,EAAE,OAAO,OAAOuuB,EAAE,KAAKI,EAAE5kB,EAAEC,EAAE,GAAGhK,EAAEC,GAAG,GAAG,kBAAkBD,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAE4uB,UAAU,KAAKkI,GAAG,OAAO92B,EAAEkB,MAAMqtB,EAAEvuB,EAAEqH,OAAO2vB,GAAGj3B,EAAEgK,EAAEC,EAAEhK,EAAEgD,MAAMmI,SAASlL,EAAEsuB,GAAGE,EAAE1kB,EAAEC,EAAEhK,EAAEC,GAAG,KAAK,KAAK82B,GAAG,OAAO/2B,EAAEkB,MAAMqtB,EAAE3uB,EAAEmK,EAAEC,EAAEhK,EAAEC,GAAG,KAAK,GAAGq+C,GAAGt+C,IAAI63B,GAAG73B,GAAG,OAAO,OAAOuuB,EAAE,KAAKxuB,EAAEgK,EAAEC,EAAEhK,EAAEC,EAAE,MAAMw+C,GAAG10C,EAAE/J,GAAG,OAAO,KAAK,SAAS6sB,EAAE9iB,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,GAAG,kBAAkBtuB,GAAG,kBAAkBA,EAAE,OAAO8J,EAClgBA,EAAEvJ,IAAIR,IAAI,KAAK2uB,EAAE3kB,EAAED,EAAE,GAAG9J,EAAEsuB,GAAG,GAAG,kBAAkBtuB,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAE2uB,UAAU,KAAKkI,GAAG,OAAO/sB,EAAEA,EAAEvJ,IAAI,OAAOP,EAAEiB,IAAIlB,EAAEC,EAAEiB,MAAM,KAAKjB,EAAEoH,OAAO2vB,GAAGj3B,EAAEiK,EAAED,EAAE9J,EAAE+C,MAAMmI,SAASojB,EAAEtuB,EAAEiB,KAAKutB,EAAEzkB,EAAED,EAAE9J,EAAEsuB,GAAG,KAAKwI,GAAG,OAAOhtB,EAAEA,EAAEvJ,IAAI,OAAOP,EAAEiB,IAAIlB,EAAEC,EAAEiB,MAAM,KAAKtB,EAAEoK,EAAED,EAAE9J,EAAEsuB,GAAG,GAAG+vB,GAAGr+C,IAAI43B,GAAG53B,GAAG,OAAO8J,EAAEA,EAAEvJ,IAAIR,IAAI,KAAKD,EAAEiK,EAAED,EAAE9J,EAAEsuB,EAAE,MAAMkwB,GAAGz0C,EAAE/J,GAAG,OAAO,KAAK,SAAS68C,EAAGvuB,EAAEC,EAAEG,EAAEF,GAAG,IAAI,IAAI7uB,EAAE,KAAKiB,EAAE,KAAKd,EAAEyuB,EAAElX,EAAEkX,EAAE,EAAE1B,EAAE,KAAK,OAAO/sB,GAAGuX,EAAEqX,EAAEloB,OAAO6Q,IAAI,CAACvX,EAAEoK,MAAMmN,GAAGwV,EAAE/sB,EAAEA,EAAE,MAAM+sB,EAAE/sB,EAAE89B,QAAQ,IAAIpR,EAAErV,EAAEmX,EAAExuB,EAAE4uB,EAAErX,GAAGmX,GAAG,GAAG,OAAOhC,EAAE,CAAC,OAAO1sB,IAAIA,EAAE+sB,GAAG,MAAM/iB,GACtfhK,GAAG,OAAO0sB,EAAE4Q,WAAWrzB,EAAEukB,EAAExuB,GAAGyuB,EAAEE,EAAEjC,EAAE+B,EAAElX,GAAG,OAAOzW,EAAEjB,EAAE6sB,EAAE5rB,EAAEg9B,QAAQpR,EAAE5rB,EAAE4rB,EAAE1sB,EAAE+sB,EAAE,GAAGxV,IAAIqX,EAAEloB,OAAO,OAAOzG,EAAEuuB,EAAExuB,GAAGH,EAAE,GAAG,OAAOG,EAAE,CAAC,KAAKuX,EAAEqX,EAAEloB,OAAO6Q,IAAIvX,EAAE0B,EAAE8sB,EAAEI,EAAErX,GAAGmX,GAAG,OAAO1uB,IAAIyuB,EAAEE,EAAE3uB,EAAEyuB,EAAElX,GAAG,OAAOzW,EAAEjB,EAAEG,EAAEc,EAAEg9B,QAAQ99B,EAAEc,EAAEd,GAAG,OAAOH,EAAE,IAAIG,EAAEE,EAAEsuB,EAAExuB,GAAGuX,EAAEqX,EAAEloB,OAAO6Q,IAAIwV,EAAED,EAAE9sB,EAAEwuB,EAAEjX,EAAEqX,EAAErX,GAAGmX,GAAG,OAAO3B,IAAI/iB,GAAG,OAAO+iB,EAAEuQ,WAAWt9B,EAAE8gC,OAAO,OAAO/T,EAAE5rB,IAAIoW,EAAEwV,EAAE5rB,KAAKstB,EAAEE,EAAE5B,EAAE0B,EAAElX,GAAG,OAAOzW,EAAEjB,EAAEktB,EAAEjsB,EAAEg9B,QAAQ/Q,EAAEjsB,EAAEisB,GAA4C,OAAzC/iB,GAAGhK,EAAE0J,SAAQ,SAASM,GAAG,OAAOC,EAAEukB,EAAExkB,MAAYnK,EAAE,SAASutB,EAAEoB,EAAEC,EAAEG,EAAE/uB,GAAG,IAAI6uB,EAAEoJ,GAAGlJ,GAAG,GAAG,oBAAoBF,EAAE,MAAMrhB,MAAMsf,EAAE,MACve,GAD6eiC,EAAEF,EAAE3uB,KAAK6uB,GACnf,MAAMA,EAAE,MAAMvhB,MAAMsf,EAAE,MAAM,IAAI,IAAI3sB,EAAE0uB,EAAE,KAAK5tB,EAAE2tB,EAAElX,EAAEkX,EAAE,EAAE1B,EAAE,KAAKL,EAAEkC,EAAEtmB,OAAO,OAAOxH,IAAI4rB,EAAEmD,KAAKtY,IAAImV,EAAEkC,EAAEtmB,OAAO,CAACxH,EAAEsJ,MAAMmN,GAAGwV,EAAEjsB,EAAEA,EAAE,MAAMisB,EAAEjsB,EAAEg9B,QAAQ,IAAI1Q,EAAE/V,EAAEmX,EAAE1tB,EAAE4rB,EAAE7rB,MAAMhB,GAAG,GAAG,OAAOutB,EAAE,CAAC,OAAOtsB,IAAIA,EAAEisB,GAAG,MAAM/iB,GAAGlJ,GAAG,OAAOssB,EAAEkQ,WAAWrzB,EAAEukB,EAAE1tB,GAAG2tB,EAAEE,EAAEvB,EAAEqB,EAAElX,GAAG,OAAOvX,EAAE0uB,EAAEtB,EAAEptB,EAAE89B,QAAQ1Q,EAAEptB,EAAEotB,EAAEtsB,EAAEisB,EAAE,GAAGL,EAAEmD,KAAK,OAAO5vB,EAAEuuB,EAAE1tB,GAAG4tB,EAAE,GAAG,OAAO5tB,EAAE,CAAC,MAAM4rB,EAAEmD,KAAKtY,IAAImV,EAAEkC,EAAEtmB,OAAOokB,EAAEhrB,EAAE8sB,EAAE9B,EAAE7rB,MAAMhB,GAAG,OAAO6sB,IAAI+B,EAAEE,EAAEjC,EAAE+B,EAAElX,GAAG,OAAOvX,EAAE0uB,EAAEhC,EAAE1sB,EAAE89B,QAAQpR,EAAE1sB,EAAE0sB,GAAG,OAAOgC,EAAE,IAAI5tB,EAAEZ,EAAEsuB,EAAE1tB,IAAI4rB,EAAEmD,KAAKtY,IAAImV,EAAEkC,EAAEtmB,OAAOokB,EAAEI,EAAEhsB,EAAE0tB,EAAEjX,EAAEmV,EAAE7rB,MAAMhB,GAAG,OAAO6sB,IAAI1iB,GAAG,OAChf0iB,EAAE4Q,WAAWx8B,EAAEggC,OAAO,OAAOpU,EAAEvrB,IAAIoW,EAAEmV,EAAEvrB,KAAKstB,EAAEE,EAAEjC,EAAE+B,EAAElX,GAAG,OAAOvX,EAAE0uB,EAAEhC,EAAE1sB,EAAE89B,QAAQpR,EAAE1sB,EAAE0sB,GAA4C,OAAzC1iB,GAAGlJ,EAAE4I,SAAQ,SAASM,GAAG,OAAOC,EAAEukB,EAAExkB,MAAY0kB,EAAE,OAAO,SAAS1kB,EAAE9J,EAAEyuB,EAAEC,GAAG,IAAIF,EAAE,kBAAkBC,GAAG,OAAOA,GAAGA,EAAErnB,OAAO2vB,IAAI,OAAOtI,EAAExtB,IAAIutB,IAAIC,EAAEA,EAAE1rB,MAAMmI,UAAU,IAAIvL,EAAE,kBAAkB8uB,GAAG,OAAOA,EAAE,GAAG9uB,EAAE,OAAO8uB,EAAEE,UAAU,KAAKkI,GAAG/sB,EAAE,CAAS,IAARnK,EAAE8uB,EAAExtB,IAAQutB,EAAExuB,EAAE,OAAOwuB,GAAG,CAAC,GAAGA,EAAEvtB,MAAMtB,EAAE,CAAC,OAAO6uB,EAAEyJ,KAAK,KAAK,EAAE,GAAGxJ,EAAErnB,OAAO2vB,GAAG,CAACh3B,EAAE+J,EAAE0kB,EAAEoP,SAAS59B,EAAEsuB,EAAEE,EAAEC,EAAE1rB,MAAMmI,UAAUlL,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,EAAE,MAAM8J,EAAE,MAAM,QAAQ,GAAG0kB,EAAEuwB,cAActwB,EAAErnB,KAAK,CAACrH,EAAE+J,EACrf0kB,EAAEoP,SAAS59B,EAAEsuB,EAAEE,EAAEC,EAAE1rB,OAAO/C,EAAEgD,IAAIs7C,GAAGx0C,EAAE0kB,EAAEC,GAAGzuB,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,EAAE,MAAM8J,GAAG/J,EAAE+J,EAAE0kB,GAAG,MAAWzkB,EAAED,EAAE0kB,GAAGA,EAAEA,EAAEoP,QAAQnP,EAAErnB,OAAO2vB,IAAI/2B,EAAEm/C,GAAG1wB,EAAE1rB,MAAMmI,SAASpB,EAAEjJ,KAAK6tB,EAAED,EAAExtB,KAAKjB,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,IAAI0uB,EAAEswB,GAAGvwB,EAAErnB,KAAKqnB,EAAExtB,IAAIwtB,EAAE1rB,MAAM,KAAK+G,EAAEjJ,KAAK6tB,GAAGA,EAAE1rB,IAAIs7C,GAAGx0C,EAAE9J,EAAEyuB,GAAGC,EAAE4J,OAAOxuB,EAAEA,EAAE4kB,GAAG,OAAOH,EAAEzkB,GAAG,KAAKgtB,GAAGhtB,EAAE,CAAC,IAAI0kB,EAAEC,EAAExtB,IAAI,OAAOjB,GAAG,CAAC,GAAGA,EAAEiB,MAAMutB,EAAE,IAAG,IAAIxuB,EAAEi4B,KAAKj4B,EAAE40B,UAAUyK,gBAAgB5Q,EAAE4Q,eAAer/B,EAAE40B,UAAUqqB,iBAAiBxwB,EAAEwwB,eAAe,CAACl/C,EAAE+J,EAAE9J,EAAE49B,SAAS59B,EAAEsuB,EAAEtuB,EAAEyuB,EAAEvjB,UAAU,IAAIlL,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,EAAE,MAAM8J,EAAO/J,EAAE+J,EAAE9J,GAAG,MAAW+J,EAAED,EAAE9J,GAAGA,EACnfA,EAAE49B,QAAQ59B,EAAEk/C,GAAGzwB,EAAE3kB,EAAEjJ,KAAK6tB,GAAG1uB,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,EAAE,OAAOuuB,EAAEzkB,GAAG,GAAG,kBAAkB2kB,GAAG,kBAAkBA,EAAE,OAAOA,EAAE,GAAGA,EAAE,OAAOzuB,GAAG,IAAIA,EAAEi4B,KAAKl4B,EAAE+J,EAAE9J,EAAE49B,SAAS59B,EAAEsuB,EAAEtuB,EAAEyuB,GAAGzuB,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,IAAID,EAAE+J,EAAE9J,GAAGA,EAAE8+C,GAAGrwB,EAAE3kB,EAAEjJ,KAAK6tB,GAAG1uB,EAAEs4B,OAAOxuB,EAAEA,EAAE9J,GAAGuuB,EAAEzkB,GAAG,GAAGu0C,GAAG5vB,GAAG,OAAOouB,EAAG/yC,EAAE9J,EAAEyuB,EAAEC,GAAG,GAAGkJ,GAAGnJ,GAAG,OAAOvB,EAAEpjB,EAAE9J,EAAEyuB,EAAEC,GAAc,GAAX/uB,GAAG6+C,GAAG10C,EAAE2kB,GAAM,qBAAqBA,IAAID,EAAE,OAAO1kB,EAAEmuB,KAAK,KAAK,EAAE,KAAK,EAAE,MAAMnuB,EAAEA,EAAE1C,KAAK+F,MAAMsf,EAAE,IAAI3iB,EAAEiuB,aAAajuB,EAAE7J,MAAM,cAAe,OAAOF,EAAE+J,EAAE9J,IAAI,IAAIo/C,GAAGX,IAAG,GAAIY,GAAGZ,IAAG,GAAIa,GAAG,GAAGC,GAAG,CAACh0C,QAAQ+zC,IAAIE,GAAG,CAACj0C,QAAQ+zC,IAAIG,GAAG,CAACl0C,QAAQ+zC,IACjf,SAASI,GAAG51C,GAAG,GAAGA,IAAIw1C,GAAG,MAAMnyC,MAAMsf,EAAE,MAAM,OAAO3iB,EAAE,SAAS61C,GAAG71C,EAAEC,GAAyC,OAAtC+jB,GAAE2xB,GAAG11C,GAAG+jB,GAAE0xB,GAAG11C,GAAGgkB,GAAEyxB,GAAGD,IAAIx1C,EAAEC,EAAE8xB,SAAgB/xB,GAAG,KAAK,EAAE,KAAK,GAAGC,GAAGA,EAAEA,EAAE61C,iBAAiB71C,EAAEsxB,aAAaL,GAAG,KAAK,IAAI,MAAM,QAAQlxB,EAAE,IAAIA,EAAEC,EAAE40B,WAAW50B,EAAEA,EAAED,EAAEuxB,cAAc,KAAKvxB,EAAEA,EAAEtB,QAAQuB,EAAEixB,GAAGjxB,EAAED,GAAG6jB,GAAE4xB,IAAIzxB,GAAEyxB,GAAGx1C,GAAG,SAAS81C,KAAKlyB,GAAE4xB,IAAI5xB,GAAE6xB,IAAI7xB,GAAE8xB,IAAI,SAASK,GAAGh2C,GAAG41C,GAAGD,GAAGl0C,SAAS,IAAIxB,EAAE21C,GAAGH,GAAGh0C,SAAaxL,EAAEi7B,GAAGjxB,EAAED,EAAE1C,MAAM2C,IAAIhK,IAAI+tB,GAAE0xB,GAAG11C,GAAGgkB,GAAEyxB,GAAGx/C,IAAI,SAASggD,GAAGj2C,GAAG01C,GAAGj0C,UAAUzB,IAAI6jB,GAAE4xB,IAAI5xB,GAAE6xB,KAAK,IAAInxB,GAAE,CAAC9iB,QAAQ,GACpd,SAASy0C,GAAGl2C,GAAG,IAAI,IAAIC,EAAED,EAAE,OAAOC,GAAG,CAAC,GAAG,KAAKA,EAAEkuB,IAAI,CAAC,IAAIl4B,EAAEgK,EAAEwzB,cAAc,GAAG,OAAOx9B,IAAIA,EAAEA,EAAEy9B,WAAW,OAAOz9B,GAAGA,EAAEqD,OAAOykC,IAAI9nC,EAAEqD,OAAO0kC,IAAI,OAAO/9B,OAAO,GAAG,KAAKA,EAAEkuB,UAAK,IAASluB,EAAEk2C,cAAcC,aAAa,GAAG,KAAiB,GAAZn2C,EAAEszB,WAAc,OAAOtzB,OAAO,GAAG,OAAOA,EAAE4zB,MAAM,CAAC5zB,EAAE4zB,MAAMrF,OAAOvuB,EAAEA,EAAEA,EAAE4zB,MAAM,SAAS,GAAG5zB,IAAID,EAAE,MAAM,KAAK,OAAOC,EAAE6zB,SAAS,CAAC,GAAG,OAAO7zB,EAAEuuB,QAAQvuB,EAAEuuB,SAASxuB,EAAE,OAAO,KAAKC,EAAEA,EAAEuuB,OAAOvuB,EAAE6zB,QAAQtF,OAAOvuB,EAAEuuB,OAAOvuB,EAAEA,EAAE6zB,QAAQ,OAAO,KAAK,SAASuiB,GAAGr2C,EAAEC,GAAG,MAAM,CAACq2C,UAAUt2C,EAAE/G,MAAMgH,GACve,IAAIs2C,GAAG7pB,GAAGrG,uBAAuBmwB,GAAG9pB,GAAGpG,wBAAwBmwB,GAAG,EAAE1xB,GAAE,KAAKC,GAAE,KAAKG,GAAE,KAAKuxB,IAAG,EAAG,SAAStxB,KAAI,MAAM/hB,MAAMsf,EAAE,MAAO,SAASg0B,GAAG32C,EAAEC,GAAG,GAAG,OAAOA,EAAE,OAAM,EAAG,IAAI,IAAIhK,EAAE,EAAEA,EAAEgK,EAAEvD,QAAQzG,EAAE+J,EAAEtD,OAAOzG,IAAI,IAAIqxC,GAAGtnC,EAAE/J,GAAGgK,EAAEhK,IAAI,OAAM,EAAG,OAAM,EAC/O,SAAS2gD,GAAG52C,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAkI,GAA/H8xB,GAAG9xB,EAAEI,GAAE9kB,EAAEA,EAAEwzB,cAAc,KAAKxzB,EAAEkyC,YAAY,KAAKlyC,EAAE2xC,eAAe,EAAE2E,GAAG90C,QAAQ,OAAOzB,GAAG,OAAOA,EAAEyzB,cAAcojB,GAAGC,GAAG92C,EAAE/J,EAAEC,EAAEsuB,GAAMvkB,EAAE2xC,iBAAiB6E,GAAG,CAAC9xB,EAAE,EAAE,EAAE,CAAoB,GAAnB1kB,EAAE2xC,eAAe,IAAO,GAAGjtB,GAAG,MAAMthB,MAAMsf,EAAE,MAAMgC,GAAG,EAAEQ,GAAEH,GAAE,KAAK/kB,EAAEkyC,YAAY,KAAKoE,GAAG90C,QAAQs1C,GAAG/2C,EAAE/J,EAAEC,EAAEsuB,SAASvkB,EAAE2xC,iBAAiB6E,IAAkE,GAA9DF,GAAG90C,QAAQu1C,GAAG/2C,EAAE,OAAO+kB,IAAG,OAAOA,GAAE1mB,KAAKm4C,GAAG,EAAEtxB,GAAEH,GAAED,GAAE,KAAK2xB,IAAG,EAAMz2C,EAAE,MAAMoD,MAAMsf,EAAE,MAAM,OAAO3iB,EAC9Z,SAASi3C,KAAK,IAAIj3C,EAAE,CAACyzB,cAAc,KAAK2e,UAAU,KAAKC,UAAU,KAAK6E,MAAM,KAAK54C,KAAK,MAA8C,OAAxC,OAAO6mB,GAAEJ,GAAE0O,cAActO,GAAEnlB,EAAEmlB,GAAEA,GAAE7mB,KAAK0B,EAASmlB,GAAE,SAASgyB,KAAK,GAAG,OAAOnyB,GAAE,CAAC,IAAIhlB,EAAE+kB,GAAEuO,UAAUtzB,EAAE,OAAOA,EAAEA,EAAEyzB,cAAc,UAAUzzB,EAAEglB,GAAE1mB,KAAK,IAAI2B,EAAE,OAAOklB,GAAEJ,GAAE0O,cAActO,GAAE7mB,KAAK,GAAG,OAAO2B,EAAEklB,GAAEllB,EAAE+kB,GAAEhlB,MAAM,CAAC,GAAG,OAAOA,EAAE,MAAMqD,MAAMsf,EAAE,MAAMqC,GAAEhlB,EAAEA,EAAE,CAACyzB,cAAczO,GAAEyO,cAAc2e,UAAUptB,GAAEotB,UAAUC,UAAUrtB,GAAEqtB,UAAU6E,MAAMlyB,GAAEkyB,MAAM54C,KAAK,MAAM,OAAO6mB,GAAEJ,GAAE0O,cAActO,GAAEnlB,EAAEmlB,GAAEA,GAAE7mB,KAAK0B,EAAE,OAAOmlB,GAChe,SAASiyB,GAAGp3C,EAAEC,GAAG,MAAM,oBAAoBA,EAAEA,EAAED,GAAGC,EAClD,SAASo3C,GAAGr3C,GAAG,IAAIC,EAAEk3C,KAAKlhD,EAAEgK,EAAEi3C,MAAM,GAAG,OAAOjhD,EAAE,MAAMoN,MAAMsf,EAAE,MAAM1sB,EAAEqhD,oBAAoBt3C,EAAE,IAAI9J,EAAE8uB,GAAER,EAAEtuB,EAAEm8C,UAAU1tB,EAAE1uB,EAAEs8C,QAAQ,GAAG,OAAO5tB,EAAE,CAAC,GAAG,OAAOH,EAAE,CAAC,IAAIC,EAAED,EAAElmB,KAAKkmB,EAAElmB,KAAKqmB,EAAErmB,KAAKqmB,EAAErmB,KAAKmmB,EAAEvuB,EAAEm8C,UAAU7tB,EAAEG,EAAE1uB,EAAEs8C,QAAQ,KAAK,GAAG,OAAO/tB,EAAE,CAACA,EAAEA,EAAElmB,KAAKpI,EAAEA,EAAEk8C,UAAU,IAAIxtB,EAAEH,EAAEE,EAAE,KAAKD,EAAEF,EAAE,EAAE,CAAC,IAAI3uB,EAAE6uB,EAAEktB,eAAe,GAAG/7C,EAAE4gD,GAAG,CAAC,IAAIzgD,EAAE,CAAC47C,eAAeltB,EAAEktB,eAAee,eAAejuB,EAAEiuB,eAAev1C,OAAOsnB,EAAEtnB,OAAOm6C,aAAa7yB,EAAE6yB,aAAaC,WAAW9yB,EAAE8yB,WAAWl5C,KAAK,MAAM,OAAOsmB,GAAGH,EAAEG,EAAE5uB,EAAE2uB,EAAEzuB,GAAG0uB,EAAEA,EAAEtmB,KAAKtI,EAAEH,EAAEkvB,GAAE6sB,iBAC9e7sB,GAAE6sB,eAAe/7C,EAAEo9C,GAAGp9C,SAAS,OAAO+uB,IAAIA,EAAEA,EAAEtmB,KAAK,CAACszC,eAAe,WAAWe,eAAejuB,EAAEiuB,eAAev1C,OAAOsnB,EAAEtnB,OAAOm6C,aAAa7yB,EAAE6yB,aAAaC,WAAW9yB,EAAE8yB,WAAWl5C,KAAK,OAAO00C,GAAGn9C,EAAE6uB,EAAEiuB,gBAAgBz8C,EAAEwuB,EAAE6yB,eAAev3C,EAAE0kB,EAAE8yB,WAAWx3C,EAAE9J,EAAEwuB,EAAEtnB,QAAQsnB,EAAEA,EAAEpmB,WAAW,OAAOomB,GAAGA,IAAIF,GAAG,OAAOI,EAAED,EAAEzuB,EAAE0uB,EAAEtmB,KAAKmmB,EAAE6iB,GAAGpxC,EAAE+J,EAAEwzB,iBAAiBoe,IAAG,GAAI5xC,EAAEwzB,cAAcv9B,EAAE+J,EAAEmyC,UAAUztB,EAAE1kB,EAAEoyC,UAAUztB,EAAE3uB,EAAEwhD,kBAAkBvhD,EAAE,MAAM,CAAC+J,EAAEwzB,cAAcx9B,EAAEyhD,UACxb,SAASC,GAAG33C,GAAG,IAAIC,EAAEk3C,KAAKlhD,EAAEgK,EAAEi3C,MAAM,GAAG,OAAOjhD,EAAE,MAAMoN,MAAMsf,EAAE,MAAM1sB,EAAEqhD,oBAAoBt3C,EAAE,IAAI9J,EAAED,EAAEyhD,SAASlzB,EAAEvuB,EAAEs8C,QAAQ5tB,EAAE1kB,EAAEwzB,cAAc,GAAG,OAAOjP,EAAE,CAACvuB,EAAEs8C,QAAQ,KAAK,IAAI9tB,EAAED,EAAEA,EAAElmB,KAAK,GAAGqmB,EAAE3kB,EAAE2kB,EAAEF,EAAErnB,QAAQqnB,EAAEA,EAAEnmB,WAAWmmB,IAAID,GAAG8iB,GAAG3iB,EAAE1kB,EAAEwzB,iBAAiBoe,IAAG,GAAI5xC,EAAEwzB,cAAc9O,EAAE,OAAO1kB,EAAEoyC,YAAYpyC,EAAEmyC,UAAUztB,GAAG1uB,EAAEwhD,kBAAkB9yB,EAAE,MAAM,CAACA,EAAEzuB,GACnV,SAAS0hD,GAAG53C,GAAG,IAAIC,EAAEg3C,KAAmL,MAA9K,oBAAoBj3C,IAAIA,EAAEA,KAAKC,EAAEwzB,cAAcxzB,EAAEmyC,UAAUpyC,EAAEA,EAAEC,EAAEi3C,MAAM,CAAC3E,QAAQ,KAAKmF,SAAS,KAAKJ,oBAAoBF,GAAGK,kBAAkBz3C,GAAGA,EAAEA,EAAE03C,SAASG,GAAGzgD,KAAK,KAAK2tB,GAAE/kB,GAAS,CAACC,EAAEwzB,cAAczzB,GAAG,SAAS83C,GAAG93C,EAAEC,EAAEhK,EAAEC,GAAkO,OAA/N8J,EAAE,CAACmuB,IAAInuB,EAAE9I,OAAO+I,EAAE83C,QAAQ9hD,EAAE+hD,KAAK9hD,EAAEoI,KAAK,MAAM2B,EAAE8kB,GAAEotB,YAAY,OAAOlyC,GAAGA,EAAE,CAAC20C,WAAW,MAAM7vB,GAAEotB,YAAYlyC,EAAEA,EAAE20C,WAAW50C,EAAE1B,KAAK0B,IAAI/J,EAAEgK,EAAE20C,WAAW,OAAO3+C,EAAEgK,EAAE20C,WAAW50C,EAAE1B,KAAK0B,GAAG9J,EAAED,EAAEqI,KAAKrI,EAAEqI,KAAK0B,EAAEA,EAAE1B,KAAKpI,EAAE+J,EAAE20C,WAAW50C,IAAWA,EAC7d,SAASi4C,KAAK,OAAOd,KAAK1jB,cAAc,SAASykB,GAAGl4C,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAEyyB,KAAKlyB,GAAEwO,WAAWvzB,EAAEwkB,EAAEiP,cAAcqkB,GAAG,EAAE73C,EAAEhK,OAAE,OAAO,IAASC,EAAE,KAAKA,GAAG,SAASiiD,GAAGn4C,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAE2yB,KAAKjhD,OAAE,IAASA,EAAE,KAAKA,EAAE,IAAIyuB,OAAE,EAAO,GAAG,OAAOK,GAAE,CAAC,IAAIP,EAAEO,GAAEyO,cAA0B,GAAZ9O,EAAEF,EAAEszB,QAAW,OAAO7hD,GAAGygD,GAAGzgD,EAAEuuB,EAAEuzB,MAAmB,YAAZF,GAAG73C,EAAEhK,EAAE0uB,EAAEzuB,GAAW6uB,GAAEwO,WAAWvzB,EAAEwkB,EAAEiP,cAAcqkB,GAAG,EAAE73C,EAAEhK,EAAE0uB,EAAEzuB,GAAG,SAASkiD,GAAGp4C,EAAEC,GAAG,OAAOi4C,GAAG,IAAI,EAAEl4C,EAAEC,GAAG,SAASo4C,GAAGr4C,EAAEC,GAAG,OAAOk4C,GAAG,IAAI,EAAEn4C,EAAEC,GAAG,SAASq4C,GAAGt4C,EAAEC,GAAG,OAAOk4C,GAAG,EAAE,EAAEn4C,EAAEC,GACnc,SAASs4C,GAAGv4C,EAAEC,GAAG,MAAG,oBAAoBA,GAASD,EAAEA,IAAIC,EAAED,GAAG,WAAWC,EAAE,QAAU,OAAOA,QAAG,IAASA,GAASD,EAAEA,IAAIC,EAAEwB,QAAQzB,EAAE,WAAWC,EAAEwB,QAAQ,YAAtE,EAA4E,SAAS+2C,GAAGx4C,EAAEC,EAAEhK,GAA6C,OAA1CA,EAAE,OAAOA,QAAG,IAASA,EAAEA,EAAEiK,OAAO,CAACF,IAAI,KAAYm4C,GAAG,EAAE,EAAEI,GAAGnhD,KAAK,KAAK6I,EAAED,GAAG/J,GAAG,SAASwiD,MAAM,SAASC,GAAG14C,EAAEC,GAA4C,OAAzCg3C,KAAKxjB,cAAc,CAACzzB,OAAE,IAASC,EAAE,KAAKA,GAAUD,EAAE,SAAS24C,GAAG34C,EAAEC,GAAG,IAAIhK,EAAEkhD,KAAKl3C,OAAE,IAASA,EAAE,KAAKA,EAAE,IAAI/J,EAAED,EAAEw9B,cAAc,OAAG,OAAOv9B,GAAG,OAAO+J,GAAG02C,GAAG12C,EAAE/J,EAAE,IAAWA,EAAE,IAAGD,EAAEw9B,cAAc,CAACzzB,EAAEC,GAAUD,GAC/d,SAAS44C,GAAG54C,EAAEC,GAAG,IAAIhK,EAAEkhD,KAAKl3C,OAAE,IAASA,EAAE,KAAKA,EAAE,IAAI/J,EAAED,EAAEw9B,cAAc,OAAG,OAAOv9B,GAAG,OAAO+J,GAAG02C,GAAG12C,EAAE/J,EAAE,IAAWA,EAAE,IAAG8J,EAAEA,IAAI/J,EAAEw9B,cAAc,CAACzzB,EAAEC,GAAUD,GAAE,SAAS64C,GAAG74C,EAAEC,EAAEhK,GAAG,IAAIC,EAAEu6C,KAAKE,GAAG,GAAGz6C,EAAE,GAAGA,GAAE,WAAW8J,GAAE,MAAM2wC,GAAG,GAAGz6C,EAAE,GAAGA,GAAE,WAAW,IAAIA,EAAEsgD,GAAGjwB,SAASiwB,GAAGjwB,cAAS,IAAStmB,EAAE,KAAKA,EAAE,IAAID,GAAE,GAAI/J,IAAI,QAAQugD,GAAGjwB,SAASrwB,MACjU,SAAS2hD,GAAG73C,EAAEC,EAAEhK,GAAG,IAAIC,EAAEs9C,KAAKhvB,EAAE2uB,GAAG5sB,SAASrwB,EAAEu9C,GAAGv9C,EAAE8J,EAAEwkB,GAAGA,EAAE,CAACotB,eAAe17C,EAAEy8C,eAAenuB,EAAEpnB,OAAOnH,EAAEshD,aAAa,KAAKC,WAAW,KAAKl5C,KAAK,MAAM,IAAIqmB,EAAE1kB,EAAEsyC,QAA6E,GAArE,OAAO5tB,EAAEH,EAAElmB,KAAKkmB,GAAGA,EAAElmB,KAAKqmB,EAAErmB,KAAKqmB,EAAErmB,KAAKkmB,GAAGvkB,EAAEsyC,QAAQ/tB,EAAEG,EAAE3kB,EAAEszB,UAAatzB,IAAI+kB,IAAG,OAAOJ,GAAGA,IAAII,GAAE2xB,IAAG,EAAGlyB,EAAEotB,eAAe6E,GAAG1xB,GAAE6sB,eAAe6E,OAAO,CAAC,GAAG,IAAIz2C,EAAE4xC,iBAAiB,OAAOjtB,GAAG,IAAIA,EAAEitB,kBAAkBjtB,EAAE1kB,EAAEq3C,oBAAoB,OAAO3yB,GAAG,IAAI,IAAIF,EAAExkB,EAAEw3C,kBAAkB7yB,EAAED,EAAEF,EAAExuB,GAAmC,GAAhCuuB,EAAE+yB,aAAa5yB,EAAEH,EAAEgzB,WAAW5yB,EAAK0iB,GAAG1iB,EAAEH,GAAG,OAAO,MAAMC,IAAagvB,GAAG1zC,EAClgB9J,IACA,IAAI8gD,GAAG,CAAC8B,YAAYhH,GAAG3pB,YAAY/C,GAAEgD,WAAWhD,GAAEkD,UAAUlD,GAAEmD,oBAAoBnD,GAAEoD,gBAAgBpD,GAAEqD,QAAQrD,GAAEsD,WAAWtD,GAAEuD,OAAOvD,GAAEwD,SAASxD,GAAEiD,cAAcjD,GAAE2zB,aAAa3zB,GAAE4zB,iBAAiB5zB,GAAE6zB,cAAc7zB,IAAGyxB,GAAG,CAACiC,YAAYhH,GAAG3pB,YAAYuwB,GAAGtwB,WAAW0pB,GAAGxpB,UAAU8vB,GAAG7vB,oBAAoB,SAASvoB,EAAEC,EAAEhK,GAA6C,OAA1CA,EAAE,OAAOA,QAAG,IAASA,EAAEA,EAAEiK,OAAO,CAACF,IAAI,KAAYk4C,GAAG,EAAE,EAAEK,GAAGnhD,KAAK,KAAK6I,EAAED,GAAG/J,IAAIuyB,gBAAgB,SAASxoB,EAAEC,GAAG,OAAOi4C,GAAG,EAAE,EAAEl4C,EAAEC,IAAIwoB,QAAQ,SAASzoB,EAAEC,GAAG,IAAIhK,EAAEghD,KAC9c,OADmdh3C,OAAE,IAASA,EAAE,KAAKA,EAAED,EAAEA,IAAI/J,EAAEw9B,cAAc,CAACzzB,EACjgBC,GAAUD,GAAG0oB,WAAW,SAAS1oB,EAAEC,EAAEhK,GAAG,IAAIC,EAAE+gD,KAAuK,OAAlKh3C,OAAE,IAAShK,EAAEA,EAAEgK,GAAGA,EAAE/J,EAAEu9B,cAAcv9B,EAAEk8C,UAAUnyC,EAAED,EAAE9J,EAAEghD,MAAM,CAAC3E,QAAQ,KAAKmF,SAAS,KAAKJ,oBAAoBt3C,EAAEy3C,kBAAkBx3C,GAAGD,EAAEA,EAAE03C,SAASG,GAAGzgD,KAAK,KAAK2tB,GAAE/kB,GAAS,CAAC9J,EAAEu9B,cAAczzB,IAAI2oB,OAAO,SAAS3oB,GAAG,IAAIC,EAAEg3C,KAAmB,OAAdj3C,EAAE,CAACyB,QAAQzB,GAAUC,EAAEwzB,cAAczzB,GAAG4oB,SAASgvB,GAAGvvB,cAAcowB,GAAGM,aAAa1C,GAAG2C,iBAAiB,SAASh5C,EAAEC,GAAG,IAAIhK,EAAE2hD,GAAG53C,GAAG9J,EAAED,EAAE,GAAGuuB,EAAEvuB,EAAE,GAC9Y,OADiZmiD,IAAG,WAAW,IAAIniD,EAAEugD,GAAGjwB,SAASiwB,GAAGjwB,cAAS,IAAStmB,EAAE,KAAKA,EAAE,IAAIukB,EAAExkB,GAAG,QAAQw2C,GAAGjwB,SAC9etwB,KAAI,CAAC+J,EAAEC,IAAW/J,GAAG+iD,cAAc,SAASj5C,GAAG,IAAIC,EAAE23C,IAAG,GAAI3hD,EAAEgK,EAAE,GAAU,OAAPA,EAAEA,EAAE,GAAS,CAACy4C,GAAGG,GAAGzhD,KAAK,KAAK6I,EAAED,GAAG,CAACC,EAAED,IAAI/J,KAAK6gD,GAAG,CAACgC,YAAYhH,GAAG3pB,YAAYwwB,GAAGvwB,WAAW0pB,GAAGxpB,UAAU+vB,GAAG9vB,oBAAoBiwB,GAAGhwB,gBAAgB8vB,GAAG7vB,QAAQmwB,GAAGlwB,WAAW2uB,GAAG1uB,OAAOsvB,GAAGrvB,SAAS,WAAW,OAAOyuB,GAAGD,KAAK/uB,cAAcowB,GAAGM,aAAa1C,GAAG2C,iBAAiB,SAASh5C,EAAEC,GAAG,IAAIhK,EAAEohD,GAAGD,IAAIlhD,EAAED,EAAE,GAAGuuB,EAAEvuB,EAAE,GAAyG,OAAtGoiD,IAAG,WAAW,IAAIpiD,EAAEugD,GAAGjwB,SAASiwB,GAAGjwB,cAAS,IAAStmB,EAAE,KAAKA,EAAE,IAAIukB,EAAExkB,GAAG,QAAQw2C,GAAGjwB,SAAStwB,KAAI,CAAC+J,EAAEC,IAAW/J,GAAG+iD,cAAc,SAASj5C,GAAG,IAAIC,EACxgBo3C,GAAGD,IAAInhD,EAAEgK,EAAE,GAAU,OAAPA,EAAEA,EAAE,GAAS,CAAC04C,GAAGE,GAAGzhD,KAAK,KAAK6I,EAAED,GAAG,CAACC,EAAED,IAAI/J,KAAK8gD,GAAG,CAAC+B,YAAYhH,GAAG3pB,YAAYwwB,GAAGvwB,WAAW0pB,GAAGxpB,UAAU+vB,GAAG9vB,oBAAoBiwB,GAAGhwB,gBAAgB8vB,GAAG7vB,QAAQmwB,GAAGlwB,WAAWivB,GAAGhvB,OAAOsvB,GAAGrvB,SAAS,WAAW,OAAO+uB,GAAGP,KAAK/uB,cAAcowB,GAAGM,aAAa1C,GAAG2C,iBAAiB,SAASh5C,EAAEC,GAAG,IAAIhK,EAAE0hD,GAAGP,IAAIlhD,EAAED,EAAE,GAAGuuB,EAAEvuB,EAAE,GAAyG,OAAtGoiD,IAAG,WAAW,IAAIpiD,EAAEugD,GAAGjwB,SAASiwB,GAAGjwB,cAAS,IAAStmB,EAAE,KAAKA,EAAE,IAAIukB,EAAExkB,GAAG,QAAQw2C,GAAGjwB,SAAStwB,KAAI,CAAC+J,EAAEC,IAAW/J,GAAG+iD,cAAc,SAASj5C,GAAG,IAAIC,EAAE03C,GAAGP,IAAInhD,EAAEgK,EAAE,GAAU,OAAPA,EAAEA,EAAE,GAAS,CAAC04C,GAAGE,GAAGzhD,KAAK,KAC5f6I,EAAED,GAAG,CAACC,EAAED,IAAI/J,KAAKijD,GAAG,KAAKC,GAAG,KAAKC,IAAG,EAAG,SAASC,GAAGr5C,EAAEC,GAAG,IAAIhK,EAAEqjD,GAAG,EAAE,KAAK,KAAK,GAAGrjD,EAAEg/C,YAAY,UAAUh/C,EAAEqH,KAAK,UAAUrH,EAAE60B,UAAU7qB,EAAEhK,EAAEu4B,OAAOxuB,EAAE/J,EAAEs9B,UAAU,EAAE,OAAOvzB,EAAE40C,YAAY50C,EAAE40C,WAAWC,WAAW5+C,EAAE+J,EAAE40C,WAAW3+C,GAAG+J,EAAE80C,YAAY90C,EAAE40C,WAAW3+C,EAC1P,SAASsjD,GAAGv5C,EAAEC,GAAG,OAAOD,EAAEmuB,KAAK,KAAK,EAAE,IAAIl4B,EAAE+J,EAAE1C,KAAyE,OAApE2C,EAAE,IAAIA,EAAE8xB,UAAU97B,EAAE0I,gBAAgBsB,EAAE0uB,SAAShwB,cAAc,KAAKsB,EAAS,OAAOA,IAAGD,EAAE8qB,UAAU7qB,GAAE,GAAO,KAAK,EAAE,OAAOA,EAAE,KAAKD,EAAEw5C,cAAc,IAAIv5C,EAAE8xB,SAAS,KAAK9xB,EAAE,OAAOA,IAAGD,EAAE8qB,UAAU7qB,GAAE,GAAO,KAAK,GAAG,OAAM,EAAG,QAAQ,OAAM,GACtR,SAASw5C,GAAGz5C,GAAG,GAAGo5C,GAAG,CAAC,IAAIn5C,EAAEk5C,GAAG,GAAGl5C,EAAE,CAAC,IAAIhK,EAAEgK,EAAE,IAAIs5C,GAAGv5C,EAAEC,GAAG,CAAqB,GAApBA,EAAEu+B,GAAGvoC,EAAEonC,cAAiBp9B,IAAIs5C,GAAGv5C,EAAEC,GAA+C,OAA3CD,EAAEuzB,WAAuB,KAAbvzB,EAAEuzB,UAAgB,EAAE6lB,IAAG,OAAGF,GAAGl5C,GAASq5C,GAAGH,GAAGjjD,GAAGijD,GAAGl5C,EAAEm5C,GAAG3a,GAAGv+B,EAAEyxB,iBAAiB1xB,EAAEuzB,WAAuB,KAAbvzB,EAAEuzB,UAAgB,EAAE6lB,IAAG,EAAGF,GAAGl5C,GAAG,SAAS05C,GAAG15C,GAAG,IAAIA,EAAEA,EAAEwuB,OAAO,OAAOxuB,GAAG,IAAIA,EAAEmuB,KAAK,IAAInuB,EAAEmuB,KAAK,KAAKnuB,EAAEmuB,KAAKnuB,EAAEA,EAAEwuB,OAAO0qB,GAAGl5C,EAC5T,SAAS25C,GAAG35C,GAAG,GAAGA,IAAIk5C,GAAG,OAAM,EAAG,IAAIE,GAAG,OAAOM,GAAG15C,GAAGo5C,IAAG,GAAG,EAAG,IAAIn5C,EAAED,EAAE1C,KAAK,GAAG,IAAI0C,EAAEmuB,KAAK,SAASluB,GAAG,SAASA,IAAIo+B,GAAGp+B,EAAED,EAAEm2C,eAAe,IAAIl2C,EAAEk5C,GAAGl5C,GAAGo5C,GAAGr5C,EAAEC,GAAGA,EAAEu+B,GAAGv+B,EAAEo9B,aAAmB,GAANqc,GAAG15C,GAAM,KAAKA,EAAEmuB,IAAI,CAAgD,GAA/CnuB,EAAEA,EAAEyzB,cAAczzB,EAAE,OAAOA,EAAEA,EAAE0zB,WAAW,MAAS1zB,EAAE,MAAMqD,MAAMsf,EAAE,MAAM3iB,EAAE,CAAiB,IAAhBA,EAAEA,EAAEq9B,YAAgBp9B,EAAE,EAAED,GAAG,CAAC,GAAG,IAAIA,EAAE+xB,SAAS,CAAC,IAAI97B,EAAE+J,EAAE1G,KAAK,GAAGrD,IAAI6nC,GAAG,CAAC,GAAG,IAAI79B,EAAE,CAACk5C,GAAG3a,GAAGx+B,EAAEq9B,aAAa,MAAMr9B,EAAEC,SAAShK,IAAI4nC,IAAI5nC,IAAI+nC,IAAI/nC,IAAI8nC,IAAI99B,IAAID,EAAEA,EAAEq9B,YAAY8b,GAAG,WAAWA,GAAGD,GAAG1a,GAAGx+B,EAAE8qB,UAAUuS,aAAa,KAAK,OAAM,EAChf,SAASuc,KAAKT,GAAGD,GAAG,KAAKE,IAAG,EAAG,IAAIS,GAAGntB,GAAGlG,kBAAkBqrB,IAAG,EAAG,SAASxsB,GAAErlB,EAAEC,EAAEhK,EAAEC,GAAG+J,EAAE4zB,MAAM,OAAO7zB,EAAEu1C,GAAGt1C,EAAE,KAAKhK,EAAEC,GAAGo/C,GAAGr1C,EAAED,EAAE6zB,MAAM59B,EAAEC,GAAG,SAAS4jD,GAAG95C,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAGvuB,EAAEA,EAAE0xB,OAAO,IAAIhD,EAAE1kB,EAAE/G,IAA8B,OAA1Bw4C,GAAGzxC,EAAEukB,GAAGtuB,EAAE0gD,GAAG52C,EAAEC,EAAEhK,EAAEC,EAAEyuB,EAAEH,GAAM,OAAOxkB,GAAI6xC,IAA4G5xC,EAAEszB,WAAW,EAAElO,GAAErlB,EAAEC,EAAE/J,EAAEsuB,GAAUvkB,EAAE4zB,QAArI5zB,EAAEkyC,YAAYnyC,EAAEmyC,YAAYlyC,EAAEszB,YAAY,IAAIvzB,EAAE4xC,gBAAgBptB,IAAIxkB,EAAE4xC,eAAe,GAAGmI,GAAG/5C,EAAEC,EAAEukB,IACtU,SAASw1B,GAAGh6C,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG,GAAG,OAAO3kB,EAAE,CAAC,IAAIykB,EAAExuB,EAAEqH,KAAK,MAAG,oBAAoBmnB,GAAIw1B,GAAGx1B,SAAI,IAASA,EAAEpjB,cAAc,OAAOpL,EAAEiyB,cAAS,IAASjyB,EAAEoL,cAAsDrB,EAAEk1C,GAAGj/C,EAAEqH,KAAK,KAAKpH,EAAE,KAAK+J,EAAElJ,KAAK4tB,GAAG3kB,EAAE9G,IAAI+G,EAAE/G,IAAI8G,EAAEwuB,OAAOvuB,EAASA,EAAE4zB,MAAM7zB,IAA1GC,EAAEkuB,IAAI,GAAGluB,EAAE3C,KAAKmnB,EAAEy1B,GAAGl6C,EAAEC,EAAEwkB,EAAEvuB,EAAEsuB,EAAEG,IAAuF,OAAVF,EAAEzkB,EAAE6zB,MAASrP,EAAEG,IAAIH,EAAEC,EAAE0xB,cAAclgD,EAAEA,EAAEiyB,QAAQjyB,EAAE,OAAOA,EAAEA,EAAEuxC,GAAGvxC,EAAEuuB,EAAEtuB,IAAI8J,EAAE9G,MAAM+G,EAAE/G,KAAY6gD,GAAG/5C,EAAEC,EAAE0kB,IAAG1kB,EAAEszB,WAAW,EAAEvzB,EAAE+0C,GAAGtwB,EAAEvuB,GAAG8J,EAAE9G,IAAI+G,EAAE/G,IAAI8G,EAAEwuB,OAAOvuB,EAASA,EAAE4zB,MAAM7zB,GACnb,SAASk6C,GAAGl6C,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG,OAAO,OAAO3kB,GAAGwnC,GAAGxnC,EAAEm2C,cAAcjgD,IAAI8J,EAAE9G,MAAM+G,EAAE/G,MAAM24C,IAAG,EAAGrtB,EAAEG,IAAI1kB,EAAE2xC,eAAe5xC,EAAE4xC,eAAemI,GAAG/5C,EAAEC,EAAE0kB,IAAIw1B,GAAGn6C,EAAEC,EAAEhK,EAAEC,EAAEyuB,GAAG,SAASy1B,GAAGp6C,EAAEC,GAAG,IAAIhK,EAAEgK,EAAE/G,KAAO,OAAO8G,GAAG,OAAO/J,GAAG,OAAO+J,GAAGA,EAAE9G,MAAMjD,KAAEgK,EAAEszB,WAAW,KAAI,SAAS4mB,GAAGn6C,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,IAAIG,EAAEP,GAAEnuB,GAAGg4C,GAAG/pB,GAAEziB,QAA4C,OAApCkjB,EAAEupB,GAAGjuC,EAAE0kB,GAAG+sB,GAAGzxC,EAAEukB,GAAGvuB,EAAE2gD,GAAG52C,EAAEC,EAAEhK,EAAEC,EAAEyuB,EAAEH,GAAM,OAAOxkB,GAAI6xC,IAA4G5xC,EAAEszB,WAAW,EAAElO,GAAErlB,EAAEC,EAAEhK,EAAEuuB,GAAUvkB,EAAE4zB,QAArI5zB,EAAEkyC,YAAYnyC,EAAEmyC,YAAYlyC,EAAEszB,YAAY,IAAIvzB,EAAE4xC,gBAAgBptB,IAAIxkB,EAAE4xC,eAAe,GAAGmI,GAAG/5C,EAAEC,EAAEukB,IAC3b,SAAS61B,GAAGr6C,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,GAAGJ,GAAEnuB,GAAG,CAAC,IAAI0uB,GAAE,EAAGgqB,GAAG1uC,QAAQ0kB,GAAE,EAAW,GAAR+sB,GAAGzxC,EAAEukB,GAAM,OAAOvkB,EAAE6qB,UAAU,OAAO9qB,IAAIA,EAAEszB,UAAU,KAAKrzB,EAAEqzB,UAAU,KAAKrzB,EAAEszB,WAAW,GAAGsgB,GAAG5zC,EAAEhK,EAAEC,GAAG+9C,GAAGh0C,EAAEhK,EAAEC,EAAEsuB,GAAGtuB,GAAE,OAAQ,GAAG,OAAO8J,EAAE,CAAC,IAAIykB,EAAExkB,EAAE6qB,UAAUlG,EAAE3kB,EAAEk2C,cAAc1xB,EAAExrB,MAAM2rB,EAAE,IAAIF,EAAED,EAAEtrB,QAAQtD,EAAEI,EAAEwD,YAAY,kBAAkB5D,GAAG,OAAOA,EAAEA,EAAEi8C,GAAGj8C,IAAIA,EAAEuuB,GAAEnuB,GAAGg4C,GAAG/pB,GAAEziB,QAAQ5L,EAAEq4C,GAAGjuC,EAAEpK,IAAI,IAAIG,EAAEC,EAAEi+C,yBAAyBx8C,EAAE,oBAAoB1B,GAAG,oBAAoByuB,EAAE0vB,wBAAwBz8C,GAAG,oBAAoB+sB,EAAEuvB,kCACtd,oBAAoBvvB,EAAEsvB,4BAA4BnvB,IAAI1uB,GAAGwuB,IAAI7uB,IAAIi+C,GAAG7zC,EAAEwkB,EAAEvuB,EAAEL,GAAGo8C,IAAG,EAAG,IAAI5kC,EAAEpN,EAAEwzB,cAAchP,EAAE5oB,MAAMwR,EAAEylC,GAAG7yC,EAAE/J,EAAEuuB,EAAED,GAAGE,EAAEzkB,EAAEwzB,cAAc7O,IAAI1uB,GAAGmX,IAAIqX,GAAGP,GAAE1iB,SAASwwC,IAAI,oBAAoBj8C,IAAIq9C,GAAGpzC,EAAEhK,EAAED,EAAEE,GAAGwuB,EAAEzkB,EAAEwzB,gBAAgB7O,EAAEqtB,IAAI0B,GAAG1zC,EAAEhK,EAAE2uB,EAAE1uB,EAAEmX,EAAEqX,EAAE7uB,KAAK6B,GAAG,oBAAoB+sB,EAAE2vB,2BAA2B,oBAAoB3vB,EAAE4vB,qBAAqB,oBAAoB5vB,EAAE4vB,oBAAoB5vB,EAAE4vB,qBAAqB,oBAAoB5vB,EAAE2vB,2BAA2B3vB,EAAE2vB,6BAA6B,oBACze3vB,EAAE6vB,oBAAoBr0C,EAAEszB,WAAW,KAAK,oBAAoB9O,EAAE6vB,oBAAoBr0C,EAAEszB,WAAW,GAAGtzB,EAAEk2C,cAAcjgD,EAAE+J,EAAEwzB,cAAc/O,GAAGD,EAAExrB,MAAM/C,EAAEuuB,EAAE5oB,MAAM6oB,EAAED,EAAEtrB,QAAQtD,EAAEK,EAAE0uB,IAAI,oBAAoBH,EAAE6vB,oBAAoBr0C,EAAEszB,WAAW,GAAGr9B,GAAE,QAASuuB,EAAExkB,EAAE6qB,UAAU2nB,GAAGzyC,EAAEC,GAAG2kB,EAAE3kB,EAAEk2C,cAAc1xB,EAAExrB,MAAMgH,EAAE3C,OAAO2C,EAAEg1C,YAAYrwB,EAAEqsB,GAAGhxC,EAAE3C,KAAKsnB,GAAGF,EAAED,EAAEtrB,QAAQtD,EAAEI,EAAEwD,YAAY,kBAAkB5D,GAAG,OAAOA,EAAEA,EAAEi8C,GAAGj8C,IAAIA,EAAEuuB,GAAEnuB,GAAGg4C,GAAG/pB,GAAEziB,QAAQ5L,EAAEq4C,GAAGjuC,EAAEpK,IAAIG,EAAEC,EAAEi+C,0BAA0Bx8C,EAAE,oBAAoB1B,GAAG,oBACjeyuB,EAAE0vB,0BAA0B,oBAAoB1vB,EAAEuvB,kCAAkC,oBAAoBvvB,EAAEsvB,4BAA4BnvB,IAAI1uB,GAAGwuB,IAAI7uB,IAAIi+C,GAAG7zC,EAAEwkB,EAAEvuB,EAAEL,GAAGo8C,IAAG,EAAGvtB,EAAEzkB,EAAEwzB,cAAchP,EAAE5oB,MAAM6oB,EAAEouB,GAAG7yC,EAAE/J,EAAEuuB,EAAED,GAAGnX,EAAEpN,EAAEwzB,cAAc7O,IAAI1uB,GAAGwuB,IAAIrX,GAAG8W,GAAE1iB,SAASwwC,IAAI,oBAAoBj8C,IAAIq9C,GAAGpzC,EAAEhK,EAAED,EAAEE,GAAGmX,EAAEpN,EAAEwzB,gBAAgBz9B,EAAEi8C,IAAI0B,GAAG1zC,EAAEhK,EAAE2uB,EAAE1uB,EAAEwuB,EAAErX,EAAExX,KAAK6B,GAAG,oBAAoB+sB,EAAE61B,4BAA4B,oBAAoB71B,EAAE81B,sBAAsB,oBAAoB91B,EAAE81B,qBAAqB91B,EAAE81B,oBAAoBrkD,EACzfmX,EAAExX,GAAG,oBAAoB4uB,EAAE61B,4BAA4B71B,EAAE61B,2BAA2BpkD,EAAEmX,EAAExX,IAAI,oBAAoB4uB,EAAE+1B,qBAAqBv6C,EAAEszB,WAAW,GAAG,oBAAoB9O,EAAE0vB,0BAA0Bl0C,EAAEszB,WAAW,OAAO,oBAAoB9O,EAAE+1B,oBAAoB51B,IAAI5kB,EAAEm2C,eAAezxB,IAAI1kB,EAAEyzB,gBAAgBxzB,EAAEszB,WAAW,GAAG,oBAAoB9O,EAAE0vB,yBAAyBvvB,IAAI5kB,EAAEm2C,eAAezxB,IAAI1kB,EAAEyzB,gBAAgBxzB,EAAEszB,WAAW,KAAKtzB,EAAEk2C,cAAcjgD,EAAE+J,EAAEwzB,cAAcpmB,GAAGoX,EAAExrB,MAAM/C,EAAEuuB,EAAE5oB,MAAMwR,EAAEoX,EAAEtrB,QAAQtD,EAAEK,EAAEF,IAClf,oBAAoByuB,EAAE+1B,oBAAoB51B,IAAI5kB,EAAEm2C,eAAezxB,IAAI1kB,EAAEyzB,gBAAgBxzB,EAAEszB,WAAW,GAAG,oBAAoB9O,EAAE0vB,yBAAyBvvB,IAAI5kB,EAAEm2C,eAAezxB,IAAI1kB,EAAEyzB,gBAAgBxzB,EAAEszB,WAAW,KAAKr9B,GAAE,GAAI,OAAOukD,GAAGz6C,EAAEC,EAAEhK,EAAEC,EAAEyuB,EAAEH,GAC5O,SAASi2B,GAAGz6C,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAGy1B,GAAGp6C,EAAEC,GAAG,IAAIwkB,EAAE,KAAiB,GAAZxkB,EAAEszB,WAAc,IAAIr9B,IAAIuuB,EAAE,OAAOD,GAAGqqB,GAAG5uC,EAAEhK,GAAE,GAAI8jD,GAAG/5C,EAAEC,EAAE0kB,GAAGzuB,EAAE+J,EAAE6qB,UAAU+uB,GAAGp4C,QAAQxB,EAAE,IAAI2kB,EAAEH,GAAG,oBAAoBxuB,EAAEykD,yBAAyB,KAAKxkD,EAAEyxB,SAA2I,OAAlI1nB,EAAEszB,WAAW,EAAE,OAAOvzB,GAAGykB,GAAGxkB,EAAE4zB,MAAMyhB,GAAGr1C,EAAED,EAAE6zB,MAAM,KAAKlP,GAAG1kB,EAAE4zB,MAAMyhB,GAAGr1C,EAAE,KAAK2kB,EAAED,IAAIU,GAAErlB,EAAEC,EAAE2kB,EAAED,GAAG1kB,EAAEwzB,cAAcv9B,EAAE2F,MAAM2oB,GAAGqqB,GAAG5uC,EAAEhK,GAAE,GAAWgK,EAAE4zB,MAAM,SAAS8mB,GAAG36C,GAAG,IAAIC,EAAED,EAAE8qB,UAAU7qB,EAAE26C,eAAepM,GAAGxuC,EAAEC,EAAE26C,eAAe36C,EAAE26C,iBAAiB36C,EAAE9G,SAAS8G,EAAE9G,SAASq1C,GAAGxuC,EAAEC,EAAE9G,SAAQ,GAAI08C,GAAG71C,EAAEC,EAAEs1B,eACpe,IAOoXslB,GAAGC,GAAGC,GAAGC,GAPzXC,GAAG,CAACvnB,WAAW,KAAKwnB,UAAU,GAClC,SAASC,GAAGn7C,EAAEC,EAAEhK,GAAG,IAA+C2uB,EAA3C1uB,EAAE+J,EAAElJ,KAAKytB,EAAEvkB,EAAEu5C,aAAa70B,EAAEJ,GAAE9iB,QAAQgjB,GAAE,EAAqN,IAA/MG,EAAE,KAAiB,GAAZ3kB,EAAEszB,cAAiB3O,EAAE,KAAO,EAAFD,KAAO,OAAO3kB,GAAG,OAAOA,EAAEyzB,gBAAgB7O,GAAGH,GAAE,EAAGxkB,EAAEszB,YAAY,IAAI,OAAOvzB,GAAG,OAAOA,EAAEyzB,oBAAe,IAASjP,EAAE42B,WAAU,IAAK52B,EAAE62B,6BAA6B12B,GAAG,GAAGX,GAAEO,GAAI,EAAFI,GAAQ,OAAO3kB,EAAE,CAA4B,QAA3B,IAASwkB,EAAE42B,UAAU3B,GAAGx5C,GAAMwkB,EAAE,CAA6C,GAA5CA,EAAED,EAAE42B,SAAS52B,EAAE6wB,GAAG,KAAKn/C,EAAE,EAAE,MAAMsuB,EAAEgK,OAAOvuB,EAAK,KAAY,EAAPA,EAAElJ,MAAQ,IAAIiJ,EAAE,OAAOC,EAAEwzB,cAAcxzB,EAAE4zB,MAAMA,MAAM5zB,EAAE4zB,MAAMrP,EAAEqP,MAAM7zB,EAAE,OAAOA,GAAGA,EAAEwuB,OAAOhK,EAAExkB,EAAEA,EAAE8zB,QAC3a,OADmb79B,EAAEo/C,GAAG5wB,EAAEvuB,EAAED,EAAE,MAAMA,EAAEu4B,OACjfvuB,EAAEukB,EAAEsP,QAAQ79B,EAAEgK,EAAEwzB,cAAcwnB,GAAGh7C,EAAE4zB,MAAMrP,EAASvuB,EAAoC,OAAlCC,EAAEsuB,EAAEpjB,SAASnB,EAAEwzB,cAAc,KAAYxzB,EAAE4zB,MAAM0hB,GAAGt1C,EAAE,KAAK/J,EAAED,GAAG,GAAG,OAAO+J,EAAEyzB,cAAc,CAAuB,GAAtBzzB,EAAEA,EAAE6zB,MAAM39B,EAAE8J,EAAE8zB,QAAWrP,EAAE,CAAgD,GAA/CD,EAAEA,EAAE42B,SAASnlD,EAAE8+C,GAAG/0C,EAAEA,EAAEw5C,cAAcvjD,EAAEu4B,OAAOvuB,EAAK,KAAY,EAAPA,EAAElJ,QAAU0tB,EAAE,OAAOxkB,EAAEwzB,cAAcxzB,EAAE4zB,MAAMA,MAAM5zB,EAAE4zB,MAAMpP,IAAIzkB,EAAE6zB,OAAO,IAAI59B,EAAE49B,MAAMpP,EAAE,OAAOA,GAAGA,EAAE+J,OAAOv4B,EAAEwuB,EAAEA,EAAEqP,QAA8F,OAAtF59B,EAAE6+C,GAAG7+C,EAAEsuB,GAAGtuB,EAAEs4B,OAAOvuB,EAAEhK,EAAE69B,QAAQ59B,EAAED,EAAEw7C,oBAAoB,EAAExxC,EAAEwzB,cAAcwnB,GAAGh7C,EAAE4zB,MAAM59B,EAASC,EAAoD,OAAlDD,EAAEq/C,GAAGr1C,EAAED,EAAE6zB,MAAMrP,EAAEpjB,SAASnL,GAAGgK,EAAEwzB,cAAc,KAAYxzB,EAAE4zB,MACnf59B,EAAY,GAAV+J,EAAEA,EAAE6zB,MAASpP,EAAE,CAA8E,GAA7EA,EAAED,EAAE42B,SAAS52B,EAAE6wB,GAAG,KAAKn/C,EAAE,EAAE,MAAMsuB,EAAEgK,OAAOvuB,EAAEukB,EAAEqP,MAAM7zB,EAAE,OAAOA,IAAIA,EAAEwuB,OAAOhK,GAAM,KAAY,EAAPvkB,EAAElJ,MAAQ,IAAIiJ,EAAE,OAAOC,EAAEwzB,cAAcxzB,EAAE4zB,MAAMA,MAAM5zB,EAAE4zB,MAAMrP,EAAEqP,MAAM7zB,EAAE,OAAOA,GAAGA,EAAEwuB,OAAOhK,EAAExkB,EAAEA,EAAE8zB,QAAoH,OAA5G79B,EAAEo/C,GAAG5wB,EAAEvuB,EAAED,EAAE,MAAMA,EAAEu4B,OAAOvuB,EAAEukB,EAAEsP,QAAQ79B,EAAEA,EAAEs9B,WAAW,EAAE/O,EAAEitB,oBAAoB,EAAExxC,EAAEwzB,cAAcwnB,GAAGh7C,EAAE4zB,MAAMrP,EAASvuB,EAAuB,OAArBgK,EAAEwzB,cAAc,KAAYxzB,EAAE4zB,MAAMyhB,GAAGr1C,EAAED,EAAEwkB,EAAEpjB,SAASnL,GAC1X,SAASqlD,GAAGt7C,EAAEC,GAAGD,EAAE4xC,eAAe3xC,IAAID,EAAE4xC,eAAe3xC,GAAG,IAAIhK,EAAE+J,EAAEszB,UAAU,OAAOr9B,GAAGA,EAAE27C,eAAe3xC,IAAIhK,EAAE27C,eAAe3xC,GAAGuxC,GAAGxxC,EAAEwuB,OAAOvuB,GAAG,SAASs7C,GAAGv7C,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG,IAAIF,EAAEzkB,EAAEyzB,cAAc,OAAOhP,EAAEzkB,EAAEyzB,cAAc,CAAC+nB,YAAYv7C,EAAEw7C,UAAU,KAAKC,mBAAmB,EAAEC,KAAKzlD,EAAE0lD,KAAK3lD,EAAE4lD,eAAe,EAAEC,SAASt3B,EAAEowB,WAAWjwB,IAAIF,EAAE+2B,YAAYv7C,EAAEwkB,EAAEg3B,UAAU,KAAKh3B,EAAEi3B,mBAAmB,EAAEj3B,EAAEk3B,KAAKzlD,EAAEuuB,EAAEm3B,KAAK3lD,EAAEwuB,EAAEo3B,eAAe,EAAEp3B,EAAEq3B,SAASt3B,EAAEC,EAAEmwB,WAAWjwB,GACzb,SAASo3B,GAAG/7C,EAAEC,EAAEhK,GAAG,IAAIC,EAAE+J,EAAEu5C,aAAah1B,EAAEtuB,EAAEkgD,YAAYzxB,EAAEzuB,EAAE0lD,KAAqC,GAAhCv2B,GAAErlB,EAAEC,EAAE/J,EAAEkL,SAASnL,GAAGC,EAAEquB,GAAE9iB,QAAW,KAAO,EAAFvL,GAAKA,EAAI,EAAFA,EAAI,EAAE+J,EAAEszB,WAAW,OAAO,CAAC,GAAG,OAAOvzB,GAAG,KAAiB,GAAZA,EAAEuzB,WAAcvzB,EAAE,IAAIA,EAAEC,EAAE4zB,MAAM,OAAO7zB,GAAG,CAAC,GAAG,KAAKA,EAAEmuB,IAAI,OAAOnuB,EAAEyzB,eAAe6nB,GAAGt7C,EAAE/J,QAAQ,GAAG,KAAK+J,EAAEmuB,IAAImtB,GAAGt7C,EAAE/J,QAAQ,GAAG,OAAO+J,EAAE6zB,MAAM,CAAC7zB,EAAE6zB,MAAMrF,OAAOxuB,EAAEA,EAAEA,EAAE6zB,MAAM,SAAS,GAAG7zB,IAAIC,EAAE,MAAMD,EAAE,KAAK,OAAOA,EAAE8zB,SAAS,CAAC,GAAG,OAAO9zB,EAAEwuB,QAAQxuB,EAAEwuB,SAASvuB,EAAE,MAAMD,EAAEA,EAAEA,EAAEwuB,OAAOxuB,EAAE8zB,QAAQtF,OAAOxuB,EAAEwuB,OAAOxuB,EAAEA,EAAE8zB,QAAQ59B,GAAG,EAAS,GAAP8tB,GAAEO,GAAEruB,GAAM,KAAY,EAAP+J,EAAElJ,MAAQkJ,EAAEwzB,cAChf,UAAU,OAAOjP,GAAG,IAAK,WAAqB,IAAVvuB,EAAEgK,EAAE4zB,MAAUrP,EAAE,KAAK,OAAOvuB,GAAG+J,EAAE/J,EAAEq9B,UAAU,OAAOtzB,GAAG,OAAOk2C,GAAGl2C,KAAKwkB,EAAEvuB,GAAGA,EAAEA,EAAE69B,QAAQ79B,EAAEuuB,EAAE,OAAOvuB,GAAGuuB,EAAEvkB,EAAE4zB,MAAM5zB,EAAE4zB,MAAM,OAAOrP,EAAEvuB,EAAE69B,QAAQ79B,EAAE69B,QAAQ,MAAMynB,GAAGt7C,GAAE,EAAGukB,EAAEvuB,EAAE0uB,EAAE1kB,EAAE20C,YAAY,MAAM,IAAK,YAA6B,IAAjB3+C,EAAE,KAAKuuB,EAAEvkB,EAAE4zB,MAAU5zB,EAAE4zB,MAAM,KAAK,OAAOrP,GAAG,CAAe,GAAdxkB,EAAEwkB,EAAE8O,UAAa,OAAOtzB,GAAG,OAAOk2C,GAAGl2C,GAAG,CAACC,EAAE4zB,MAAMrP,EAAE,MAAMxkB,EAAEwkB,EAAEsP,QAAQtP,EAAEsP,QAAQ79B,EAAEA,EAAEuuB,EAAEA,EAAExkB,EAAEu7C,GAAGt7C,GAAE,EAAGhK,EAAE,KAAK0uB,EAAE1kB,EAAE20C,YAAY,MAAM,IAAK,WAAW2G,GAAGt7C,GAAE,EAAG,KAAK,UAAK,EAAOA,EAAE20C,YAAY,MAAM,QAAQ30C,EAAEwzB,cAAc,KAAK,OAAOxzB,EAAE4zB,MAC/f,SAASkmB,GAAG/5C,EAAEC,EAAEhK,GAAG,OAAO+J,IAAIC,EAAEsqB,aAAavqB,EAAEuqB,cAAc,IAAIr0B,EAAE+J,EAAE2xC,eAA4B,GAAb,IAAI17C,GAAG+8C,GAAG/8C,GAAM+J,EAAEwxC,oBAAoBx7C,EAAE,OAAO,KAAK,GAAG,OAAO+J,GAAGC,EAAE4zB,QAAQ7zB,EAAE6zB,MAAM,MAAMxwB,MAAMsf,EAAE,MAAM,GAAG,OAAO1iB,EAAE4zB,MAAM,CAA4C,IAA3C7zB,EAAEC,EAAE4zB,MAAM59B,EAAE8+C,GAAG/0C,EAAEA,EAAEw5C,cAAcv5C,EAAE4zB,MAAM59B,EAAMA,EAAEu4B,OAAOvuB,EAAE,OAAOD,EAAE8zB,SAAS9zB,EAAEA,EAAE8zB,QAAQ79B,EAAEA,EAAE69B,QAAQihB,GAAG/0C,EAAEA,EAAEw5C,cAAcvjD,EAAEu4B,OAAOvuB,EAAEhK,EAAE69B,QAAQ,KAAK,OAAO7zB,EAAE4zB,MAK5T,SAASmoB,GAAGh8C,EAAEC,GAAG,OAAOD,EAAE87C,UAAU,IAAK,SAAS77C,EAAED,EAAE47C,KAAK,IAAI,IAAI3lD,EAAE,KAAK,OAAOgK,GAAG,OAAOA,EAAEqzB,YAAYr9B,EAAEgK,GAAGA,EAAEA,EAAE6zB,QAAQ,OAAO79B,EAAE+J,EAAE47C,KAAK,KAAK3lD,EAAE69B,QAAQ,KAAK,MAAM,IAAK,YAAY79B,EAAE+J,EAAE47C,KAAK,IAAI,IAAI1lD,EAAE,KAAK,OAAOD,GAAG,OAAOA,EAAEq9B,YAAYp9B,EAAED,GAAGA,EAAEA,EAAE69B,QAAQ,OAAO59B,EAAE+J,GAAG,OAAOD,EAAE47C,KAAK57C,EAAE47C,KAAK,KAAK57C,EAAE47C,KAAK9nB,QAAQ,KAAK59B,EAAE49B,QAAQ,MAC/W,SAASmoB,GAAGj8C,EAAEC,EAAEhK,GAAG,IAAIC,EAAE+J,EAAEu5C,aAAa,OAAOv5C,EAAEkuB,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,OAAO,KAAK,KAAK,EAAE,OAAO/J,GAAEnkB,EAAE3C,OAAOixC,KAAK,KAAK,KAAK,EAAE,OAAOwH,KAAKlyB,GAAEM,IAAGN,GAAEK,IAAGjuB,EAAEgK,EAAE6qB,UAAU70B,EAAE2kD,iBAAiB3kD,EAAEkD,QAAQlD,EAAE2kD,eAAe3kD,EAAE2kD,eAAe,MAAM,OAAO56C,GAAG,OAAOA,EAAE6zB,QAAQ8lB,GAAG15C,KAAKA,EAAEszB,WAAW,GAAGunB,GAAG76C,GAAG,KAAK,KAAK,EAAEg2C,GAAGh2C,GAAGhK,EAAE2/C,GAAGD,GAAGl0C,SAAS,IAAI+iB,EAAEvkB,EAAE3C,KAAK,GAAG,OAAO0C,GAAG,MAAMC,EAAE6qB,UAAUiwB,GAAG/6C,EAAEC,EAAEukB,EAAEtuB,EAAED,GAAG+J,EAAE9G,MAAM+G,EAAE/G,MAAM+G,EAAEszB,WAAW,SAAS,CAAC,IAAIr9B,EAAE,CAAC,GAAG,OAAO+J,EAAE6qB,UAAU,MAAMznB,MAAMsf,EAAE,MACxgB,OAAO,KAAsB,GAAjB3iB,EAAE41C,GAAGH,GAAGh0C,SAAYk4C,GAAG15C,GAAG,CAAC/J,EAAE+J,EAAE6qB,UAAUtG,EAAEvkB,EAAE3C,KAAK,IAAIqnB,EAAE1kB,EAAEk2C,cAA8B,OAAhBjgD,EAAE2oC,IAAI5+B,EAAE/J,EAAE4oC,IAAIna,EAASH,GAAG,IAAK,SAAS,IAAK,SAAS,IAAK,QAAQd,GAAE,OAAOxtB,GAAG,MAAM,IAAK,QAAQ,IAAK,QAAQ,IAAI8J,EAAE,EAAEA,EAAEgzB,GAAGt2B,OAAOsD,IAAI0jB,GAAEsP,GAAGhzB,GAAG9J,GAAG,MAAM,IAAK,SAASwtB,GAAE,QAAQxtB,GAAG,MAAM,IAAK,MAAM,IAAK,QAAQ,IAAK,OAAOwtB,GAAE,QAAQxtB,GAAGwtB,GAAE,OAAOxtB,GAAG,MAAM,IAAK,OAAOwtB,GAAE,QAAQxtB,GAAGwtB,GAAE,SAASxtB,GAAG,MAAM,IAAK,UAAUwtB,GAAE,SAASxtB,GAAG,MAAM,IAAK,QAAQy5B,GAAGz5B,EAAEyuB,GAAGjB,GAAE,UAAUxtB,GAAG6mC,GAAG9mC,EAAE,YAAY,MAAM,IAAK,SAASC,EAAEu5B,cAC3e,CAACysB,cAAcv3B,EAAEw3B,UAAUz4B,GAAE,UAAUxtB,GAAG6mC,GAAG9mC,EAAE,YAAY,MAAM,IAAK,WAAWw6B,GAAGv6B,EAAEyuB,GAAGjB,GAAE,UAAUxtB,GAAG6mC,GAAG9mC,EAAE,YAA2B,IAAI,IAAIwuB,KAAvBkY,GAAGnY,EAAEG,GAAG3kB,EAAE,KAAkB2kB,EAAE,GAAGA,EAAEltB,eAAegtB,GAAG,CAAC,IAAIG,EAAED,EAAEF,GAAG,aAAaA,EAAE,kBAAkBG,EAAE1uB,EAAE06B,cAAchM,IAAI5kB,EAAE,CAAC,WAAW4kB,IAAI,kBAAkBA,GAAG1uB,EAAE06B,cAAc,GAAGhM,IAAI5kB,EAAE,CAAC,WAAW,GAAG4kB,IAAIyF,EAAG5yB,eAAegtB,IAAI,MAAMG,GAAGmY,GAAG9mC,EAAEwuB,GAAG,OAAOD,GAAG,IAAK,QAAQ2K,GAAGj5B,GAAG+5B,GAAG/5B,EAAEyuB,GAAE,GAAI,MAAM,IAAK,WAAWwK,GAAGj5B,GAAGy6B,GAAGz6B,GAAG,MAAM,IAAK,SAAS,IAAK,SAAS,MAAM,QAAQ,oBAAoByuB,EAAEzZ,UAC1fhV,EAAEkmD,QAAQpf,IAAI/mC,EAAE+J,EAAEC,EAAEkyC,YAAYl8C,EAAE,OAAOA,IAAIgK,EAAEszB,WAAW,OAAO,CAAuY,OAAtY9O,EAAE,IAAIxuB,EAAE87B,SAAS97B,EAAEA,EAAEi6B,cAAclwB,IAAI88B,KAAK98B,EAAEixB,GAAGzM,IAAIxkB,IAAI88B,GAAG,WAAWtY,GAAGxkB,EAAEykB,EAAE3S,cAAc,OAAO9R,EAAEwxB,UAAU,qBAAuBxxB,EAAEA,EAAE2xB,YAAY3xB,EAAE0xB,aAAa,kBAAkBx7B,EAAE2mC,GAAG78B,EAAEykB,EAAE3S,cAAc0S,EAAE,CAACqY,GAAG3mC,EAAE2mC,MAAM78B,EAAEykB,EAAE3S,cAAc0S,GAAG,WAAWA,IAAIC,EAAEzkB,EAAE9J,EAAEimD,SAAS13B,EAAE03B,UAAS,EAAGjmD,EAAEmmD,OAAO53B,EAAE43B,KAAKnmD,EAAEmmD,QAAQr8C,EAAEykB,EAAE63B,gBAAgBt8C,EAAEwkB,GAAGxkB,EAAE6+B,IAAI5+B,EAAED,EAAE8+B,IAAI5oC,EAAE2kD,GAAG76C,EAAEC,GAAE,GAAG,GAAIA,EAAE6qB,UAAU9qB,EAAEykB,EAAEmY,GAAGpY,EAAEtuB,GAAUsuB,GAAG,IAAK,SAAS,IAAK,SAAS,IAAK,QAAQd,GAAE,OAC9f1jB,GAAG4kB,EAAE1uB,EAAE,MAAM,IAAK,QAAQ,IAAK,QAAQ,IAAI0uB,EAAE,EAAEA,EAAEoO,GAAGt2B,OAAOkoB,IAAIlB,GAAEsP,GAAGpO,GAAG5kB,GAAG4kB,EAAE1uB,EAAE,MAAM,IAAK,SAASwtB,GAAE,QAAQ1jB,GAAG4kB,EAAE1uB,EAAE,MAAM,IAAK,MAAM,IAAK,QAAQ,IAAK,OAAOwtB,GAAE,QAAQ1jB,GAAG0jB,GAAE,OAAO1jB,GAAG4kB,EAAE1uB,EAAE,MAAM,IAAK,OAAOwtB,GAAE,QAAQ1jB,GAAG0jB,GAAE,SAAS1jB,GAAG4kB,EAAE1uB,EAAE,MAAM,IAAK,UAAUwtB,GAAE,SAAS1jB,GAAG4kB,EAAE1uB,EAAE,MAAM,IAAK,QAAQy5B,GAAG3vB,EAAE9J,GAAG0uB,EAAE0K,GAAGtvB,EAAE9J,GAAGwtB,GAAE,UAAU1jB,GAAG+8B,GAAG9mC,EAAE,YAAY,MAAM,IAAK,SAAS2uB,EAAEwL,GAAGpwB,EAAE9J,GAAG,MAAM,IAAK,SAAS8J,EAAEyvB,cAAc,CAACysB,cAAchmD,EAAEimD,UAAUv3B,EAAEvtB,EAAE,GAAGnB,EAAE,CAACW,WAAM,IAAS6sB,GAAE,UAAU1jB,GAAG+8B,GAAG9mC,EAAE,YAAY,MAAM,IAAK,WAAWw6B,GAAGzwB,EACtgB9J,GAAG0uB,EAAE4L,GAAGxwB,EAAE9J,GAAGwtB,GAAE,UAAU1jB,GAAG+8B,GAAG9mC,EAAE,YAAY,MAAM,QAAQ2uB,EAAE1uB,EAAEymC,GAAGnY,EAAEI,GAAG,IAAIF,EAAEE,EAAE,IAAID,KAAKD,EAAE,GAAGA,EAAEjtB,eAAektB,GAAG,CAAC,IAAI9uB,EAAE6uB,EAAEC,GAAG,UAAUA,EAAEgX,GAAG37B,EAAEnK,GAAG,4BAA4B8uB,GAAG9uB,EAAEA,EAAEA,EAAEghB,YAAO,EAAO,MAAMhhB,GAAGu7B,GAAGpxB,EAAEnK,IAAI,aAAa8uB,EAAE,kBAAkB9uB,GAAG,aAAa2uB,GAAG,KAAK3uB,IAAIg8B,GAAG7xB,EAAEnK,GAAG,kBAAkBA,GAAGg8B,GAAG7xB,EAAE,GAAGnK,GAAG,mCAAmC8uB,GAAG,6BAA6BA,GAAG,cAAcA,IAAI0F,EAAG5yB,eAAektB,GAAG,MAAM9uB,GAAGknC,GAAG9mC,EAAE0uB,GAAG,MAAM9uB,GAAG82B,GAAG3sB,EAAE2kB,EAAE9uB,EAAE4uB,IAAI,OAAOD,GAAG,IAAK,QAAQ2K,GAAGnvB,GAAGiwB,GAAGjwB,EAAE9J,GAAE,GACnf,MAAM,IAAK,WAAWi5B,GAAGnvB,GAAG2wB,GAAG3wB,GAAG,MAAM,IAAK,SAAS,MAAM9J,EAAEW,OAAOmJ,EAAElB,aAAa,QAAQ,GAAG2vB,GAAGv4B,EAAEW,QAAQ,MAAM,IAAK,SAASmJ,EAAEm8C,WAAWjmD,EAAEimD,SAASlmD,EAAEC,EAAEW,MAAM,MAAMZ,EAAEo6B,GAAGrwB,IAAI9J,EAAEimD,SAASlmD,GAAE,GAAI,MAAMC,EAAEs5B,cAAca,GAAGrwB,IAAI9J,EAAEimD,SAASjmD,EAAEs5B,cAAa,GAAI,MAAM,QAAQ,oBAAoB5K,EAAE1Z,UAAUlL,EAAEo8C,QAAQpf,IAAImB,GAAG3Z,EAAEtuB,KAAK+J,EAAEszB,WAAW,GAAG,OAAOtzB,EAAE/G,MAAM+G,EAAEszB,WAAW,KAAK,OAAO,KAAK,KAAK,EAAE,GAAGvzB,GAAG,MAAMC,EAAE6qB,UAAUkwB,GAAGh7C,EAAEC,EAAED,EAAEm2C,cAAcjgD,OAAO,CAAC,GAAG,kBAAkBA,GAAG,OAAO+J,EAAE6qB,UAAU,MAAMznB,MAAMsf,EAAE,MACvf1sB,EAAE2/C,GAAGD,GAAGl0C,SAASm0C,GAAGH,GAAGh0C,SAASk4C,GAAG15C,IAAIhK,EAAEgK,EAAE6qB,UAAU50B,EAAE+J,EAAEk2C,cAAclgD,EAAE4oC,IAAI5+B,EAAEhK,EAAE+7B,YAAY97B,IAAI+J,EAAEszB,WAAW,KAAKt9B,GAAG,IAAIA,EAAE87B,SAAS97B,EAAEA,EAAEi6B,eAAeqsB,eAAermD,GAAGD,EAAE4oC,IAAI5+B,EAAEA,EAAE6qB,UAAU70B,GAAG,OAAO,KAAK,KAAK,GAA0B,OAAvB4tB,GAAEU,IAAGruB,EAAE+J,EAAEwzB,cAAiB,KAAiB,GAAZxzB,EAAEszB,YAAqBtzB,EAAE2xC,eAAe37C,EAAEgK,IAAEhK,EAAE,OAAOC,EAAEA,GAAE,EAAG,OAAO8J,OAAE,IAASC,EAAEk2C,cAAciF,UAAUzB,GAAG15C,IAAIukB,EAAExkB,EAAEyzB,cAAcv9B,EAAE,OAAOsuB,EAAEvuB,GAAG,OAAOuuB,IAAIA,EAAExkB,EAAE6zB,MAAMC,QAAQ,OAAOtP,IAAIG,EAAE1kB,EAAE60C,YAAY,OAAOnwB,GAAG1kB,EAAE60C,YAAYtwB,EAAEA,EAAEqwB,WAAWlwB,IAAI1kB,EAAE60C,YAAY70C,EAAE20C,WACtfpwB,EAAEA,EAAEqwB,WAAW,MAAMrwB,EAAE+O,UAAU,KAAQt9B,IAAIC,GAAG,KAAY,EAAP+J,EAAElJ,QAAW,OAAOiJ,IAAG,IAAKC,EAAEk2C,cAAckF,4BAA4B,KAAe,EAAV92B,GAAE9iB,SAAWikB,KAAI82B,KAAK92B,GAAE+2B,KAAY/2B,KAAI82B,IAAI92B,KAAI+2B,KAAG/2B,GAAEg3B,IAAG,IAAIC,IAAI,OAAOh3B,KAAIi3B,GAAGj3B,GAAEC,IAAGi3B,GAAGl3B,GAAEg3B,QAAQ1mD,GAAGC,KAAE+J,EAAEszB,WAAW,GAAS,MAAK,KAAK,EAAE,OAAOwiB,KAAK+E,GAAG76C,GAAG,KAAK,KAAK,GAAG,OAAOsxC,GAAGtxC,GAAG,KAAK,KAAK,GAAG,OAAOmkB,GAAEnkB,EAAE3C,OAAOixC,KAAK,KAAK,KAAK,GAA0B,GAAvB1qB,GAAEU,IAAGruB,EAAE+J,EAAEwzB,cAAiB,OAAOv9B,EAAE,OAAO,KAA0C,GAArCsuB,EAAE,KAAiB,GAAZvkB,EAAEszB,WAAc5O,EAAEzuB,EAAEulD,UAAa,OAAO92B,GAAE,GAAGH,EAAEw3B,GAAG9lD,GAAE,QAAS,GAAGwvB,KAAI82B,IAAI,OAAOx8C,GAAG,KAC9e,GADmfA,EAAEuzB,WACjf,IAAI5O,EAAE1kB,EAAE4zB,MAAM,OAAOlP,GAAG,CAAS,GAAR3kB,EAAEk2C,GAAGvxB,GAAM,OAAO3kB,EAAE,CAAyJ,IAAxJC,EAAEszB,WAAW,GAAGyoB,GAAG9lD,GAAE,GAAIsuB,EAAExkB,EAAEmyC,YAAY,OAAO3tB,IAAIvkB,EAAEkyC,YAAY3tB,EAAEvkB,EAAEszB,WAAW,GAAG,OAAOr9B,EAAE0+C,aAAa30C,EAAE60C,YAAY,MAAM70C,EAAE20C,WAAW1+C,EAAE0+C,WAAe1+C,EAAE+J,EAAE4zB,MAAM,OAAO39B,GAAGsuB,EAAEtuB,EAAEyuB,EAAE1uB,EAAEuuB,EAAE+O,WAAW,EAAE/O,EAAEqwB,WAAW,KAAKrwB,EAAEswB,YAAY,KAAKtwB,EAAEowB,WAAW,KAAK50C,EAAEwkB,EAAE8O,UAAU,OAAOtzB,GAAGwkB,EAAEitB,oBAAoB,EAAEjtB,EAAEotB,eAAejtB,EAAEH,EAAEqP,MAAM,KAAKrP,EAAE2xB,cAAc,KAAK3xB,EAAEiP,cAAc,KAAKjP,EAAE2tB,YAAY,KAAK3tB,EAAE+F,aAAa,OAAO/F,EAAEitB,oBAAoBzxC,EAAEyxC,oBAC3ejtB,EAAEotB,eAAe5xC,EAAE4xC,eAAeptB,EAAEqP,MAAM7zB,EAAE6zB,MAAMrP,EAAE2xB,cAAcn2C,EAAEm2C,cAAc3xB,EAAEiP,cAAczzB,EAAEyzB,cAAcjP,EAAE2tB,YAAYnyC,EAAEmyC,YAAYxtB,EAAE3kB,EAAEuqB,aAAa/F,EAAE+F,aAAa,OAAO5F,EAAE,KAAK,CAACitB,eAAejtB,EAAEitB,eAAeD,aAAahtB,EAAEgtB,aAAaK,WAAWrtB,EAAEqtB,aAAa97C,EAAEA,EAAE49B,QAA2B,OAAnB9P,GAAEO,GAAY,EAAVA,GAAE9iB,QAAU,GAAUxB,EAAE4zB,MAAMlP,EAAEA,EAAEmP,aAAa,CAAC,IAAItP,EAAE,GAAGxkB,EAAEk2C,GAAGvxB,GAAG,OAAO3kB,GAAG,GAAGC,EAAEszB,WAAW,GAAG/O,GAAE,EAAGvuB,EAAE+J,EAAEmyC,YAAY,OAAOl8C,IAAIgK,EAAEkyC,YAAYl8C,EAAEgK,EAAEszB,WAAW,GAAGyoB,GAAG9lD,GAAE,GAAI,OAAOA,EAAE0lD,MAAM,WAAW1lD,EAAE4lD,WAAWn3B,EAAE2O,UAAU,OAAOrzB,EACpgBA,EAAE20C,WAAW1+C,EAAE0+C,WAAW,OAAO30C,IAAIA,EAAE40C,WAAW,MAAM,UAAU,EAAErE,KAAKt6C,EAAEwlD,mBAAmBxlD,EAAE2lD,gBAAgB,EAAE5lD,IAAIgK,EAAEszB,WAAW,GAAG/O,GAAE,EAAGw3B,GAAG9lD,GAAE,GAAI+J,EAAE2xC,eAAe3xC,EAAEwxC,oBAAoBx7C,EAAE,GAAGC,EAAEslD,aAAa72B,EAAEmP,QAAQ7zB,EAAE4zB,MAAM5zB,EAAE4zB,MAAMlP,IAAI1uB,EAAEC,EAAEylD,KAAK,OAAO1lD,EAAEA,EAAE69B,QAAQnP,EAAE1kB,EAAE4zB,MAAMlP,EAAEzuB,EAAEylD,KAAKh3B,GAAG,OAAO,OAAOzuB,EAAE0lD,MAAM,IAAI1lD,EAAE2lD,iBAAiB3lD,EAAE2lD,eAAerL,KAAK,KAAKv6C,EAAEC,EAAE0lD,KAAK1lD,EAAEulD,UAAUxlD,EAAEC,EAAE0lD,KAAK3lD,EAAE69B,QAAQ59B,EAAE0+C,WAAW30C,EAAE20C,WAAW1+C,EAAEwlD,mBAAmBlL,KAAKv6C,EAAE69B,QAAQ,KAAK7zB,EAAEskB,GAAE9iB,QAAQuiB,GAAEO,GAAEC,EAAI,EAAFvkB,EAAI,EAAI,EAAFA,GAAKhK,GAAG,KAAK,MAAMoN,MAAMsf,EAAE,IACrgB1iB,EAAEkuB,MAAO,SAAS2uB,GAAG98C,GAAG,OAAOA,EAAEmuB,KAAK,KAAK,EAAE/J,GAAEpkB,EAAE1C,OAAOixC,KAAK,IAAItuC,EAAED,EAAEuzB,UAAU,OAAS,KAAFtzB,GAAQD,EAAEuzB,WAAa,KAAHtzB,EAAQ,GAAGD,GAAG,KAAK,KAAK,EAA+B,GAA7B+1C,KAAKlyB,GAAEM,IAAGN,GAAEK,IAAGjkB,EAAED,EAAEuzB,UAAa,KAAO,GAAFtzB,GAAM,MAAMoD,MAAMsf,EAAE,MAA6B,OAAvB3iB,EAAEuzB,WAAa,KAAHtzB,EAAQ,GAAUD,EAAE,KAAK,EAAE,OAAOi2C,GAAGj2C,GAAG,KAAK,KAAK,GAAG,OAAO6jB,GAAEU,IAAGtkB,EAAED,EAAEuzB,UAAY,KAAFtzB,GAAQD,EAAEuzB,WAAa,KAAHtzB,EAAQ,GAAGD,GAAG,KAAK,KAAK,GAAG,OAAO6jB,GAAEU,IAAG,KAAK,KAAK,EAAE,OAAOwxB,KAAK,KAAK,KAAK,GAAG,OAAOxE,GAAGvxC,GAAG,KAAK,QAAQ,OAAO,MAAM,SAAS+8C,GAAG/8C,EAAEC,GAAG,MAAM,CAACpJ,MAAMmJ,EAAE0V,OAAOzV,EAAE+8C,MAAM9uB,GAAGjuB,IAjBvd46C,GAAG,SAAS76C,EAAEC,GAAG,IAAI,IAAIhK,EAAEgK,EAAE4zB,MAAM,OAAO59B,GAAG,CAAC,GAAG,IAAIA,EAAEk4B,KAAK,IAAIl4B,EAAEk4B,IAAInuB,EAAE4xB,YAAY37B,EAAE60B,gBAAgB,GAAG,IAAI70B,EAAEk4B,KAAK,OAAOl4B,EAAE49B,MAAM,CAAC59B,EAAE49B,MAAMrF,OAAOv4B,EAAEA,EAAEA,EAAE49B,MAAM,SAAS,GAAG59B,IAAIgK,EAAE,MAAM,KAAK,OAAOhK,EAAE69B,SAAS,CAAC,GAAG,OAAO79B,EAAEu4B,QAAQv4B,EAAEu4B,SAASvuB,EAAE,OAAOhK,EAAEA,EAAEu4B,OAAOv4B,EAAE69B,QAAQtF,OAAOv4B,EAAEu4B,OAAOv4B,EAAEA,EAAE69B,UAAUgnB,GAAG,aAC7SC,GAAG,SAAS/6C,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,IAAIG,EAAE3kB,EAAEm2C,cAAc,GAAGxxB,IAAIzuB,EAAE,CAAC,IAAsW0uB,EAAEF,EAApWD,EAAExkB,EAAE6qB,UAAgC,OAAtB8qB,GAAGH,GAAGh0C,SAASzB,EAAE,KAAY/J,GAAG,IAAK,QAAQ0uB,EAAE2K,GAAG7K,EAAEE,GAAGzuB,EAAEo5B,GAAG7K,EAAEvuB,GAAG8J,EAAE,GAAG,MAAM,IAAK,SAAS2kB,EAAEyL,GAAG3L,EAAEE,GAAGzuB,EAAEk6B,GAAG3L,EAAEvuB,GAAG8J,EAAE,GAAG,MAAM,IAAK,SAAS2kB,EAAEttB,EAAE,GAAGstB,EAAE,CAAC9tB,WAAM,IAASX,EAAEmB,EAAE,GAAGnB,EAAE,CAACW,WAAM,IAASmJ,EAAE,GAAG,MAAM,IAAK,WAAW2kB,EAAE6L,GAAG/L,EAAEE,GAAGzuB,EAAEs6B,GAAG/L,EAAEvuB,GAAG8J,EAAE,GAAG,MAAM,QAAQ,oBAAoB2kB,EAAEzZ,SAAS,oBAAoBhV,EAAEgV,UAAUuZ,EAAE23B,QAAQpf,IAA2B,IAAIpY,KAA3B+X,GAAG1mC,EAAEC,GAAWD,EAAE,KAAc0uB,EAAE,IAAIzuB,EAAEuB,eAAemtB,IAAID,EAAEltB,eAAemtB,IAAI,MAAMD,EAAEC,GAAG,GAAG,UAC/eA,EAAE,IAAIF,KAAKD,EAAEE,EAAEC,GAAGH,EAAEA,EAAEhtB,eAAeitB,KAAKzuB,IAAIA,EAAE,IAAIA,EAAEyuB,GAAG,QAAQ,4BAA4BE,GAAG,aAAaA,GAAG,mCAAmCA,GAAG,6BAA6BA,GAAG,cAAcA,IAAIyF,EAAG5yB,eAAemtB,GAAG5kB,IAAIA,EAAE,KAAKA,EAAEA,GAAG,IAAIF,KAAK8kB,EAAE,OAAO,IAAIA,KAAK1uB,EAAE,CAAC,IAAIL,EAAEK,EAAE0uB,GAAyB,GAAtBH,EAAE,MAAME,EAAEA,EAAEC,QAAG,EAAU1uB,EAAEuB,eAAemtB,IAAI/uB,IAAI4uB,IAAI,MAAM5uB,GAAG,MAAM4uB,GAAG,GAAG,UAAUG,EAAE,GAAGH,EAAE,CAAC,IAAIC,KAAKD,GAAGA,EAAEhtB,eAAeitB,IAAI7uB,GAAGA,EAAE4B,eAAeitB,KAAKzuB,IAAIA,EAAE,IAAIA,EAAEyuB,GAAG,IAAI,IAAIA,KAAK7uB,EAAEA,EAAE4B,eAAeitB,IAAID,EAAEC,KAAK7uB,EAAE6uB,KAAKzuB,IAAIA,EAAE,IACpfA,EAAEyuB,GAAG7uB,EAAE6uB,SAASzuB,IAAI+J,IAAIA,EAAE,IAAIA,EAAEF,KAAK8kB,EAAE3uB,IAAIA,EAAEJ,MAAM,4BAA4B+uB,GAAG/uB,EAAEA,EAAEA,EAAEghB,YAAO,EAAO4N,EAAEA,EAAEA,EAAE5N,YAAO,EAAO,MAAMhhB,GAAG4uB,IAAI5uB,IAAImK,EAAEA,GAAG,IAAIF,KAAK8kB,EAAE/uB,IAAI,aAAa+uB,EAAEH,IAAI5uB,GAAG,kBAAkBA,GAAG,kBAAkBA,IAAImK,EAAEA,GAAG,IAAIF,KAAK8kB,EAAE,GAAG/uB,GAAG,mCAAmC+uB,GAAG,6BAA6BA,IAAIyF,EAAG5yB,eAAemtB,IAAI,MAAM/uB,GAAGknC,GAAGvY,EAAEI,GAAG5kB,GAAGykB,IAAI5uB,IAAImK,EAAE,MAAMA,EAAEA,GAAG,IAAIF,KAAK8kB,EAAE/uB,IAAII,IAAI+J,EAAEA,GAAG,IAAIF,KAAK,QAAQ7J,GAAGuuB,EAAExkB,GAAKC,EAAEkyC,YAAY3tB,KAAEvkB,EAAEszB,WAAW,KAC5cynB,GAAG,SAASh7C,EAAEC,EAAEhK,EAAEC,GAAGD,IAAIC,IAAI+J,EAAEszB,WAAW,IAc1C,IAAI0pB,GAAG,oBAAoBC,QAAQA,QAAQC,IAAI,SAASC,GAAGp9C,EAAEC,GAAG,IAAIhK,EAAEgK,EAAEyV,OAAOxf,EAAE+J,EAAE+8C,MAAM,OAAO9mD,GAAG,OAAOD,IAAIC,EAAEg4B,GAAGj4B,IAAI,OAAOA,GAAG+3B,GAAG/3B,EAAEqH,MAAM2C,EAAEA,EAAEpJ,MAAM,OAAOmJ,GAAG,IAAIA,EAAEmuB,KAAKH,GAAGhuB,EAAE1C,MAAM,IAAItC,QAAQC,MAAMgF,GAAG,MAAMukB,GAAG/gB,YAAW,WAAW,MAAM+gB,MAAM,SAAS64B,GAAGr9C,EAAEC,GAAG,IAAIA,EAAEhH,MAAM+G,EAAEm2C,cAAcl2C,EAAEpE,MAAMmE,EAAEyzB,cAAcxzB,EAAEq9C,uBAAuB,MAAMrnD,GAAGsnD,GAAGv9C,EAAE/J,IAAI,SAASunD,GAAGx9C,GAAG,IAAIC,EAAED,EAAE9G,IAAI,GAAG,OAAO+G,EAAE,GAAG,oBAAoBA,EAAE,IAAIA,EAAE,MAAM,MAAMhK,GAAGsnD,GAAGv9C,EAAE/J,QAAQgK,EAAEwB,QAAQ,KACld,SAASg8C,GAAGz9C,EAAEC,GAAG,OAAOA,EAAEkuB,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,OAAO,KAAK,EAAE,GAAe,IAAZluB,EAAEszB,WAAe,OAAOvzB,EAAE,CAAC,IAAI/J,EAAE+J,EAAEm2C,cAAcjgD,EAAE8J,EAAEyzB,cAAczzB,EAAEC,EAAE6qB,UAAU7qB,EAAED,EAAEm0C,wBAAwBl0C,EAAEg1C,cAAch1C,EAAE3C,KAAKrH,EAAEg7C,GAAGhxC,EAAE3C,KAAKrH,GAAGC,GAAG8J,EAAE09C,oCAAoCz9C,EAAE,OAAO,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,OAAO,MAAMoD,MAAMsf,EAAE,MAC7U,SAASg7B,GAAG39C,EAAEC,GAAgD,GAA7CA,EAAEA,EAAEkyC,YAAYlyC,EAAE,OAAOA,EAAEA,EAAE20C,WAAW,KAAQ,OAAO30C,EAAE,CAAC,IAAIhK,EAAEgK,EAAEA,EAAE3B,KAAK,EAAE,CAAC,IAAIrI,EAAEk4B,IAAInuB,KAAKA,EAAE,CAAC,IAAI9J,EAAED,EAAE8hD,QAAQ9hD,EAAE8hD,aAAQ,OAAO,IAAS7hD,GAAGA,IAAID,EAAEA,EAAEqI,WAAWrI,IAAIgK,IAAI,SAAS29C,GAAG59C,EAAEC,GAAgD,GAA7CA,EAAEA,EAAEkyC,YAAYlyC,EAAE,OAAOA,EAAEA,EAAE20C,WAAW,KAAQ,OAAO30C,EAAE,CAAC,IAAIhK,EAAEgK,EAAEA,EAAE3B,KAAK,EAAE,CAAC,IAAIrI,EAAEk4B,IAAInuB,KAAKA,EAAE,CAAC,IAAI9J,EAAED,EAAEiB,OAAOjB,EAAE8hD,QAAQ7hD,IAAID,EAAEA,EAAEqI,WAAWrI,IAAIgK,IACtV,SAAS49C,GAAG79C,EAAEC,EAAEhK,GAAG,OAAOA,EAAEk4B,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAW,YAARyvB,GAAG,EAAE3nD,GAAU,KAAK,EAAgB,GAAd+J,EAAE/J,EAAE60B,UAAyB,EAAZ70B,EAAEs9B,UAAY,GAAG,OAAOtzB,EAAED,EAAEs0C,wBAAwB,CAAC,IAAIp+C,EAAED,EAAEg/C,cAAch/C,EAAEqH,KAAK2C,EAAEk2C,cAAclF,GAAGh7C,EAAEqH,KAAK2C,EAAEk2C,eAAen2C,EAAEw6C,mBAAmBtkD,EAAE+J,EAAEwzB,cAAczzB,EAAE09C,qCAAyE,OAApCz9C,EAAEhK,EAAEk8C,iBAAY,OAAOlyC,GAAGizC,GAAGj9C,EAAEgK,EAAED,IAAU,KAAK,EAAkB,GAAhBC,EAAEhK,EAAEk8C,YAAe,OAAOlyC,EAAE,CAAQ,GAAPD,EAAE,KAAQ,OAAO/J,EAAE49B,MAAM,OAAO59B,EAAE49B,MAAM1F,KAAK,KAAK,EAAEnuB,EAAE/J,EAAE49B,MAAM/I,UAAU,MAAM,KAAK,EAAE9qB,EAAE/J,EAAE49B,MAAM/I,UAAUooB,GAAGj9C,EAAEgK,EAAED,GAAG,OACpf,KAAK,EAA+E,OAA7EA,EAAE/J,EAAE60B,eAAU,OAAO7qB,GAAe,EAAZhK,EAAEs9B,WAAa4K,GAAGloC,EAAEqH,KAAKrH,EAAEkgD,gBAAgBn2C,EAAE3D,SAAe,KAAK,EAAE,OAAO,KAAK,EAAE,OAAO,KAAK,GAAG,OAAO,KAAK,GAAoH,YAAjH,OAAOpG,EAAEw9B,gBAAgBx9B,EAAEA,EAAEq9B,UAAU,OAAOr9B,IAAIA,EAAEA,EAAEw9B,cAAc,OAAOx9B,IAAIA,EAAEA,EAAEy9B,WAAW,OAAOz9B,GAAG6hC,GAAG7hC,OAAa,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,OAAO,MAAMoN,MAAMsf,EAAE,MAC3T,SAASm7B,GAAG99C,EAAEC,EAAEhK,GAAiC,OAA9B,oBAAoB8nD,IAAIA,GAAG99C,GAAUA,EAAEkuB,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAmB,GAAhBnuB,EAAEC,EAAEkyC,YAAe,OAAOnyC,IAAIA,EAAEA,EAAE40C,WAAW,OAAO50C,GAAG,CAAC,IAAI9J,EAAE8J,EAAE1B,KAAKqyC,GAAG,GAAG16C,EAAE,GAAGA,GAAE,WAAW,IAAI+J,EAAE9J,EAAE,EAAE,CAAC,IAAID,EAAE+J,EAAE+3C,QAAQ,QAAG,IAAS9hD,EAAE,CAAC,IAAIwuB,EAAExkB,EAAE,IAAIhK,IAAI,MAAM2uB,GAAG24B,GAAG94B,EAAEG,IAAI5kB,EAAEA,EAAE1B,WAAW0B,IAAI9J,MAAK,MAAM,KAAK,EAAEsnD,GAAGv9C,GAAGhK,EAAEgK,EAAE6qB,UAAU,oBAAoB70B,EAAEqnD,sBAAsBD,GAAGp9C,EAAEhK,GAAG,MAAM,KAAK,EAAEunD,GAAGv9C,GAAG,MAAM,KAAK,EAAE+9C,GAAGh+C,EAAEC,EAAEhK,IACna,SAASgoD,GAAGj+C,GAAG,IAAIC,EAAED,EAAEszB,UAAUtzB,EAAEwuB,OAAO,KAAKxuB,EAAE6zB,MAAM,KAAK7zB,EAAEyzB,cAAc,KAAKzzB,EAAEmyC,YAAY,KAAKnyC,EAAEuqB,aAAa,KAAKvqB,EAAEszB,UAAU,KAAKtzB,EAAE80C,YAAY,KAAK90C,EAAE40C,WAAW,KAAK50C,EAAEw5C,aAAa,KAAKx5C,EAAEm2C,cAAc,KAAKn2C,EAAE8qB,UAAU,KAAK,OAAO7qB,GAAGg+C,GAAGh+C,GAAG,SAASi+C,GAAGl+C,GAAG,OAAO,IAAIA,EAAEmuB,KAAK,IAAInuB,EAAEmuB,KAAK,IAAInuB,EAAEmuB,IAC1S,SAASgwB,GAAGn+C,GAAGA,EAAE,CAAC,IAAI,IAAIC,EAAED,EAAEwuB,OAAO,OAAOvuB,GAAG,CAAC,GAAGi+C,GAAGj+C,GAAG,CAAC,IAAIhK,EAAEgK,EAAE,MAAMD,EAAEC,EAAEA,EAAEuuB,OAAO,MAAMnrB,MAAMsf,EAAE,MAAqB,OAAd1iB,EAAEhK,EAAE60B,UAAiB70B,EAAEk4B,KAAK,KAAK,EAAE,IAAIj4B,GAAE,EAAG,MAAM,KAAK,EAAE+J,EAAEA,EAAEs1B,cAAcr/B,GAAE,EAAG,MAAM,KAAK,EAAE+J,EAAEA,EAAEs1B,cAAcr/B,GAAE,EAAG,MAAM,QAAQ,MAAMmN,MAAMsf,EAAE,MAAmB,GAAZ1sB,EAAEs9B,YAAe1B,GAAG5xB,EAAE,IAAIhK,EAAEs9B,YAAY,IAAIvzB,EAAEC,EAAE,IAAIhK,EAAE+J,IAAI,CAAC,KAAK,OAAO/J,EAAE69B,SAAS,CAAC,GAAG,OAAO79B,EAAEu4B,QAAQ0vB,GAAGjoD,EAAEu4B,QAAQ,CAACv4B,EAAE,KAAK,MAAM+J,EAAE/J,EAAEA,EAAEu4B,OAAiC,IAA1Bv4B,EAAE69B,QAAQtF,OAAOv4B,EAAEu4B,OAAWv4B,EAAEA,EAAE69B,QAAQ,IAAI79B,EAAEk4B,KAAK,IAAIl4B,EAAEk4B,KAAK,KAAKl4B,EAAEk4B,KAAK,CAAC,GAAe,EAAZl4B,EAAEs9B,UAAY,SAAStzB,EACvf,GAAG,OAAOhK,EAAE49B,OAAO,IAAI59B,EAAEk4B,IAAI,SAASluB,EAAOhK,EAAE49B,MAAMrF,OAAOv4B,EAAEA,EAAEA,EAAE49B,MAAM,KAAiB,EAAZ59B,EAAEs9B,WAAa,CAACt9B,EAAEA,EAAE60B,UAAU,MAAM9qB,GAAG9J,EAAEkoD,GAAGp+C,EAAE/J,EAAEgK,GAAGo+C,GAAGr+C,EAAE/J,EAAEgK,GACvI,SAASm+C,GAAGp+C,EAAEC,EAAEhK,GAAG,IAAIC,EAAE8J,EAAEmuB,IAAI3J,EAAE,IAAItuB,GAAG,IAAIA,EAAE,GAAGsuB,EAAExkB,EAAEwkB,EAAExkB,EAAE8qB,UAAU9qB,EAAE8qB,UAAU1e,SAASnM,EAAE,IAAIhK,EAAE87B,SAAS97B,EAAE4+B,WAAWypB,aAAat+C,EAAEC,GAAGhK,EAAEqoD,aAAat+C,EAAEC,IAAI,IAAIhK,EAAE87B,UAAU9xB,EAAEhK,EAAE4+B,WAAW50B,EAAEq+C,aAAat+C,EAAE/J,KAAKgK,EAAEhK,EAAEgK,EAAE2xB,YAAY5xB,IAAI/J,EAAEA,EAAEsoD,oBAAoB,OAAOtoD,QAAG,IAASA,GAAG,OAAOgK,EAAEm8C,UAAUn8C,EAAEm8C,QAAQpf,UAAU,GAAG,IAAI9mC,IAAI8J,EAAEA,EAAE6zB,MAAM,OAAO7zB,GAAG,IAAIo+C,GAAGp+C,EAAEC,EAAEhK,GAAG+J,EAAEA,EAAE8zB,QAAQ,OAAO9zB,GAAGo+C,GAAGp+C,EAAEC,EAAEhK,GAAG+J,EAAEA,EAAE8zB,QAC9Y,SAASuqB,GAAGr+C,EAAEC,EAAEhK,GAAG,IAAIC,EAAE8J,EAAEmuB,IAAI3J,EAAE,IAAItuB,GAAG,IAAIA,EAAE,GAAGsuB,EAAExkB,EAAEwkB,EAAExkB,EAAE8qB,UAAU9qB,EAAE8qB,UAAU1e,SAASnM,EAAEhK,EAAEqoD,aAAat+C,EAAEC,GAAGhK,EAAE27B,YAAY5xB,QAAQ,GAAG,IAAI9J,IAAI8J,EAAEA,EAAE6zB,MAAM,OAAO7zB,GAAG,IAAIq+C,GAAGr+C,EAAEC,EAAEhK,GAAG+J,EAAEA,EAAE8zB,QAAQ,OAAO9zB,GAAGq+C,GAAGr+C,EAAEC,EAAEhK,GAAG+J,EAAEA,EAAE8zB,QACrN,SAASkqB,GAAGh+C,EAAEC,EAAEhK,GAAG,IAAI,IAAa0uB,EAAEF,EAAXvuB,EAAE+J,EAAEukB,GAAE,IAAS,CAAC,IAAIA,EAAE,CAACA,EAAEtuB,EAAEs4B,OAAOxuB,EAAE,OAAO,CAAC,GAAG,OAAOwkB,EAAE,MAAMnhB,MAAMsf,EAAE,MAAoB,OAAdgC,EAAEH,EAAEsG,UAAiBtG,EAAE2J,KAAK,KAAK,EAAE1J,GAAE,EAAG,MAAMzkB,EAAE,KAAK,EAAE2kB,EAAEA,EAAE4Q,cAAc9Q,GAAE,EAAG,MAAMzkB,EAAE,KAAK,EAAE2kB,EAAEA,EAAE4Q,cAAc9Q,GAAE,EAAG,MAAMzkB,EAAEwkB,EAAEA,EAAEgK,OAAOhK,GAAE,EAAG,GAAG,IAAItuB,EAAEi4B,KAAK,IAAIj4B,EAAEi4B,IAAI,CAACnuB,EAAE,IAAI,IAAI4kB,EAAE5kB,EAAE0kB,EAAExuB,EAAEL,EAAEI,EAAED,EAAE0uB,IAAI,GAAGo5B,GAAGl5B,EAAE5uB,EAAEH,GAAG,OAAOG,EAAE69B,OAAO,IAAI79B,EAAEm4B,IAAIn4B,EAAE69B,MAAMrF,OAAOx4B,EAAEA,EAAEA,EAAE69B,UAAU,CAAC,GAAG79B,IAAI0uB,EAAE,MAAM1kB,EAAE,KAAK,OAAOhK,EAAE89B,SAAS,CAAC,GAAG,OAAO99B,EAAEw4B,QAAQx4B,EAAEw4B,SAAS9J,EAAE,MAAM1kB,EAAEhK,EAAEA,EAAEw4B,OAAOx4B,EAAE89B,QAAQtF,OAAOx4B,EAAEw4B,OAAOx4B,EAAEA,EAAE89B,QAAQrP,GAAGG,EACrfD,EAAED,EAAExuB,EAAE40B,UAAU,IAAIlG,EAAEmN,SAASnN,EAAEiQ,WAAWlD,YAAYjN,GAAGE,EAAE+M,YAAYjN,IAAIC,EAAEgN,YAAYz7B,EAAE40B,gBAAgB,GAAG,IAAI50B,EAAEi4B,KAAK,GAAG,OAAOj4B,EAAE29B,MAAM,CAAClP,EAAEzuB,EAAE40B,UAAUyK,cAAc9Q,GAAE,EAAGvuB,EAAE29B,MAAMrF,OAAOt4B,EAAEA,EAAEA,EAAE29B,MAAM,eAAe,GAAGiqB,GAAG99C,EAAE9J,EAAED,GAAG,OAAOC,EAAE29B,MAAM,CAAC39B,EAAE29B,MAAMrF,OAAOt4B,EAAEA,EAAEA,EAAE29B,MAAM,SAAS,GAAG39B,IAAI+J,EAAE,MAAM,KAAK,OAAO/J,EAAE49B,SAAS,CAAC,GAAG,OAAO59B,EAAEs4B,QAAQt4B,EAAEs4B,SAASvuB,EAAE,OAAO/J,EAAEA,EAAEs4B,OAAO,IAAIt4B,EAAEi4B,MAAM3J,GAAE,GAAItuB,EAAE49B,QAAQtF,OAAOt4B,EAAEs4B,OAAOt4B,EAAEA,EAAE49B,SACpa,SAAS0qB,GAAGx+C,EAAEC,GAAG,OAAOA,EAAEkuB,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAW,YAARwvB,GAAG,EAAE19C,GAAU,KAAK,EAAE,OAAO,KAAK,EAAE,IAAIhK,EAAEgK,EAAE6qB,UAAU,GAAG,MAAM70B,EAAE,CAAC,IAAIC,EAAE+J,EAAEk2C,cAAc3xB,EAAE,OAAOxkB,EAAEA,EAAEm2C,cAAcjgD,EAAE8J,EAAEC,EAAE3C,KAAK,IAAIqnB,EAAE1kB,EAAEkyC,YAA+B,GAAnBlyC,EAAEkyC,YAAY,KAAQ,OAAOxtB,EAAE,CAAgF,IAA/E1uB,EAAE6oC,IAAI5oC,EAAE,UAAU8J,GAAG,UAAU9J,EAAEoH,MAAM,MAAMpH,EAAEC,MAAM25B,GAAG75B,EAAEC,GAAG0mC,GAAG58B,EAAEwkB,GAAGvkB,EAAE28B,GAAG58B,EAAE9J,GAAOsuB,EAAE,EAAEA,EAAEG,EAAEjoB,OAAO8nB,GAAG,EAAE,CAAC,IAAIC,EAAEE,EAAEH,GAAGI,EAAED,EAAEH,EAAE,GAAG,UAAUC,EAAEkX,GAAG1lC,EAAE2uB,GAAG,4BAA4BH,EAAE2M,GAAGn7B,EAAE2uB,GAAG,aAAaH,EAAEoN,GAAG57B,EAAE2uB,GAAG+H,GAAG12B,EAAEwuB,EAAEG,EAAE3kB,GAAG,OAAOD,GAAG,IAAK,QAAQ+vB,GAAG95B,EAAEC,GAAG,MAChf,IAAK,WAAWw6B,GAAGz6B,EAAEC,GAAG,MAAM,IAAK,SAAS+J,EAAEhK,EAAEw5B,cAAcysB,YAAYjmD,EAAEw5B,cAAcysB,cAAchmD,EAAEimD,SAASn8C,EAAE9J,EAAEW,MAAM,MAAMmJ,EAAEqwB,GAAGp6B,IAAIC,EAAEimD,SAASn8C,GAAE,GAAIC,MAAM/J,EAAEimD,WAAW,MAAMjmD,EAAEs5B,aAAaa,GAAGp6B,IAAIC,EAAEimD,SAASjmD,EAAEs5B,cAAa,GAAIa,GAAGp6B,IAAIC,EAAEimD,SAASjmD,EAAEimD,SAAS,GAAG,IAAG,MAAO,OAAO,KAAK,EAAE,GAAG,OAAOl8C,EAAE6qB,UAAU,MAAMznB,MAAMsf,EAAE,MAA4C,YAAtC1iB,EAAE6qB,UAAUkH,UAAU/xB,EAAEk2C,eAAqB,KAAK,EAA8D,OAA5Dl2C,EAAEA,EAAE6qB,eAAU7qB,EAAEq3B,UAAUr3B,EAAEq3B,SAAQ,EAAGQ,GAAG73B,EAAEs1B,iBAAuB,KAAK,GAAG,OAAO,KAAK,GACzb,GAD4bt/B,EAAEgK,EAAE,OAAOA,EAAEwzB,cACvev9B,GAAE,GAAIA,GAAE,EAAGD,EAAEgK,EAAE4zB,MAAM4qB,GAAGjO,MAAS,OAAOv6C,EAAE+J,EAAE,IAAIA,EAAE/J,IAAI,CAAC,GAAG,IAAI+J,EAAEmuB,IAAIxJ,EAAE3kB,EAAE8qB,UAAU50B,GAAGyuB,EAAEA,EAAEzpB,MAAM,oBAAoBypB,EAAEiX,YAAYjX,EAAEiX,YAAY,UAAU,OAAO,aAAajX,EAAE+5B,QAAQ,SAAS/5B,EAAE3kB,EAAE8qB,UAAUtG,EAAExkB,EAAEm2C,cAAcj7C,MAAMspB,OAAE,IAASA,GAAG,OAAOA,GAAGA,EAAE/sB,eAAe,WAAW+sB,EAAEk6B,QAAQ,KAAK/5B,EAAEzpB,MAAMwjD,QAAQjjB,GAAG,UAAUjX,SAAS,GAAG,IAAIxkB,EAAEmuB,IAAInuB,EAAE8qB,UAAUkH,UAAU97B,EAAE,GAAG8J,EAAEm2C,kBAAmB,IAAG,KAAKn2C,EAAEmuB,KAAK,OAAOnuB,EAAEyzB,eAAe,OAAOzzB,EAAEyzB,cAAcC,WAAW,CAAC/O,EAAE3kB,EAAE6zB,MAAMC,QAAQnP,EAAE6J,OAAOxuB,EAAEA,EACnf2kB,EAAE,SAAc,GAAG,OAAO3kB,EAAE6zB,MAAM,CAAC7zB,EAAE6zB,MAAMrF,OAAOxuB,EAAEA,EAAEA,EAAE6zB,MAAM,UAAS,GAAG7zB,IAAI/J,EAAE,MAAM,KAAK,OAAO+J,EAAE8zB,SAAS,CAAC,GAAG,OAAO9zB,EAAEwuB,QAAQxuB,EAAEwuB,SAASv4B,EAAE,MAAM+J,EAAEA,EAAEA,EAAEwuB,OAAOxuB,EAAE8zB,QAAQtF,OAAOxuB,EAAEwuB,OAAOxuB,EAAEA,EAAE8zB,QAAc,YAAN6qB,GAAG1+C,GAAU,KAAK,GAAS,YAAN0+C,GAAG1+C,GAAU,KAAK,GAAG,OAAO,MAAMoD,MAAMsf,EAAE,MAAO,SAASg8B,GAAG3+C,GAAG,IAAIC,EAAED,EAAEmyC,YAAY,GAAG,OAAOlyC,EAAE,CAACD,EAAEmyC,YAAY,KAAK,IAAIl8C,EAAE+J,EAAE8qB,UAAU,OAAO70B,IAAIA,EAAE+J,EAAE8qB,UAAU,IAAImyB,IAAIh9C,EAAEP,SAAQ,SAASO,GAAG,IAAI/J,EAAE0oD,GAAGxnD,KAAK,KAAK4I,EAAEC,GAAGhK,EAAEy/B,IAAIz1B,KAAKhK,EAAE4oD,IAAI5+C,GAAGA,EAAEyc,KAAKxmB,EAAEA,QAC/c,IAAI4oD,GAAG,oBAAoB5rB,QAAQA,QAAQC,IAAI,SAAS4rB,GAAG/+C,EAAEC,EAAEhK,GAAGA,EAAEy8C,GAAGz8C,EAAE,MAAMA,EAAEk4B,IAAI,EAAEl4B,EAAE6c,QAAQ,CAACrU,QAAQ,MAAM,IAAIvI,EAAE+J,EAAEpJ,MAAsD,OAAhDZ,EAAEsN,SAAS,WAAWy7C,KAAKA,IAAG,EAAGC,GAAG/oD,GAAGknD,GAAGp9C,EAAEC,IAAWhK,EACrL,SAASipD,GAAGl/C,EAAEC,EAAEhK,GAAGA,EAAEy8C,GAAGz8C,EAAE,MAAMA,EAAEk4B,IAAI,EAAE,IAAIj4B,EAAE8J,EAAE1C,KAAKo9C,yBAAyB,GAAG,oBAAoBxkD,EAAE,CAAC,IAAIsuB,EAAEvkB,EAAEpJ,MAAMZ,EAAE6c,QAAQ,WAAmB,OAARsqC,GAAGp9C,EAAEC,GAAU/J,EAAEsuB,IAAI,IAAIG,EAAE3kB,EAAE8qB,UAA8O,OAApO,OAAOnG,GAAG,oBAAoBA,EAAEw6B,oBAAoBlpD,EAAEsN,SAAS,WAAW,oBAAoBrN,IAAI,OAAOkpD,GAAGA,GAAG,IAAIjC,IAAI,CAACtjD,OAAOulD,GAAGP,IAAIhlD,MAAMujD,GAAGp9C,EAAEC,IAAI,IAAIhK,EAAEgK,EAAE+8C,MAAMnjD,KAAKslD,kBAAkBl/C,EAAEpJ,MAAM,CAACwoD,eAAe,OAAOppD,EAAEA,EAAE,OAAcA,EAC7Z,IA+B+TqpD,GA/B3TC,GAAGxgD,KAAKygD,KAAKC,GAAG/yB,GAAGrG,uBAAuBq5B,GAAGhzB,GAAGlG,kBAAkBV,GAAE,EAAE65B,GAAG,EAAEC,GAAG,GAAGC,GAAG,GAAGrD,GAAG,EAAEsD,GAAG,EAAEC,GAAG,EAAEtD,GAAG,EAAEC,GAAG,EAAEsD,GAAG,EAAEj6B,GAAED,GAAEH,GAAE,KAAKM,GAAE,KAAKL,GAAE,EAAEF,GAAE82B,GAAGyD,GAAG,KAAKC,GAAG,WAAWC,GAAG,WAAWC,GAAG,KAAKzD,GAAG,EAAE0D,IAAG,EAAG5B,GAAG,EAAE6B,GAAG,IAAIp6B,GAAE,KAAK84B,IAAG,EAAGC,GAAG,KAAKG,GAAG,KAAKmB,IAAG,EAAGC,GAAG,KAAKC,GAAG,GAAGC,GAAG,KAAKC,GAAG,EAAEC,GAAG,KAAKC,GAAG,EAAE,SAASrN,KAAK,OAAOztB,IAAG65B,GAAGC,OAAO/5B,GAAE,YAAY0qB,KAAK,GAAG,GAAG,IAAIqQ,GAAGA,GAAGA,GAAG,YAAYrQ,KAAK,GAAG,GAC9X,SAASiD,GAAGzzC,EAAEC,EAAEhK,GAAY,GAATgK,EAAEA,EAAElJ,KAAQ,KAAO,EAAFkJ,GAAK,OAAO,WAAW,IAAI/J,EAAEu6C,KAAK,GAAG,KAAO,EAAFxwC,GAAK,OAAO,KAAK/J,EAAE,WAAW,WAAW,IAAI6vB,GAAE65B,MAAM95B,GAAE,OAAOF,GAAE,GAAG,OAAO3vB,EAAE+J,EAAEgxC,GAAGhxC,EAAc,EAAZ/J,EAAE6qD,WAAa,IAAI,UAAU,OAAO5qD,GAAG,KAAK,GAAG8J,EAAE,WAAW,MAAM,KAAK,GAAGA,EAAEgxC,GAAGhxC,EAAE,IAAI,KAAK,MAAM,KAAK,GAAG,KAAK,GAAGA,EAAEgxC,GAAGhxC,EAAE,IAAI,KAAK,MAAM,KAAK,GAAGA,EAAE,EAAE,MAAM,QAAQ,MAAMqD,MAAMsf,EAAE,MAA4B,OAArB,OAAOgD,IAAG3lB,IAAI4lB,MAAK5lB,EAASA,EAClX,SAAS0zC,GAAG1zC,EAAEC,GAAG,GAAG,GAAG0gD,GAAG,MAAMA,GAAG,EAAEC,GAAG,KAAKv9C,MAAMsf,EAAE,MAAgB,GAAV3iB,EAAE+gD,GAAG/gD,EAAEC,GAAM,OAAOD,EAAE,CAAC,IAAI/J,EAAEw6C,KAAK,aAAaxwC,GAAG8lB,GAAE45B,MAAM75B,KAAIC,IAAG65B,GAAGC,OAAO/5B,GAAEk7B,GAAGhhD,IAAImmB,GAAEnmB,GAAG+lB,KAAID,IAAGirB,MAAM5qB,GAAEnmB,IAAM,EAAF+lB,MAAOD,IAAG,KAAK7vB,GAAG,KAAKA,IAAI,OAAOyqD,GAAGA,GAAG,IAAIvtB,IAAI,CAAC,CAACnzB,EAAEC,MAAMhK,EAAEyqD,GAAGjqD,IAAIuJ,SAAI,IAAS/J,GAAGA,EAAEgK,IAAIygD,GAAGjgC,IAAIzgB,EAAEC,MACzQ,SAAS8gD,GAAG/gD,EAAEC,GAAGD,EAAE4xC,eAAe3xC,IAAID,EAAE4xC,eAAe3xC,GAAG,IAAIhK,EAAE+J,EAAEszB,UAAU,OAAOr9B,GAAGA,EAAE27C,eAAe3xC,IAAIhK,EAAE27C,eAAe3xC,GAAG,IAAI/J,EAAE8J,EAAEwuB,OAAOhK,EAAE,KAAK,GAAG,OAAOtuB,GAAG,IAAI8J,EAAEmuB,IAAI3J,EAAExkB,EAAE8qB,eAAe,KAAK,OAAO50B,GAAG,CAA+H,GAA9HD,EAAEC,EAAEo9B,UAAUp9B,EAAEu7C,oBAAoBxxC,IAAI/J,EAAEu7C,oBAAoBxxC,GAAG,OAAOhK,GAAGA,EAAEw7C,oBAAoBxxC,IAAIhK,EAAEw7C,oBAAoBxxC,GAAM,OAAO/J,EAAEs4B,QAAQ,IAAIt4B,EAAEi4B,IAAI,CAAC3J,EAAEtuB,EAAE40B,UAAU,MAAM50B,EAAEA,EAAEs4B,OAA0D,OAAnD,OAAOhK,IAAImB,KAAInB,IAAIyuB,GAAGhzC,GAAGylB,KAAIg3B,IAAIE,GAAGp4B,EAAEoB,KAAIi3B,GAAGr4B,EAAEvkB,IAAWukB,EACrc,SAASy8B,GAAGjhD,GAAG,IAAIC,EAAED,EAAEkhD,gBAAgB,GAAG,IAAIjhD,EAAE,OAAOA,EAAuB,GAArBA,EAAED,EAAEmhD,kBAAqBC,GAAGphD,EAAEC,GAAG,OAAOA,EAAE,IAAIhK,EAAE+J,EAAEqhD,eAAmD,OAApCrhD,EAAEA,EAAEshD,sBAAsBthD,EAAE/J,EAAE+J,EAAE/J,EAAE+J,EAAS,GAAGA,GAAGC,IAAID,EAAE,EAAEA,EACnL,SAASmmB,GAAEnmB,GAAG,GAAG,IAAIA,EAAEkhD,gBAAgBlhD,EAAEuhD,uBAAuB,WAAWvhD,EAAEwhD,iBAAiB,GAAGxhD,EAAEyhD,aAAa5Q,GAAGmQ,GAAG5pD,KAAK,KAAK4I,QAAQ,CAAC,IAAIC,EAAEghD,GAAGjhD,GAAG/J,EAAE+J,EAAEyhD,aAAa,GAAG,IAAIxhD,EAAE,OAAOhK,IAAI+J,EAAEyhD,aAAa,KAAKzhD,EAAEuhD,uBAAuB,EAAEvhD,EAAEwhD,iBAAiB,QAAQ,CAAC,IAAItrD,EAAEs9C,KAAqH,GAAhH,aAAavzC,EAAE/J,EAAE,GAAG,IAAI+J,GAAG,IAAIA,EAAE/J,EAAE,IAAIA,EAAE,IAAI,WAAW+J,GAAG,IAAI,WAAW/J,GAAGA,EAAE,GAAGA,EAAE,GAAG,KAAKA,EAAE,GAAG,MAAMA,EAAE,GAAG,IAAO,OAAOD,EAAE,CAAC,IAAIuuB,EAAExkB,EAAEwhD,iBAAiB,GAAGxhD,EAAEuhD,yBAAyBthD,GAAGukB,GAAGtuB,EAAE,OAAOD,IAAI+5C,IAAIhB,GAAG/4C,GAAG+J,EAAEuhD,uBACnethD,EAAED,EAAEwhD,iBAAiBtrD,EAAE+J,EAAE,aAAaA,EAAE4wC,GAAGmQ,GAAG5pD,KAAK,KAAK4I,IAAI4wC,GAAG16C,EAAEwrD,GAAGtqD,KAAK,KAAK4I,GAAG,CAAC2hD,QAAQ,IAAI,WAAW1hD,GAAGuwC,OAAOxwC,EAAEyhD,aAAaxhD,IAClI,SAASyhD,GAAG1hD,EAAEC,GAAQ,GAAL4gD,GAAG,EAAK5gD,EAAE,OAAOA,EAAEuzC,KAAKoO,GAAG5hD,EAAEC,GAAGkmB,GAAEnmB,GAAG,KAAK,IAAI/J,EAAEgrD,GAAGjhD,GAAG,GAAG,IAAI/J,EAAE,CAAkB,GAAjBgK,EAAED,EAAEyhD,cAAiB17B,IAAG65B,GAAGC,OAAO/5B,GAAE,MAAMziB,MAAMsf,EAAE,MAAiC,GAA3Bk/B,KAAK7hD,IAAI2lB,IAAG1vB,IAAI2vB,IAAGk8B,GAAG9hD,EAAE/J,GAAM,OAAOgwB,GAAE,CAAC,IAAI/vB,EAAE6vB,GAAEA,IAAG65B,GAAG,IAAIp7B,EAAEu9B,KAAK,GAAG,IAAIC,KAAK,MAAM,MAAMp9B,GAAGq9B,GAAGjiD,EAAE4kB,UAAS,GAAyB,GAAtB0sB,KAAKvrB,GAAE7vB,EAAEupD,GAAGh+C,QAAQ+iB,EAAKkB,KAAIo6B,GAAG,MAAM7/C,EAAEggD,GAAG6B,GAAG9hD,EAAE/J,GAAG2mD,GAAG58C,EAAE/J,GAAGkwB,GAAEnmB,GAAGC,EAAE,GAAG,OAAOgmB,GAAE,OAAOzB,EAAExkB,EAAEkiD,aAAaliD,EAAEyB,QAAQ6xB,UAAUtzB,EAAEmiD,uBAAuBlsD,EAAEC,EAAEwvB,GAAEC,GAAE,KAAKzvB,GAAG,KAAKsmD,GAAG,KAAKsD,GAAG,MAAMz8C,MAAMsf,EAAE,MAAM,KAAKo9B,GAAG6B,GAAG5hD,EAAE,EAAE/J,EAAE,EAAEA,GAAG,MAAM,KAAKwmD,GACvb,GAD0bG,GAAG58C,EAAE/J,GAAGC,EAAE8J,EAAEoiD,kBAC7ensD,IAAIC,IAAI8J,EAAEshD,sBAAsBe,GAAG79B,IAAO,aAAa07B,KAAK17B,EAAEi6B,GAAG6B,GAAG9P,KAAK,GAAGhsB,GAAG,CAAC,GAAG67B,GAAG,CAAC,IAAI17B,EAAE3kB,EAAEqhD,eAAe,GAAG,IAAI18B,GAAGA,GAAG1uB,EAAE,CAAC+J,EAAEqhD,eAAeprD,EAAE6rD,GAAG9hD,EAAE/J,GAAG,OAAe,GAAR0uB,EAAEs8B,GAAGjhD,GAAM,IAAI2kB,GAAGA,IAAI1uB,EAAE,MAAM,GAAG,IAAIC,GAAGA,IAAID,EAAE,CAAC+J,EAAEqhD,eAAenrD,EAAE,MAAM8J,EAAEsiD,cAAchkB,GAAGikB,GAAGnrD,KAAK,KAAK4I,GAAGwkB,GAAG,MAAM+9B,GAAGviD,GAAG,MAAM,KAAK08C,GAAwE,GAArEE,GAAG58C,EAAE/J,GAAGC,EAAE8J,EAAEoiD,kBAAkBnsD,IAAIC,IAAI8J,EAAEshD,sBAAsBe,GAAG79B,IAAO67B,KAAK77B,EAAExkB,EAAEqhD,eAAe,IAAI78B,GAAGA,GAAGvuB,GAAG,CAAC+J,EAAEqhD,eAAeprD,EAAE6rD,GAAG9hD,EAAE/J,GAAG,MAAc,GAARuuB,EAAEy8B,GAAGjhD,GAAM,IAAIwkB,GAAGA,IAAIvuB,EAAE,MAAM,GAAG,IAAIC,GAAGA,IAAID,EAAE,CAAC+J,EAAEqhD,eACxenrD,EAAE,MAAgP,GAA1O,aAAaiqD,GAAGjqD,EAAE,IAAI,WAAWiqD,IAAI3P,KAAK,aAAa0P,GAAGhqD,EAAE,GAAGA,EAAE,IAAI,WAAWgqD,IAAI,IAAI17B,EAAEgsB,KAAKv6C,EAAE,IAAI,WAAWA,GAAGuuB,EAAEtuB,EAAEsuB,EAAEtuB,EAAE,EAAEA,IAAIA,EAAE,GAAGA,GAAG,IAAIA,EAAE,IAAI,IAAIA,EAAE,IAAI,KAAKA,EAAE,KAAK,KAAKA,EAAE,KAAK,IAAIA,EAAE,IAAI,KAAKA,EAAE,KAAK,KAAKqpD,GAAGrpD,EAAE,OAAOA,EAAED,EAAEC,IAAIA,EAAED,IAAO,GAAGC,EAAE,CAAC8J,EAAEsiD,cAAchkB,GAAGikB,GAAGnrD,KAAK,KAAK4I,GAAG9J,GAAG,MAAMqsD,GAAGviD,GAAG,MAAM,KAAKggD,GAAG,GAAG,aAAaE,IAAI,OAAOE,GAAG,CAACz7B,EAAEu7B,GAAG,IAAIz7B,EAAE27B,GAAuH,GAApHlqD,EAAsB,EAApBuuB,EAAE+9B,kBAAoB,GAAGtsD,EAAEA,EAAE,GAAGsuB,EAAgB,EAAdC,EAAEg+B,YAAc99B,EAAE6rB,MAAM,IAAI,WAAW7rB,IAAgB,EAAZF,EAAEq8B,WAAa,MAAM5qD,EAAEyuB,GAAGH,EAAE,EAAEA,EAAEtuB,EAAEyuB,GAAM,GAAGzuB,EAAE,CAAC0mD,GAAG58C,EAAE/J,GAAG+J,EAAEsiD,cAC/ehkB,GAAGikB,GAAGnrD,KAAK,KAAK4I,GAAG9J,GAAG,OAAOqsD,GAAGviD,GAAG,MAAM,QAAQ,MAAMqD,MAAMsf,EAAE,MAAY,GAALwD,GAAEnmB,GAAMA,EAAEyhD,eAAexhD,EAAE,OAAOyhD,GAAGtqD,KAAK,KAAK4I,IAAI,OAAO,KAChI,SAASghD,GAAGhhD,GAAG,IAAIC,EAAED,EAAEkhD,gBAAqC,GAArBjhD,EAAE,IAAIA,EAAEA,EAAE,YAAe8lB,IAAG65B,GAAGC,OAAO/5B,GAAE,MAAMziB,MAAMsf,EAAE,MAAiC,GAA3Bk/B,KAAK7hD,IAAI2lB,IAAG1lB,IAAI2lB,IAAGk8B,GAAG9hD,EAAEC,GAAM,OAAOgmB,GAAE,CAAC,IAAIhwB,EAAE8vB,GAAEA,IAAG65B,GAAG,IAAI1pD,EAAE6rD,KAAK,GAAG,IAAIW,KAAK,MAAM,MAAMl+B,GAAGy9B,GAAGjiD,EAAEwkB,UAAS,GAAyB,GAAtB8sB,KAAKvrB,GAAE9vB,EAAEwpD,GAAGh+C,QAAQvL,EAAKwvB,KAAIo6B,GAAG,MAAM7pD,EAAEgqD,GAAG6B,GAAG9hD,EAAEC,GAAG28C,GAAG58C,EAAEC,GAAGkmB,GAAEnmB,GAAG/J,EAAE,GAAG,OAAOgwB,GAAE,MAAM5iB,MAAMsf,EAAE,MAAM3iB,EAAEkiD,aAAaliD,EAAEyB,QAAQ6xB,UAAUtzB,EAAEmiD,uBAAuBliD,EAAE0lB,GAAE,KAAK48B,GAAGviD,GAAGmmB,GAAEnmB,GAAG,OAAO,KAAK,SAAS2iD,KAAK,GAAG,OAAOjC,GAAG,CAAC,IAAI1gD,EAAE0gD,GAAGA,GAAG,KAAK1gD,EAAEN,SAAQ,SAASM,EAAE/J,GAAG2rD,GAAG3rD,EAAE+J,GAAGmmB,GAAElwB,MAAK86C,MACle,SAAS6R,GAAG5iD,EAAEC,GAAG,IAAIhK,EAAE8vB,GAAEA,IAAG,EAAE,IAAI,OAAO/lB,EAAEC,GAAG,QAAQ8lB,GAAE9vB,EAAE8vB,KAAID,IAAGirB,MAAM,SAAS8R,GAAG7iD,EAAEC,GAAG,IAAIhK,EAAE8vB,GAAEA,KAAI,EAAEA,IAAG45B,GAAG,IAAI,OAAO3/C,EAAEC,GAAG,QAAQ8lB,GAAE9vB,EAAE8vB,KAAID,IAAGirB,MAC/I,SAAS+Q,GAAG9hD,EAAEC,GAAGD,EAAEkiD,aAAa,KAAKliD,EAAEmiD,uBAAuB,EAAE,IAAIlsD,EAAE+J,EAAEsiD,cAAiD,IAAlC,IAAIrsD,IAAI+J,EAAEsiD,eAAe,EAAE/jB,GAAGtoC,IAAO,OAAOgwB,GAAE,IAAIhwB,EAAEgwB,GAAEuI,OAAO,OAAOv4B,GAAG,CAAC,IAAIC,EAAED,EAAE,OAAOC,EAAEi4B,KAAK,KAAK,EAAEj4B,EAAEA,EAAEoH,KAAKgxC,kBAAkB,OAAOp4C,QAAG,IAASA,GAAGq4C,KAAK,MAAM,KAAK,EAAEwH,KAAKlyB,GAAEM,IAAGN,GAAEK,IAAG,MAAM,KAAK,EAAE+xB,GAAG//C,GAAG,MAAM,KAAK,EAAE6/C,KAAK,MAAM,KAAK,GAAGlyB,GAAEU,IAAG,MAAM,KAAK,GAAGV,GAAEU,IAAG,MAAM,KAAK,GAAGgtB,GAAGr7C,GAAGD,EAAEA,EAAEu4B,OAAO7I,GAAE3lB,EAAEimB,GAAE8uB,GAAG/0C,EAAEyB,QAAQ,MAAMmkB,GAAE3lB,EAAEylB,GAAE82B,GAAGyD,GAAG,KAAKE,GAAGD,GAAG,WAAWE,GAAG,KAAKzD,GAAG,EAAE0D,IAAG,EACnc,SAAS4B,GAAGjiD,EAAEC,GAAG,EAAE,CAAC,IAAuB,GAAnBqxC,KAAKiF,GAAG90C,QAAQu1C,GAAMN,GAAG,IAAI,IAAIzgD,EAAE8uB,GAAE0O,cAAc,OAAOx9B,GAAG,CAAC,IAAIC,EAAED,EAAEihD,MAAM,OAAOhhD,IAAIA,EAAEq8C,QAAQ,MAAMt8C,EAAEA,EAAEqI,KAA2B,GAAtBm4C,GAAG,EAAEtxB,GAAEH,GAAED,GAAE,KAAK2xB,IAAG,EAAM,OAAOzwB,IAAG,OAAOA,GAAEuI,OAAO,OAAO9I,GAAEo6B,GAAGG,GAAGhgD,EAAEgmB,GAAE,KAAKjmB,EAAE,CAAC,IAAIwkB,EAAExkB,EAAE2kB,EAAEsB,GAAEuI,OAAO/J,EAAEwB,GAAErB,EAAE3kB,EAAwD,GAAtDA,EAAE2lB,GAAEnB,EAAE8O,WAAW,KAAK9O,EAAEqwB,YAAYrwB,EAAEmwB,WAAW,KAAQ,OAAOhwB,GAAG,kBAAkBA,GAAG,oBAAoBA,EAAElI,KAAK,CAAC,IAAIgI,EAAEE,EAAE,GAAG,KAAY,EAAPH,EAAE1tB,MAAQ,CAAC,IAAIlB,EAAE4uB,EAAE6O,UAAUz9B,GAAG4uB,EAAE0tB,YAAYt8C,EAAEs8C,YAAY1tB,EAAEgP,cAAc59B,EAAE49B,cAAchP,EAAEmtB,eAAe/7C,EAAE+7C,iBAAiBntB,EAAE0tB,YACvf,KAAK1tB,EAAEgP,cAAc,MAAM,IAAIz9B,EAAE,KAAe,EAAVuuB,GAAE9iB,SAAW/J,EAAEitB,EAAE,EAAE,CAAC,IAAItX,EAAE,GAAGA,EAAE,KAAK3V,EAAEy2B,IAAI,CAAC,IAAIrL,EAAEprB,EAAE+7B,cAAc,GAAG,OAAO3Q,EAAEzV,EAAE,OAAOyV,EAAE4Q,eAAqB,CAAC,IAAIqf,EAAGr7C,EAAEy+C,cAAc9oC,OAAE,IAAS0lC,EAAGqI,YAAY,IAAKrI,EAAGsI,6BAA8BrlD,IAAS,GAAGqX,EAAE,CAAC,IAAI+V,EAAE1rB,EAAEy6C,YAAY,GAAG,OAAO/uB,EAAE,CAAC,IAAItsB,EAAE,IAAIqmD,IAAIrmD,EAAE+nD,IAAIn6B,GAAGhtB,EAAEy6C,YAAYr7C,OAAOssB,EAAEy7B,IAAIn6B,GAAG,GAAG,KAAY,EAAPhtB,EAAEX,MAAQ,CAAoC,GAAnCW,EAAE67B,WAAW,GAAG9O,EAAE8O,YAAY,KAAQ,IAAI9O,EAAE0J,IAAI,GAAG,OAAO1J,EAAE6O,UAAU7O,EAAE0J,IAAI,OAAO,CAAC,IAAI5gB,EAAEmlC,GAAG,WAAW,MAAMnlC,EAAE4gB,IAAI,EAAEykB,GAAGnuB,EAAElX,GAAGkX,EAAEmtB,eAAe,WAClf,MAAM5xC,EAAE4kB,OAAE,EAAOH,EAAExkB,EAAE,IAAI8iB,EAAEyB,EAAEs+B,UAA+G,GAArG,OAAO//B,GAAGA,EAAEyB,EAAEs+B,UAAU,IAAIhE,GAAGl6B,EAAE,IAAIu4B,IAAIp6B,EAAEtC,IAAIiE,EAAEE,KAAKA,EAAE7B,EAAEtsB,IAAIiuB,QAAG,IAASE,IAAIA,EAAE,IAAIu4B,IAAIp6B,EAAEtC,IAAIiE,EAAEE,MAASA,EAAE8Q,IAAIjR,GAAG,CAACG,EAAEi6B,IAAIp6B,GAAG,IAAI/B,EAAEqgC,GAAG3rD,KAAK,KAAKotB,EAAEE,EAAED,GAAGC,EAAEhI,KAAKgG,EAAEA,GAAGhrB,EAAE67B,WAAW,KAAK77B,EAAEk6C,eAAe3xC,EAAE,MAAMD,EAAEtI,EAAEA,EAAE82B,aAAa,OAAO92B,GAAGktB,EAAEvhB,OAAO2qB,GAAGvJ,EAAEnnB,OAAO,qBAAqB,wLAAwL4wB,GAAGzJ,IAAIiB,KAC1fs6B,KAAKt6B,GAAEq6B,IAAIn7B,EAAEm4B,GAAGn4B,EAAEH,GAAG/sB,EAAEitB,EAAE,EAAE,CAAC,OAAOjtB,EAAEy2B,KAAK,KAAK,EAAEzJ,EAAEE,EAAEltB,EAAE67B,WAAW,KAAK77B,EAAEk6C,eAAe3xC,EAAE,IAAI+iB,EAAE+7B,GAAGrnD,EAAEgtB,EAAEzkB,GAAG4yC,GAAGn7C,EAAEsrB,GAAG,MAAMhjB,EAAE,KAAK,EAAE0kB,EAAEE,EAAE,IAAI/B,EAAEnrB,EAAE4F,KAAK0lD,EAAGtrD,EAAEozB,UAAU,GAAG,KAAiB,GAAZpzB,EAAE67B,aAAgB,oBAAoB1Q,EAAE63B,0BAA0B,OAAOsI,GAAI,oBAAoBA,EAAG7D,oBAAoB,OAAOC,KAAKA,GAAG1pB,IAAIstB,KAAM,CAACtrD,EAAE67B,WAAW,KAAK77B,EAAEk6C,eAAe3xC,EAAE,IAAIgjD,EAAG/D,GAAGxnD,EAAEgtB,EAAEzkB,GAAG4yC,GAAGn7C,EAAEurD,GAAI,MAAMjjD,GAAGtI,EAAEA,EAAE82B,aAAa,OAAO92B,GAAGuuB,GAAEi9B,GAAGj9B,IAAG,MAAMk9B,GAAIljD,EAAEkjD,EAAG,SAAS,YAAY,GAC1c,SAASpB,KAAK,IAAI/hD,EAAEy/C,GAAGh+C,QAAsB,OAAdg+C,GAAGh+C,QAAQu1C,GAAU,OAAOh3C,EAAEg3C,GAAGh3C,EAAE,SAASgzC,GAAGhzC,EAAEC,GAAGD,EAAEkgD,IAAI,EAAElgD,IAAIkgD,GAAGlgD,GAAG,OAAOC,GAAGD,EAAEmgD,IAAI,EAAEngD,IAAImgD,GAAGngD,EAAEogD,GAAGngD,GAAG,SAASgzC,GAAGjzC,GAAGA,EAAE28C,KAAKA,GAAG38C,GAAG,SAAS0iD,KAAK,KAAK,OAAOz8B,IAAGA,GAAEm9B,GAAGn9B,IAAG,SAAS+7B,KAAK,KAAK,OAAO/7B,KAAIgqB,MAAMhqB,GAAEm9B,GAAGn9B,IAAG,SAASm9B,GAAGpjD,GAAG,IAAIC,EAAEq/C,GAAGt/C,EAAEszB,UAAUtzB,EAAE4lB,IAAsE,OAAnE5lB,EAAEm2C,cAAcn2C,EAAEw5C,aAAa,OAAOv5C,IAAIA,EAAEijD,GAAGljD,IAAI0/C,GAAGj+C,QAAQ,KAAYxB,EACtW,SAASijD,GAAGljD,GAAGimB,GAAEjmB,EAAE,EAAE,CAAC,IAAIC,EAAEgmB,GAAEqN,UAAqB,GAAXtzB,EAAEimB,GAAEuI,OAAU,KAAiB,KAAZvI,GAAEsN,WAAgB,CAAa,GAAZtzB,EAAEg8C,GAAGh8C,EAAEgmB,GAAEL,IAAM,IAAIA,IAAG,IAAIK,GAAEwrB,oBAAoB,CAAC,IAAI,IAAIx7C,EAAE,EAAEC,EAAE+vB,GAAE4N,MAAM,OAAO39B,GAAG,CAAC,IAAIsuB,EAAEtuB,EAAE07C,eAAejtB,EAAEzuB,EAAEu7C,oBAAoBjtB,EAAEvuB,IAAIA,EAAEuuB,GAAGG,EAAE1uB,IAAIA,EAAE0uB,GAAGzuB,EAAEA,EAAE49B,QAAQ7N,GAAEwrB,oBAAoBx7C,EAAE,GAAG,OAAOgK,EAAE,OAAOA,EAAE,OAAOD,GAAG,KAAiB,KAAZA,EAAEuzB,aAAkB,OAAOvzB,EAAE80C,cAAc90C,EAAE80C,YAAY7uB,GAAE6uB,aAAa,OAAO7uB,GAAE2uB,aAAa,OAAO50C,EAAE40C,aAAa50C,EAAE40C,WAAWC,WAAW5uB,GAAE6uB,aAAa90C,EAAE40C,WAAW3uB,GAAE2uB,YAAY,EAAE3uB,GAAEsN,YAAY,OACnfvzB,EAAE40C,WAAW50C,EAAE40C,WAAWC,WAAW5uB,GAAEjmB,EAAE80C,YAAY7uB,GAAEjmB,EAAE40C,WAAW3uB,SAAQ,CAAS,GAARhmB,EAAE68C,GAAG72B,IAAM,OAAOhmB,EAAE,OAAOA,EAAEszB,WAAW,KAAKtzB,EAAE,OAAOD,IAAIA,EAAE80C,YAAY90C,EAAE40C,WAAW,KAAK50C,EAAEuzB,WAAW,MAAkB,GAAZtzB,EAAEgmB,GAAE6N,QAAW,OAAO7zB,EAAE,OAAOA,EAAEgmB,GAAEjmB,QAAQ,OAAOimB,IAAkB,OAAfP,KAAI82B,KAAK92B,GAAEs6B,IAAW,KAAK,SAASqC,GAAGriD,GAAG,IAAIC,EAAED,EAAE4xC,eAAuC,OAAxB5xC,EAAEA,EAAEyxC,oBAA2BxxC,EAAED,EAAEC,EAAED,EAAE,SAASuiD,GAAGviD,GAAG,IAAIC,EAAEwwC,KAA8B,OAAzBE,GAAG,GAAG0S,GAAGjsD,KAAK,KAAK4I,EAAEC,IAAW,KACjZ,SAASojD,GAAGrjD,EAAEC,GAAG,GAAG4hD,WAAW,OAAOrB,IAAI,IAAIz6B,IAAG65B,GAAGC,OAAO/5B,GAAE,MAAMziB,MAAMsf,EAAE,MAAM,IAAI1sB,EAAE+J,EAAEkiD,aAAahsD,EAAE8J,EAAEmiD,uBAAuB,GAAG,OAAOlsD,EAAE,OAAO,KAAoD,GAA/C+J,EAAEkiD,aAAa,KAAKliD,EAAEmiD,uBAAuB,EAAKlsD,IAAI+J,EAAEyB,QAAQ,MAAM4B,MAAMsf,EAAE,MAAM3iB,EAAEyhD,aAAa,KAAKzhD,EAAEuhD,uBAAuB,EAAEvhD,EAAEwhD,iBAAiB,GAAGxhD,EAAEshD,sBAAsB,EAAE,IAAI98B,EAAE69B,GAAGpsD,GAClI,GADqI+J,EAAEmhD,iBAAiB38B,EAAEtuB,GAAG8J,EAAEoiD,kBAAkBpiD,EAAEsjD,mBAAmBtjD,EAAEoiD,kBAAkBpiD,EAAEshD,sBAAsB,EAAEprD,GAAG8J,EAAEsjD,qBAAqBtjD,EAAEsjD,mBACneptD,EAAE,GAAGA,GAAG8J,EAAEqhD,iBAAiBrhD,EAAEqhD,eAAe,GAAGnrD,GAAG8J,EAAEkhD,kBAAkBlhD,EAAEkhD,gBAAgB,GAAGlhD,IAAI2lB,KAAIM,GAAEN,GAAE,KAAKC,GAAE,GAAG,EAAE3vB,EAAEs9B,UAAU,OAAOt9B,EAAE2+C,YAAY3+C,EAAE2+C,WAAWC,WAAW5+C,EAAEuuB,EAAEvuB,EAAE6+C,aAAatwB,EAAEvuB,EAAEuuB,EAAEvuB,EAAE6+C,YAAe,OAAOtwB,EAAE,CAAC,IAAIG,EAAEoB,GAAEA,IAAG85B,GAAGH,GAAGj+C,QAAQ,KAAKw8B,GAAGrF,GAAG,IAAInU,EAAE+Y,KAAK,GAAGG,GAAGlZ,GAAG,CAAC,GAAG,mBAAmBA,EAAE,IAAIG,EAAE,CAACqjB,MAAMxjB,EAAEyjB,eAAeC,IAAI1jB,EAAE2jB,mBAAmBpoC,EAAE,CAAC4kB,GAAGA,EAAEH,EAAEyL,gBAAgBtL,EAAEuiB,aAAatkC,OAAO,IAAI6hB,EAAEE,EAAE7e,cAAc6e,EAAE7e,eAAe,GAAG2e,GAAG,IAAIA,EAAE6+B,WAAW,CAAC3+B,EAAEF,EAAE2jB,WAAW,IAAIxyC,EAAE6uB,EAAE4jB,aAC9etyC,EAAE0uB,EAAE6jB,UAAU7jB,EAAEA,EAAE8jB,YAAY,IAAI5jB,EAAEmN,SAAS/7B,EAAE+7B,SAAS,MAAMyxB,GAAI5+B,EAAE,KAAK,MAAM5kB,EAAE,IAAItI,EAAE,EAAE2V,GAAG,EAAEyV,GAAG,EAAEiwB,EAAG,EAAE3vB,EAAE,EAAEtsB,EAAE2tB,EAAElX,EAAE,KAAKtN,EAAE,OAAO,CAAC,IAAI,IAAI8iB,IAAI,CAAqH,GAApHjsB,IAAI8tB,GAAG,IAAI/uB,GAAG,IAAIiB,EAAEi7B,WAAW1kB,EAAE3V,EAAE7B,GAAGiB,IAAId,GAAG,IAAI0uB,GAAG,IAAI5tB,EAAEi7B,WAAWjP,EAAEprB,EAAEgtB,GAAG,IAAI5tB,EAAEi7B,WAAWr6B,GAAGZ,EAAEk7B,UAAUt1B,QAAW,QAAQqmB,EAAEjsB,EAAE46B,YAAY,MAAMnkB,EAAEzW,EAAEA,EAAEisB,EAAE,OAAO,CAAC,GAAGjsB,IAAI2tB,EAAE,MAAMxkB,EAA+C,GAA7CsN,IAAIqX,KAAKmuB,IAAKl9C,IAAIwX,EAAE3V,GAAG6V,IAAIvX,KAAKotB,IAAIsB,IAAI5B,EAAEprB,GAAM,QAAQqrB,EAAEjsB,EAAEumC,aAAa,MAAMvmC,EAAEyW,EAAEA,EAAEzW,EAAE+9B,WAAW/9B,EAAEisB,EAAE6B,GAAG,IAAIvX,IAAI,IAAIyV,EAAE,KAAK,CAACmlB,MAAM56B,EAAE86B,IAAIrlB,QAAQ8B,EAAE,KAAKA,EAAEA,GAAG,CAACqjB,MAAM,EAAEE,IAAI,QAAQvjB,EACtf,KAAKsZ,GAAG,CAACulB,sBAAsB,KAAKC,YAAYj/B,EAAEk/B,eAAe/+B,GAAGgU,IAAG,EAAG1S,GAAE1B,EAAE,GAAG,IAAIo/B,KAAK,MAAMJ,GAAI,GAAG,OAAOt9B,GAAE,MAAM7iB,MAAMsf,EAAE,MAAM46B,GAAGr3B,GAAEs9B,GAAIt9B,GAAEA,GAAE2uB,kBAAiB,OAAO3uB,IAAGA,GAAE1B,EAAE,GAAG,IAAI,IAAIC,EAAEzkB,EAAE4kB,EAAE3kB,EAAE,OAAOimB,IAAG,CAAC,IAAIxD,EAAEwD,GAAEqN,UAAmC,GAAvB,GAAF7Q,GAAMmP,GAAG3L,GAAE4E,UAAU,IAAS,IAAFpI,EAAM,CAAC,IAAIM,EAAEkD,GAAEoN,UAAU,GAAG,OAAOtQ,EAAE,CAAC,IAAIH,EAAEG,EAAE9pB,IAAI,OAAO2pB,IAAI,oBAAoBA,EAAEA,EAAE,MAAMA,EAAEphB,QAAQ,OAAO,OAAS,KAAFihB,GAAQ,KAAK,EAAEy7B,GAAGj4B,IAAGA,GAAEqN,YAAY,EAAE,MAAM,KAAK,EAAE4qB,GAAGj4B,IAAGA,GAAEqN,YAAY,EAAEirB,GAAGt4B,GAAEoN,UAAUpN,IAAG,MAAM,KAAK,KAAKA,GAAEqN,YAAY,KAAK,MAAM,KAAK,KAAKrN,GAAEqN,YAC7f,KAAKirB,GAAGt4B,GAAEoN,UAAUpN,IAAG,MAAM,KAAK,EAAEs4B,GAAGt4B,GAAEoN,UAAUpN,IAAG,MAAM,KAAK,EAAErwB,EAAEqwB,GAAE83B,GAAGv5B,EAAE5uB,EAAE+uB,GAAGq5B,GAAGpoD,GAAGqwB,GAAEA,GAAE2uB,YAAY,MAAM2O,GAAI,GAAG,OAAOt9B,GAAE,MAAM7iB,MAAMsf,EAAE,MAAM46B,GAAGr3B,GAAEs9B,GAAIt9B,GAAEA,GAAE2uB,kBAAiB,OAAO3uB,IAAkD,GAA/CrD,EAAEqb,GAAGlb,EAAEwa,KAAK9a,EAAEG,EAAE6gC,YAAY9+B,EAAE/B,EAAE8gC,eAAkB3gC,IAAIN,GAAGA,GAAGA,EAAEwN,eAAeoN,GAAG5a,EAAEwN,cAAc4lB,gBAAgBpzB,GAAG,CAAC,OAAOkC,GAAG+Y,GAAGjb,KAAKM,EAAE4B,EAAEqjB,MAAMplB,EAAE+B,EAAEujB,SAAI,IAAStlB,IAAIA,EAAEG,GAAG,mBAAmBN,GAAGA,EAAEwlB,eAAellB,EAAEN,EAAE0lB,aAAarpC,KAAKE,IAAI4jB,EAAEH,EAAE7rB,MAAM6F,UAAUmmB,GAAGG,EAAEN,EAAEwN,eAAerzB,WAAWmmB,EAAEmkB,aAAatkC,OAAOggB,EAAE9c,eACjf8c,EAAEA,EAAE9c,eAAelQ,EAAE6sB,EAAEkO,YAAYl0B,OAAO+nB,EAAE1lB,KAAKE,IAAI2lB,EAAEqjB,MAAMpyC,GAAG+uB,OAAE,IAASA,EAAEujB,IAAI1jB,EAAE1lB,KAAKE,IAAI2lB,EAAEujB,IAAItyC,IAAIgtB,EAAEvd,QAAQmf,EAAEG,IAAI/uB,EAAE+uB,EAAEA,EAAEH,EAAEA,EAAE5uB,GAAGA,EAAEsnC,GAAGza,EAAE+B,GAAGzuB,EAAEmnC,GAAGza,EAAEkC,GAAG/uB,GAAGG,IAAI,IAAI6sB,EAAE0gC,YAAY1gC,EAAEwlB,aAAaxyC,EAAE0M,MAAMsgB,EAAEylB,eAAezyC,EAAEunC,QAAQva,EAAE0lB,YAAYvyC,EAAEuM,MAAMsgB,EAAE2lB,cAAcxyC,EAAEonC,UAAUpa,EAAEA,EAAE6gC,cAAc7gC,EAAE8gC,SAASjuD,EAAE0M,KAAK1M,EAAEunC,QAAQva,EAAEkhC,kBAAkBt/B,EAAEG,GAAG/B,EAAEmhC,SAAShhC,GAAGH,EAAEvd,OAAOtP,EAAEuM,KAAKvM,EAAEonC,UAAUpa,EAAEihC,OAAOjuD,EAAEuM,KAAKvM,EAAEonC,QAAQva,EAAEmhC,SAAShhC,QAAQA,EAAE,GAAG,IAAIH,EAAEH,EAAEG,EAAEA,EAAEgS,YAAY,IAAIhS,EAAEkP,UAAU/O,EAAEljB,KAAK,CAACrB,QAAQokB,EAAEvV,KAAKuV,EAAEqhC,WACzf12C,IAAIqV,EAAEhT,YAAmD,IAAvC,oBAAoB6S,EAAErmB,OAAOqmB,EAAErmB,QAAYqmB,EAAE,EAAEA,EAAEM,EAAEtmB,OAAOgmB,IAAIG,EAAEG,EAAEN,GAAGG,EAAEpkB,QAAQylD,WAAWrhC,EAAEvV,KAAKuV,EAAEpkB,QAAQoR,UAAUgT,EAAErV,IAAIorB,KAAKqF,GAAGC,GAAGD,GAAG,KAAKj+B,EAAEyB,QAAQxL,EAAEiwB,GAAE1B,EAAE,GAAG,IAAI,IAAI9B,EAAE1iB,EAAE,OAAOkmB,IAAG,CAAC,IAAI88B,EAAG98B,GAAEqN,UAAqC,GAAxB,GAAHyvB,GAAOnF,GAAGn7B,EAAEwD,GAAEoN,UAAUpN,IAAS,IAAH88B,EAAO,CAAChgC,OAAE,EAAO,IAAIigC,EAAG/8B,GAAEhtB,IAAI,GAAG,OAAO+pD,EAAG,CAAC,IAAIE,EAAGj9B,GAAE4E,UAAU,OAAO5E,GAAEiI,KAAK,KAAK,EAAEnL,EAAEmgC,EAAG,MAAM,QAAQngC,EAAEmgC,EAAG,oBAAoBF,EAAGA,EAAGjgC,GAAGigC,EAAGxhD,QAAQuhB,GAAGkD,GAAEA,GAAE2uB,YAAY,MAAM2O,GAAI,GAAG,OAAOt9B,GAAE,MAAM7iB,MAAMsf,EAAE,MAAM46B,GAAGr3B,GAAEs9B,GAAIt9B,GAAEA,GAAE2uB,kBAAiB,OAAO3uB,IAAGA,GACpf,KAAKiqB,KAAKpqB,GAAEpB,OAAO3kB,EAAEyB,QAAQxL,EAAE,GAAGsqD,GAAGA,IAAG,EAAGC,GAAGxgD,EAAEygD,GAAGxgD,OAAO,IAAIimB,GAAE1B,EAAE,OAAO0B,IAAGjmB,EAAEimB,GAAE2uB,WAAW3uB,GAAE2uB,WAAW,KAAK3uB,GAAEjmB,EAAmI,GAAjIA,EAAED,EAAEmhD,iBAAiB,IAAIlhD,IAAIm/C,GAAG,MAAM,aAAan/C,EAAED,IAAI4gD,GAAGD,MAAMA,GAAG,EAAEC,GAAG5gD,GAAG2gD,GAAG,EAAE,oBAAoBwD,IAAIA,GAAGluD,EAAE60B,UAAU50B,GAAGiwB,GAAEnmB,GAAMg/C,GAAG,MAAMA,IAAG,EAAGh/C,EAAEi/C,GAAGA,GAAG,KAAKj/C,EAAE,OAAI+lB,GAAE45B,MAAM75B,IAAcirB,KAAL,KAAsB,SAAS6S,KAAK,KAAK,OAAO19B,IAAG,CAAC,IAAIlmB,EAAEkmB,GAAEqN,UAAU,KAAO,IAAFvzB,IAAQy9C,GAAGv3B,GAAEoN,UAAUpN,IAAG,KAAO,IAAFlmB,IAAQugD,KAAKA,IAAG,EAAG3P,GAAG,IAAG,WAAgB,OAALiR,KAAY,SAAQ37B,GAAEA,GAAE2uB,YAC9c,SAASgN,KAAK,GAAG,KAAKpB,GAAG,CAAC,IAAIzgD,EAAE,GAAGygD,GAAG,GAAGA,GAAS,OAANA,GAAG,GAAU9P,GAAG3wC,EAAEokD,KAAK,SAASA,KAAK,GAAG,OAAO5D,GAAG,OAAM,EAAG,IAAIxgD,EAAEwgD,GAAW,GAARA,GAAG,MAASz6B,IAAG65B,GAAGC,OAAO/5B,GAAE,MAAMziB,MAAMsf,EAAE,MAAM,IAAI1iB,EAAE8lB,GAAQ,IAANA,IAAG85B,GAAO7/C,EAAEA,EAAEyB,QAAQqzC,YAAY,OAAO90C,GAAG,CAAC,IAAI,IAAI/J,EAAE+J,EAAE,GAAG,KAAiB,IAAZ/J,EAAEs9B,WAAe,OAAOt9B,EAAEk4B,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAGwvB,GAAG,EAAE1nD,GAAG2nD,GAAG,EAAE3nD,IAAI,MAAMC,GAAG,GAAG,OAAO8J,EAAE,MAAMqD,MAAMsf,EAAE,MAAM46B,GAAGv9C,EAAE9J,GAAGD,EAAE+J,EAAE60C,WAAW70C,EAAE60C,WAAW,KAAK70C,EAAE/J,EAAW,OAAT8vB,GAAE9lB,EAAE8wC,MAAW,EAC5Z,SAASsT,GAAGrkD,EAAEC,EAAEhK,GAAGgK,EAAE88C,GAAG9mD,EAAEgK,GAAGA,EAAE8+C,GAAG/+C,EAAEC,EAAE,YAAY2yC,GAAG5yC,EAAEC,GAAGD,EAAE+gD,GAAG/gD,EAAE,YAAY,OAAOA,GAAGmmB,GAAEnmB,GAAG,SAASu9C,GAAGv9C,EAAEC,GAAG,GAAG,IAAID,EAAEmuB,IAAIk2B,GAAGrkD,EAAEA,EAAEC,QAAQ,IAAI,IAAIhK,EAAE+J,EAAEwuB,OAAO,OAAOv4B,GAAG,CAAC,GAAG,IAAIA,EAAEk4B,IAAI,CAACk2B,GAAGpuD,EAAE+J,EAAEC,GAAG,MAAW,GAAG,IAAIhK,EAAEk4B,IAAI,CAAC,IAAIj4B,EAAED,EAAE60B,UAAU,GAAG,oBAAoB70B,EAAEqH,KAAKo9C,0BAA0B,oBAAoBxkD,EAAEipD,oBAAoB,OAAOC,KAAKA,GAAG1pB,IAAIx/B,IAAI,CAAC8J,EAAE+8C,GAAG98C,EAAED,GAAGA,EAAEk/C,GAAGjpD,EAAE+J,EAAE,YAAY4yC,GAAG38C,EAAE+J,GAAG/J,EAAE8qD,GAAG9qD,EAAE,YAAY,OAAOA,GAAGkwB,GAAElwB,GAAG,OAAOA,EAAEA,EAAEu4B,QACxb,SAASu0B,GAAG/iD,EAAEC,EAAEhK,GAAG,IAAIC,EAAE8J,EAAE8iD,UAAU,OAAO5sD,GAAGA,EAAE4gC,OAAO72B,GAAG0lB,KAAI3lB,GAAG4lB,KAAI3vB,EAAEyvB,KAAIg3B,IAAIh3B,KAAI+2B,IAAI,aAAayD,IAAI1P,KAAKiO,GAAG6B,GAAGwB,GAAG9hD,EAAE4lB,IAAGy6B,IAAG,EAAGe,GAAGphD,EAAE/J,KAAKgK,EAAED,EAAEqhD,eAAe,IAAIphD,GAAGA,EAAEhK,IAAI+J,EAAEqhD,eAAeprD,EAAEkwB,GAAEnmB,KAAK,SAAS4+C,GAAG5+C,EAAEC,GAAG,IAAIhK,EAAE+J,EAAE8qB,UAAU,OAAO70B,GAAGA,EAAE6gC,OAAO72B,GAAGA,EAAE,EAAE,IAAIA,IAAIA,EAAEuzC,KAAKvzC,EAAEwzC,GAAGxzC,EAAED,EAAE,OAAOA,EAAE+gD,GAAG/gD,EAAEC,GAAG,OAAOD,GAAGmmB,GAAEnmB,GACxTs/C,GAAG,SAASt/C,EAAEC,EAAEhK,GAAG,IAAIC,EAAE+J,EAAE2xC,eAAe,GAAG,OAAO5xC,EAAE,CAAC,IAAIwkB,EAAEvkB,EAAEu5C,aAAa,GAAGx5C,EAAEm2C,gBAAgB3xB,GAAGL,GAAE1iB,QAAQowC,IAAG,MAAO,CAAC,GAAG37C,EAAED,EAAE,CAAO,OAAN47C,IAAG,EAAU5xC,EAAEkuB,KAAK,KAAK,EAAEwsB,GAAG16C,GAAG25C,KAAK,MAAM,KAAK,EAAQ,GAAN5D,GAAG/1C,GAAa,EAAPA,EAAElJ,MAAQ,IAAId,GAAGuuB,EAAE8/B,OAAO,OAAOrkD,EAAE2xC,eAAe3xC,EAAEwxC,oBAAoB,EAAE,KAAK,MAAM,KAAK,EAAErtB,GAAEnkB,EAAE3C,OAAOqxC,GAAG1uC,GAAG,MAAM,KAAK,EAAE41C,GAAG51C,EAAEA,EAAE6qB,UAAUyK,eAAe,MAAM,KAAK,GAAGr/B,EAAE+J,EAAEk2C,cAAct/C,MAAM2tB,EAAEvkB,EAAE3C,KAAKmqB,SAASzD,GAAEktB,GAAG1sB,EAAE6C,eAAe7C,EAAE6C,cAAcnxB,EAAE,MAAM,KAAK,GAAG,GAAG,OAAO+J,EAAEwzB,cACjd,OADgev9B,EAAE+J,EAAE4zB,MAAM4d,oBACve,IAAIv7C,GAAGA,GAAGD,EAASklD,GAAGn7C,EAAEC,EAAEhK,IAAG+tB,GAAEO,GAAY,EAAVA,GAAE9iB,SAAWxB,EAAE85C,GAAG/5C,EAAEC,EAAEhK,GAAU,OAAOgK,EAAEA,EAAE6zB,QAAQ,MAAK9P,GAAEO,GAAY,EAAVA,GAAE9iB,SAAW,MAAM,KAAK,GAA8B,GAA3BvL,EAAE+J,EAAEwxC,qBAAqBx7C,EAAK,KAAiB,GAAZ+J,EAAEuzB,WAAc,CAAC,GAAGr9B,EAAE,OAAO6lD,GAAG/7C,EAAEC,EAAEhK,GAAGgK,EAAEszB,WAAW,GAA6E,GAA1E/O,EAAEvkB,EAAEwzB,cAAc,OAAOjP,IAAIA,EAAEi3B,UAAU,KAAKj3B,EAAEo3B,KAAK,MAAM53B,GAAEO,GAAEA,GAAE9iB,UAAavL,EAAE,OAAO,KAAK,OAAO6jD,GAAG/5C,EAAEC,EAAEhK,GAAG47C,IAAG,QAASA,IAAG,EAAsB,OAAnB5xC,EAAE2xC,eAAe,EAAS3xC,EAAEkuB,KAAK,KAAK,EAChW,GADkWj4B,EAAE+J,EAAE3C,KAAK,OAAO0C,IAAIA,EAAEszB,UAAU,KAAKrzB,EAAEqzB,UAAU,KAAKrzB,EAAEszB,WAAW,GAAGvzB,EAAEC,EAAEu5C,aAAah1B,EAAE0pB,GAAGjuC,EAAEikB,GAAEziB,SAASiwC,GAAGzxC,EAAEhK,GAAGuuB,EAAEoyB,GAAG,KAClf32C,EAAE/J,EAAE8J,EAAEwkB,EAAEvuB,GAAGgK,EAAEszB,WAAW,EAAK,kBAAkB/O,GAAG,OAAOA,GAAG,oBAAoBA,EAAEmD,aAAQ,IAASnD,EAAEK,SAAS,CAAiD,GAAhD5kB,EAAEkuB,IAAI,EAAEluB,EAAEwzB,cAAc,KAAKxzB,EAAEkyC,YAAY,KAAQ/tB,GAAEluB,GAAG,CAAC,IAAIyuB,GAAE,EAAGgqB,GAAG1uC,QAAQ0kB,GAAE,EAAG1kB,EAAEwzB,cAAc,OAAOjP,EAAE3oB,YAAO,IAAS2oB,EAAE3oB,MAAM2oB,EAAE3oB,MAAM,KAAKq2C,GAAGjyC,GAAG,IAAIwkB,EAAEvuB,EAAEg+C,yBAAyB,oBAAoBzvB,GAAG4uB,GAAGpzC,EAAE/J,EAAEuuB,EAAEzkB,GAAGwkB,EAAEb,QAAQ2vB,GAAGrzC,EAAE6qB,UAAUtG,EAAEA,EAAE+uB,oBAAoBtzC,EAAEg0C,GAAGh0C,EAAE/J,EAAE8J,EAAE/J,GAAGgK,EAAEw6C,GAAG,KAAKx6C,EAAE/J,GAAE,EAAGyuB,EAAE1uB,QAAQgK,EAAEkuB,IAAI,EAAE9I,GAAE,KAAKplB,EAAEukB,EAAEvuB,GAAGgK,EAAEA,EAAE4zB,MAAM,OAAO5zB,EAAE,KAAK,GAAGD,EAAE,CACzZ,GAD0ZwkB,EAAEvkB,EAAEg1C,YAAY,OAAOj1C,IAAIA,EAAEszB,UACpf,KAAKrzB,EAAEqzB,UAAU,KAAKrzB,EAAEszB,WAAW,GAAGvzB,EAAEC,EAAEu5C,aAAazrB,GAAGvJ,GAAM,IAAIA,EAAEuD,QAAQ,MAAMvD,EAAEwD,QAAqD,OAA7CxD,EAAEA,EAAEwD,QAAQ/nB,EAAE3C,KAAKknB,EAAEG,EAAE1kB,EAAEkuB,IAAIo2B,GAAG//B,GAAGxkB,EAAEixC,GAAGzsB,EAAExkB,GAAU2kB,GAAG,KAAK,EAAE1kB,EAAEk6C,GAAG,KAAKl6C,EAAEukB,EAAExkB,EAAE/J,GAAG,MAAM+J,EAAE,KAAK,EAAEC,EAAEo6C,GAAG,KAAKp6C,EAAEukB,EAAExkB,EAAE/J,GAAG,MAAM+J,EAAE,KAAK,GAAGC,EAAE65C,GAAG,KAAK75C,EAAEukB,EAAExkB,EAAE/J,GAAG,MAAM+J,EAAE,KAAK,GAAGC,EAAE+5C,GAAG,KAAK/5C,EAAEukB,EAAEysB,GAAGzsB,EAAElnB,KAAK0C,GAAG9J,EAAED,GAAG,MAAM+J,EAAE,MAAMqD,MAAMsf,EAAE,IAAI6B,EAAE,KAAM,OAAOvkB,EAAE,KAAK,EAAE,OAAO/J,EAAE+J,EAAE3C,KAAKknB,EAAEvkB,EAAEu5C,aAAah1B,EAAEvkB,EAAEg1C,cAAc/+C,EAAEsuB,EAAEysB,GAAG/6C,EAAEsuB,GAAG21B,GAAGn6C,EAAEC,EAAE/J,EAAEsuB,EAAEvuB,GAAG,KAAK,EAAE,OAAOC,EAAE+J,EAAE3C,KAAKknB,EAAEvkB,EAAEu5C,aAAah1B,EAAEvkB,EAAEg1C,cAAc/+C,EAAEsuB,EAAEysB,GAAG/6C,EAAEsuB,GAAG61B,GAAGr6C,EAAEC,EAAE/J,EAAEsuB,EAAEvuB,GACpf,KAAK,EAAwB,GAAtB0kD,GAAG16C,GAAG/J,EAAE+J,EAAEkyC,YAAe,OAAOnyC,GAAG,OAAO9J,EAAE,MAAMmN,MAAMsf,EAAE,MAAoH,GAA9GzsB,EAAE+J,EAAEu5C,aAAah1B,EAAEvkB,EAAEwzB,cAAcjP,EAAE,OAAOA,EAAEA,EAAE/lB,QAAQ,KAAKg0C,GAAGzyC,EAAEC,GAAG6yC,GAAG7yC,EAAE/J,EAAE,KAAKD,GAAGC,EAAE+J,EAAEwzB,cAAch1B,QAAWvI,IAAIsuB,EAAEo1B,KAAK35C,EAAE85C,GAAG/5C,EAAEC,EAAEhK,OAAO,CAAmF,IAA/EuuB,EAAEvkB,EAAE6qB,UAAUwM,WAAQ6hB,GAAG3a,GAAGv+B,EAAE6qB,UAAUyK,cAAc7D,YAAYwnB,GAAGj5C,EAAEukB,EAAE40B,IAAG,GAAM50B,EAAE,IAAIvuB,EAAEs/C,GAAGt1C,EAAE,KAAK/J,EAAED,GAAGgK,EAAE4zB,MAAM59B,EAAEA,GAAGA,EAAEs9B,WAAuB,EAAbt9B,EAAEs9B,UAAa,KAAKt9B,EAAEA,EAAE69B,aAAazO,GAAErlB,EAAEC,EAAE/J,EAAED,GAAG2jD,KAAK35C,EAAEA,EAAE4zB,MAAM,OAAO5zB,EAAE,KAAK,EAAE,OAAO+1C,GAAG/1C,GAAG,OAAOD,GAAGy5C,GAAGx5C,GAAG/J,EAAE+J,EAAE3C,KAAKknB,EAAEvkB,EAAEu5C,aAAa70B,EAAE,OAAO3kB,EAAEA,EAAEm2C,cAC5e,KAAK1xB,EAAED,EAAEpjB,SAASi9B,GAAGnoC,EAAEsuB,GAAGC,EAAE,KAAK,OAAOE,GAAG0Z,GAAGnoC,EAAEyuB,KAAK1kB,EAAEszB,WAAW,IAAI6mB,GAAGp6C,EAAEC,GAAU,EAAPA,EAAElJ,MAAQ,IAAId,GAAGuuB,EAAE8/B,QAAQrkD,EAAE2xC,eAAe3xC,EAAEwxC,oBAAoB,EAAExxC,EAAE,OAAOolB,GAAErlB,EAAEC,EAAEwkB,EAAExuB,GAAGgK,EAAEA,EAAE4zB,OAAO5zB,EAAE,KAAK,EAAE,OAAO,OAAOD,GAAGy5C,GAAGx5C,GAAG,KAAK,KAAK,GAAG,OAAOk7C,GAAGn7C,EAAEC,EAAEhK,GAAG,KAAK,EAAE,OAAO4/C,GAAG51C,EAAEA,EAAE6qB,UAAUyK,eAAer/B,EAAE+J,EAAEu5C,aAAa,OAAOx5C,EAAEC,EAAE4zB,MAAMyhB,GAAGr1C,EAAE,KAAK/J,EAAED,GAAGovB,GAAErlB,EAAEC,EAAE/J,EAAED,GAAGgK,EAAE4zB,MAAM,KAAK,GAAG,OAAO39B,EAAE+J,EAAE3C,KAAKknB,EAAEvkB,EAAEu5C,aAAah1B,EAAEvkB,EAAEg1C,cAAc/+C,EAAEsuB,EAAEysB,GAAG/6C,EAAEsuB,GAAGs1B,GAAG95C,EAAEC,EAAE/J,EAAEsuB,EAAEvuB,GAAG,KAAK,EAAE,OAAOovB,GAAErlB,EAAEC,EAAEA,EAAEu5C,aAAavjD,GAAGgK,EAAE4zB,MAAM,KAAK,EAAE,OAAOxO,GAAErlB,EACpfC,EAAEA,EAAEu5C,aAAap4C,SAASnL,GAAGgK,EAAE4zB,MAAM,KAAK,GAAG,OAAOxO,GAAErlB,EAAEC,EAAEA,EAAEu5C,aAAap4C,SAASnL,GAAGgK,EAAE4zB,MAAM,KAAK,GAAG7zB,EAAE,CAAC9J,EAAE+J,EAAE3C,KAAKmqB,SAASjD,EAAEvkB,EAAEu5C,aAAa/0B,EAAExkB,EAAEk2C,cAAcxxB,EAAEH,EAAE3tB,MAAM,IAAI+tB,EAAE3kB,EAAE3C,KAAKmqB,SAAiD,GAAxCzD,GAAEktB,GAAGtsB,EAAEyC,eAAezC,EAAEyC,cAAc1C,EAAK,OAAOF,EAAE,GAAGG,EAAEH,EAAE5tB,MAAM8tB,EAAE2iB,GAAG1iB,EAAED,GAAG,EAAwF,GAArF,oBAAoBzuB,EAAEkxB,sBAAsBlxB,EAAEkxB,sBAAsBxC,EAAED,GAAG,YAAc,IAAIA,GAAG,GAAGF,EAAErjB,WAAWojB,EAAEpjB,WAAW+iB,GAAE1iB,QAAQ,CAACxB,EAAE85C,GAAG/5C,EAAEC,EAAEhK,GAAG,MAAM+J,QAAQ,IAAI4kB,EAAE3kB,EAAE4zB,MAAM,OAAOjP,IAAIA,EAAE4J,OAAOvuB,GAAG,OAAO2kB,GAAG,CAAC,IAAIF,EAAEE,EAAE2F,aAAa,GAAG,OACnf7F,EAAE,CAACD,EAAEG,EAAEiP,MAAM,IAAI,IAAIh+B,EAAE6uB,EAAEitB,aAAa,OAAO97C,GAAG,CAAC,GAAGA,EAAEsD,UAAUjD,GAAG,KAAKL,EAAEk8C,aAAaptB,GAAG,CAAC,IAAIC,EAAEuJ,MAAMt4B,EAAE68C,GAAGz8C,EAAE,MAAMJ,EAAEs4B,IAAI,EAAEykB,GAAGhuB,EAAE/uB,IAAI+uB,EAAEgtB,eAAe37C,IAAI2uB,EAAEgtB,eAAe37C,GAAGJ,EAAE+uB,EAAE0O,UAAU,OAAOz9B,GAAGA,EAAE+7C,eAAe37C,IAAIJ,EAAE+7C,eAAe37C,GAAGu7C,GAAG5sB,EAAE4J,OAAOv4B,GAAGyuB,EAAEktB,eAAe37C,IAAIyuB,EAAEktB,eAAe37C,GAAG,MAAMJ,EAAEA,EAAEyI,WAAWmmB,EAAE,KAAKG,EAAEuJ,KAAIvJ,EAAEtnB,OAAO2C,EAAE3C,KAAK,KAAasnB,EAAEiP,MAAM,GAAG,OAAOpP,EAAEA,EAAE+J,OAAO5J,OAAO,IAAIH,EAAEG,EAAE,OAAOH,GAAG,CAAC,GAAGA,IAAIxkB,EAAE,CAACwkB,EAAE,KAAK,MAAkB,GAAZG,EAAEH,EAAEqP,QAAW,OAAOlP,EAAE,CAACA,EAAE4J,OAAO/J,EAAE+J,OAAO/J,EAAEG,EAAE,MAAMH,EAAEA,EAAE+J,OAAO5J,EACpfH,EAAEY,GAAErlB,EAAEC,EAAEukB,EAAEpjB,SAASnL,GAAGgK,EAAEA,EAAE4zB,MAAM,OAAO5zB,EAAE,KAAK,EAAE,OAAOukB,EAAEvkB,EAAE3C,KAAKqnB,EAAE1kB,EAAEu5C,aAAatjD,EAAEyuB,EAAEvjB,SAASswC,GAAGzxC,EAAEhK,GAAGuuB,EAAEstB,GAAGttB,EAAEG,EAAE6/B,uBAAuBtuD,EAAEA,EAAEsuB,GAAGvkB,EAAEszB,WAAW,EAAElO,GAAErlB,EAAEC,EAAE/J,EAAED,GAAGgK,EAAE4zB,MAAM,KAAK,GAAG,OAAOrP,EAAEvkB,EAAE3C,KAAKqnB,EAAEssB,GAAGzsB,EAAEvkB,EAAEu5C,cAAc70B,EAAEssB,GAAGzsB,EAAElnB,KAAKqnB,GAAGq1B,GAAGh6C,EAAEC,EAAEukB,EAAEG,EAAEzuB,EAAED,GAAG,KAAK,GAAG,OAAOikD,GAAGl6C,EAAEC,EAAEA,EAAE3C,KAAK2C,EAAEu5C,aAAatjD,EAAED,GAAG,KAAK,GAAG,OAAOC,EAAE+J,EAAE3C,KAAKknB,EAAEvkB,EAAEu5C,aAAah1B,EAAEvkB,EAAEg1C,cAAc/+C,EAAEsuB,EAAEysB,GAAG/6C,EAAEsuB,GAAG,OAAOxkB,IAAIA,EAAEszB,UAAU,KAAKrzB,EAAEqzB,UAAU,KAAKrzB,EAAEszB,WAAW,GAAGtzB,EAAEkuB,IAAI,EAAE/J,GAAEluB,IAAI8J,GAAE,EAAG2uC,GAAG1uC,IAAID,GAAE,EAAG0xC,GAAGzxC,EAAEhK,GAAG49C,GAAG5zC,EAAE/J,EAAEsuB,GAAGyvB,GAAGh0C,EAAE/J,EAAEsuB,EAAEvuB,GAAGwkD,GAAG,KAClfx6C,EAAE/J,GAAE,EAAG8J,EAAE/J,GAAG,KAAK,GAAG,OAAO8lD,GAAG/7C,EAAEC,EAAEhK,GAAG,MAAMoN,MAAMsf,EAAE,IAAI1iB,EAAEkuB,OAAQ,IAAIg2B,GAAG,KAAKpG,GAAG,KAAK,SAAS0G,GAAGzkD,GAAG,GAAG,qBAAqBlF,+BAA+B,OAAM,EAAG,IAAImF,EAAEnF,+BAA+B,GAAGmF,EAAEykD,aAAazkD,EAAE0kD,cAAc,OAAM,EAAG,IAAI,IAAI1uD,EAAEgK,EAAE2kD,OAAO5kD,GAAGmkD,GAAG,SAASnkD,GAAG,IAAIC,EAAE4kD,kBAAkB5uD,EAAE+J,OAAE,EAAO,MAA0B,GAApBA,EAAEyB,QAAQ8xB,YAAe,MAAM/O,MAAMu5B,GAAG,SAAS/9C,GAAG,IAAIC,EAAE6kD,qBAAqB7uD,EAAE+J,GAAG,MAAMwkB,MAAM,MAAMtuB,IAAI,OAAM,EAClb,SAAS6uD,GAAG/kD,EAAEC,EAAEhK,EAAEC,GAAG2D,KAAKs0B,IAAInuB,EAAEnG,KAAK1C,IAAIlB,EAAE4D,KAAKi6B,QAAQj6B,KAAKg6B,MAAMh6B,KAAK20B,OAAO30B,KAAKixB,UAAUjxB,KAAKyD,KAAKzD,KAAKo7C,YAAY,KAAKp7C,KAAKuG,MAAM,EAAEvG,KAAKX,IAAI,KAAKW,KAAK2/C,aAAav5C,EAAEpG,KAAK0wB,aAAa1wB,KAAK45B,cAAc55B,KAAKs4C,YAAYt4C,KAAKs8C,cAAc,KAAKt8C,KAAK9C,KAAKb,EAAE2D,KAAK05B,UAAU,EAAE15B,KAAK+6C,WAAW/6C,KAAKi7C,YAAYj7C,KAAKg7C,WAAW,KAAKh7C,KAAK43C,oBAAoB53C,KAAK+3C,eAAe,EAAE/3C,KAAKy5B,UAAU,KAAK,SAASgmB,GAAGt5C,EAAEC,EAAEhK,EAAEC,GAAG,OAAO,IAAI6uD,GAAG/kD,EAAEC,EAAEhK,EAAEC,GAC1b,SAAS+jD,GAAGj6C,GAAiB,OAAdA,EAAEA,EAAExI,aAAmBwI,IAAIA,EAAE8jB,kBAAkB,SAASygC,GAAGvkD,GAAG,GAAG,oBAAoBA,EAAE,OAAOi6C,GAAGj6C,GAAG,EAAE,EAAE,QAAG,IAASA,GAAG,OAAOA,EAAE,CAAc,GAAbA,EAAEA,EAAE6kB,SAAY7kB,IAAIutB,GAAG,OAAO,GAAG,GAAGvtB,IAAI0tB,GAAG,OAAO,GAAG,OAAO,EAC5M,SAASqnB,GAAG/0C,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEszB,UAC4E,OADlE,OAAOr9B,GAAGA,EAAEqjD,GAAGt5C,EAAEmuB,IAAIluB,EAAED,EAAE7I,IAAI6I,EAAEjJ,MAAMd,EAAEg/C,YAAYj1C,EAAEi1C,YAAYh/C,EAAEqH,KAAK0C,EAAE1C,KAAKrH,EAAE60B,UAAU9qB,EAAE8qB,UAAU70B,EAAEq9B,UAAUtzB,EAAEA,EAAEszB,UAAUr9B,IAAIA,EAAEujD,aAAav5C,EAAEhK,EAAEs9B,UAAU,EAAEt9B,EAAE4+C,WAAW,KAAK5+C,EAAE6+C,YAAY,KAAK7+C,EAAE2+C,WAAW,MAAM3+C,EAAEw7C,oBAAoBzxC,EAAEyxC,oBAAoBx7C,EAAE27C,eAAe5xC,EAAE4xC,eAAe37C,EAAE49B,MAAM7zB,EAAE6zB,MAAM59B,EAAEkgD,cAAcn2C,EAAEm2C,cAAclgD,EAAEw9B,cAAczzB,EAAEyzB,cAAcx9B,EAAEk8C,YAAYnyC,EAAEmyC,YAAYlyC,EAAED,EAAEuqB,aAAat0B,EAAEs0B,aAAa,OAAOtqB,EAAE,KAAK,CAAC2xC,eAAe3xC,EAAE2xC,eACzfD,aAAa1xC,EAAE0xC,aAAaK,WAAW/xC,EAAE+xC,YAAY/7C,EAAE69B,QAAQ9zB,EAAE8zB,QAAQ79B,EAAEmK,MAAMJ,EAAEI,MAAMnK,EAAEiD,IAAI8G,EAAE9G,IAAWjD,EAC5G,SAASi/C,GAAGl1C,EAAEC,EAAEhK,EAAEC,EAAEsuB,EAAEG,GAAG,IAAIF,EAAE,EAAM,GAAJvuB,EAAE8J,EAAK,oBAAoBA,EAAEi6C,GAAGj6C,KAAKykB,EAAE,QAAQ,GAAG,kBAAkBzkB,EAAEykB,EAAE,OAAOzkB,EAAE,OAAOA,GAAG,KAAKitB,GAAG,OAAOooB,GAAGp/C,EAAEmL,SAASojB,EAAEG,EAAE1kB,GAAG,KAAKqtB,GAAG7I,EAAE,EAAED,GAAG,EAAE,MAAM,KAAK0I,GAAGzI,EAAE,EAAED,GAAG,EAAE,MAAM,KAAK2I,GAAG,OAAOntB,EAAEs5C,GAAG,GAAGrjD,EAAEgK,EAAI,EAAFukB,GAAKxkB,EAAEi1C,YAAY9nB,GAAGntB,EAAE1C,KAAK6vB,GAAGntB,EAAE4xC,eAAejtB,EAAE3kB,EAAE,KAAKwtB,GAAG,OAAOxtB,EAAEs5C,GAAG,GAAGrjD,EAAEgK,EAAEukB,GAAGxkB,EAAE1C,KAAKkwB,GAAGxtB,EAAEi1C,YAAYznB,GAAGxtB,EAAE4xC,eAAejtB,EAAE3kB,EAAE,KAAKytB,GAAG,OAAOztB,EAAEs5C,GAAG,GAAGrjD,EAAEgK,EAAEukB,GAAGxkB,EAAEi1C,YAAYxnB,GAAGztB,EAAE4xC,eAAejtB,EAAE3kB,EAAE,QAAQ,GAAG,kBAAkBA,GAAG,OAAOA,EAAE,OAAOA,EAAE6kB,UAAU,KAAKuI,GAAG3I,EACpf,GAAG,MAAMzkB,EAAE,KAAKqtB,GAAG5I,EAAE,EAAE,MAAMzkB,EAAE,KAAKutB,GAAG9I,EAAE,GAAG,MAAMzkB,EAAE,KAAK0tB,GAAGjJ,EAAE,GAAG,MAAMzkB,EAAE,KAAK2tB,GAAGlJ,EAAE,GAAGvuB,EAAE,KAAK,MAAM8J,EAAE,KAAK4tB,GAAGnJ,EAAE,GAAG,MAAMzkB,EAAE,MAAMqD,MAAMsf,EAAE,IAAI,MAAM3iB,EAAEA,SAASA,EAAE,KAAgE,OAA1DC,EAAEq5C,GAAG70B,EAAExuB,EAAEgK,EAAEukB,GAAGvkB,EAAEg1C,YAAYj1C,EAAEC,EAAE3C,KAAKpH,EAAE+J,EAAE2xC,eAAejtB,EAAS1kB,EAAE,SAASo1C,GAAGr1C,EAAEC,EAAEhK,EAAEC,GAAoC,OAAjC8J,EAAEs5C,GAAG,EAAEt5C,EAAE9J,EAAE+J,GAAGD,EAAE4xC,eAAe37C,EAAS+J,EAAE,SAASg1C,GAAGh1C,EAAEC,EAAEhK,GAAuC,OAApC+J,EAAEs5C,GAAG,EAAEt5C,EAAE,KAAKC,GAAGD,EAAE4xC,eAAe37C,EAAS+J,EACrW,SAASo1C,GAAGp1C,EAAEC,EAAEhK,GAAuK,OAApKgK,EAAEq5C,GAAG,EAAE,OAAOt5C,EAAEoB,SAASpB,EAAEoB,SAAS,GAAGpB,EAAE7I,IAAI8I,GAAGA,EAAE2xC,eAAe37C,EAAEgK,EAAE6qB,UAAU,CAACyK,cAAcv1B,EAAEu1B,cAAcyvB,gBAAgB,KAAK7P,eAAen1C,EAAEm1C,gBAAuBl1C,EAC9L,SAASglD,GAAGjlD,EAAEC,EAAEhK,GAAG4D,KAAKs0B,IAAIluB,EAAEpG,KAAK4H,QAAQ,KAAK5H,KAAK07B,cAAcv1B,EAAEnG,KAAKipD,UAAUjpD,KAAKmrD,gBAAgB,KAAKnrD,KAAKsoD,uBAAuB,EAAEtoD,KAAKqoD,aAAa,KAAKroD,KAAKyoD,eAAe,EAAEzoD,KAAK+gD,eAAe/gD,KAAKV,QAAQ,KAAKU,KAAKy9B,QAAQrhC,EAAE4D,KAAK4nD,aAAa,KAAK5nD,KAAK2nD,iBAAiB,GAAG3nD,KAAKqnD,gBAAgBrnD,KAAKwnD,eAAexnD,KAAKynD,sBAAsBznD,KAAKuoD,kBAAkBvoD,KAAKypD,mBAAmBzpD,KAAKsnD,iBAAiB,EACva,SAASC,GAAGphD,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEsjD,mBAAyC,OAAtBtjD,EAAEA,EAAEoiD,kBAAyB,IAAInsD,GAAGA,GAAGgK,GAAGD,GAAGC,EAAE,SAAS28C,GAAG58C,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEsjD,mBAAmBptD,EAAE8J,EAAEoiD,kBAAkBnsD,EAAEgK,IAAID,EAAEsjD,mBAAmBrjD,IAAM/J,EAAE+J,GAAG,IAAIhK,KAAE+J,EAAEoiD,kBAAkBniD,GAAEA,GAAGD,EAAEqhD,iBAAiBrhD,EAAEqhD,eAAe,GAAGphD,GAAGD,EAAEkhD,kBAAkBlhD,EAAEkhD,gBAAgB,GAClT,SAASrE,GAAG78C,EAAEC,GAAGA,EAAED,EAAEmhD,mBAAmBnhD,EAAEmhD,iBAAiBlhD,GAAG,IAAIhK,EAAE+J,EAAEsjD,mBAAmB,IAAIrtD,IAAIgK,GAAGhK,EAAE+J,EAAEsjD,mBAAmBtjD,EAAEoiD,kBAAkBpiD,EAAEshD,sBAAsB,EAAErhD,GAAGD,EAAEoiD,oBAAoBpiD,EAAEoiD,kBAAkBniD,EAAE,GAAGA,EAAED,EAAEshD,wBAAwBthD,EAAEshD,sBAAsBrhD,IAAI,SAAS2hD,GAAG5hD,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEkhD,iBAAmB,IAAIjrD,GAAGA,EAAEgK,KAAED,EAAEkhD,gBAAgBjhD,GAC5V,SAASilD,GAAGllD,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsuB,EAAEvkB,EAAEwB,QAAQkjB,EAAE6uB,KAAK/uB,EAAE0uB,GAAG5sB,SAAS5B,EAAE8uB,GAAG9uB,EAAEH,EAAEC,GAAGzkB,EAAE,GAAG/J,EAAE,CAACA,EAAEA,EAAEs9C,oBAAoBtzC,EAAE,CAAC,GAAGozB,GAAGp9B,KAAKA,GAAG,IAAIA,EAAEk4B,IAAI,MAAM9qB,MAAMsf,EAAE,MAAM,IAAIiC,EAAE3uB,EAAE,EAAE,CAAC,OAAO2uB,EAAEuJ,KAAK,KAAK,EAAEvJ,EAAEA,EAAEkG,UAAU3xB,QAAQ,MAAM8G,EAAE,KAAK,EAAE,GAAGmkB,GAAEQ,EAAEtnB,MAAM,CAACsnB,EAAEA,EAAEkG,UAAU8jB,0CAA0C,MAAM3uC,GAAG2kB,EAAEA,EAAE4J,aAAa,OAAO5J,GAAG,MAAMvhB,MAAMsf,EAAE,MAAO,GAAG,IAAI1sB,EAAEk4B,IAAI,CAAC,IAAIzJ,EAAEzuB,EAAEqH,KAAK,GAAG8mB,GAAEM,GAAG,CAACzuB,EAAEw4C,GAAGx4C,EAAEyuB,EAAEE,GAAG,MAAM5kB,GAAG/J,EAAE2uB,OAAO3uB,EAAE+3C,GAC3W,OAD8W,OAAO/tC,EAAE9G,QAAQ8G,EAAE9G,QAAQlD,EAAEgK,EAAE26C,eAAe3kD,EAAEgK,EAAEyyC,GAAG/tB,EAAEF,GAAGxkB,EAAE6S,QAAQ,CAACrU,QAAQuB,GAAG9J,OAAE,IAClfA,EAAE,KAAKA,EAAE,OAAOA,IAAI+J,EAAEsD,SAASrN,GAAG08C,GAAGpuB,EAAEvkB,GAAGyzC,GAAGlvB,EAAEG,GAAUA,EAAE,SAASwgC,GAAGnlD,GAAe,GAAZA,EAAEA,EAAEyB,SAAYzB,EAAE6zB,MAAM,OAAO,KAAK,OAAO7zB,EAAE6zB,MAAM1F,KAAK,KAAK,EAAE,OAAOnuB,EAAE6zB,MAAM/I,UAAU,QAAQ,OAAO9qB,EAAE6zB,MAAM/I,WAAW,SAASs6B,GAAGplD,EAAEC,GAAGD,EAAEA,EAAEyzB,cAAc,OAAOzzB,GAAG,OAAOA,EAAE0zB,YAAY1zB,EAAEk7C,UAAUj7C,IAAID,EAAEk7C,UAAUj7C,GAAG,SAASolD,GAAGrlD,EAAEC,GAAGmlD,GAAGplD,EAAEC,IAAID,EAAEA,EAAEszB,YAAY8xB,GAAGplD,EAAEC,GACpV,SAASqlD,GAAGtlD,EAAEC,EAAEhK,GAAGA,EAAE,MAAMA,IAAG,IAAKA,EAAEqhC,QAAQ,IAAIphC,EAAE,IAAI+uD,GAAGjlD,EAAEC,EAAEhK,GAAGuuB,EAAE80B,GAAG,EAAE,KAAK,KAAK,IAAIr5C,EAAE,EAAE,IAAIA,EAAE,EAAE,GAAG/J,EAAEuL,QAAQ+iB,EAAEA,EAAEsG,UAAU50B,EAAEg8C,GAAG1tB,GAAGxkB,EAAE++B,IAAI7oC,EAAEuL,QAAQxL,GAAG,IAAIgK,GAAGw2B,GAAGz2B,EAAE,IAAIA,EAAE+xB,SAAS/xB,EAAEA,EAAEkwB,eAAer2B,KAAK0rD,cAAcrvD,EACzN,SAASsvD,GAAGxlD,GAAG,SAASA,GAAG,IAAIA,EAAE+xB,UAAU,IAAI/xB,EAAE+xB,UAAU,KAAK/xB,EAAE+xB,WAAW,IAAI/xB,EAAE+xB,UAAU,iCAAiC/xB,EAAEgyB,YAAY,SAASyzB,GAAGzlD,EAAEC,GAA0H,GAAvHA,IAAIA,EAAED,EAAE,IAAIA,EAAE+xB,SAAS/xB,EAAE81C,gBAAgB91C,EAAE0xB,WAAW,KAAKzxB,KAAKA,GAAG,IAAIA,EAAE8xB,WAAW9xB,EAAEylD,aAAa,qBAAwBzlD,EAAE,IAAI,IAAIhK,EAAEA,EAAE+J,EAAE8xB,WAAW9xB,EAAE2xB,YAAY17B,GAAG,OAAO,IAAIqvD,GAAGtlD,EAAE,EAAEC,EAAE,CAACq3B,SAAQ,QAAI,GACrW,SAASquB,GAAG3lD,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,IAAIG,EAAE1uB,EAAEsoD,oBAAoB,GAAG55B,EAAE,CAAC,IAAIF,EAAEE,EAAE4gC,cAAc,GAAG,oBAAoB/gC,EAAE,CAAC,IAAII,EAAEJ,EAAEA,EAAE,WAAW,IAAIxkB,EAAEmlD,GAAG1gC,GAAGG,EAAE7uB,KAAKiK,IAAIklD,GAAGjlD,EAAEwkB,EAAEzkB,EAAEwkB,OAAO,CAAmD,GAAlDG,EAAE1uB,EAAEsoD,oBAAoBkH,GAAGxvD,EAAEC,GAAGuuB,EAAEE,EAAE4gC,cAAiB,oBAAoB/gC,EAAE,CAAC,IAAIE,EAAEF,EAAEA,EAAE,WAAW,IAAIxkB,EAAEmlD,GAAG1gC,GAAGC,EAAE3uB,KAAKiK,IAAI6iD,IAAG,WAAWqC,GAAGjlD,EAAEwkB,EAAEzkB,EAAEwkB,MAAK,OAAO2gC,GAAG1gC,GAAG,SAASmhC,GAAG5lD,EAAEC,EAAEhK,GAAG,IAAIC,EAAE,EAAE4f,UAAUpZ,aAAQ,IAASoZ,UAAU,GAAGA,UAAU,GAAG,KAAK,MAAM,CAAC+O,SAASmI,GAAG71B,IAAI,MAAMjB,EAAE,KAAK,GAAGA,EAAEkL,SAASpB,EAAEu1B,cAAct1B,EAAEk1C,eAAel/C,GAGpR,SAAS4vD,GAAG7lD,EAAEC,GAAG,IAAIhK,EAAE,EAAE6f,UAAUpZ,aAAQ,IAASoZ,UAAU,GAAGA,UAAU,GAAG,KAAK,IAAI0vC,GAAGvlD,GAAG,MAAMoD,MAAMsf,EAAE,MAAM,OAAOijC,GAAG5lD,EAAEC,EAAE,KAAKhK,GALpIqvD,GAAG9tD,UAAUmwB,OAAO,SAAS3nB,GAAGklD,GAAGllD,EAAEnG,KAAK0rD,cAAc,KAAK,OAAOD,GAAG9tD,UAAUsuD,QAAQ,WAAW,IAAI9lD,EAAEnG,KAAK0rD,cAActlD,EAAED,EAAEu1B,cAAc2vB,GAAG,KAAKllD,EAAE,MAAK,WAAWC,EAAE8+B,IAAI,SAG1YnJ,GAAG,SAAS51B,GAAG,GAAG,KAAKA,EAAEmuB,IAAI,CAAC,IAAIluB,EAAE+wC,GAAGwC,KAAK,IAAI,KAAKE,GAAG1zC,EAAEC,GAAGolD,GAAGrlD,EAAEC,KAAK41B,GAAG,SAAS71B,GAAG,KAAKA,EAAEmuB,MAAMulB,GAAG1zC,EAAE,GAAGqlD,GAAGrlD,EAAE,KAAK81B,GAAG,SAAS91B,GAAG,GAAG,KAAKA,EAAEmuB,IAAI,CAAC,IAAIluB,EAAEuzC,KAAKvzC,EAAEwzC,GAAGxzC,EAAED,EAAE,MAAM0zC,GAAG1zC,EAAEC,GAAGolD,GAAGrlD,EAAEC,KAC1LyqB,EAAG,SAAS1qB,EAAEC,EAAEhK,GAAG,OAAOgK,GAAG,IAAK,QAAyB,GAAjB8vB,GAAG/vB,EAAE/J,GAAGgK,EAAEhK,EAAEE,KAAQ,UAAUF,EAAEqH,MAAM,MAAM2C,EAAE,CAAC,IAAIhK,EAAE+J,EAAE/J,EAAE4+B,YAAY5+B,EAAEA,EAAE4+B,WAAsF,IAA3E5+B,EAAEA,EAAEqJ,iBAAiB,cAAcymD,KAAKC,UAAU,GAAG/lD,GAAG,mBAAuBA,EAAE,EAAEA,EAAEhK,EAAEyG,OAAOuD,IAAI,CAAC,IAAI/J,EAAED,EAAEgK,GAAG,GAAG/J,IAAI8J,GAAG9J,EAAE+vD,OAAOjmD,EAAEimD,KAAK,CAAC,IAAIzhC,EAAEya,GAAG/oC,GAAG,IAAIsuB,EAAE,MAAMnhB,MAAMsf,EAAE,KAAKyM,GAAGl5B,GAAG65B,GAAG75B,EAAEsuB,KAAK,MAAM,IAAK,WAAWkM,GAAG1wB,EAAE/J,GAAG,MAAM,IAAK,SAASgK,EAAEhK,EAAEY,MAAM,MAAMoJ,GAAGowB,GAAGrwB,IAAI/J,EAAEkmD,SAASl8C,GAAE,KAAMgrB,EAAG23B,GAC9Z13B,EAAG,SAASlrB,EAAEC,EAAEhK,EAAEC,EAAEsuB,GAAG,IAAIG,EAAEoB,GAAEA,IAAG,EAAE,IAAI,OAAO4qB,GAAG,GAAG3wC,EAAE5I,KAAK,KAAK6I,EAAEhK,EAAEC,EAAEsuB,IAAI,QAAQuB,GAAEpB,EAAEoB,KAAID,IAAGirB,OAAO5lB,EAAG,YAAYpF,IAAG,EAAE65B,GAAGC,OAAO/5B,KAAI68B,KAAKd,OAAOz2B,EAAG,SAASprB,EAAEC,GAAG,IAAIhK,EAAE8vB,GAAEA,IAAG,EAAE,IAAI,OAAO/lB,EAAEC,GAAG,QAAQ8lB,GAAE9vB,EAAE8vB,KAAID,IAAGirB,OAA8I,IAAImV,GAAG,CAACC,OAAO,CAAClvB,GAAG+H,GAAGC,GAAGzU,EAAGP,EAAGyV,GAAG,SAAS1/B,GAAGi0B,GAAGj0B,EAAEy/B,KAAK1U,EAAGC,EAAGtpB,GAAG+yB,GAAGotB,GAAG,CAACpgD,SAAQ,MAClb,SAAUzB,GAAG,IAAIC,EAAED,EAAEomD,wBAA+B3B,GAAGptD,EAAE,GAAG2I,EAAE,CAACqmD,kBAAkB,KAAKC,cAAc,KAAKC,mBAAmB,KAAKC,eAAe,KAAKC,qBAAqB/5B,GAAGrG,uBAAuBqgC,wBAAwB,SAAS1mD,GAAW,OAARA,EAAE+zB,GAAG/zB,GAAU,OAAOA,EAAE,KAAKA,EAAE8qB,WAAWs7B,wBAAwB,SAASpmD,GAAG,OAAOC,EAAEA,EAAED,GAAG,MAAM2mD,4BAA4B,KAAKC,gBAAgB,KAAKC,aAAa,KAAKC,kBAAkB,KAAKC,gBAAgB,SAAzb,CAAmc,CAACX,wBAAwB5wB,GAAGwxB,WAAW,EAAEn+B,QAAQ,UACpfo+B,oBAAoB,cAAcvxD,EAAQwxB,mDAAmDg/B,GAAGxwD,EAAQwxD,aAAarB,GAAGnwD,EAAQ0J,YAAY,SAASY,GAAG,GAAG,MAAMA,EAAE,OAAO,KAAK,GAAG,IAAIA,EAAE+xB,SAAS,OAAO/xB,EAAE,IAAIC,EAAED,EAAEuzC,oBAAoB,QAAG,IAAStzC,EAAE,CAAC,GAAG,oBAAoBD,EAAE2nB,OAAO,MAAMtkB,MAAMsf,EAAE,MAAM,MAAMtf,MAAMsf,EAAE,IAAIrsB,OAAOqH,KAAKqC,KAA0C,OAApCA,EAAE+zB,GAAG9zB,GAAGD,EAAE,OAAOA,EAAE,KAAKA,EAAE8qB,UAAiB9qB,GACxXtK,EAAQyxD,UAAU,SAASnnD,EAAEC,GAAG,IAAI8lB,IAAG65B,GAAGC,OAAO/5B,GAAE,MAAMziB,MAAMsf,EAAE,MAAM,IAAI1sB,EAAE8vB,GAAEA,IAAG,EAAE,IAAI,OAAO4qB,GAAG,GAAG3wC,EAAE5I,KAAK,KAAK6I,IAAI,QAAQ8lB,GAAE9vB,EAAE86C,OAAOr7C,EAAQ4hC,QAAQ,SAASt3B,EAAEC,EAAEhK,GAAG,IAAIuvD,GAAGvlD,GAAG,MAAMoD,MAAMsf,EAAE,MAAM,OAAOgjC,GAAG,KAAK3lD,EAAEC,GAAE,EAAGhK,IAAIP,EAAQiyB,OAAO,SAAS3nB,EAAEC,EAAEhK,GAAG,IAAIuvD,GAAGvlD,GAAG,MAAMoD,MAAMsf,EAAE,MAAM,OAAOgjC,GAAG,KAAK3lD,EAAEC,GAAE,EAAGhK,IACnTP,EAAQ0xD,uBAAuB,SAASpnD,GAAG,IAAIwlD,GAAGxlD,GAAG,MAAMqD,MAAMsf,EAAE,KAAK,QAAO3iB,EAAEu+C,sBAAqBsE,IAAG,WAAW8C,GAAG,KAAK,KAAK3lD,GAAE,GAAG,WAAWA,EAAEu+C,oBAAoB,KAAKv+C,EAAE++B,IAAI,YAAS,IAAQrpC,EAAQ2xD,wBAAwBzE,GAAGltD,EAAQ4xD,sBAAsB,SAAStnD,EAAEC,GAAG,OAAO4lD,GAAG7lD,EAAEC,EAAE,EAAE6V,UAAUpZ,aAAQ,IAASoZ,UAAU,GAAGA,UAAU,GAAG,OACvVpgB,EAAQ6xD,oCAAoC,SAASvnD,EAAEC,EAAEhK,EAAEC,GAAG,IAAIsvD,GAAGvvD,GAAG,MAAMoN,MAAMsf,EAAE,MAAM,GAAG,MAAM3iB,QAAG,IAASA,EAAEuzC,oBAAoB,MAAMlwC,MAAMsf,EAAE,KAAK,OAAOgjC,GAAG3lD,EAAEC,EAAEhK,GAAE,EAAGC,IAAIR,EAAQmzB,QAAQ,W,6BChS/LlzB,EAAOD,QAAU,EAAQ,K,6BCMd,IAAIivB,EAAEF,EAAEG,EAAEF,EAAE7uB,EACzB,GAAG,qBAAqBgN,QAAQ,oBAAoB2kD,eAAe,CAAC,IAAI9vD,EAAE,KAAKgrB,EAAE,KAAK5rB,EAAE,WAAW,GAAG,OAAOY,EAAE,IAAI,IAAIsI,EAAEtK,EAAQ25C,eAAe33C,GAAE,EAAGsI,GAAGtI,EAAE,KAAK,MAAMuI,GAAG,MAAMwD,WAAW3M,EAAE,GAAGmJ,IAAK0iB,EAAEvD,KAAKC,MAAM3pB,EAAQ25C,aAAa,WAAW,OAAOjwB,KAAKC,MAAMsD,GAAGgC,EAAE,SAAS3kB,GAAG,OAAOtI,EAAE+L,WAAWkhB,EAAE,EAAE3kB,IAAItI,EAAEsI,EAAEyD,WAAW3M,EAAE,KAAK2tB,EAAE,SAASzkB,EAAEC,GAAGyiB,EAAEjf,WAAWzD,EAAEC,IAAI2kB,EAAE,WAAW3I,aAAayG,IAAIgC,EAAE,WAAW,OAAM,GAAI7uB,EAAEH,EAAQ+xD,wBAAwB,iBAAiB,CAAC,IAAI5kC,EAAEhgB,OAAO6kD,YAAYr6C,EAAExK,OAAOuc,KACnf7R,EAAE1K,OAAOY,WAAWqf,EAAEjgB,OAAOoZ,aAAa,GAAG,qBAAqBjhB,QAAQ,CAAC,IAAI+nB,EAAElgB,OAAOgK,qBAAqB,oBAAoBhK,OAAOyJ,uBAAuBtR,QAAQC,MAAM,2IAA2I,oBAAoB8nB,GAAG/nB,QAAQC,MAAM,0IAA0I,GAAG,kBACne4nB,GAAG,oBAAoBA,EAAExD,IAAI3pB,EAAQ25C,aAAa,WAAW,OAAOxsB,EAAExD,WAAW,CAAC,IAAI2D,EAAE3V,EAAEgS,MAAM3pB,EAAQ25C,aAAa,WAAW,OAAOhiC,EAAEgS,MAAM2D,GAAG,IAAIE,GAAE,EAAGE,EAAE,KAAKK,GAAG,EAAEC,EAAE,EAAEE,EAAE,EAAEc,EAAE,WAAW,OAAOhvB,EAAQ25C,gBAAgBzrB,GAAG/tB,EAAE,aAAaH,EAAQ+xD,wBAAwB,SAASznD,GAAG,EAAEA,GAAG,IAAIA,EAAEhF,QAAQC,MAAM,oHAAoHyoB,EAAE,EAAE1jB,EAAEjB,KAAK4oD,MAAM,IAAI3nD,GAAG,GAAG,IAAI6jB,EAAE,IAAI2jC,eAAexjC,EAAEH,EAAE+jC,MAAM/jC,EAAEgkC,MAAMC,UACnf,WAAW,GAAG,OAAO1kC,EAAE,CAAC,IAAIpjB,EAAEtK,EAAQ25C,eAAezrB,EAAE5jB,EAAE0jB,EAAE,IAAIN,GAAE,EAAGpjB,GAAGgkB,EAAE+jC,YAAY,OAAO7kC,GAAE,EAAGE,EAAE,MAAM,MAAMnjB,GAAG,MAAM+jB,EAAE+jC,YAAY,MAAM9nD,QAASijB,GAAE,GAAIyB,EAAE,SAAS3kB,GAAGojB,EAAEpjB,EAAEkjB,IAAIA,GAAE,EAAGc,EAAE+jC,YAAY,QAAQtjC,EAAE,SAASzkB,EAAEC,GAAGwjB,EAAElW,GAAE,WAAWvN,EAAEtK,EAAQ25C,kBAAiBpvC,IAAI2kB,EAAE,WAAW9B,EAAEW,GAAGA,GAAG,GAAG,SAASS,EAAElkB,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEtD,OAAOsD,EAAEF,KAAKG,GAAGD,EAAE,OAAO,CAAC,IAAI9J,EAAED,EAAE,IAAI,EAAEuuB,EAAExkB,EAAE9J,GAAG,UAAG,IAASsuB,GAAG,EAAEL,EAAEK,EAAEvkB,IAA0B,MAAMD,EAA7BA,EAAE9J,GAAG+J,EAAED,EAAE/J,GAAGuuB,EAAEvuB,EAAEC,GAAgB,SAASkuB,EAAEpkB,GAAU,OAAPA,EAAEA,EAAE,QAAU,IAASA,EAAE,KAAKA,EAC9c,SAASukB,EAAEvkB,GAAG,IAAIC,EAAED,EAAE,GAAG,QAAG,IAASC,EAAE,CAAC,IAAIhK,EAAE+J,EAAEslB,MAAM,GAAGrvB,IAAIgK,EAAE,CAACD,EAAE,GAAG/J,EAAE+J,EAAE,IAAI,IAAI9J,EAAE,EAAEsuB,EAAExkB,EAAEtD,OAAOxG,EAAEsuB,GAAG,CAAC,IAAIxuB,EAAE,GAAGE,EAAE,GAAG,EAAEmB,EAAE2I,EAAEhK,GAAG4sB,EAAE5sB,EAAE,EAAEU,EAAEsJ,EAAE4iB,GAAG,QAAG,IAASvrB,GAAG,EAAE8sB,EAAE9sB,EAAEpB,QAAG,IAASS,GAAG,EAAEytB,EAAEztB,EAAEW,IAAI2I,EAAE9J,GAAGQ,EAAEsJ,EAAE4iB,GAAG3sB,EAAEC,EAAE0sB,IAAI5iB,EAAE9J,GAAGmB,EAAE2I,EAAEhK,GAAGC,EAAEC,EAAEF,OAAQ,WAAG,IAASU,GAAG,EAAEytB,EAAEztB,EAAET,IAA0B,MAAM+J,EAA7BA,EAAE9J,GAAGQ,EAAEsJ,EAAE4iB,GAAG3sB,EAAEC,EAAE0sB,IAAgB,OAAO3iB,EAAE,OAAO,KAAK,SAASkkB,EAAEnkB,EAAEC,GAAG,IAAIhK,EAAE+J,EAAEgoD,UAAU/nD,EAAE+nD,UAAU,OAAO,IAAI/xD,EAAEA,EAAE+J,EAAE0B,GAAGzB,EAAEyB,GAAG,IAAIqjB,EAAE,GAAGC,EAAE,GAAGG,EAAE,EAAEC,EAAE,KAAKC,EAAE,EAAEK,GAAE,EAAGC,GAAE,EAAGC,GAAE,EACja,SAASE,EAAE9lB,GAAG,IAAI,IAAIC,EAAEmkB,EAAEY,GAAG,OAAO/kB,GAAG,CAAC,GAAG,OAAOA,EAAEsD,SAASghB,EAAES,OAAQ,MAAG/kB,EAAEgoD,WAAWjoD,GAAgD,MAA9CukB,EAAES,GAAG/kB,EAAE+nD,UAAU/nD,EAAE2xC,eAAe1tB,EAAEa,EAAE9kB,GAAcA,EAAEmkB,EAAEY,IAAI,SAASe,EAAE/lB,GAAa,GAAV4lB,GAAE,EAAGE,EAAE9lB,IAAO2lB,EAAE,GAAG,OAAOvB,EAAEW,GAAGY,GAAE,EAAGhB,EAAEsB,OAAO,CAAC,IAAIhmB,EAAEmkB,EAAEY,GAAG,OAAO/kB,GAAGwkB,EAAEsB,EAAE9lB,EAAEgoD,UAAUjoD,IACtP,SAASimB,EAAEjmB,EAAEC,GAAG0lB,GAAE,EAAGC,IAAIA,GAAE,EAAGhB,KAAKc,GAAE,EAAG,IAAIzvB,EAAEovB,EAAE,IAAS,IAALS,EAAE7lB,GAAOmlB,EAAEhB,EAAEW,GAAG,OAAOK,MAAMA,EAAEwsB,eAAe3xC,IAAID,IAAI0kB,MAAM,CAAC,IAAIxuB,EAAEkvB,EAAE7hB,SAAS,GAAG,OAAOrN,EAAE,CAACkvB,EAAE7hB,SAAS,KAAK8hB,EAAED,EAAE8iC,cAAc,IAAI1jC,EAAEtuB,EAAEkvB,EAAEwsB,gBAAgB3xC,GAAGA,EAAEvK,EAAQ25C,eAAe,oBAAoB7qB,EAAEY,EAAE7hB,SAASihB,EAAEY,IAAIhB,EAAEW,IAAIR,EAAEQ,GAAGe,EAAE7lB,QAAQskB,EAAEQ,GAAGK,EAAEhB,EAAEW,GAAG,GAAG,OAAOK,EAAE,IAAIpvB,GAAE,MAAO,CAAC,IAAIqB,EAAE+sB,EAAEY,GAAG,OAAO3tB,GAAGotB,EAAEsB,EAAE1uB,EAAE4wD,UAAUhoD,GAAGjK,GAAE,EAAG,OAAOA,EAAE,QAAQovB,EAAE,KAAKC,EAAEpvB,EAAEyvB,GAAE,GACpZ,SAASQ,EAAElmB,GAAG,OAAOA,GAAG,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,IAAI,KAAK,EAAE,OAAO,WAAW,KAAK,EAAE,OAAO,IAAI,QAAQ,OAAO,KAAK,IAAImmB,EAAEtwB,EAAEH,EAAQq6C,sBAAsB,EAAEr6C,EAAQ+5C,2BAA2B,EAAE/5C,EAAQm6C,qBAAqB,EAAEn6C,EAAQmiC,wBAAwB,EAAEniC,EAAQyyD,mBAAmB,KAAKzyD,EAAQgjC,8BAA8B,EAAEhjC,EAAQu5C,wBAAwB,SAASjvC,GAAGA,EAAEuD,SAAS,MAAM7N,EAAQ0yD,2BAA2B,WAAWziC,GAAGD,IAAIC,GAAE,EAAGhB,EAAEsB,KACxcvwB,EAAQ65C,iCAAiC,WAAW,OAAOlqB,GAAG3vB,EAAQ2yD,8BAA8B,WAAW,OAAOjkC,EAAEW,IAAIrvB,EAAQ4yD,cAAc,SAAStoD,GAAG,OAAOqlB,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAIplB,EAAE,EAAE,MAAM,QAAQA,EAAEolB,EAAE,IAAIpvB,EAAEovB,EAAEA,EAAEplB,EAAE,IAAI,OAAOD,IAAI,QAAQqlB,EAAEpvB,IAAIP,EAAQ6yD,wBAAwB,aAAa7yD,EAAQy5C,sBAAsBhpB,EAAEzwB,EAAQ0hC,yBAAyB,SAASp3B,EAAEC,GAAG,OAAOD,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,QAAQA,EAAE,EAAE,IAAI/J,EAAEovB,EAAEA,EAAErlB,EAAE,IAAI,OAAOC,IAAI,QAAQolB,EAAEpvB,IACheP,EAAQkiC,0BAA0B,SAAS53B,EAAEC,EAAEhK,GAAG,IAAIC,EAAER,EAAQ25C,eAAe,GAAG,kBAAkBp5C,GAAG,OAAOA,EAAE,CAAC,IAAIuuB,EAAEvuB,EAAEmmB,MAAMoI,EAAE,kBAAkBA,GAAG,EAAEA,EAAEtuB,EAAEsuB,EAAEtuB,EAAED,EAAE,kBAAkBA,EAAE0rD,QAAQ1rD,EAAE0rD,QAAQz7B,EAAElmB,QAAQ/J,EAAEiwB,EAAElmB,GAAGwkB,EAAEtuB,EAAyM,OAAvMD,EAAEuuB,EAAEvuB,EAAE+J,EAAE,CAAC0B,GAAGyjB,IAAI5hB,SAAStD,EAAEioD,cAAcloD,EAAEioD,UAAUzjC,EAAEotB,eAAe37C,EAAE+xD,WAAW,GAAGxjC,EAAEtuB,GAAG8J,EAAEgoD,UAAUxjC,EAAEN,EAAEc,EAAEhlB,GAAG,OAAOokB,EAAEW,IAAI/kB,IAAIokB,EAAEY,KAAKY,EAAEhB,IAAIgB,GAAE,EAAGnB,EAAEsB,EAAEvB,EAAEtuB,MAAM8J,EAAEgoD,UAAU/xD,EAAEiuB,EAAEa,EAAE/kB,GAAG2lB,GAAGD,IAAIC,GAAE,EAAGhB,EAAEsB,KAAYjmB,GAC3atK,EAAQw6C,qBAAqB,WAAW,IAAIlwC,EAAEtK,EAAQ25C,eAAevpB,EAAE9lB,GAAG,IAAIC,EAAEmkB,EAAEW,GAAG,OAAO9kB,IAAImlB,GAAG,OAAOA,GAAG,OAAOnlB,GAAG,OAAOA,EAAEsD,UAAUtD,EAAEgoD,WAAWjoD,GAAGC,EAAE2xC,eAAexsB,EAAEwsB,gBAAgBltB,KAAKhvB,EAAQ8yD,sBAAsB,SAASxoD,GAAG,IAAIC,EAAEolB,EAAE,OAAO,WAAW,IAAIpvB,EAAEovB,EAAEA,EAAEplB,EAAE,IAAI,OAAOD,EAAEmd,MAAMtjB,KAAKic,WAAW,QAAQuP,EAAEpvB,M,oFCf/T,Y,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,Q,QACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,S,UACA,U,UACA,U,UACA,U,4MAGEwyD,UAA4BtxD,IAAMsxD,W,KAClCC,UAAsBvxD,IAAMuxD,W,KAC5BC,UAAWxxD,IAAMwxD,W,KACjB7xC,UAAkB3f,IAAM2f,W,KACxB8xC,UAAazxD,IAAMyxD,W,KACnBC,UAAW1xD,IAAM0xD,W,KACjBC,UAAY3xD,IAAM2xD,W,KAClB5vC,UAAsB/hB,IAAM+hB,W,KAC5B5X,UAAmBnK,IAAMmK,W,KACzBP,UAAe5J,IAAM4J,W,KACrBuY,UAAgBniB,IAAMmiB,W,KACtByvC,UAAY5xD,IAAM4xD,W,KAClB7uC,UAAqB/iB,IAAM+iB,W,KAC3B8uC,UAAiB7xD,IAAM6xD,W,KACvBC,UAAS9xD,IAAM8xD,W,KACfC,UAAS/xD,IAAM+xD,W,KACfC,UAAYhyD,IAAMgyD,W,KAClBC,UAAajyD,IAAMiyD,W,KACnBC,UAAuBlyD,IAAMkyD,W,KAC7BC,UAAqBnyD,IAAMmyD,W,KAC3BC,UAAsBpyD,IAAMoyD,W,KAC5BC,UAAYryD,IAAMqyD,W,KAClBC,UAAkBtyD,IAAMsyD,W,KACxBC,UAAavyD,IAAMuyD,W,KACnBC,UAAwBxyD,IAAMwyD,W,KAC9BC,WAAwBzyD,IAAMyyD,Y,KAC9BC,WAAwB1yD,IAAM0yD,Y,KAC9B/+C,WAA2B3T,IAAM2T,Y,KACjCg/C,WAAiB3yD,IAAM2yD,Y,KACvBntC,WAAqBxlB,IAAMwlB,Y,KAC3BtU,WAAelR,IAAMkR,Y,KACrBgC,WAAqBlT,IAAMkT,Y,KAC3B8T,WAAWhnB,IAAMgnB,Y,KACjB4rC,WAAS5yD,IAAM4yD,Y,KACfC,WAAmB7yD,IAAM6yD,Y,KACzBC,WAAqB9yD,IAAM8yD,Y,KAC3BC,WAAyB/yD,IAAM+yD,Y,KAC/BC,WAA0BhzD,IAAMgzD,Y,KAChCC,WAAsBjzD,IAAMizD,Y,KAC5BC,WAAuBlzD,IAAMkzD,Y,KAC7BC,WAAYnzD,IAAMmzD,Y,KAClBC,WAAmBpzD,IAAMozD,Y,KACzBC,WAAkBrzD,IAAMqzD,Y,KACxBC,WAAgBtzD,IAAMszD,Y,KACtBC,WAAcvzD,IAAMuzD,Y,KACpBC,WAAaxzD,IAAMwzD,Y,KACnBC,WAAuBzzD,IAAMyzD,Y,KAC7B50C,WAA2B7e,IAAM6e,Y,KACjCM,WAAqBnf,IAAMmf,Y,KAC3BnQ,WAAiBhP,IAAMgP,Y,KACvB0kD,WAAa1zD,IAAM0zD,Y,KACnBC,WAAgB3zD,IAAM2zD,Y,KACtBC,WAAkB5zD,IAAM4zD,Y,KACxBC,WAAgB7zD,IAAM6zD,Y,KACtBC,WAAkB9zD,IAAM8zD,Y,KACxBxsC,WAAgBtnB,IAAMsnB,Y,KACtBysC,WAAmB/zD,IAAM+zD,Y,KACzBC,WAAkBh0D,IAAMg0D,Y,KACxBC,WAAej0D,IAAMi0D,Y,KACrBC,WAAYl0D,IAAMk0D,Y,KAClB3tC,WAAiBvmB,IAAMumB,Y,KACvB4tC,WAAcn0D,IAAMm0D,Y,KACpBC,WAASp0D,IAAMo0D,Y,KACfC,WAAgBr0D,IAAMq0D,Y,2UCjIxB,O,OACA,O,OAEA,O,OACA,O,6nBAQM/C,E,YAKL,WAAYxvD,GAAO,yEACZA,IADY,UAGlB,IAAMkQ,EAAYlQ,EAAME,QAAQnB,OAC9BvB,IAAI,gBACJsP,eAEItH,EACL0K,EAAU2Q,sBAAwB3Q,EAAUsiD,kBAE7C,EAAKC,SAAWjtD,EAEhB,IAAMktD,EAAe,EAAKD,SAAS73C,QAAQ,OAErC+3C,EAAWD,EACdA,EAAa9rD,aAAa,OAC1B,EAAK6rD,SAAS7rD,aAAa,OAhBZ,OAkBlB,EAAKhE,MAAQ,CACZ+vD,YAnBiB,E,kDA8BlB,OAAI/xD,KAAKZ,MAAMmP,gBAEb,+BAAKvQ,UAAU,0BACd,+BAAKA,UAAU,0BACd,iCACCmT,aAAW,MACXnT,UAAU,WACVgU,SAAUhS,KAAKgyD,iBACf5qD,UAAWpH,KAAK4O,eAChB+C,YAAY,MACZtS,IAAI,cACJiS,MAAM,MACN7N,KAAK,OACLzG,MAAOgD,KAAKgC,MAAM+vD,YAGpB,kCACC5gD,aAAYvI,YAAYe,QAAQsI,QAChCjU,UAAU,YACVqT,QAASrR,KAAKiyD,gBACd3gD,MAAO1I,YAAYe,QAAQsI,SAC3B,wBAAC,UAAD,CAAYhU,OAAO,YAMrB,kCACCD,UAAU,YACVqT,QAASrR,KAAKukB,kBACdld,SAAUrH,KAAKZ,MAAMiI,UACrB,iCAAOrJ,UAAU,iBAAjB,U,uCAaH,IAAMuU,EAAWvS,KAEXkyD,EAAa,WAClB5sD,UAASC,YAAYgN,EAASkO,KAAK0xC,aAAa3vD,SAG7CwG,OAAOyJ,sBACVzJ,OAAOyJ,sBAAsBy/C,GAE7BtoD,WAAWsoD,EAAY,O,GAxFgBpzD,UAAMG,WAA1C2vD,EACEhvD,YAAcf,UADhB+vD,EAGEtxD,IAAM,W,iCAgGb00D,iBAAmB,SAAAvvD,GAClB,EAAKuL,SAAS,CACb+jD,SAAUtvD,EAAME,OAAO3F,QAGxB,EAAKo1D,kB,KAWNxjD,eAAiB,SAAAnM,GACM,KAAlBA,EAAM4B,UACT5B,EAAMY,iBAEN,EAAK4uD,oB,KAUP1tC,kBAAoB,WACnB,EAAKnlB,MAAM+O,iBAAiBygD,EAA4BtxD,M,KAUzD20D,gBAAkB,WACjB,IAAM9zD,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEjCm1D,EAAW,EAAKtxC,KAAK0xC,YAAYn1D,MAEvC,EAAKgR,SAAS,CACb+jD,aAGD,IAAMD,EAAe,EAAKD,SAAS73C,QAAQ,OACrCU,EAAQo3C,GAA8B,EAAKD,SAEjDn3C,EAAMzV,aAAa,MAAO8sD,GAE1B5zD,EAAOwB,KAAK,kBAAmB,GAI/B,EAAKP,MAAMkP,oB,UAIEzP,UAAcG,QAAQ4vD,I,uUC9KrC,O,OACA,O,OAEA,O,OACA,O,OACA,Q,6nBAEMC,E,kKAoEI,WACJwD,EAAczpD,YAAYe,QAAQ6S,OAElC81C,EAAmB,GAEjBC,EAASvyD,KAAKwyD,aAEdC,EAAY,CACjB7tD,QAAS,OACT8tD,WAAY,CACXC,MAAO,KAITJ,EAAO1sD,SAAQ,SAAAC,GACd2sD,EAAUC,WAAWC,MAAQ7sD,EAAK8sD,WAE9B,EAAKC,aAAaJ,KACrBJ,EAAcvsD,EAAKxJ,KAEnBg2D,EAAmBxsD,EAAKzE,MAAMqxD,WAAWC,UApBnC,MAwBqC3yD,KAAKZ,MAA3CwO,EAxBC,EAwBDA,SAAUvG,EAxBT,EAwBSA,SAAU8F,EAxBnB,EAwBmBA,eAErB2lD,EAAoB,CACzBzlD,YAAaglD,EACbzuD,UAAWuJ,EACXD,sBAAsB,EACtBR,OAAQ6lD,GAGT,OACC,+BAAKv0D,UAAU,gCACd,kCACC4lB,gBAAehW,EACf5P,UAAU,qBACVqT,QAASlE,EACT7F,KAAK,WACLD,SAAUA,GACV,gCAAMrJ,UAAWs0D,GAChB,wBAAC,UAAD,CAAYr0D,OAAO,cAGpB2P,GAAY,wBAAC,UAAqBklD,M,kCAK1B90D,GAAW,WAChBG,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCm2D,EAAc,CACnBnuD,QAAS,OACT8tD,WAAY,CACXC,MAAO30D,IAITG,EAAO+N,eAAeC,OAEtBnM,KAAKwyD,aAAa3sD,SAAQ,SAAAC,GACzBitD,EAAYL,WAAWC,MAAQ7sD,EAAK8sD,WAEhC,EAAKC,aAAaE,IACrB50D,EAAOiO,YAAY,IAAIzK,SAASN,MAAM0xD,OAIxCA,EAAYL,WAAWC,MAAQ30D,EAE/B,IAAMqD,EAAQ,IAAIM,SAASN,MAAM0xD,GAEjC50D,EAAO8N,WAAW5K,GAElBlD,EAAO+N,eAAeG,SAEtBlO,EAAOwB,KAAK,kBAAmBK,Q,mCAanB+yD,GACZ,IAAM30D,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAI7Cm2D,EAAcpxD,SAAS+L,MAAMC,MAAM,CAAC/I,QAAS,QAASmuD,GAEtD,IAAM1xD,EAAQ,IAAIM,SAASN,MAAM0xD,GAEjC,OAAO1xD,EAAMS,YAAY1D,EAAawD,cAAexD,K,mCAgBrD,OACC4B,KAAKZ,MAAMsN,QAAU,CACpB,CACCpQ,KAAMsM,YAAYe,QAAQ6S,OAC1Bnb,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTC,WAAY,GACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,KAEtC,CACC1D,KAAMsM,YAAYe,QAAQspD,QAC1B5xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,iBAGTC,WAAY,aACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,eAEtC,CACC1D,KAAMsM,YAAYe,QAAQmI,SAC1BzQ,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,mBAGTC,WAAY,eACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,iBAEtC,CACC1D,KAAMsM,YAAYe,QAAQupD,QAC1B7xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,iBAGTC,WAAY,aACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,eAEtC,CACC1D,KAAMsM,YAAYe,QAAQwpD,OAC1B9xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,gBAGTC,WAAY,YACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAMsM,YAAYe,QAAQypD,QAC1B/xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,iBAGTC,WAAY,aACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,eAEtC,CACC1D,KAAMsM,YAAYe,QAAQ0pD,KAC1BhyD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTC,WAAY,UACZtlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,iB,GArQNlB,UAAMG,WAApC4vD,EACEjvD,YAAcf,UADhBgwD,EAGEvxD,IAAM,kBAHRuxD,EAKE5oC,UAAY,CAQlBrY,SAAUsY,UAAUotC,KASpBlrD,MAAO8d,UAAUqtC,OASjBrmD,qBAAsBgZ,UAAUotC,KAShC5mD,OAAQwZ,UAAUstC,QAAQttC,UAAUzoB,QAUpC4J,SAAU6e,UAAUmjB,OASpBl8B,eAAgB+Y,UAAUyF,M,UAiNbkjC,G,6BC/Qf,IAAI4E,EAAuB,EAAQ,IAEnC,SAASC,KACT,SAASC,KACTA,EAAuBC,kBAAoBF,EAE3C53D,EAAOD,QAAU,WACf,SAASg4D,EAAKz0D,EAAO00D,EAAUC,EAAexqD,EAAUyqD,EAAcC,GACpE,GAAIA,IAAWR,EAAf,CAIA,IAAIvyD,EAAM,IAAIsI,MACZ,mLAKF,MADAtI,EAAI5E,KAAO,sBACL4E,GAGR,SAASgzD,IACP,OAAOL,EAFTA,EAAKM,WAAaN,EAMlB,IAAIO,EAAiB,CACnBC,MAAOR,EACPP,KAAMO,EACNloC,KAAMkoC,EACNxqB,OAAQwqB,EACRp2D,OAAQo2D,EACRN,OAAQM,EACR51D,OAAQ41D,EAERS,IAAKT,EACLL,QAASU,EACTtvD,QAASivD,EACTzY,YAAayY,EACbU,WAAYL,EACZxrD,KAAMmrD,EACNW,SAAUN,EACVO,MAAOP,EACPQ,UAAWR,EACXS,MAAOT,EACPU,MAAOV,EAEPW,eAAgBlB,EAChBC,kBAAmBF,GAKrB,OAFAU,EAAeluC,UAAYkuC,EAEpBA,I,6BCrDT,IAAIX,EAAuB,+CAE3B33D,EAAOD,QAAU43D,G,uUCNjB,O,OAEA,O,OACA,Q,OACA,O,OACA,O,OACA,O,6nBAWM3E,E,kKAsCJ,IAAMtqC,EAAWA,cAAcxkB,KAAKykB,kBAEpC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQmrD,KAChCC,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,cACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQmrD,MAC3B,wBAAC,UAAD,CAAY72D,OAAO,c,GAjDEa,UAAMG,WAAzB6vD,EASEtnD,aAAe,CACrB9H,QAAS,OACT8G,UAAW,CACVI,GAAI,cACJ9C,KAAMnC,SAASgjB,KAAO,GACtBroB,KAAM,QAEP+E,MAAO,mBAhBHytD,EA2BExxD,IAAM,O,WA4BC,cACd,cAAgB,cAAmB,aAAYwxD,O,uUCzEhD,O,OAEA,Q,OACA,O,6nBAUMC,E,kKAoBJ,GAAI/uD,KAAKZ,MAAMmP,gBACd,OAAO,wBAAC,UAAsBvO,KAAKZ,OAEnC,IAAM0S,IACL7H,UAAU+U,cACT/U,UAAUgV,oBACY,UAAtB1V,SAASyrD,UACV/qD,UAAUuU,iBACVvU,UAAUiV,gBAGL9W,EAAQ0J,EACXlJ,YAAYe,QAAQsrD,eACpBrsD,YAAYe,QAAQurD,OAEvB,OACC,kCACC/jD,aAAY/I,EACZpK,UAAU,YACVoiB,YAAU,sBACVtO,SAAUA,EACVT,QAASrR,KAAKZ,MAAM+O,iBAAiB5Q,KAAKwxD,EAAazxD,KACvD+J,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAOlJ,GACP,wBAAC,UAAD,CAAYnK,OAAO,gB,GA5CGa,UAAMG,WAA3B8vD,EASEzxD,IAAM,S,UA0CCyxD,G,uUChEf,O,OAEA,Q,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAiCJ,IAAMxqC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQwrD,KAChCJ,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,cACV/O,QAASrR,KAAKiM,WACd5E,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQwrD,MAC3B,wBAAC,UAAD,CAAYl3D,OAAO,c,GA5CEa,UAAMG,WAAzB+vD,EAQExnD,aAAe,CACrBnG,MAAO,CACNuD,QAAS,QAVNoqD,EAsBE1xD,IAAM,O,WA4BC,cAAkB,cAAmB,aAAY0xD,M,uUCjEhE,O,OACA,O,OAEA,O,OACA,O,OACA,Q,6nBAQMC,E,kKAoEI,WACJoD,EAAczpD,YAAYe,QAAQ6S,OAEhC+1C,EAASvyD,KAAKwyD,aAEpBD,EAAOjsD,MAAK,SAAAR,GACP,EAAK+sD,aAAa/sD,EAAKzE,SAC1BgxD,EAAcvsD,EAAKxJ,SAPb,MAWqC0D,KAAKZ,MAA3CwO,EAXC,EAWDA,SAAUvG,EAXT,EAWSA,SAAU8F,EAXnB,EAWmBA,eAErB2lD,EAAoB,CACzBzlD,YAAaglD,EACbzuD,UAAWuJ,EACXD,sBAAsB,EACtBR,OAAQ6lD,GAGT,OACC,+BAAKv0D,UAAU,gCACd,kCACC4lB,gBAAehW,EACf5P,UAAU,qBACVqT,QAASlE,EACT7F,KAAK,WACLD,SAAUA,GACV,oCACC,wBAAC,UAAD,CAAYpJ,OAAO,mBAGpB2P,GAAY,wBAAC,UAAqBklD,M,kCAK1B90D,GAAW,WAChBG,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCm2D,EAAc,CACnBnuD,QAAS,OACT8tD,WAAY,CACXC,MAAO30D,IAIHqD,EAAQ,IAAIM,SAASN,MAAM0xD,GAEjC50D,EAAO+N,eAAeC,OAEtBnM,KAAKwyD,aAAa3sD,SAAQ,SAAAC,GACrB,EAAK+sD,aAAa/sD,EAAKzE,QAC1BlD,EAAOiO,YAAY,IAAIzK,SAASN,MAAMyE,EAAKzE,WAI7ClD,EAAO8N,WAAW5K,GAElBlD,EAAO+N,eAAeG,SAEtBlO,EAAOwB,KAAK,kBAAmBK,Q,mCAanB+yD,GACZ,IAAM30D,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAI7Cm2D,EAAcpxD,SAAS+L,MAAMC,MAAM,CAAC/I,QAAS,QAASmuD,GAEtD,IAAM1xD,EAAQ,IAAIM,SAASN,MAAM0xD,GAEjC,OAAO1xD,EAAMS,YAAY1D,EAAawD,cAAexD,K,mCAiBrD,OACC4B,KAAKZ,MAAMsN,QAAU,CACpB,CACCpQ,KAAMsM,YAAYe,QAAQspD,QAC1B5xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,iBAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,iBAEtC,CACC1D,KAAMsM,YAAYe,QAAQupD,QAC1B7xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,iBAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,iBAEtC,CACC1D,KAAMsM,YAAYe,QAAQwpD,OAC1B9xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,gBAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,gBAEtC,CACC1D,KAAMsM,YAAYe,QAAQypD,QAC1B/xD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,iBAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,iBAEtC,CACC1D,KAAMsM,YAAYe,QAAQ0pD,KAC1BhyD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAMsM,YAAYe,QAAQyrD,KAC1B/zD,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAMsM,YAAYe,QAAQ0rD,SAC1Bh0D,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,mBAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,mBAEtC,CACC1D,KAAMsM,YAAYe,QAAQ2rD,UAC1Bj0D,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,mBAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,mBAEtC,CACC1D,KAAMsM,YAAYe,QAAQ4rD,MAC1Bl0D,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,eAEtC,CACC1D,KAAMsM,YAAYe,QAAQ6rD,QAC1Bn0D,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,iBAEtC,CACC1D,KAAMsM,YAAYe,QAAQ8rD,MAC1Bp0D,MAAO,CACNuD,QAAS,OACT8tD,WAAY,CACXC,MAAO,cAGTrlD,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,oB,GAtRhBlB,UAAMG,WAA1BgwD,EACErvD,YAAcf,UADhBowD,EAGE3xD,IAAM,QAHR2xD,EAKEhpC,UAAY,CAQlBrY,SAAUsY,UAAUotC,KASpBlrD,MAAO8d,UAAUqtC,OASjBrmD,qBAAsBgZ,UAAUotC,KAShC5mD,OAAQwZ,UAAUstC,QAAQttC,UAAUzoB,QAUpC4J,SAAU6e,UAAUmjB,OASpBl8B,eAAgB+Y,UAAUyF,M,UAkObsjC,G,uUC1Sf,O,OACA,O,OAEA,Q,OACA,O,6nBAOME,E,kKA+BJ,OAAInvD,KAAKZ,MAAMmP,gBACP,wBAAC,UAAyBvO,KAAKZ,OAGrC,kCACC+R,aAAYvI,YAAYe,QAAQwV,MAChCnhB,UAAU,YACVoiB,YAAU,qBACV/O,QAASrR,KAAKZ,MAAM+O,iBACpB9G,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQwV,OAC3B,wBAAC,UAAD,CAAYlhB,OAAO,e,GA1COa,UAAMG,WAA/BkwD,EACE7xD,IAAM,aADR6xD,EAGElpC,UAAY,CAQlB7d,MAAO8d,UAAUqtC,OAUjBlsD,SAAU6e,UAAUmjB,Q,UA4BP8lB,G,uUC5Df,O,OAEA,Q,OACA,Q,OACA,O,6nBAYMD,E,mNA6DL3qC,kBAAoB,WACnB,EAAKnlB,MAAM+O,iBAAiB+gD,EAAY5xD,M,6DA1BxC,OAAI0C,KAAKZ,MAAMmP,gBACP,wBAAC,UAAoBvO,KAAKZ,OAGhC,kCACC+R,aAAYvI,YAAYe,QAAQyI,KAChCpU,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKukB,kBACdld,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyI,MAC3B,wBAAC,UAAD,CAAYnU,OAAO,c,GA/CEa,UAAMG,WAA1BiwD,EASE1nD,aAAe,CACrBhB,UAAW,CACVI,GAAI,oBACJ9C,KAAMnC,SAASgjB,KAAOhjB,SAAS+zD,MAAQ,GACvCp5D,KAAM,UAbH4yD,EAyBE5xD,IAAM,Q,WAyCC,aAAgB4xD,I,uUClF/B,O,OAEA,Q,OACA,O,OACA,O,OACA,O,6nBAUME,E,kKAkCJ,IAAM5qC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQgsD,GAChCZ,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,YACV/O,QAASrR,KAAKiM,WACd5E,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQgsD,IAC3B,wBAAC,UAAD,CAAY13D,OAAO,Y,GA7CAa,UAAMG,WAAvBmwD,EASE5nD,aAAe,CACrBnG,MAAO,CACNuD,QAAS,OAXNwqD,EAuBE9xD,IAAM,K,WA4BC,cAAkB,cAAmB,aAAY8xD,M,uUClEhE,O,OAEA,Q,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAkCJ,IAAM7qC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQisD,GAChCb,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,YACV/O,QAASrR,KAAKiM,WACd5E,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQisD,IAC3B,wBAAC,UAAD,CAAY33D,OAAO,Y,GA7CAa,UAAMG,WAAvBowD,EASE7nD,aAAe,CACrBnG,MAAO,CACNuD,QAAS,OAXNyqD,EAuBE/xD,IAAM,K,WA4BC,cAAkB,cAAmB,aAAY+xD,M,uUClEhE,O,OAEA,O,OACA,O,6nBAQMC,E,kKAgCJ,OACC,kCACCn+C,aAAYvI,YAAYe,QAAQksD,eAChC73D,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQksD,gBAC3B,wBAAC,UAAD,CAAY53D,OAAO,Y,GAxCGa,UAAMG,WAA1BqwD,EASE9nD,aAAe,CACrB9H,QAAS,kBAVL4vD,EAqBEhyD,IAAM,Q,WAyBC,aAAcgyD,I,uUC9D7B,Q,OACA,O,OAEA,O,OACA,O,ynBAEA,SAASwG,EAAT,GAAoD,EAA3B93D,UAA2B,IAAX+3D,EAAW,EAAXA,SACxC,OACC,wBAAC,UAAc73D,SAAf,MACE,YAAc,IAAZC,EAAY,EAAZA,OACIC,EAAeD,EAAOvB,IAAI,gBAC1ByB,EAAYD,EAAaE,OAAOD,WAAa,GAC7C23D,EAAUz3D,UAAKy3D,QAAQ33D,GACvB43D,EAAW13D,UAAKmd,KAAKs6C,EAASD,GAC9Bt3D,EAAoBA,cAG1B,OACC,+BAAKT,UAAWS,EAAmBC,OAAO,KAAKC,MAAM,MACpD,+BAAKC,KAAMq3D,Q,IAcX1G,E,kKAgCJ,OACC,kCACCp+C,aAAW,SACXnT,UAAU,YACVoiB,YAAU,gBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAM,UACN,wBAACwkD,EAAD,CAAgBC,SAAS,2B,GAxCFj3D,UAAMG,WAA3BswD,EASE/nD,aAAe,CACrB9H,QAAS,UAVL6vD,EAqBEjyD,IAAM,S,WAyBC,aAAciyD,I,iBC/E7B,YA4BA,SAAS2G,EAAe50D,EAAO60D,GAG7B,IADA,IAAIC,EAAK,EACAr6D,EAAIuF,EAAMuB,OAAS,EAAG9G,GAAK,EAAGA,IAAK,CAC1C,IAAI+lD,EAAOxgD,EAAMvF,GACJ,MAAT+lD,EACFxgD,EAAM+0D,OAAOt6D,EAAG,GACE,OAAT+lD,GACTxgD,EAAM+0D,OAAOt6D,EAAG,GAChBq6D,KACSA,IACT90D,EAAM+0D,OAAOt6D,EAAG,GAChBq6D,KAKJ,GAAID,EACF,KAAOC,IAAMA,EACX90D,EAAMg1D,QAAQ,MAIlB,OAAOh1D,EAmJT,SAASi1D,EAASh4D,GACI,kBAATA,IAAmBA,GAAc,IAE5C,IAGIxC,EAHAqyC,EAAQ,EACRE,GAAO,EACPkoB,GAAe,EAGnB,IAAKz6D,EAAIwC,EAAKsE,OAAS,EAAG9G,GAAK,IAAKA,EAClC,GAA2B,KAAvBwC,EAAKk4D,WAAW16D,IAGhB,IAAKy6D,EAAc,CACjBpoB,EAAQryC,EAAI,EACZ,YAEgB,IAATuyC,IAGXkoB,GAAe,EACfloB,EAAMvyC,EAAI,GAId,OAAa,IAATuyC,EAAmB,GAChB/vC,EAAKqH,MAAMwoC,EAAOE,GA8D3B,SAASjgC,EAAQqoD,EAAI5rC,GACjB,GAAI4rC,EAAGroD,OAAQ,OAAOqoD,EAAGroD,OAAOyc,GAEhC,IADA,IAAIrU,EAAM,GACD1a,EAAI,EAAGA,EAAI26D,EAAG7zD,OAAQ9G,IACvB+uB,EAAE4rC,EAAG36D,GAAIA,EAAG26D,IAAKjgD,EAAIxQ,KAAKywD,EAAG36D,IAErC,OAAO0a,EA3OX5a,EAAQ+mB,QAAU,WAIhB,IAHA,IAAI+zC,EAAe,GACfC,GAAmB,EAEd76D,EAAIkgB,UAAUpZ,OAAS,EAAG9G,IAAM,IAAM66D,EAAkB76D,IAAK,CACpE,IAAIwC,EAAQxC,GAAK,EAAKkgB,UAAUlgB,GAAK86D,EAAQC,MAG7C,GAAoB,kBAATv4D,EACT,MAAM,IAAI0c,UAAU,6CACV1c,IAIZo4D,EAAep4D,EAAO,IAAMo4D,EAC5BC,EAAsC,MAAnBr4D,EAAKqM,OAAO,IAWjC,OAJA+rD,EAAeT,EAAe7nD,EAAOsoD,EAAap1D,MAAM,MAAM,SAAS1D,GACrE,QAASA,MACN+4D,GAAkBl7C,KAAK,MAEnBk7C,EAAmB,IAAM,IAAMD,GAAiB,KAK3D96D,EAAQk7D,UAAY,SAASx4D,GAC3B,IAAIy4D,EAAan7D,EAAQm7D,WAAWz4D,GAChC04D,EAAqC,MAArBC,EAAO34D,GAAO,GAclC,OAXAA,EAAO23D,EAAe7nD,EAAO9P,EAAKgD,MAAM,MAAM,SAAS1D,GACrD,QAASA,MACNm5D,GAAYt7C,KAAK,KAEjBnd,GAASy4D,IACZz4D,EAAO,KAELA,GAAQ04D,IACV14D,GAAQ,MAGFy4D,EAAa,IAAM,IAAMz4D,GAInC1C,EAAQm7D,WAAa,SAASz4D,GAC5B,MAA0B,MAAnBA,EAAKqM,OAAO,IAIrB/O,EAAQ6f,KAAO,WACb,IAAIy7C,EAAQxxD,MAAMhI,UAAUiI,MAAM1J,KAAK+f,UAAW,GAClD,OAAOpgB,EAAQk7D,UAAU1oD,EAAO8oD,GAAO,SAASt5D,EAAG0I,GACjD,GAAiB,kBAAN1I,EACT,MAAM,IAAIod,UAAU,0CAEtB,OAAOpd,KACN6d,KAAK,OAMV7f,EAAQu7D,SAAW,SAASt7C,EAAME,GAIhC,SAAS6lB,EAAKw1B,GAEZ,IADA,IAAIjpB,EAAQ,EACLA,EAAQipB,EAAIx0D,OAAQurC,IACzB,GAAmB,KAAfipB,EAAIjpB,GAAe,MAIzB,IADA,IAAIE,EAAM+oB,EAAIx0D,OAAS,EAChByrC,GAAO,EAAGA,IACf,GAAiB,KAAb+oB,EAAI/oB,GAAa,MAGvB,OAAIF,EAAQE,EAAY,GACjB+oB,EAAIzxD,MAAMwoC,EAAOE,EAAMF,EAAQ,GAfxCtyB,EAAOjgB,EAAQ+mB,QAAQ9G,GAAMo7C,OAAO,GACpCl7C,EAAKngB,EAAQ+mB,QAAQ5G,GAAIk7C,OAAO,GAsBhC,IALA,IAAII,EAAYz1B,EAAK/lB,EAAKva,MAAM,MAC5Bg2D,EAAU11B,EAAK7lB,EAAGza,MAAM,MAExBsB,EAASqC,KAAKE,IAAIkyD,EAAUz0D,OAAQ00D,EAAQ10D,QAC5C20D,EAAkB30D,EACb9G,EAAI,EAAGA,EAAI8G,EAAQ9G,IAC1B,GAAIu7D,EAAUv7D,KAAOw7D,EAAQx7D,GAAI,CAC/By7D,EAAkBz7D,EAClB,MAIJ,IAAI07D,EAAc,GAClB,IAAS17D,EAAIy7D,EAAiBz7D,EAAIu7D,EAAUz0D,OAAQ9G,IAClD07D,EAAYxxD,KAAK,MAKnB,OAFAwxD,EAAcA,EAAYpxD,OAAOkxD,EAAQ3xD,MAAM4xD,IAExCC,EAAY/7C,KAAK,MAG1B7f,EAAQ67D,IAAM,IACd77D,EAAQ87D,UAAY,IAEpB97D,EAAQm6D,QAAU,SAAUz3D,GAE1B,GADoB,kBAATA,IAAmBA,GAAc,IACxB,IAAhBA,EAAKsE,OAAc,MAAO,IAK9B,IAJA,IAAIsyD,EAAO52D,EAAKk4D,WAAW,GACvBmB,EAAmB,KAATzC,EACV7mB,GAAO,EACPkoB,GAAe,EACVz6D,EAAIwC,EAAKsE,OAAS,EAAG9G,GAAK,IAAKA,EAEtC,GADAo5D,EAAO52D,EAAKk4D,WAAW16D,GACV,KAATo5D,GACA,IAAKqB,EAAc,CACjBloB,EAAMvyC,EACN,YAIJy6D,GAAe,EAInB,OAAa,IAATloB,EAAmBspB,EAAU,IAAM,IACnCA,GAAmB,IAARtpB,EAGN,IAEF/vC,EAAKqH,MAAM,EAAG0oC,IAiCvBzyC,EAAQ06D,SAAW,SAAUh4D,EAAMs5D,GACjC,IAAI/sC,EAAIyrC,EAASh4D,GAIjB,OAHIs5D,GAAO/sC,EAAEosC,QAAQ,EAAIW,EAAIh1D,UAAYg1D,IACvC/sC,EAAIA,EAAEosC,OAAO,EAAGpsC,EAAEjoB,OAASg1D,EAAIh1D,SAE1BioB,GAGTjvB,EAAQi8D,QAAU,SAAUv5D,GACN,kBAATA,IAAmBA,GAAc,IAQ5C,IAPA,IAAIw5D,GAAY,EACZC,EAAY,EACZ1pB,GAAO,EACPkoB,GAAe,EAGfyB,EAAc,EACTl8D,EAAIwC,EAAKsE,OAAS,EAAG9G,GAAK,IAAKA,EAAG,CACzC,IAAIo5D,EAAO52D,EAAKk4D,WAAW16D,GAC3B,GAAa,KAATo5D,GASS,IAAT7mB,IAGFkoB,GAAe,EACfloB,EAAMvyC,EAAI,GAEC,KAATo5D,GAEkB,IAAd4C,EACFA,EAAWh8D,EACY,IAAhBk8D,IACPA,EAAc,IACK,IAAdF,IAGTE,GAAe,QArBb,IAAKzB,EAAc,CACjBwB,EAAYj8D,EAAI,EAChB,OAuBR,OAAkB,IAAdg8D,IAA4B,IAATzpB,GAEH,IAAhB2pB,GAEgB,IAAhBA,GAAqBF,IAAazpB,EAAM,GAAKypB,IAAaC,EAAY,EACjE,GAEFz5D,EAAKqH,MAAMmyD,EAAUzpB,IAa9B,IAAI4oB,EAA6B,MAApB,KAAKA,QAAQ,GACpB,SAAUgB,EAAK9pB,EAAO+pB,GAAO,OAAOD,EAAIhB,OAAO9oB,EAAO+pB,IACtD,SAAUD,EAAK9pB,EAAO+pB,GAEpB,OADI/pB,EAAQ,IAAGA,EAAQ8pB,EAAIr1D,OAASurC,GAC7B8pB,EAAIhB,OAAO9oB,EAAO+pB,M,gCC1SjC,IAOIC,EACAC,EARAxB,EAAU/6D,EAAOD,QAAU,GAU/B,SAASy8D,IACL,MAAM,IAAI9uD,MAAM,mCAEpB,SAAS+uD,IACL,MAAM,IAAI/uD,MAAM,qCAsBpB,SAASgvD,EAAWC,GAChB,GAAIL,IAAqBxuD,WAErB,OAAOA,WAAW6uD,EAAK,GAG3B,IAAKL,IAAqBE,IAAqBF,IAAqBxuD,WAEhE,OADAwuD,EAAmBxuD,WACZA,WAAW6uD,EAAK,GAE3B,IAEI,OAAOL,EAAiBK,EAAK,GAC/B,MAAM9tC,GACJ,IAEI,OAAOytC,EAAiBl8D,KAAK,KAAMu8D,EAAK,GAC1C,MAAM9tC,GAEJ,OAAOytC,EAAiBl8D,KAAK8D,KAAMy4D,EAAK,KAMpD,SAASC,EAAgBC,GACrB,GAAIN,IAAuBj2C,aAEvB,OAAOA,aAAau2C,GAGxB,IAAKN,IAAuBE,IAAwBF,IAAuBj2C,aAEvE,OADAi2C,EAAqBj2C,aACdA,aAAau2C,GAExB,IAEI,OAAON,EAAmBM,GAC5B,MAAOhuC,GACL,IAEI,OAAO0tC,EAAmBn8D,KAAK,KAAMy8D,GACvC,MAAOhuC,GAGL,OAAO0tC,EAAmBn8D,KAAK8D,KAAM24D,MAjEhD,WACG,IAEQP,EADsB,oBAAfxuD,WACYA,WAEA0uD,EAEzB,MAAO3tC,GACLytC,EAAmBE,EAEvB,IAEQD,EADwB,oBAAjBj2C,aACcA,aAEAm2C,EAE3B,MAAO5tC,GACL0tC,EAAqBE,IAjB7B,GAwEA,IAEIK,EAFAvb,EAAQ,GACRwb,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaD,IAGlBC,GAAW,EACPD,EAAa/1D,OACbw6C,EAAQub,EAAavyD,OAAOg3C,GAE5Byb,GAAc,EAEdzb,EAAMx6C,QACNm2D,KAIR,SAASA,IACL,IAAIH,EAAJ,CAGA,IAAI/Q,EAAU0Q,EAAWO,GACzBF,GAAW,EAEX,IAAIV,EAAM9a,EAAMx6C,OAChB,MAAMs1D,EAAK,CACPS,EAAevb,EACfA,EAAQ,GACR,QAASyb,EAAaX,EACdS,GACAA,EAAaE,GAAYG,MAGjCH,GAAc,EACdX,EAAM9a,EAAMx6C,OAEhB+1D,EAAe,KACfC,GAAW,EACXH,EAAgB5Q,IAiBpB,SAASoR,EAAKT,EAAKpE,GACfr0D,KAAKy4D,IAAMA,EACXz4D,KAAKq0D,MAAQA,EAYjB,SAAS8E,KA5BTtC,EAAQuC,SAAW,SAAUX,GACzB,IAAIvxC,EAAO,IAAIvhB,MAAMsW,UAAUpZ,OAAS,GACxC,GAAIoZ,UAAUpZ,OAAS,EACnB,IAAK,IAAI9G,EAAI,EAAGA,EAAIkgB,UAAUpZ,OAAQ9G,IAClCmrB,EAAKnrB,EAAI,GAAKkgB,UAAUlgB,GAGhCshD,EAAMp3C,KAAK,IAAIizD,EAAKT,EAAKvxC,IACJ,IAAjBm2B,EAAMx6C,QAAiBg2D,GACvBL,EAAWQ,IASnBE,EAAKv7D,UAAUs7D,IAAM,WACjBj5D,KAAKy4D,IAAIn1C,MAAM,KAAMtjB,KAAKq0D,QAE9BwC,EAAQvlD,MAAQ,UAChBulD,EAAQwC,SAAU,EAClBxC,EAAQplD,IAAM,GACdolD,EAAQyC,KAAO,GACfzC,EAAQ7nC,QAAU,GAClB6nC,EAAQ0C,SAAW,GAInB1C,EAAQ/rD,GAAKquD,EACbtC,EAAQ2C,YAAcL,EACtBtC,EAAQhtD,KAAOsvD,EACftC,EAAQ4C,IAAMN,EACdtC,EAAQ6C,eAAiBP,EACzBtC,EAAQ8C,mBAAqBR,EAC7BtC,EAAQ+C,KAAOT,EACftC,EAAQgD,gBAAkBV,EAC1BtC,EAAQiD,oBAAsBX,EAE9BtC,EAAQkD,UAAY,SAAUz9D,GAAQ,MAAO,IAE7Cu6D,EAAQmD,QAAU,SAAU19D,GACxB,MAAM,IAAIkN,MAAM,qCAGpBqtD,EAAQC,IAAM,WAAc,MAAO,KACnCD,EAAQoD,MAAQ,SAAUC,GACtB,MAAM,IAAI1wD,MAAM,mCAEpBqtD,EAAQsD,MAAQ,WAAa,OAAO,I,uUClLpC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUM3K,E,kKAgCJ,IAAMhrC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQywD,YAChCrF,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,4BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQywD,aAC3B,wBAAC,UAAD,CAAYn8D,OAAO,4B,GA3Cca,UAAMG,WAArCuwD,EASEhoD,aAAe,CACrB9H,QAAS,iBAVL8vD,EAqBElyD,IAAM,c,WA4BC,cACd,cAAoB,aAAmBkyD,M,uUCjExC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAgCJ,IAAMjrC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ0wD,UAChCtF,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,0BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ0wD,WAC3B,wBAAC,UAAD,CAAYp8D,OAAO,0B,GA3CYa,UAAMG,WAAnCwwD,EASEjoD,aAAe,CACrB9H,QAAS,eAVL+vD,EAqBEnyD,IAAM,Y,WA4BC,cACd,cAAoB,aAAmBmyD,M,uUCjExC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAgCJ,IAAMlrC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ2wD,WAChCvF,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,2BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ2wD,YAC3B,wBAAC,UAAD,CAAYr8D,OAAO,2B,GA3Caa,UAAMG,WAApCywD,EASEloD,aAAe,CACrB9H,QAAS,gBAVLgwD,EAqBEpyD,IAAM,a,WA4BC,cACd,cAAoB,aAAmBoyD,M,uUCjExC,O,OAEA,O,OACA,O,OACA,Q,w5BAOMC,E,YAaL,WAAYvwD,GAAO,oFACZA,IADY,SA+CnBm7D,YAAc,WACb,EAAKC,UAAU5yD,QAAQ6yD,SAhDL,EAmEnBC,eAAiB,WAChB,IAAMC,EAAU,EAAKH,UAAU5yD,QAI/B,GAAK+yD,EAAQC,MAAM/3D,OAAnB,CAIA,IAAMg4D,EAAS,IAAIC,WACbC,EAAOJ,EAAQC,MAAM,GAE3BC,EAAO/4C,OAAP,4CAAgB,WAAMrf,GAAN,kGACTtE,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEjCuqB,EAAShpB,EAAOwB,KAAK,iBAAkB,CAC5Cq7D,WAAYD,KAGT5zC,EAPW,2CASM,IAAAhG,UAAS1e,EAAME,OAAOwkB,OAAQ4zC,EAAKt3D,MATzC,OASPhE,EATO,OAWPoe,EAAKlc,SAAS2R,IAAI1O,QAAQkZ,eAArB,aACEre,EADF,MAIXtB,EAAO4f,cAAcF,GAErB1f,EAAOwB,KAAK,kBAAZ,GAEMs7D,EAAY,CACjBp9C,KACAk9C,QAGD58D,EAAOwB,KAAK,WAAYs7D,GAxBX,qDA2Bb95D,QAAQ+5D,KAAR,uCA3Ba,uDAAhB,sDAgCAL,EAAOM,cAAcJ,GAErBJ,EAAQ39D,MAAQ,KA/GhB,EAAKw9D,UAAY17D,UAAM6I,YAFL,E,kDAclB,IAAMyzD,EAAY,CAACvW,QAAS,QAE5B,OACC,mCACC,kCACC1zC,aAAYvI,YAAYe,QAAQ+Q,MAChC1c,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKu6D,YACdlzD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ+Q,OAC3B,wBAAC,UAAD,CAAYzc,OAAO,oBAGpB,iCACCo9D,OAAO,UACPrpD,SAAUhS,KAAK06D,eACfr7D,IAAKW,KAAKw6D,UACVn5D,MAAO+5D,EACP33D,KAAK,c,GA9CgB3E,UAAMG,WAA1B0wD,EACE/vD,YAAcf,UADhB8wD,EAWEryD,IAAM,gB,UAuHCqyD,G,uUC7If,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAgCJ,IAAMprC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ2xD,OAChCvG,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,sBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ2xD,QAC3B,wBAAC,UAAD,CAAYr9D,OAAO,qB,GA3CSa,UAAMG,WAAhC2wD,EASEpoD,aAAe,CACrB9H,QAAS,UAVLkwD,EAqBEtyD,IAAM,c,WA4BC,cACd,cAAoB,aAAmBsyD,M,uUCjExC,O,OAEA,O,OACA,Q,OACA,O,OACA,O,OACA,O,6nBAWMC,E,kKAsCJ,IAAMrrC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ4xD,OAChCxG,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,gBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ4xD,QAC3B,wBAAC,UAAD,CAAYt9D,OAAO,gB,GAjDIa,UAAMG,WAA3B4wD,EASEroD,aAAe,CACrB9H,QAAS,SACT8G,UAAW,CACVI,GAAI,cACJ9C,KAAMnC,SAASgjB,KAAO,GACtBroB,KAAM,UAEP+E,MAAO,qBAhBHwuD,EA2BEvyD,IAAM,S,WA4BC,cACd,cAAgB,cAAmB,aAAYuyD,O,uUCzEhD,O,OAEA,O,OACA,O,6nBAMMC,E,mNAqBL0L,aAAe,WACd,EAAKh8D,YAAY,O,6DAdjB,OACC,kCACC2R,aAAYvI,YAAYe,QAAQyV,MAChCphB,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKw7D,aACdn0D,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyV,OAC3B,wBAAC,UAAD,CAAYnhB,OAAO,e,GAhBea,UAAMG,WAAtC6wD,EACEtoD,aAAe,CACrB9H,QAAS,iBAFLowD,EAKExyD,IAAM,Q,WAqBC,aAAcwyD,I,uUCnC7B,O,OAEA,O,OACA,O,6nBAMMC,E,mNAqBLyL,aAAe,WACd,EAAKh8D,YAAY,O,6DAdjB,OACC,kCACC2R,aAAYvI,YAAYe,QAAQ+Q,MAChC1c,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKw7D,aACdn0D,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ+Q,OAC3B,wBAAC,UAAD,CAAYzc,OAAO,iB,GAhBea,UAAMG,WAAtC8wD,EACEvoD,aAAe,CACrB9H,QAAS,iBAFLqwD,EAKEzyD,IAAM,Q,WAqBC,aAAcyyD,I,uUCnC7B,O,OAEA,O,OACA,O,6nBAMMC,E,mNAqBLwL,aAAe,WACd,EAAKh8D,YAAY,O,6DAdjB,OACC,kCACC2R,aAAYvI,YAAYe,QAAQwV,MAChCnhB,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKw7D,aACdn0D,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQwV,OAC3B,wBAAC,UAAD,CAAYlhB,OAAO,e,GAhBea,UAAMG,WAAtC+wD,EACExoD,aAAe,CACrB9H,QAAS,iBAFLswD,EAKE1yD,IAAM,Q,WAqBC,aAAc0yD,I,uUCnC7B,O,OACA,O,OAEA,Q,OACA,Q,OACA,Q,OACA,Q,6nBAUMC,E,kKAmCJ,OAAIjwD,KAAKZ,MAAMmP,iBACdvO,KAAKZ,MAAQY,KAAK0kB,sBAEX,wBAAC,UAAyB1kB,KAAKZ,QAE/B,wBAAC,UAAeY,KAAKZ,S,0CAW7BY,KAAKZ,MAAM+O,iBAAiB8hD,EAAiB3yD,S,GAnDhBwB,UAAMG,WAA/BgxD,EACEzoD,aAAe,CACrBhB,UAAW,CACVI,GAAI,oBACJ9C,KAAMnC,SAASgjB,KAAO,GACtBroB,KAAM,eALH2zD,EASE3yD,IAAM,aATR2yD,EAWEhqC,UAAY,CAMlB7d,MAAO8d,UAAUqtC,OAQjBlsD,SAAU6e,UAAUmjB,Q,WA8BP,cAAY,aAAgB4mB,K,uUCvE3C,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMwL,E,kKAmCJ,IAAMj3C,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ+xD,aAChC3G,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,YACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ+xD,cAC3B,wBAAC,UAAD,CAAYz9D,OAAO,iB,GA9CSa,UAAMG,WAAhCw8D,EASEj0D,aAAe,CACrB9H,QAAS,eACT2B,MAAO,CACNuD,QAAS,OAZN62D,EAwBEn+D,IAAM,K,WA4BC,cACd,cAAmB,aAAYm+D,M,uUCpEhC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMtL,E,kKAgCJ,IAAM3rC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQgyD,QAChC5G,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,uBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQgyD,SAC3B,wBAAC,UAAD,CAAY19D,OAAO,qB,GA3CUa,UAAMG,WAAjCkxD,EASE3oD,aAAe,CACrB9H,QAAS,WAVLywD,EAqBE7yD,IAAM,e,WA4BC,cACd,cAAoB,aAAmB6yD,M,uUCjExC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAWME,E,kKAgCJ,IAAM7rC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ0wD,UAChCtF,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,8BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ0wD,WAC3B,wBAAC,UAAD,CAAYp8D,OAAO,oB,GA3CgBa,UAAMG,WAAvCoxD,EASE7oD,aAAe,CACrB9H,QAAS,eAVL2wD,EAqBE/yD,IAAM,gB,WA4BC,cACd,cAAoB,aAAmB+yD,M,uUClExC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAgCJ,IAAM9rC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ2wD,WAChCvF,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,+BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ2wD,YAC3B,wBAAC,UAAD,CAAYr8D,OAAO,qB,GA3CiBa,UAAMG,WAAxCqxD,EASE9oD,aAAe,CACrB9H,QAAS,gBAVL4wD,EAqBEhzD,IAAM,iB,WA4BC,cACd,cAAoB,aAAmBgzD,M,uUCjExC,O,OAEA,O,OACA,Q,OACA,O,6nBAOMF,E,kKAcJ,IAAIwL,SACAC,SAEA77D,KAAKZ,MAAMwO,WACdiuD,EAAuBzL,EAAqB9yD,IAAM,OAClDs+D,EACC,wBAAC,UAAD,CACC5zD,SAAUhI,KAAK87D,eACfC,aAAa,EACbj0D,OAAQ+zD,EACRj4D,UAAW5D,KAAKZ,MAAM+N,kBAKzB,IAAMhP,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCo/D,EAAgBh8D,KAAK87D,eACzBztD,QAAO,SAAA4tD,GACP,IAAMv8D,EAAUvB,EAAO4D,WAAWk6D,EAAUv8D,SAE5C,QAAOA,GAAUA,EAAQsC,QAAUL,SAASM,eAE5CwpB,OACEzrB,KAAK87D,eAAe,GAElBI,EAAgBF,EAAc3zD,KAEpC,OACC,+BAAKrK,UAAU,sEACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAY6qD,EAAc5zD,MAC1B+zD,YAAWN,EACX79D,UAAU,qBACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyyD,KAC3B,+BAAKp+D,UAAU,gBACd,wBAAC,UAAD,CAAYC,OAAQi+D,IACpB,wBAAC,UAAD,CAAYj+D,OAAO,mBAGpB29D,K,qCAgBH,OACC57D,KAAKZ,MAAM4I,UAAY,CACtB,CACCtI,QAAS,cACT2I,KAAM,aACND,MAAOQ,YAAYe,QAAQ0wD,WAE5B,CACC36D,QAAS,gBACT2I,KAAM,eACND,MAAOQ,YAAYe,QAAQywD,aAE5B,CACC16D,QAAS,eACT2I,KAAM,cACND,MAAOQ,YAAYe,QAAQ2wD,YAE5B,CACC56D,QAAS,eACT2I,KAAM,gBACND,MAAOQ,YAAYe,QAAQ0yD,mB,GA9FGv9D,UAAMG,WAAnCmxD,EACExwD,YAAcf,UADhBuxD,EAGE9yD,IAAM,iB,UAkGC8yD,G,uUChHf,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMG,E,kKAgCJ,IAAM/rC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQywD,YAChCrF,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,0BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQywD,aAC3B,wBAAC,UAAD,CAAYn8D,OAAO,sB,GA3Caa,UAAMG,WAApCsxD,EASE/oD,aAAe,CACrB9H,QAAS,iBAVL6wD,EAqBEjzD,IAAM,kB,WA4BC,cACd,cAAoB,aAAmBizD,M,uUCjExC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAgCJ,IAAMhsC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ0yD,aAChCtH,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,2BACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ0yD,cAC3B,wBAAC,UAAD,CAAYp+D,OAAO,uB,GA3Cca,UAAMG,WAArCuxD,EASEhpD,aAAe,CACrB9H,QAAS,gBAVL8wD,EAqBElzD,IAAM,mB,WA4BC,cACd,cAAoB,aAAmBkzD,M,uUCjExC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAmCJ,IAAMjsC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ2yD,MAChCvH,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,eACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ2yD,OAC3B,wBAAC,UAAD,CAAYr+D,OAAO,qB,GA9CGa,UAAMG,WAA1BwxD,EASEjpD,aAAe,CACrB9H,QAAS,aACT2B,MAAO,CACNuD,QAAS,eAZN6rD,EAwBEnzD,IAAM,Q,WA4BC,cAAc,cAAmB,aAAYmzD,M,uUCnE5D,O,OAEA,O,OACA,O,6nBAQMC,E,kKAgCJ,OACC,kCACCv/C,aAAYvI,YAAYe,QAAQ4yD,aAChCv+D,UAAU,YACVoiB,YAAU,sBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ4yD,cAC3B,wBAAC,UAAD,CAAYt+D,OAAO,sB,GAxCUa,UAAMG,WAAjCyxD,EASElpD,aAAe,CACrB9H,QAAS,gBAVLgxD,EAqBEpzD,IAAM,e,WAyBC,aAAcozD,I,uUCzD7B,O,OAEA,O,OACA,O,6nBAQMC,E,kKAWJ,OACC,kCACCx/C,aAAYvI,YAAYe,QAAQ6yD,YAChCzH,gBAAc,EACd/2D,UAAU,YACVqT,QAASrR,KAAKR,YACd8R,MAAO1I,YAAYe,QAAQ6yD,aAC3B,wBAAC,UAAD,CAAYv+D,OAAO,sB,GAlBSa,UAAMG,WAAhC0xD,EACEnpD,aAAe,CACrB9H,QAAS,eAFLixD,EAKErzD,IAAM,c,WAmBC,aAAcqzD,I,8ECnC7B,W,0DAKA,SAASC,EAAgB6L,GACxB,OAAO,gCAAMz+D,UAAU,iBAWxB4yD,EAAgBtzD,IAAM,Y,UAEPszD,G,uUCnBf,O,OACA,O,OAEA,O,OACA,O,OACA,Q,6nBAOMC,E,kKAoEI,WACJ6L,EAAgB,OAEdC,EAAW38D,KAAK48D,eAEtBD,EAAS92D,SAAQ,SAAAC,GACZ,EAAK+sD,aAAa/sD,EAAKzE,SAC1Bq7D,EAAgB52D,EAAKxJ,SAPf,MAW6C0D,KAAKZ,MAAnDjB,EAXC,EAWDA,OAAQyP,EAXP,EAWOA,SAAUvG,EAXjB,EAWiBA,SAAU8F,EAX3B,EAW2BA,eAE7B2lD,EAAoB,CACzBzlD,YAAaqvD,EACbv+D,SACAyF,UAAWuJ,EACXD,sBAAsB,EACtBR,OAAQiwD,GAGT,OACC,+BAAK3+D,UAAU,4DACd,kCACC4lB,gBAAehW,EACf5P,UAAU,qBACVqT,QAASlE,EACT7F,KAAK,WACLD,SAAUA,GACV,oCACC,wBAAC,UAAD,CAAYpJ,OAAO,cADpB,IAGEy+D,IAGF9uD,GAAY,wBAAC,UAAqBklD,M,kCAK1B90D,GAAW,WAChBG,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCm2D,EAAc,CACnBnuD,QAAS,MACT8tD,WAAY,CACXC,MAAO30D,IAIHqD,EAAQ,IAAIM,SAASN,MAAM0xD,GAEjC50D,EAAO+N,eAAeC,OAEtBnM,KAAK48D,eAAe/2D,SAAQ,SAAAC,GACvB,EAAK+sD,aAAa/sD,EAAKzE,QAC1BlD,EAAOiO,YAAY,IAAIzK,SAASN,MAAMyE,EAAKzE,WAI7ClD,EAAO8N,WAAW5K,GAElBlD,EAAO+N,eAAeG,SAEtBlO,EAAOwB,KAAK,kBAAmBK,Q,mCAanB+yD,GACZ,IAAM30D,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEzCigE,GAAS,EAEPj7D,EAAcxD,EAAawD,cAUjC,OARIA,GAAeA,EAAYk7D,YAC9B/J,EAAYL,WAAWC,MAAMpxD,MAAM,KAAKsE,SAAQ,SAAA7H,GAC/C6+D,EAASA,GAAUj7D,EAAYk7D,YAAYvnD,SAASvX,MAGrD6+D,GAAS,EAGHA,I,qCAiBP,OACC78D,KAAKZ,MAAMsN,QAAU,CACpB,CACCpQ,KAAM,OACN+E,MAAO,CACNuD,QAAS,MACT8tD,WAAY,CACXC,MAAO,IAERlvD,KAAM,GAEP6J,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,KAEtC,CACC1D,KAAM,OACN+E,MAAO,CACNuD,QAAS,MACT8tD,WAAY,CACXC,MAAO,aAERlvD,KAAM,GAEP6J,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAM,OACN+E,MAAO,CACNuD,QAAS,MACT8tD,WAAY,CACXC,MAAO,aAERlvD,KAAM,GAEP6J,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAM,OACN+E,MAAO,CACNuD,QAAS,MACT8tD,WAAY,CACXC,MAAO,aAERlvD,KAAM,GAEP6J,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAM,OACN+E,MAAO,CACNuD,QAAS,MACT8tD,WAAY,CACXC,MAAO,aAERlvD,KAAM,GAEP6J,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,cAEtC,CACC1D,KAAM,OACN+E,MAAO,CACNuD,QAAS,MACT8tD,WAAY,CACXC,MAAO,aAERlvD,KAAM,GAEP6J,QAAStN,KAAKgzD,YAAYz1D,KAAKyC,KAAM,mB,GAnPdlB,UAAMG,WAA5B4xD,EACEjxD,YAAcf,UADhBgyD,EAGEvzD,IAAM,UAHRuzD,EAKE5qC,UAAY,CAQlBrY,SAAUsY,UAAUotC,KASpBlrD,MAAO8d,UAAUqtC,OASjBrmD,qBAAsBgZ,UAAUotC,KAShC5mD,OAAQwZ,UAAUstC,QAAQttC,UAAUzoB,QAUpC4J,SAAU6e,UAAUmjB,OASpBl8B,eAAgB+Y,UAAUyF,M,UA+LbklC,G,uUCtQf,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUMC,E,kKAgCJ,IAAMtsC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQozD,OAChChI,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,gBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQozD,QAC3B,wBAAC,UAAD,CAAY9+D,OAAO,uB,GA3CIa,UAAMG,WAA3B6xD,EASEtpD,aAAe,CACrB9H,QAAS,SACT2B,MAAO,qBAXHyvD,EAsBExzD,IAAM,S,WA2BC,cAAc,cAAmB,aAAYwzD,M,uUChE5D,O,OAEA,O,OACA,O,OACA,Q,6nBASME,E,kKAqBI,WACJ3jD,EAAczE,YAAYe,QAAQ6S,OAEhC9P,EAAS1M,KAAKg9D,aAEpBtwD,EAAO7G,SAAQ,SAAAC,GACV,EAAK+sD,aAAa/sD,EAAKzE,SAC1BgM,EAAcvH,EAAKxJ,SAIrB,IAAI2gE,SAaJ,OAXIj9D,KAAKZ,MAAMwO,WACdqvD,EACC,wBAAC,UAAD,CACC5vD,YAAaA,EACbzJ,UAAW5D,KAAKZ,MAAM+N,eACtBD,qBAAsBlN,KAAKZ,MAAM8N,qBACjCR,OAAQA,KAMV,+BAAK1O,UAAU,yCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAYvI,YAAYe,QAAQ+C,OAAS,IAAMW,EAC/CrP,UAAU,qBACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ+C,OAAS,IAAMW,GAC1C,+BAAKrP,UAAU,gBACd,gCAAMA,UAAU,uCACdqP,GAEF,wBAAC,UAAD,CAAYpP,OAAO,mBAGpBg/D,K,mCAeSlK,GACZ,IAAM30D,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAI7Cm2D,EAAcpxD,SAAS+L,MAAMC,MAAM,CAAC/I,QAAS,QAASmuD,GAEtD,IAAM1xD,EAAQ,IAAIM,SAASN,MAAM0xD,GAEjC,OAAO1xD,EAAMS,YAAY1D,EAAawD,cAAexD,K,mCAgBrD,OACC4B,KAAKZ,MAAMsN,QAAU,CACpB,CACCpQ,KAAMsM,YAAYe,QAAQgsD,GAC1Bt0D,MAAO,CACNuD,QAAS,OAGX,CACCtI,KAAMsM,YAAYe,QAAQisD,GAC1Bv0D,MAAO,CACNuD,QAAS,OAGX,CACCtI,KAAMsM,YAAYe,QAAQuzD,UAC1B77D,MAAO,CACNuD,QAAS,QAGX,CACCtI,KAAMsM,YAAYe,QAAQwzD,KAC1B97D,MAAO,CACNuD,QAAS,SAGX,CACCtI,KAAMsM,YAAYe,QAAQwrD,KAC1B9zD,MAAO,CACNuD,QAAS,c,GAnIY9F,UAAMG,WAA3B+xD,EACEpxD,YAAcf,UADhBmyD,EAWE1zD,IAAM,S,UAgIC0zD,G,uUCxJf,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAWMC,E,kKAiCJ,IAAMzsC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQyzD,UAChCrI,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,mBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyzD,WAC3B,wBAAC,UAAD,CAAYn/D,OAAO,mB,GA5COa,UAAMG,WAA9BgyD,EASEzpD,aAAe,CACrB9H,QAAS,YACT2B,MAAO,wBAXH4vD,EAsBE3zD,IAAM,Y,WA4BC,cAAc,cAAmB,aAAY2zD,M,uUClE5D,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAWMC,E,kKAiCJ,IAAM1sC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ0zD,YAChCtI,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,qBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ0zD,aAC3B,wBAAC,UAAD,CAAYp/D,OAAO,qB,GA5CSa,UAAMG,WAAhCiyD,EASE1pD,aAAe,CACrB9H,QAAS,cACT2B,MAAO,0BAXH6vD,EAsBE5zD,IAAM,c,WA4BC,cACd,cAAmB,aAAY4zD,M,uUCnEhC,O,OAEA,Q,OACA,O,6nBAOMC,E,kKAoBJ,IAAIyK,SACAC,SAaJ,OAXI77D,KAAKZ,MAAMwO,WACdiuD,EAAuB1K,EAAgB7zD,IAAM,OAC7Cs+D,EACC,wBAAC,UAAD,CACC5zD,SAAUhI,KAAK87D,eACfh0D,OAAQ+zD,EACRj4D,UAAW5D,KAAKZ,MAAM+N,kBAMxB,+BAAKnP,UAAU,gCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAYvI,YAAYe,QAAQ2zD,KAChCnB,YAAWN,EACX79D,UAAU,YACVqT,QAASrR,KAAKZ,MAAM+N,eACpB9F,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ2zD,MAC3B,wBAAC,UAAD,CAAYr/D,OAAO,cAEnB29D,K,qCAgBH,OACC57D,KAAKZ,MAAM4I,UAAY,CACtB,CACCtI,QAAS,mBACT0I,MAAOQ,YAAYe,QAAQ4zD,kBAE5B,CACC79D,QAAS,kBACT0I,MAAOQ,YAAYe,QAAQ6zD,iBAE5B,CACC99D,QAAS,aACT0I,MAAOQ,YAAYe,QAAQ8zD,YAE5B,CACC/9D,QAAS,YACT0I,MAAOQ,YAAYe,QAAQ+zD,WAE5B,CACCh+D,QAAS,gBACT0I,MAAOQ,YAAYe,QAAQg0D,eAE5B,CACCj+D,QAAS,iBACT0I,MAAOQ,YAAYe,QAAQi0D,gBAE5B,CACCl+D,QAAS,sBACT0I,MAAOQ,YAAYe,QAAQk0D,qBAE5B,CACCn+D,QAAS,oBACT0I,MAAOQ,YAAYe,QAAQm0D,wB,GA9FFh/D,UAAMG,WAA9BkyD,EASE7zD,IAAM,Y,UA4FC6zD,G,uUC/Gf,O,OAEA,Q,OACA,O,6nBAOMC,E,kKAoBJ,IAAIwK,SACAC,SAaJ,OAXI77D,KAAKZ,MAAMwO,WACdiuD,EAAuBzK,EAAkB9zD,IAAM,OAC/Cs+D,EACC,wBAAC,UAAD,CACC5zD,SAAUhI,KAAK87D,eACfh0D,OAAQ+zD,EACRj4D,UAAW5D,KAAKZ,MAAM+N,kBAMxB,+BAAKnP,UAAU,gCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAYvI,YAAYe,QAAQo0D,OAChC5B,YAAWN,EACX79D,UAAU,YACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,UACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQo0D,QAC3B,wBAAC,UAAD,CAAY9/D,OAAO,gBAEnB29D,K,qCAgBH,OACC57D,KAAKZ,MAAM4I,UAAY,CACtB,CACCtI,QAAS,qBACT0I,MAAOQ,YAAYe,QAAQq0D,oBAE5B,CACCt+D,QAAS,oBACT0I,MAAOQ,YAAYe,QAAQs0D,mBAE5B,CACCv+D,QAAS,eACT0I,MAAOQ,YAAYe,QAAQu0D,mB,GA3EAp/D,UAAMG,WAAhCmyD,EASE9zD,IAAM,c,UAyEC8zD,G,uUC5Ff,O,OAEA,O,OACA,Q,OACA,O,6nBAOMC,E,kKAsBJ,IAAIuK,SACAC,SAEA77D,KAAKZ,MAAMwO,WACdiuD,EAAuBxK,EAAmB/zD,IAAM,OAChDs+D,EACC,wBAAC,UAAD,CACC5zD,SAAUhI,KAAK87D,eACfh0D,OAAQ+zD,EACRj4D,UAAW5D,KAAKZ,MAAM+N,kBAKzB,IAAMgxD,EAAgB,IAAIx8D,SAAS0Y,MAClCra,KAAKV,QAAQnB,OAAOvB,IAAI,iBACvBwhE,aACIC,EAAqBz1D,YAAYe,QAAQ20D,QAAU,IACnDC,EACL31D,YAAYe,QAAQ,UAAYw0D,GAEjC,OACC,+BAAKngE,UAAU,4CACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAW,GACXnT,UAAU,qBACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAM,IACN,+BAAKtT,UAAU,gBACd,gCAAMA,UAAU,uCACdqgE,EAAoB,IACrB,sCAASE,IAEV,wBAAC,UAAD,CAAYtgE,OAAO,mBAGpB29D,K,qCAgBH,OACC57D,KAAKZ,MAAM4I,UAAY,CACtB,CACCtI,QAAS,mBACT0I,MAAOQ,YAAYe,QAAQ60D,aAE5B,CACC9+D,QAAS,kBACT0I,MAAOQ,YAAYe,QAAQ80D,YAE5B,CACC/+D,QAAS,qBACT0I,MAAOQ,YAAYe,QAAQ+0D,eAE5B,CACCh/D,QAAS,mBACT0I,MAAOQ,YAAYe,QAAQg1D,kB,GA7FC7/D,UAAMG,WAAjCoyD,EACEzxD,YAAcf,UADhBwyD,EAWE/zD,IAAM,e,UAyFC+zD,G,uUC/Gf,O,OAEA,O,OACA,O,6nBAOMC,E,mNA2CLsN,aAAe,WACd,IAAMzgE,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBACjCkoB,EAAa,IAAInjB,SAAS0Y,MAAMlc,GAEtC2mB,EAAWrV,SAEXtR,EAAOwB,KAAK,kBAAZ,I,6DA3BA,OACC,kCACCwR,aAAYvI,YAAYe,QAAQk1D,YAChC7gE,UAAU,YACVoiB,YAAU,sBACV/O,QAASrR,KAAK4+D,aACdv3D,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQk1D,aAC3B,wBAAC,UAAD,CAAY5gE,OAAO,e,GA9BSa,UAAMG,WAAhCqyD,EACE1xD,YAAcf,UADhByyD,EAWEh0D,IAAM,c,UA0CCg0D,G,uUC/Df,O,OAEA,Q,OACA,O,6nBAOMC,E,kKAoBJ,IAAIqK,SACAC,SAaJ,OAXI77D,KAAKZ,MAAMwO,WACdiuD,EAAuBtK,EAAej0D,IAAM,OAC5Cs+D,EACC,wBAAC,UAAD,CACC5zD,SAAUhI,KAAK87D,eACfh0D,OAAQ+zD,EACRj4D,UAAW5D,KAAKZ,MAAM+N,kBAMxB,+BAAKnP,UAAU,gCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAYvI,YAAYe,QAAQyyD,IAChCD,YAAWN,EACX79D,UAAU,YACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyyD,KAC3B,wBAAC,UAAD,CAAYn+D,OAAO,aAEnB29D,K,qCAgBH,OACC57D,KAAKZ,MAAM4I,UAAY,CACtB,CACCtI,QAAS,kBACT0I,MAAOQ,YAAYe,QAAQm1D,iBAE5B,CACCp/D,QAAS,iBACT0I,MAAOQ,YAAYe,QAAQo1D,gBAE5B,CACCr/D,QAAS,YACT0I,MAAOQ,YAAYe,QAAQq1D,gB,GA3EHlgE,UAAMG,WAA7BsyD,EASEj0D,IAAM,W,UAyECi0D,G,uUC5Ff,O,OAEA,O,OACA,Q,6nBAWMC,E,kKAoBJ,OAAIxxD,KAAKZ,MAAMmP,gBACP,wBAAC,UAAoBvO,KAAKZ,OAGhC,kCACC+R,aAAYvI,YAAYe,QAAQyQ,MAChCpc,UAAU,YACVoiB,YAAU,eACV/O,QAASrR,KAAKZ,MAAM+O,iBACpB9G,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQyQ,OAC3B,wBAAC,UAAD,CAAYnc,OAAO,e,GA/BEa,UAAMG,WAA1BuyD,EASEl0D,IAAM,Q,UA6BCk0D,G,uUCpDf,O,OAEA,O,OACA,O,OACA,O,ynBAEA,IAAMyN,EAAmB,IASnBxN,E,mNAoBL8I,YAAc,WACb,IAAMp8D,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEjCyS,EAAY,IAAI1N,SAASoN,KAAK5Q,GAEhC,EAAK8B,WACRoP,EAAUI,OAAOJ,EAAUgD,oBAE3BhD,EAAUhS,OAAO,EAAK6hE,WAAY,CACjCvM,MAAO,kBACPhwD,OAAQ,WAIVxE,EAAOwB,KAAK,kBAAZ,I,+DAYA,IAAMyS,EAAO,IAAIzQ,SAASoN,KACzB/O,KAAKV,QAAQnB,OAAOvB,IAAI,iBACvByV,mBAEF,OACCD,IACmE,IAAnEA,EAAKpM,aAAa,QAAQ7C,QAAQ,8B,+BAanC,IAAMqhB,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQw1D,QAChCnhE,UAAWwmB,EACXpE,YAAU,iBACV/O,QAASrR,KAAKu6D,YACdlzD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQw1D,SAC3B,wBAAC,UAAD,CAAYlhE,OAAO,e,iCAgBrB,IAAMG,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBACvCwiE,EAAehhE,EACnB8N,eACAmzD,kBACAr9B,UAAU,EAAGi9B,GACTt/C,EAAM3f,KAAKZ,MAAMugB,IACjB2/C,EAAMt/D,KAAKZ,MAAMkgE,IACnBC,EACH,yCAA2CH,EAU5C,OARIz/C,IACH4/C,GAAe,QAAU5/C,GAGtB2/C,IACHC,GAAe,QAAUD,GAGnBC,M,GA7GmBzgE,UAAMG,WAA5BwyD,EACE7xD,YAAcf,UADhB4yD,EAWEn0D,IAAM,U,WAsGC,aAAmBm0D,I,uUChIlC,O,OAEA,O,OACA,O,OACA,O,OACA,O,6nBAUM+N,E,kKAmCJ,IAAMh7C,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ81D,aAChC1K,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,YACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ81D,cAC3B,wBAAC,UAAD,CAAYxhE,OAAO,iB,GA9CWa,UAAMG,WAAlCugE,EASEh4D,aAAe,CACrB9H,QAAS,eACT2B,MAAO,CACNuD,QAAS,OAZN46D,EAwBEliE,IAAM,K,WA4BC,cACd,cAAmB,aAAYkiE,M,uUCpEhC,O,OAEA,O,OACA,Q,OACA,O,OACA,O,OACA,O,6nBAWM7N,E,kKAsCJ,IAAMntC,EAAWA,aAAaxkB,KAAKykB,kBAEnC,OACC,kCACCtT,aAAYvI,YAAYe,QAAQ+1D,UAChC3K,gBAA+C,IAAjCvwC,EAASrhB,QAAQ,WAC/BnF,UAAWwmB,EACXpE,YAAU,mBACV/O,QAASrR,KAAKR,YACd6H,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO1I,YAAYe,QAAQ+1D,WAC3B,wBAAC,UAAD,CAAYzhE,OAAO,mB,GAjDOa,UAAMG,WAA9B0yD,EASEnqD,aAAe,CACrB9H,QAAS,YACT8G,UAAW,CACVI,GAAI,cACJ9C,KAAMnC,SAASgjB,KAAO,GACtBroB,KAAM,aAEP+E,MAAO,wBAhBHswD,EA2BEr0D,IAAM,Y,WA4BC,cACd,cAAgB,cAAmB,aAAYq0D,O,iLCzExChpC,W,qGACAA,W,+FACAA,W,iGACAA,W,6FACAA,W,oGACAA,W,6FACAA,W,gGACAA,W,gGACAA,W,gGACAA,W,iGACAA,W,oGACAA,W,uGACAA,W,mJACAA,Y,8ECbR,W,0DAiBA,IAAMg3C,EAAoB,CAQzB1zD,WARyB,WASxB,GAAInM,UAAKC,WAAWC,KAAKC,WAAaH,UAAKC,WAAWC,KAAK6B,UAAW,CACrE,IAAM1D,EAAS6B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBAErCuB,EAAO+N,eAAeC,OAElBnM,KAAKC,WACR9B,EAAOiO,YAAYpM,KAAK6B,YAExB1D,EAAO8N,WAAWjM,KAAK6B,YAGxB1D,EAAO+N,eAAeG,SAEtBlO,EAAOwB,KAAK,kBAAmBK,S,UAKnB2/D,G,8ECtCf,IAAMC,EAAsB,CAS3B3/D,SAT2B,WAU1B,IAAM9B,EAAS6B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBAE/B8C,EAAUvB,EAAO4D,WAAW/B,KAAKZ,MAAMM,SAE7C,QAAOA,GAAUA,EAAQsC,QAAUL,SAASM,c,UAI/B29D,G,8ECxBf,W,0DAOA,IAAMC,EAAgB,CAErB55C,UAAW,CAQVvmB,QAASwmB,UAAUqtC,OAAOY,WAS1B2L,kBAAmB55C,UAAUotC,MAW9B9zD,YA9BqB,SA8BTC,GACX,IAAMtB,EAAS6B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBAErCuB,EAAOqB,YAAYQ,KAAKZ,MAAMM,QAASD,GAEnCO,KAAKZ,MAAM0gE,mBACd3hE,EAAO4hE,iBAAgB,GAGxB5hE,EAAOwB,KAAK,kBAAmBK,Q,UAIlB6/D,G,8EClDf,W,OAEA,O,0DAQA,IAAMG,EAAkB,CAEvB/5C,UAAW,CAYVzf,UAAW0f,UAAUzoB,OAAO02D,YAU7B3Z,mBAxBuB,WAyBtB,IAAMp8C,EAAe4B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBACrC4J,EAAYxG,KAAKZ,MAAMoH,UAEvBC,EACLD,EAAUlK,OAA0B,IAAhB4I,KAAK6/B,WAAoB,GAAG5kC,WAE7CT,EAAUtB,EAAa2D,WAAW0E,GAEjC/G,IACJA,EAAU,IAAIiC,SAASjC,QAAQtB,EAAc,CAC5CsI,KAAM,SAASvI,GACd,IAAMwI,EAAcH,EAAUI,GAE1B9G,UAAKY,SAASiG,GACjB3G,KAAK2G,GAAazK,KAAK8D,KAAM7B,GACnB2B,UAAKC,WAAW4G,IAC1BA,EAAYzK,KAAK8D,KAAM7B,IAEvBZ,KAAKyC,QAGR5B,EAAayI,WAAWJ,EAAa/G,IAGtCM,KAAK8G,yBACJ1I,EAAa2I,iBAAiBC,WAAWR,EAAU1C,MAEpD1F,EAAa6I,aAAaT,EAAU1C,KAAM2C,IAU3Cg9C,qBA9DuB,WA+DtBzjD,KAAKZ,MAAMjB,OACTvB,IAAI,gBACJqK,aACAjH,KAAKZ,MAAMoH,UAAU1C,KACrB9D,KAAK8G,4B,UAKMk5D,G,8EClFf,W,OAEA,Q,0DAQA,IAAMC,EAAc,CAEnBh6C,UAAW,CAQV9nB,OAAQ+nB,UAAUzoB,OAAO02D,YAc1BzvC,oBAxBmB,SAwBCtlB,GACnBA,EAAQA,GAASY,KAAKZ,MAEtB,IAAMhB,EAAe4B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBACrCkW,EAAY1U,EAAaE,OAAOwU,WAAa,GAC7CqU,EAASxlB,SAAS+L,MAAMC,MAC7BvO,EACA0T,EAAUtE,UAAelR,MAG1B,OAAO6pB,I,UAIM84C,G,8EChDf,W,0DAYA,IAAMC,EAAqB,CAU1Bz7C,gBAV0B,WAWzB,IAAI5kB,EAAe,GAYnB,OATIC,UAAKC,WAAWC,KAAKC,WAAaD,KAAKC,aAC1CJ,GAAgB,qBAIbC,UAAKC,WAAWC,KAAK6qD,aAAe7qD,KAAK6qD,eAC5ChrD,GAAgB,uBAGVA,I,UAIMqgE,G,8ECvCf,W,OAEA,O,0DASA,IAAMC,EAAc,CAEnBl6C,UAAW,CAiBV5kB,MAAO6kB,UAAUwuC,UAAU,CAACxuC,UAAUzoB,OAAQyoB,UAAUqtC,SAUxDjmD,QAAS4Y,UAAUyF,MAWpB6uB,mBAxCmB,WAyClB,IAAIn5C,EAAQrB,KAAKZ,MAAMiC,MAEvB,GAAIvB,UAAKY,SAASW,GAAQ,CACzB,IAAMC,EAAQD,EAAME,MAAM,KACtBC,EAAgBxB,KAAKZ,MAAMjB,OAAOvB,IAAI,gBAAgB0B,OACtDZ,EAAW4D,EAAMG,QAErB,MACC/D,GACAoC,UAAKU,SAASgB,IACd1B,UAAKU,SAASgB,EAAc9D,IAE5B8D,EAAgBA,EAAc9D,GAC9BA,EAAW4D,EAAMG,QAGd3B,UAAKU,SAASgB,KACjBH,EAAQG,GAIVxB,KAAK0B,OAAS,IAAIC,SAASN,MAAMA,IAWlCoiD,qBAzEmB,WA0ElBzjD,KAAK0B,OAAS,MAYfG,SAtFmB,WAuFlB,OAAO7B,KAAK0B,QAWbzB,SAlGmB,WAmGlB,IAAM9B,EAAS6B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBAE/BgF,EAAczD,EAAOyD,cAE3B,OAAO5B,KAAK6B,WAAWC,YAAYF,EAAazD,K,UAInCgiE,G,8ECtHf,W,OAEA,O,0DASA,IAAMC,EAAiB,CAWtBC,uBAXsB,SAWCp1D,EAASqM,GAC/B,IAAM/E,EAAWvS,KAMjB,OAJIF,UAAKC,WAAWkL,KACnBA,EAAUA,EAAQ/O,KAAK8D,OAAS,IAG1BiL,EAAQC,QAAO,SAACqM,EAAMC,GAC5B,OAAI7R,MAAMzF,QAAQsX,IACjBD,EAAKtR,KAAKsM,EAASkF,kBAAkBD,EAAQF,IACtCC,GAEAhF,EAASkF,kBAAkBxM,EAASqM,KAE1C,KAcJG,kBAvCsB,SAuCJxM,EAASqM,GAC1B,IAAMI,EAAc,GAEdtZ,EAAe4B,KAAKZ,MAAMjB,OAAOvB,IAAI,gBACrCkW,EAAY1U,EAAaE,OAAOwU,WAAa,GAE/ChT,UAAKC,WAAWkL,KACnBA,EAAUA,EAAQ/O,KAAK8D,OAAS,IAGjC,IAAM2X,EAAiB3X,KAAK4X,gBAC3B3M,EACEoD,QAAO,SAAAmJ,GACP,OACCA,IACC5O,YAAY+C,QAAQ6L,IACpB5O,YAAY+C,QAAQ6L,EAAOlb,UAG7B4L,KAAI,SAAAsP,GAWJ,OAVI1X,UAAKY,SAAS8W,IACjBE,EAAYF,GAAU1E,EAAU0E,GAChCA,EAAS5O,YAAY+C,QAAQ6L,IACnB1X,UAAKY,SAAS8W,EAAOlb,QAC/Bob,EACC9O,YAAY+C,QAAQ6L,EAAOlb,MAAMgB,KAC9BqE,SAAS+L,MAAMC,MAAMmF,EAAU0E,GAASA,EAAOK,KACnDL,EAAS5O,YAAY+C,QAAQ6L,EAAOlb,OAG9Bkb,MAERtP,KAAI,SAASsP,EAAQjR,GACtB,IAAInH,EAAQY,KAAK8X,oBAChB,CACC3Z,OAAQ6B,KAAKZ,MAAMjB,OACnBb,IACgB,cAAfka,EAAOla,IACJka,EAAOla,IACJka,EAAOla,IAFb,IAEoBiJ,EACrBwR,OAAQP,EAAOla,IACf+J,SACCrH,KAAKZ,MAAM4Y,SACXhY,KAAKZ,MAAM4Y,QAAQ5Y,MAAM2Y,SAAWP,EAAOla,IACxC,GACC,EACL0a,QAAShY,KAAKZ,MAAM4Y,SAErBR,EAAOla,KAWR,OARA8B,EAAQY,KAAKuN,mBAAmBnO,EAAOoY,EAAOla,KAE1Cga,IACHlY,EAAQuC,SAAS+L,MAAMC,MAAMvO,EAAOkY,IAGrClY,EAAQuC,SAAS+L,MAAMC,MAAMvO,EAAOsY,EAAYF,EAAOla,MAEhDwB,UAAMmZ,cAAcT,EAAQpY,KACjCY,MAEH,OAAO2X,I,UAIMyoD,G,8ECpHf,W,0DAQA,IAAME,EAAiB,CAUtB93C,mBAVsB,WAWrB,IAAIvV,EAAkB,eAgBtB,OAbCnT,UAAKC,WAAWC,KAAKkT,sBACrBlT,KAAKkT,wBAGJlT,KAAKkT,sBAAsBvP,YAC3BhC,SAASwR,wBAETF,GAAmB,oBAEnBA,GAAmB,wBAIdA,I,UAIMqtD,G,8ECvCf,W,0DAOA,IAAMC,EAAiB,CAStBrmB,0BATsB,SASIsmB,GACzBxgE,KAAKgO,SAAS,CACbF,gBAAiB,KACjBD,aAAc,QAWhBkS,gBAvBsB,WAwBrB,MAAO,CACNjS,gBAAiB,KACjBD,aAAc,OAmBhBN,mBA7CsB,SA6CHC,EAAKC,GACvB,OAAO9L,SAAS+L,MAAMC,MAAMH,EAAK,CAChCI,SAAU5N,KAAKgC,MAAM6L,eAAiBJ,EACtCpG,SAAUrH,KAAKgC,MAAM8L,kBAAoBL,EAAU,GAAK,EACxDN,eAAgBnN,KAAKmN,eAAe5P,KAAKyC,KAAMyN,MAcjDN,eA/DsB,SA+DPU,EAAcE,GAC5B/N,KAAKgO,SACJ,CACCF,gBAAiBD,EACjBA,aACCA,IAAiB7N,KAAKgC,MAAM6L,aACzBA,EACA,OAEL,WACM7N,KAAKgC,MAAM6L,eACX7N,KAAKiO,UACRjO,KAAKiO,UAAUF,GAEfzI,UAASC,YAAYvF,MAAMwC,c,UAQlB+9D,G,8ECpFf,IAAME,EAAkB,CASvBnyD,gBATuB,SASPF,GACXpO,KAAKgC,MAAMoM,gBAAkBA,GAChCpO,KAAKgO,SAAS,CACbI,cAAe,QAgBlB8rC,0BA5BuB,SA4BGsmB,GAKzBxgE,KAAKgO,SAAS,CACbI,cAAe,QAajBwJ,gBA/CuB,SA+CP3P,GAAO,WACtB,OAAOA,EAAMoG,QAAO,SAAAvI,GACnB,OAAI,EAAK9D,MAAMoM,cACV,EAAKpM,MAAMoM,gBAAkBtI,EAAKxI,IAC9BwI,OADR,EAIOA,MAsBVgS,oBA5EuB,SA4EHtK,EAAKC,GACxB,OAAO9L,SAAS+L,MAAMC,MAAMH,EAAK,CAChCc,gBAAiBtO,KAAKsO,gBAAgB/Q,KAAKyC,KAAMyN,GACjDc,gBAAiBvO,KAAKgC,MAAMoM,gBAAkBX,EAC9CU,iBAAkBnO,KAAKmO,iBAAiB5Q,KAAKyC,KAAMyN,MAYrDU,iBA5FuB,SA4FNC,GAChBpO,KAAKgO,SAAS,CACbI,oB,UAKYqyD,G,8EC3Gf,W,OACA,O,OAEA,O,0DAEA,IAAMv+D,EAAiB,EACjBC,EAAiB,EACjBC,GAAkB,EAElBC,EAAc,EACdC,EAAoB,EACpBC,EAAuB,EAQvBm+D,EAAqB,CAE1Bz6C,UAAW,CAaVriB,UAAWsiB,UAAUyF,KASrBnnB,SAAU0hB,UAAUotC,KAAKa,WAQzBjxD,gBAAiBgjB,UAAUotC,KAS3B9tD,YAAa0gB,UAAUqtC,OAAOY,WAW9BrwD,KAAMoiB,UAAUzoB,OAAO02D,YAUxB1Z,kBA9D0B,WA+DzBz6C,KAAK6D,YAWN88C,mBA1E0B,WA2EzB3gD,KAAK6D,YAaNrB,MAxF0B,SAwFpBC,GACL,KAAKA,GAASzC,KAAK0C,eAAeD,EAAME,UACnC3C,KAAK4C,cAAgB5C,KAAK4C,aAAaC,OAAQ,CAClD,IAAMC,EAAqB9C,KAAK4C,aAC/B5C,KAAK+C,mBAOLC,SAASC,gBAAkBH,GAC1B9C,KAAKZ,MAAM8D,kBAG4C,IAAvDlD,KAAK4C,aAAaO,QAAQH,SAASC,gBAEnCH,EAAmBN,QAIjBC,IACHA,EAAMW,kBACNX,EAAMY,oBAcVC,UA7H0B,SA6HhBb,GACT,GAAIzC,KAAK0C,eAAeD,EAAME,SAAW3C,KAAK4C,aAAc,CAC3D,IAAMW,EAASvD,KAAKwD,gBAAgBf,GAEhCc,EAAOE,OACVhB,EAAMW,kBACNX,EAAMY,iBAEFE,EAAOE,OAASnB,GACnBtC,KAAK0D,WAAWH,EAAOI,WAGpBJ,EAAOE,OAASlB,GACnBvC,KAAKZ,MAAMwE,UAAUL,EAAOI,cAchCsK,UAxJ0B,SAwJhBtK,GACTA,EAAY7D,UAAKQ,SAASqD,GAAaA,EAAY,EAEnD3D,KAAK0D,WAAWC,IAcjBH,gBAzK0B,SAyKVf,GACf,IAAMc,EAAS,CACdE,KAAMpB,GAGP,GAAIrC,KAAKZ,MAAM0E,KAAM,CACpB,IAAMH,EAAY3D,KAAK+D,uBAAuBtB,GAE1CkB,IACHJ,EAAOI,UAAYA,EACnBJ,EAAOE,KAAOnB,GAGf,IAAM0B,EAAgBhE,KAAKiE,uBAAuBxB,EAAOkB,GAErDK,EAAcE,UACjBX,EAAOI,UAAYK,EAAcL,UACjCJ,EAAOE,KAAOlB,GAIhB,OAAOgB,GAmBRU,uBAjN0B,SAiNHxB,EAAO0B,GAC7B,IAAMH,EAAgB,CACrBL,UAAWQ,EACXD,SAAS,GA8BV,OA3BIlE,KAAKZ,MAAMwE,YACV5D,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKI,WACnDF,EAAcE,SAAU,GAErBlE,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKQ,eACnDN,EAAcE,SAAU,EACxBF,EAAcL,UAAYxB,GAEvBnC,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKS,eACnDP,EAAcE,SAAU,EACxBF,EAAcL,UAAYvB,GAIzB4B,EAAcE,SACdlE,KAAKZ,MAAMoF,WACZL,IAEAH,EAAcE,QACZC,IAAuB/B,GACI,IAA3BpC,KAAK+C,mBACLoB,IAAuBhC,GACvBnC,KAAK+C,oBACJ/C,KAAK4C,aAAaC,OAAS,IAIzBmB,GAcRD,uBAhQ0B,SAgQHtB,GACtB,IAAIkB,EAAYzB,EAahB,OAXIlC,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKW,QACnDd,EAAYxB,GAETnC,KAAKoE,YAAY3B,EAAM4B,QAASrE,KAAKZ,MAAM0E,KAAKY,QACnDf,EAAYvB,GAGTK,EAAMkC,UACThB,IAAc,GAGRA,GAcRS,YA5R0B,SA4RdC,EAASP,GACpB,OAAOhE,UAAKI,QAAQ4D,IACU,IAA3BA,EAAKX,QAAQkB,GACbA,IAAYP,GAchBpB,eA7S0B,SA6SXkC,GACd,IAAMC,EAAUD,EAAQC,QAAQC,cAEhC,MACa,UAAZD,GACY,WAAZA,GACY,aAAZA,GAaFnB,WAhU0B,SAgUfC,GACV,IAAMoB,EAAiB/E,KAAK4C,aAAaC,OAErCmC,EAAahF,KAAK4C,aAAa5C,KAAK+C,mBAExCiC,EAAWC,aAAa,YAAa,GAErCjF,KAAK+C,mBAAqBY,EAEtB3D,KAAKZ,MAAMoF,SAGdxE,KAAK+C,mBACF/C,KAAK+C,kBAAoBgC,EAAkBA,GAC7CA,EAED/E,KAAK+C,kBAAoBmC,KAAKC,IAC7BD,KAAKE,IAAIpF,KAAK+C,kBAAmBgC,EAAiB,GAClD,GAIFC,EAAahF,KAAK4C,aAAa5C,KAAK+C,mBAEpCiC,EAAWC,aAAa,WAAY,GACpCD,EAAWxC,SAWZqB,SApW0B,WAoWf,WACJwB,EAAUC,UAASC,YAAYvF,MAErC,GAAIqF,EAAS,CACZ,IAAMG,EAAcH,EAAQI,iBAC3BzF,KAAKZ,MAAMoG,aAGRE,EAAsB,GAE1B1F,KAAK4C,aAAe,GAEpB+C,MAAMhI,UAAUiI,MAAM1J,KAAKsJ,GAAaK,SAAQ,SAAAC,GAC/C,IAAMC,EAAeD,EAAKE,aAAa,iBAEnCD,EACHL,EAAoBO,KAAKH,GAEzB,EAAKlD,aAAaqD,KAAKH,MAIzBJ,EAAsBA,EAAoBQ,MAAK,SAACC,EAAGC,GAClD,OACCtG,UAAKgB,MAAMqF,EAAEH,aAAa,kBAC1BlG,UAAKgB,MAAMsF,EAAEJ,aAAa,qBAI5BhG,KAAK4C,aAAe8C,EAAoBW,OAAOrG,KAAK4C,cAEpD5C,KAAK+C,kBAAoB,EAEzB/C,KAAK4C,aAAa0D,MAAK,SAACR,EAAMS,GAC7B,GAAsC,MAAlCT,EAAKE,aAAa,YAIrB,OAHA,EAAKjD,kBAAoBwD,EACzB,EAAK/D,SAEE,Q,UAOGk+D,G,8ECpaf,W,OACA,O,OAEA,Q,0DASA,IAAMC,EAAiB,CACtBC,OAAQ,CAAC56C,WAGTC,UAAW,CASVzP,oBAAqB0P,UAAUotC,KAc/Bp+C,OAAQgR,UAAUzoB,QAWnBojE,gBAtCsB,WAuCrB,MAAO,CACN3rD,OAAQ,CACPzB,KAAM,EACNE,IAAK,IAEN6C,qBAAqB,IAWvBsqD,gBAvDsB,WAwDjB93D,OAAOgK,sBACVhK,OAAOgK,qBAAqBhT,KAAK+S,oBAqBnC2D,uBA9EsB,SA8ECtD,EAAOC,GAC7BA,EACCA,GAAgB,IAAI1R,SAAS2R,IAAItK,OAAOA,QAAQuK,kBAEjD,IAAIC,EAAIJ,EAAMK,KACVC,EAAIN,EAAMO,IAUd,OARIP,EAAMK,KAAOL,EAAMzU,MAAQ0U,EAAa1U,QAC3C6U,GAAKJ,EAAMK,KAAOL,EAAMzU,MAAQ0U,EAAa1U,OAG1C+U,EAAI,IACPA,EAAI,GAGE,CACNF,IACAE,MAkBF2D,iBAjHsB,SAiHL5D,EAAME,EAAKhQ,GAC3B,IAAM0B,EAAUC,UAASC,YAAYvF,MAE/BkV,EAASlV,KAAKZ,MAAM8V,OACpBC,EAAc9P,EAAQ8P,YACtB4rD,EAAY5rD,EAAc,EAoChC,OAjCCxR,IAAchC,SAASwR,yBACvBxP,IAAchC,SAAS0S,yBAEvBZ,EAAOA,EAAOyB,EAAOzB,KAAOstD,EAE5BptD,EACChQ,IAAchC,SAASwR,wBACpBQ,EAAMuB,EAAOvB,IACbA,EAAMtO,EAAQ2P,aAAeE,EAAOvB,KAExChQ,IAAchC,SAASyT,yBACvBzR,IAAchC,SAAS0T,0BAEvB5B,EACC9P,IAAchC,SAASyT,wBACpB3B,EAAOyB,EAAOzB,KAAOpO,EAAQ2P,aAAe,EAC5CvB,EAAQ,EAAIpO,EAAQ2P,aAAgB,EAAIE,EAAOzB,KAEnDE,EAAMA,EAAMuB,EAAOvB,IAAMtO,EAAQ2P,aAAe,GAG7CvB,EAAO,IACVA,EAAO,GAGJA,EAAOzQ,SAAS4T,KAAKzB,YAAc4rD,IACtCttD,EAAOzQ,SAAS4T,KAAKzB,YAAc4rD,GAGhCptD,EAAM,IACTA,EAAM,GAGA,CAACF,EAAME,IAWfsC,UArKsB,WAsKrB,IAAM5Q,EAAUC,UAASC,YAAYvF,MAErC,GAAIqF,EAAS,CACZ,IAAMiQ,EAAa,IAAI3T,SAAS2R,IAAI1O,QAAQS,GAE5C,OAAOiQ,EAAWC,SAAS,wBAG5B,OAAO,GAYRoB,YA1LsB,SA0LVnB,EAAYC,GACvB,IAAMH,EAAa,IAAI3T,SAAS2R,IAAI1O,QAAQU,UAASC,YAAYvF,OAEjEsV,EAAWI,UAAU,CACpBjC,KAAM+B,EAAW,GAAK,KACtB7B,IAAK6B,EAAW,GAAK,KACrBG,QAAS,EACTC,cAAe,SAGhBN,EAAWO,YAAY,0BAEvB7V,KAAKghE,UAAS,WACb1rD,EAAWQ,SAAS,yBACpBR,EAAWQ,SAAS,wBACpBR,EAAWI,UAAU,CACpBjC,KAAMgC,EAAS,GAAK,KACpB9B,IAAK8B,EAAS,GAAK,KACnBE,QAAS,IAIV/L,YAAW,WACV0L,EAAWI,UAAU,CACpBE,cAAe,OAEd,SAWLqrD,KA/NsB,WAgOrB,IAAM57D,EAAUC,UAASC,YAAYvF,MAC/B+V,EAAS/V,KAAKZ,MAAMjB,OAAOvB,IAAI,UAE/BoZ,EAAYD,EAASA,EAAOC,UAAY,EAE9C,IAAKhW,KAAKiW,aAAe5Q,EAAS,CACjC,IAAM6Q,EAAmBlW,KAAKkT,sBAE9B,GAAIgD,EAAkB,CACrB,IAAMZ,EAAa,IAAI3T,SAAS2R,IAAI1O,QAAQS,GAExC8Q,SAAQC,SAAQC,SAAUC,SAK9B,GAHAH,EAASE,EAAWE,WAAWjB,EAAWzT,SAAS,SACnDuU,EAASE,EAAWC,WAAWjB,EAAWzT,SAAS,QAE/C7B,KAAKZ,MAAMoX,oBAAqB,CACnC,IAAMC,EAAMzW,KAAK0W,uBAAuB,CACvChY,OAAQ6X,WAAWlR,EAAQ2P,cAC3BvB,KAAM0C,EACNxC,IAAKyC,EACLzX,MAAO4X,WAAWlR,EAAQ8P,eAG3BgB,EAASM,EAAIjD,EACb4C,EAASK,EAAI/C,EAOb4C,EAHAJ,EAAiBvS,YACjBhC,SAASwR,wBAGRnT,KAAKZ,MAAM0U,cAAcI,OAAOe,OAASe,EAE/BhW,KAAKZ,MAAM0U,cAAcI,OAAOP,IAAMqC,EAGlDhW,KAAK2W,YAAY,CAACN,EAAUC,GAAW,CAACH,EAAQC,OAYnD8qD,eAlRsB,WAmRrB,IAAMhrD,EAAmBlW,KAAKkT,sBAExB7N,EAAUC,UAASC,YAAYvF,MAErC,GAAIkW,GAAoB7Q,EAAS,CAChC,IAAM0Q,EAAS/V,KAAKZ,MAAMjB,OAAOvB,IAAI,WAAaoG,SAAS4T,KACrDC,EAAcC,iBAAiBf,GAC/BgB,EAAmBhW,SACxB8V,EAAYG,iBAAiB,eAC7B,IAEKC,EAAoBlW,SACzB8V,EAAYG,iBAAiB,gBAC7B,IAEKE,EACLH,EAAmBhB,EAAOoB,YAAcF,EAEnCjB,EAA+B,SAAnBD,EAAOlR,QAAqBkR,EAAOC,UAAY,EAE3DoB,EAAKpX,KAAKqX,iBACfnB,EAAiB1C,EACjB0C,EAAiBxC,EACjBwC,EAAiBvS,WAElByT,EAAG,IAAMpB,EAELoB,EAAG,GAAK,IACXA,EAAG,GAAK,GAELA,EAAG,GAAKF,EAAa7R,EAAQ8P,cAChCiC,EAAG,GAAKF,EAAa7R,EAAQ8P,aAG9B,IAAIxT,SAAS2R,IAAI1O,QAAQS,GAASqQ,UAAU,CAC3CjC,KAAM2D,EAAG,GAAK,KACdzD,IAAKyD,EAAG,GAAK,SAchB4pD,SArUsB,SAqUbt3D,GACJV,OAAOyJ,sBACVzS,KAAK+S,kBAAoB/J,OAAOyJ,sBAAsB/I,GAEtDA,M,UAKYi3D,G,oFC1Vf,a,OACA,S,sMAGEQ,UAAW7jE,IAAM6jE,W,IACjBC,UAAc9jE,IAAM8jE,W,2UCLtB,O,OACA,O,OAEA,O,OACA,Q,OACA,Q,OACA,Q,OACA,Q,OACA,O,ynBAEA,IAAMC,EAAgB,EAChBC,EAAiB,EAWjBH,E,YAGL,WAAY/hE,GAAO,yEACZA,IADY,OAGlB,EAAK4C,MAAQ,GAHK,E,6DAelBhC,KAAKuhE,oB,yCAaaC,EAAYC,GAC9BzhE,KAAKuhE,kBAIDvhE,KAAKZ,MAAMmP,iBACdvO,KAAKwC,U,+BAqBN,IACExC,KAAKgC,MAAMoM,eACZpO,KAAKZ,MAAMyU,aACX7T,KAAKZ,MAAMyU,YAAYpU,KAAKsU,YAAYpR,SACvC3C,KAAKZ,MAAMyU,YAAYpU,KAAKsU,YAAYpR,OAAO++D,kBAEhD,OAAO,KAGR,IAAMz2D,EAAUjL,KAAK2hE,cACf3jE,EAAYgC,KAAK4hE,uBAEvB,OACC,+BACCzwD,aAAYvI,YAAYe,QAAQq7C,IAChChnD,UAAWA,EACX6jE,gBAAe7hE,KAAKZ,MAAMd,OAAO+I,UAAY,EAC7CF,QAASnH,KAAKwC,MAAMjF,KAAKyC,MACzBoH,UAAWpH,KAAKsD,UAAU/F,KAAKyC,MAC/BsH,KAAK,UACLD,SAAS,MACT,+BAAKrJ,UAAU,gBAAgBiN,M,oCAejC,IAAIA,SAqBJ,OAnBIjL,KAAKZ,MAAMmP,gBACdtD,EAAUjL,KAAKyX,kBAAkBzX,KAAKZ,MAAMd,OAAO2M,SAE/CjL,KAAKZ,MAAM0U,eAAiB9T,KAAKZ,MAAM0U,cAAcI,SACxDjJ,EACC,kCACCkG,aAAYvI,YAAYe,QAAQq7C,IAChChnD,UAAU,0BACVqT,QAASrR,KAAKZ,MAAM+O,iBAAiB5Q,KACpCyC,KACAmhE,EAAW7jE,KAEZgU,MAAO1I,YAAYe,QAAQq7C,KAC3B,wBAAC,UAAD,CAAY/mD,OAAO,WAMhBgN,I,6CAaP,IAAIuZ,EAAW,iBAMf,OAJIxkB,KAAKZ,MAAMmP,kBACdiW,EAAW,cAAgBxkB,KAAKwoB,sBAG1BhE,I,wCAYP,IAAItQ,SAGJ,GAAK5O,UAASC,YAAYvF,MAI1B,GAAIA,KAAKZ,MAAMmP,gBACdvO,KAAKkhE,iBACLlhE,KAAKihE,YAML,GAJIjhE,KAAKZ,MAAM0U,gBACdI,EAASlU,KAAKZ,MAAM0U,cAAcI,QAG/BA,EAAQ,CACX,IAAM7O,EAAUC,UAASC,YAAYvF,MAE/BsV,EAAa,IAAI3T,SAAS2R,IAAI1O,QAAQS,GAEtC+O,EAAYF,EAAOE,WAAaF,EAEhC9V,EAAe4B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEvCklE,EAAa1jE,EAAaqK,WAAW0f,gBAEvC45C,SAEEC,EACLhiE,KAAKZ,MAAMd,OAAO0jE,UAAYhiE,KAAKZ,MAAM4iE,SAGzCD,EADGC,IAAaX,EAEfS,EAAWruD,KACXpO,EAAQ8P,YACRnV,KAAKZ,MAAM6iE,gBAAgBxuD,KAC3B,KAGAquD,EAAWrtD,MACXzU,KAAKZ,MAAM6iE,gBAAgBxuD,KAC3B,KAGFpO,EAAQhE,MAAMoS,KAAOsuD,EAErB18D,EAAQhE,MAAMsS,IACbzO,KAAK4oD,OAAO55C,EAAOe,OAASf,EAAOP,KAAO,GAAK,KAEhD,IAAMoC,EAAS/V,KAAKV,QAAQnB,OAAOvB,IAAI,UAEjCoZ,EAAYD,EAASA,EAAOC,UAAY,EAEI,SAA9C5X,EAAawG,QAAQ/C,SAAS,YACjCwD,EAAQhE,MAAMsS,IACbzO,KAAK4oD,MACJ55C,EAAOP,IACNtO,EAAQ2P,aAAe,EACvBZ,EAAU1V,OAAS,EACnBsX,GACE,KAEL3Q,EAAQhE,MAAMsS,IACbzO,KAAK4oD,MACJ1vD,EAAawG,QAAQkQ,EAAEC,UACtBX,EAAU1V,OAAS,EACnB2G,EAAQ2P,aAAe,GACrB,KAGN3P,EAAQhE,MAAMsU,QAAU,EAExBL,EAAWO,YAAY,gBAEvB7V,KAAK8gE,uB,GA5NgBhiE,UAAMG,WAAzBkiE,EACEvhE,YAAcf,UAyOtBsiE,EAAW7jE,IAAM,MAUjB6jE,EAAW1tD,KAAO4tD,EAUlBF,EAAW1sD,MAAQ6sD,EAUnBH,EAAW35D,aAAe,CACzBhD,UAAU,EACVgB,YAAa,aACby8D,gBAAiB,CAChBxuD,KAAM,GACNE,IAAK,GAEN7P,KAAM,CACLI,QAAS,CAAC,IACVO,KAAM,CAAC,GAAI,IACXC,KAAM,CAAC,GAAI,KAEZs9D,SAAUX,G,WAGI,cACd,cAAgB,cAAmB,aAAeF,O,shBC9SnD,O,OACA,O,OAEA,O,OACA,O,OACA,Q,OACA,Q,OACA,Q,OACA,Q,6nBAWMC,E,YAGL,WAAYhiE,GAAO,yEACZA,IADY,OAGlB,EAAK4C,MAAQ,GAHK,E,6DAelBhC,KAAKuhE,oB,yCAaaC,EAAYC,GAC9BzhE,KAAKuhE,oB,+BAaL,IAAMW,EAAmBliE,KAAKmiE,uBAE9B,GAAID,EAAkB,CACrB,IAAME,EAAuBpiE,KAAKqiE,sBACjCH,EAAiB15C,oBAEdvV,SAGHA,EADGmvD,EACeA,IAEApiE,KAAKwoB,qBAGxB,IAAM85C,EAAa,qBAAuBrvD,EAEtChI,EAAUi3D,EAAiBj3D,QAER,YAAnB,qBAAOA,EAAP,cAAOA,KAAyBtF,MAAMzF,QAAQ+K,KACjDA,EACCA,EAAQjL,KAAKV,QAAQnB,OAAOvB,IAAI,UAChCqO,EAAQ,WAGV,IAAMs3D,EAAeviE,KAAKqgE,uBAAuBp1D,EAAS,CACzDiF,gBAAiBlQ,KAAKZ,MAAMyU,YACzB7T,KAAKZ,MAAMyU,YAAYpU,KAAKyQ,gBAC5B,KACHsyD,cAAeN,EAAiB5lE,OAG3BmmE,EACLF,EAAal0D,QAAO,SAAAmJ,GACnB,OAAO7R,MAAMzF,QAAQsX,MACnB3U,OAAS,EAET7E,EAAY,eAMhB,OAJIykE,IACHzkE,GAAa,wBAIb,+BACCmT,aAAYvI,YAAYe,QAAQ+C,OAChC1O,UAAWskE,EACXT,gBAAe7hE,KAAKZ,MAAMd,OAAO+I,UAAY,EAC7CF,QAASnH,KAAKwC,MAAMjF,KAAKyC,MACzBoH,UAAWpH,KAAKsD,UAAU/F,KAAKyC,MAC/BsH,KAAK,UACLD,SAAS,MACT,+BAAKrJ,UAAWA,GACdukE,EAAar6D,KAAI,SAAClL,EAAOuJ,GACzB,OAAIZ,MAAMzF,QAAQlD,GAEhB,+BAAKgB,UAAU,SAASV,IAAKiJ,GAC3BvJ,EAAMkL,KAAI,SAAAsP,GACV,OAAOA,MAKHxa,OAQb,OAAO,O,4CAac0lE,GACrB,IAAIC,SAEJ,GAAI7iE,UAAKC,WAAW2iE,GACnBC,EAAoBD,OACd,GAAI5iE,UAAKY,SAASgiE,GAAc,CACtC,IAAMphE,EAAQohE,EAAYnhE,MAAM,KAC5BC,EAAgBwH,OAChBtL,EAAW4D,EAAMG,QAErB,MACC/D,GACAoC,UAAKU,SAASgB,IACd1B,UAAKU,SAASgB,EAAc9D,IAE5B8D,EAAgBA,EAAc9D,GAC9BA,EAAW4D,EAAMG,QAGd3B,UAAKC,WAAWyB,KACnBmhE,EAAoBnhE,GAItB,OAAOmhE,I,6CAaP,IAAM/uD,EAAe5T,KAAKZ,MAAMyU,YAC7B7T,KAAKZ,MAAMyU,YAAYpU,KACvB,KACC6P,SAwBJ,OAtBIsE,GACH5T,KAAKZ,MAAMd,OAAOskE,WAAWt8D,MAAK,SAASR,GAC1C,IAAM+8D,EAAS7iE,KAAKqiE,sBAAsBv8D,EAAK+E,MAC3Csc,SAeJ,OAbI07C,IACH17C,EACCvT,EAAa1D,kBAAoBpK,EAAKxJ,MACtCumE,EAAO,CACNpjE,KAAMmU,EACNzV,OAAQ6B,KAAKV,QAAQnB,UAIpBgpB,IACH7X,EAAYxJ,GAGNqhB,IACLnnB,MAGGsP,I,wCAaP,GAAKhK,UAASC,YAAYvF,MAA1B,CAIA,IAAMkiE,EAAmBliE,KAAKmiE,uBAC1Bh7C,SAIJ,GAAI+6C,EAAkB,CACrB,IAAMY,EAAgB9iE,KAAKqiE,sBAC1BH,EAAiB75C,aAGdy6C,IACH37C,EAAS27C,EAAc5mE,KAAK8D,KAAM,CACjC7B,OAAQ6B,KAAKV,QAAQnB,OACrB0V,YAAa7T,KAAKZ,MAAMyU,YACxBC,cAAe9T,KAAKZ,MAAM0U,iBAKxBqT,IACJnnB,KAAKkhE,iBACLlhE,KAAKihE,a,GAtOoBniE,UAAMG,WAA5BmiE,EACExhE,YAAcf,UAkPtBuiE,EAAc55D,aAAe,CAC5BhD,UAAU,EACVgB,YAAa,6DACb1B,KAAM,CACLI,QAAS,CAAC,IACVO,KAAM,CAAC,GAAI,IACXC,KAAM,CAAC,GAAI,MAYb08D,EAAc9jE,IAAM,S,WAEL,cACd,cAAgB,cAAmB,aAAe8jE,O,8EC3RnD,OAEA,MAEA,OAEA,W,OACA,O,OAEA,SACA,S,OACA,S,OACA,O,OACA,Q,OACA,Q,OACA,O,0DAEA,IAAM2B,EAAoB,IACpBC,EAAqB,IAU3B,SAASl6D,EAAKxK,GACbwK,EAAKyP,WAAWD,YAAYpc,KAAK8D,KAAM1B,IAGxC,aACCwK,EACAR,UACA,CAWC26D,YAXD,SAWa3kE,GAAQ,WACboK,EAAO1I,KAAKpD,IAAI,WAElBoD,KAAKpD,IAAI,0BACZ8L,EAAKzD,aAAa,kBAAmB,QAGtC,IAAM9G,EAASwD,SAASuhE,OAAOx6D,GAuB/B,GArBAvK,EAAOG,OAAO6kE,eAAiBnjE,KAAKpD,IAAI,kBAExCuB,EAAOG,OAAO8kE,SAAWpjE,KAAKpD,IAAI,YAElCuB,EAAOG,OAAO+kE,cAAgBrjE,KAAKpD,IAAI,iBAEvCuB,EAAOG,OAAOglE,aAAetjE,KAAKpD,IAAI,gBAEtCuB,EAAOG,OAAOilE,eAAiBvjE,KAAKpD,IAAI,kBAExCuB,EAAOG,OAAOklE,iBAAmBxjE,KAAKpD,IAAI,oBAE1CuB,EAAOG,OAAOmlE,2BAA4B,EAC1CtlE,EAAOG,OAAOolE,+BAAgC,EAE9CvlE,EAAOG,OAAOqlE,oBAAsB3jE,KAAKpD,IAAI,uBAE7CuB,EAAOG,OAAOD,UAAY2B,KAAKpD,IAAI,aAEnCkD,UAAKa,IAAIxC,EAAOG,OAAQA,GAEpBqD,SAAS8P,IAAIC,KAAO/P,SAAS8P,IAAImyD,KAAM,CAC1C,IAAMC,EACoB,KAAzBliE,SAAS8P,IAAIud,QACV,qBACA,mBAEJ7wB,EAAOG,OAAOglE,aAAenlE,EAAOG,OAAOglE,aAAaj4C,QACvD,gBACAw4C,GAED1lE,EAAOG,OAAO+kE,cAAgBllE,EAAOG,OAAO+kE,cAAch4C,QACzD,gBACAw4C,GAIF1lE,EAAO0L,KAAK,cAAc,WACzB,EAAKi6D,8BAA8B3lE,GAOnC,IALA,IAAMsK,EAAWtK,EAAOsK,WAElBs7D,EAAgB,EAAKnnE,IAAI,iBAEzBonE,EAAmBvnE,OAAOqH,KAAKigE,GAC5BhoE,EAAI,EAAGA,EAAIioE,EAAiBnhE,OAAQ9G,IAAK,CACjD,IAAM0K,EAAcu9D,EAAiBjoE,GAEjCoC,EAAO6J,SAASvB,IAIpBtI,EAAO0I,WAAWJ,EAAas9D,EAAct9D,IAG9CgC,EAASqN,SAAS,kBAGnB9V,KAAKikE,QAAU9lE,EAEfyK,YAAYa,sBAAsBzJ,KAAKkkE,UAAU3mE,KAAKyC,QAYvD2mC,WA5FD,WA6FE3mC,KAAKmkE,YAAa,EAEdnkE,KAAKokE,mBACR9+D,UAASioD,uBAAuBvtD,KAAKokE,kBACrCpkE,KAAKokE,iBAAiBppC,WAAWlD,YAChC93B,KAAKokE,mBAIP,IAAMhmE,EAAe4B,KAAKpD,IAAI,gBAE9B,GAAIwB,EAAc,CACjB,IAAMqK,EAAWrK,EAAaqK,WAgB9B,IAAI,IAAM47D,KAdN57D,IACHA,EAASoN,YAAY,eAEjB7V,KAAKpD,IAAI,0BACZoD,KAAKpD,IAAI,WAAWqI,aACnB,kBACA,UAKHjF,KAAKskE,mBAELlmE,EAAa8/C,UACKv8C,SAAS4iE,UAC1BF,EAAKnmB,YAaRomB,iBAvID,WAwIE,IAAMlmE,EAAe4B,KAAKpD,IAAI,gBACxB4nE,EAA8C,mBAAvBx7D,OAAOkD,aAEhCs4D,EACHpmE,EAAa4E,SAAS8R,EAAExF,UAAUm1D,QAElCrmE,EAAa4E,SACX0hE,YACA5vD,EAAE5I,eACFg+C,mBAaJ4Z,8BA9JD,SA8J+B3lE,GAC7BA,EAAOsK,WAAWqC,GAAG,QAAS9K,KAAK2kE,wBAAyB3kE,KAAM,CACjE7B,YAeFwmE,wBA/KD,SA+KyBliE,GACvB,IAAMmiE,EAAaniE,EAAMhD,KAAKqV,EACxB+vD,EAAaD,EAAWl8B,SAAWk8B,EAAWh8B,QAC9Ck8B,EAAa9kE,KAAKikE,QAAQ3lE,OAAOuoB,UAAYg+C,EAInD,GAFAD,EAAWvhE,iBAENyhE,IAO2C,IAF/CriE,EAAMsiE,aAAa5mE,OACjBsK,WACAtK,OAAOwB,KAAK,gBAAiB8C,EAAMhD,MACpC,CACD,IAAMulE,EAAY,IAAIrjE,SAAS2R,IAAI1R,YAClCa,EAAMhD,KAAKwlE,YACXjlE,MAEKoS,EAAO4yD,EAAUlI,YAEvB,GAAI1qD,EAAM,CACT,IAAMxT,EAAOwT,EAAK0C,EAAE49C,WAAW9zD,KAC5BwT,EAAK0C,EAAE49C,WAAW9zD,KAAK5B,MACvB,KACG2F,EAASkiE,EACZ,SACAzyD,EAAK0C,EAAE49C,WAAW/vD,OAClByP,EAAK0C,EAAE49C,WAAW/vD,OAAO3F,MACzB,KACHgD,KAAKklE,cAActmE,EAAM+D,MAc5BwiE,iBA5ND,WA6NE,OAAOnlE,KAAKikE,SAabiB,cA1OD,SA0OetmE,EAAM+D,GACfA,GAAU/D,EACboK,OAAOo8D,KAAKxmE,EAAM+D,GACR/D,IACVoK,OAAOO,SAAS3K,KAAOA,IAYzBslE,UA1PD,WA0Pa,WACX,IAAKlkE,KAAKmkE,WAAY,CACrB,IAAMkB,EAAkBriE,SAASiV,cAAc,OAC/CotD,EAAgBrnE,UAAY,QAE5B,IAAM+X,EAAS/V,KAAKpD,IAAI,WAAaoG,SAAS4T,KAE9Cb,EAAOgiB,YAAYstC,GAEnB,IAAMC,EAAc,SAAA1gE,IACd,EAAK2gE,SAAW3gE,IACpB,EAAK2gE,QAAU3gE,EACf,EAAKhI,IAAI,gBAAgB+C,KAAK,aAIhC2F,UAASwoB,OACR,wBAAC,UAAcH,SAAf,CAAwB3wB,MAAO,CAACmB,OAAQ6B,OACvC,wBAAC,UAAD,CACCwlE,YAAaxlE,KAAKpD,IAAI,eACtByC,IAAKimE,EACLlC,SAAUpjE,KAAKpD,IAAI,eAGrByoE,GAGDrlE,KAAKokE,iBAAmBiB,IAiB1BI,WAtSD,SAsSYzoE,GAKV,OAJI8C,UAAKY,SAAS1D,KACjBA,EAAQgG,SAAS0iE,eAAe1oE,IAG1BA,GAeR2oE,wBA1TD,SA0TyB3oE,GACvB,OACC8C,UAAKY,SAAS1D,IACd8C,UAAKU,SAASxD,IACd8C,UAAKM,UAAUpD,IAcjB4oE,kBA5UD,SA4UmB5oE,GACjB,OAAO8C,UAAKU,SAASxD,IAAU8C,UAAKO,OAAOrD,KAG7C,CACCupB,MAAO,CAaN48C,eAAgB,CACfp8C,UAAW,0BACX/pB,OAAO,EACP8pB,WAAW,GAcZ5D,2BAA4B,CAC3B6D,UAAWjnB,UAAKC,WAChB/C,WAAOge,GAcRgI,sBAAuB,CACtB+D,UAAWjnB,UAAKY,SAChB1D,WAAOge,GAYRuoD,eAAgB,CACfx8C,UAAWjnB,UAAKI,QAChBlD,MAAO,CACN,CACC6K,GAAI,WACJg+D,iHACiC7C,EADjC,6IAG4BD,EAH5B,WAGwDC,EAHxD,yFAIoDD,EAJpD,eAKAt/D,KAAM,QACNqiE,WAAY,CACX,kEAGF,CACCj+D,GAAI,SACJg+D,wFACiB7C,EADjB,8IAG+BD,EAH/B,cAIAt/D,KAAM,QACNqiE,WAAY,CACX,yDAGF,CACCj+D,GAAI,QACJg+D,uDAAwD7C,EAAxD,wJAEsCD,EAFtC,cAGAt/D,KAAM,QACNqiE,WAAY,CACX,oEACA,+DACA,sEACA,kDAGF,CACCj+D,GAAI,UACJg+D,mGACiB7C,EADjB,oIAGgBD,EAHhB,cAIAt/D,KAAM,QACNqiE,WAAY,CACX,8DAiBJC,sBAAuB,CACtBh/C,UAAWjnB,UAAKM,UAChBpD,OAAO,EACP8pB,WAAW,GAWZ0+C,YAAa,CACZz+C,UAAWjnB,UAAKQ,SAChBtD,MAAO,KAWR+mE,cAAe,CACdh9C,UAAWjnB,UAAKU,SAChBxD,MAAO,CACNw/D,YAAawJ,sBAEdl/C,WAAW,GAcZw8C,aAAc,CACbv8C,UAAWjnB,UAAKY,SAChB1D,MACC,kTAGD8pB,WAAW,GAYZ5pB,KAAM,CACL6pB,UAAWjnB,UAAKY,SAChB1D,MAAO,UAYRoB,aAAc,CACb7B,OAAQ,mBACRsqB,UAAU,GAeX28C,iBAAkB,CACjBz8C,UAAWjnB,UAAKY,SAChB1D,MAAO,iBACP8pB,WAAW,GAqBZu8C,cAAe,CACdt8C,UAAWjnB,UAAKY,SAChB1D,MAAO,yDACP8pB,WAAW,GAcZ68C,oBAAqB,CACpB58C,UAAWjnB,UAAKI,QAChBlD,MAAO,CACN,CACC8G,KAAMnC,SAASgjB,KAAO,GACtBrV,UAAW,QAEZ,CACCxL,KAAMnC,SAASgjB,KAAOhjB,SAAS+zD,MAAQ,GACvCpmD,UAAW,WAcdjR,UAAW,CACV0oB,UAAWjnB,UAAKY,SAChB1D,MAAO,sCACP8pB,WAAW,GAYZne,QAAS,CACRqe,OAAQ,aACRF,WAAW,GAUZs8C,SAAU,CACTr8C,UAAW,oBACX/pB,MAAO,CACNgoD,IAAK,CACJ/5C,QAAS,CACR,gBACA,QACA,SACA,QACA,QACA,UAED5D,SAAU,GAEXqF,OAAQ,CACPk2D,WAAY72D,UACZ1E,SAAU,KAcb0O,OAAQ,CACPiR,OAAQ,aACRF,WAAW,MAMfnlB,SAASc,MAAMsI,YAAYjC,G,UAEZA,G,gGCltBf,a,0DAEA,OAEA,OAEA,OAEA,OAEA,OAEA,O,EAEQm9D,oB,qJCCR,SAASA,EAASv8D,EAAUo+C,EAASxoD,GAAoB,IAAX4nB,EAAW,uDAAJ,GAChDg/C,SAEEC,EAAS,WAAsB,2BAAVC,EAAU,qBAAVA,EAAU,gBAEpC,IAAMC,EAAc/mE,GAAWU,KAG/BoiB,aAAa8jD,GAEbA,EAAiBt8D,YAAW,WAC3BF,EAAS4Z,MAAM+iD,EAAf,UAAgCD,EAAhC,EAA6Cl/C,OAC3C4gC,IAOJ,OAJAqe,EAAOG,OAAS,WACflkD,aAAa8jD,IAGPC,E,iDAGRxkE,SAAS+L,MAAMu4D,SAAWtkE,SAAS+L,MAAMu4D,UAAYA,E,UAEtCA,G,gPCvCTM,EAAwB,QACxBC,EAAqB,+BACrBC,EAAmB,gCASzB,SAAS13D,EAAK5Q,EAAQG,GACrB0B,KAAKikE,QAAU9lE,EACf6B,KAAK4P,gBACJtR,IAAoC,IAA1BA,EAAOsR,eAGnBb,EAAKpR,UAAY,CAChB2a,YAAavJ,EAWbC,iBAZgB,SAYCoD,GAChBA,EAAOA,GAAQpS,KAAKqS,mBAEpB,IAAM/C,EAAYtP,KAAKikE,QAAQ/3D,eACzBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KAErD,GAAIvH,GAAQqG,EAAO,CAOlBA,EAAMiuD,qBAAqBt0D,GAE3B,IAAMu0D,EAAWluD,EAAMmuD,sBAEvB,GACCD,IACC3mE,KAAKikE,QAAQr/D,QAAQgU,OAAO+tD,EAASptD,kBAAkBnH,IACvD,CACD,IAAMy0D,EAAa,KAAKngE,KAAKigE,EAASjuD,WAEhC6qB,EAASsjC,EAAaA,EAAWtgE,MAAQ,EAAI,EAEnDkS,EAAMwxC,SAAS0c,EAAUpjC,GACzB9qB,EAAM2xC,OAAOuc,EAAUpjC,IAIzBvjC,KAAKikE,QAAQ/3D,eAAe46D,aAAa,CAACruD,KAa3Cpb,OAvDgB,SAuDT0pE,EAAK3zD,EAAOtD,GAClB,IAAMR,EAAYtP,KAAKikE,QAAQ/3D,eAOzBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KAErD,GAAIlB,GAASA,EAAMuuD,UAAW,CAC7B,IAAMrsD,EAAO,IAAIhZ,SAAS2R,IAAIqH,KAAKosD,EAAK/mE,KAAKikE,QAAQjhE,UACrDyV,EAAMwuD,WAAWtsD,GACjBlC,EAAMyuD,mBAAmBvsD,GAG1BosD,EAAM/mE,KAAKmnE,gBAAgBJ,GAE3B,IAAMl3D,EAAYlO,SAAS+L,MAAMC,MAChC,CACC,sBAAuBo5D,EACvBnoE,KAAMmoE,GAEP3zD,GAGK/R,EAAQ,IAAIM,SAASN,MAAM,CAChCqxD,WAAY7iD,EACZjL,QAAS,MAGVvD,EAAMoC,KAAO9B,SAASiL,aACtBvL,EAAM+lE,aAAa3uD,EAAOzY,KAAKikE,SAE3Bn0D,GAAmBA,EAAgBJ,QACtC1P,KAAKgP,mBAELyJ,EAAMq1B,UAYRz7B,iBAxGgB,WAyGf,IAAM/C,EAAYtP,KAAKikE,QAAQ/3D,eAEzB8T,EAAkB1Q,EAAU2Q,qBAElC,GAAID,GAAmBA,EAAgBgjB,GAAG,KACzC,OAAOhjB,EAGR,GAAIA,GAAmBre,SAAS8P,IAAIC,GAKnC,IAJA,IAAMnK,EAAWyY,EAAgBqnD,cAE3Bz7C,EAAQrkB,EAASqkB,QAEd7vB,EAAI,EAAGA,EAAI6vB,EAAO7vB,IAAK,CAC/B,IAAM2M,EAAOnB,EAAS+/D,QAAQvrE,GAE9B,GAAI2M,EAAKs6B,GAAG,KACX,OAAOt6B,EAQV,IAAM+P,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KAErD,OAAIlB,GACHA,EAAM8uD,OAAO5lE,SAAS6lE,aAEfxnE,KAAKikE,QACVriE,YAAY6W,EAAMc,qBAClBE,SAAS,IAAK,IAGV,MAYRhK,OAxJgB,SAwJT2C,EAAMtC,GACZ,IAAM3R,EAAS6B,KAAKikE,QAEpB,GAAI7xD,EACCtC,GAAmBA,EAAgBJ,SACtC1P,KAAKgP,mBAGNoD,EAAK3C,OAAOtR,OACN,CACN,IAAMkD,EAAQ,IAAIM,SAASN,MAAM,CAChComE,oBAAqB,EACrB7iE,QAAS,IACTnB,KAAM9B,SAASiL,eAOV0C,EAAYnR,EAAO+N,eACzBoD,EAAUo4D,cAAcp4D,EAAUsiD,mBAElCzzD,EAAOiO,YAAY/K,KAcrB0O,OA7LgB,SA6LTqD,EAAOhB,EAAMtC,GACnB,IAAMyC,EAAWvS,KAIjB,GAFAoS,EAAOA,GAAQpS,KAAKqS,mBAEC,kBAAVe,EAAoB,CAC9B,IAAMu0D,EAAMp1D,EAAS40D,gBAAgB/zD,GAErChB,EAAKw1D,cAAc,CAClB,sBAAuBD,EACvB/oE,KAAM+oE,SAED,GAAqB,YAAjB,qBAAOv0D,EAAP,cAAOA,IAAoB,CACrC,IAAMy0D,EAAc,GAEdC,EAAW,GAEjBrrE,OAAOqH,KAAKsP,GAAOvN,SAAQ,SAAAvI,GAC1B,GAAmB,OAAf8V,EAAM9V,GACG,SAARA,GACHuqE,EAAY5hE,KAAK,uBAGlB4hE,EAAY5hE,KAAK3I,QAEjB,GAAY,SAARA,EAAgB,CACnB,IAAMqqE,EAAMp1D,EAAS40D,gBAAgB/zD,EAAM9V,IAE3CwqE,EAAS,uBAAyBH,EAClCG,EAASxqE,GAAOqqE,OAEhBG,EAASxqE,GAAO8V,EAAM9V,MAKzB8U,EAAK21D,iBAAiBF,GACtBz1D,EAAKw1D,cAAcE,GAGhBh4D,GAAmBA,EAAgBJ,SACtC1P,KAAKgP,iBAAiBoD,IAkBxB+0D,gBAxPgB,SAwPAJ,GACf,OAAIR,EAAsB17D,KAAKk8D,KAEpBP,EAAmB37D,KAAKk8D,GAClCA,EAAM,UAAYA,EACPN,EAAiB57D,KAAKk8D,KACjCA,EAAM/mE,KAAK4P,eAAiB,UAAYm3D,EAAMA,IAJvCA,IAWVplE,SAASoN,KAAOpN,SAASoN,MAAQA,G,6BChRjC,IAAMi5D,EAAsB,SAASnE,GACpC,IAAMoE,EAAU,CAAC,aAAc,OAAQ,aAEvCA,EAAQpiE,SAAQ,SAAAqiE,GACXrE,EAAOqE,KACVrE,EAAOqE,GAAcvmE,SAAS+L,MAAMy6D,SACnCtE,EAAOqE,IACP,SAAAE,GACC,IAAMnvD,EAAU,CACfovD,MAAOH,EACPrE,UAGD,OAAO,SAAS1lE,GACfA,EAAOmqE,qBAAuBrvD,EAG9BmvD,EAAqBlsE,KAAK8D,KAAM7B,GAEhCA,EAAOmqE,qBAAuB,cAc9BC,EAA6B,SAASC,GAK3C,MAJwB,kBAAbA,IACVA,EAAWA,EAASjnE,MAAM,MAGpBinE,EAASn6D,QAAO,SAAAo6D,GACtB,MAAmB,YAAZA,MAuBT9mE,SAAS6hB,QAAQlZ,KAAO3I,SAAS+L,MAAMy6D,SACtCxmE,SAAS6hB,QAAQlZ,MACjB,SAAAo+D,GAGC,OAAO,SAASC,EAAOj/D,EAAUk/D,GAEhCF,EAAYxsE,KAAK8D,KAAM2oE,GAAO,SAAAnlD,GACzB9Z,IACHjN,OAAOqH,KAAK0f,GAAS3d,SAAQ,SAAA0F,GAC5B,IAAMs4D,EAASrgD,EAAQjY,GAEnBs4D,EAAO2E,WACV3E,EAAO2E,SAAWD,EACjB1E,EAAO2E,WAITR,EAAoBnE,MAGrBn6D,EAASxN,KAAK0sE,EAAOplD,Y,6BCzF1B,IAAK7hB,SAAS6hB,QAAQ5mB,IAAI,sBAAuB,CAehD,SAASisE,KAdTlnE,SAASwR,wBAA0B,EACnCxR,SAAS0S,wBAA0B,EACnC1S,SAASyT,wBAA0B,EACnCzT,SAAS0T,wBAA0B,EAanCwzD,EAAgBlrE,UAAY,CAC3B2a,YAAauwD,EAWbC,yBAZ2B,SAYFt1D,EAAGE,GAC3B1T,KAAK+oE,yBAAyBv1D,EAAGE,EAAGF,EAAGE,IAcxCq1D,yBA3B2B,SA2BFC,EAAQC,EAAQC,EAAMC,GAC9C,IAAI76B,SACAx1B,SACAH,SACAF,SACA21B,SACAv1B,SACAE,SA0BJ,GAxB+C,oBAApC/V,SAASomE,wBACnBh7B,EAAQprC,SAASomE,uBAAuBJ,EAAQC,GAChD36B,EAAMtrC,SAASomE,uBAAuBF,EAAMC,GAE5CtwD,EAAiBu1B,EAAMi7B,WACvBvwD,EAAew1B,EAAI+6B,WAEnBtwD,EAAcq1B,EAAM7K,OACpB5qB,EAAY21B,EAAI/K,OAEhB9qB,EAAQzY,KAAKgqD,eACqC,oBAAjChnD,SAASsmE,sBAC1Bl7B,EAAQprC,SAASsmE,oBAAoBN,EAAQC,GAC7C36B,EAAMtrC,SAASsmE,oBAAoBJ,EAAMC,GAEzCtwD,EAAiBu1B,EAAMv1B,eACvBC,EAAew1B,EAAIz1B,eAEnBE,EAAcq1B,EAAMr1B,YACpBJ,EAAY21B,EAAIv1B,YAEhBN,EAAQzY,KAAKgqD,eAGVvxC,GAASzV,SAASkJ,aACrBuM,EAAMwxC,SACL,IAAItoD,SAAS2R,IAAI5K,KAAKmQ,GACtBE,GAEDN,EAAM2xC,OAAO,IAAIzoD,SAAS2R,IAAI5K,KAAKoQ,GAAeH,GAElD3Y,KAAKkM,eAAe46D,aAAa,CAACruD,SAC5B,GAA6C,oBAAlCzV,SAAS4T,KAAK2yD,gBAAgC,CAC/D,IAAMj6D,EAAYtP,KAAKkM,eAEvBoD,EAAUjD,SAEVoM,EAAQzV,SAAS4T,KAAK2yD,kBACtB9wD,EAAM9B,YAAYqyD,EAAQC,GAE1B,IAAMO,EAAW/wD,EAAMgxD,YACvBD,EAAS7yD,YAAYuyD,EAAMC,GAE3B1wD,EAAMixD,YAAY,WAAYF,GAC9B/wD,EAAMq1B,SAEN9tC,KAAKkM,eAAeC,SAgBtBw9D,eAlG2B,WAmG1B,IAAMr6D,EAAYtP,KAAKkM,eAEnBgI,EAAS,CACZe,OAAQ,EACRxB,KAAM,EACNgB,MAAO,EACPd,IAAK,GAGApE,EAAYD,EAAUE,kBAE5B,IAAKD,EAAU1M,OACd,OAAOqR,EAGR,IAAM01D,EAAiBr6D,EAAU,GAAGs6D,UAAU/0D,EAE9C80D,EAAevoE,MAAMwjD,QAAU,eAE/B3wC,EAAS,IAAIvS,SAAS2R,IAAI1O,QAAQglE,GAAgBzhD,gBAElDyhD,EAAe5uC,WAAWlD,YAAY8xC,GAEtC,IAAME,EAAY,IAAInoE,SAAS2R,IAAItK,OAClCA,QACC+e,oBAOF,OALA7T,EAAOe,OAAS60D,EAAUp2D,EAAIQ,EAAOe,OACrCf,EAAOT,KAAOq2D,EAAUt2D,EAAIU,EAAOT,KACnCS,EAAOO,MAAQq1D,EAAUt2D,EAAIU,EAAOO,MACpCP,EAAOP,IAAMm2D,EAAUp2D,EAAIQ,EAAOP,IAE3BO,GAcR61D,iBAjJ2B,WAkJ1B,IAAMz6D,EAAYtP,KAAKkM,eAEvB,IAAKoD,EAAU06D,YACd,OAAO,KAGR,IAAM7iD,EAAS,CACdviB,QAAS0K,EAAU2Q,qBACnBtF,KAAMrL,EAAU+vD,mBAKjB,OAFAl4C,EAAOjT,OAASlU,KAAKiqE,mBAAmB36D,GAEjC6X,GAiBR8iD,mBAhL2B,WAiL1B,IAAM/1D,EAASlU,KAAKkqE,uBAOpB,OALAh2D,EAAOvQ,UAAY3D,KAAKmqE,wBAExBj2D,EAAOxV,OAASwV,EAAOe,OAASf,EAAOP,IACvCO,EAAOvV,MAAQuV,EAAOO,MAAQP,EAAOT,KAE9BS,GAWRoF,iBAnM2B,WAoM1B,IAAMhK,EAAYtP,KAAKkM,eAEvB,GAAIoD,EAAU86D,YAAczoE,SAAS0oE,eACpC,OAAO,EAGR,IAAMC,EAASh7D,EAAYA,EAAUqK,YAAc,KACnD,OAAO2wD,GAA4B,IAAlBA,EAAOznE,QAAgBynE,EAAO,GAAGtD,WAgCnDkD,qBA3O2B,WA4O1B,IAAM56D,EAAYtP,KAAKkM,eACjBq+D,EAAkBj7D,EAAU06D,YAE5BQ,EAAc,CACnBv1D,OAAQ,EACRvW,OAAQ,EACR+U,KAAM,EACNgB,MAAO,EACPd,IAAK,EACLhV,MAAO,GAGJuV,EAAS,CACZe,OAAQ,EACRd,QAASq2D,EACT/2D,KAAM,EACNgB,MAAO,EACPd,IAAK,EACLS,UAAWo2D,GAGZ,IAAKD,EACJ,OAAOr2D,EAGR,IAAIe,EAAS,EACTw1D,SACAh3D,EAAOi3D,IACPj2D,GAASi2D,IACT/2D,EAAM+2D,IAWV,GARCD,EADGF,EAAgBvgB,YACLugB,EAAgBvgB,cAAc2gB,iBAG3CJ,EAAgB7gB,WAAa,EAC1B6gB,EAAgBK,WAAW,GAAGD,iBAC9B,GAGsB,IAAvBF,EAAY5nE,OACfqR,EAASlU,KAAK2pE,qBACR,CACN,IAAK,IAAI5tE,EAAI,EAAG8G,EAAS4nE,EAAY5nE,OAAQ9G,EAAI8G,EAAQ9G,IAAK,CAC7D,IAAM+J,EAAO2kE,EAAY1uE,GAErB+J,EAAK2N,KAAOA,IACfA,EAAO3N,EAAK2N,MAGT3N,EAAK2O,MAAQA,IAChBA,EAAQ3O,EAAK2O,OAGV3O,EAAK6N,IAAMA,IACdA,EAAM7N,EAAK6N,KAGR7N,EAAKmP,OAASA,IACjBA,EAASnP,EAAKmP,QAIhB,IAAM60D,EAAY,IAAInoE,SAAS2R,IAAItK,OAClCA,QACC+e,oBAOF,GALA7T,EAAOe,OAAS60D,EAAUp2D,EAAIuB,EAC9Bf,EAAOT,KAAOq2D,EAAUt2D,EAAIC,EAC5BS,EAAOO,MAAQq1D,EAAUt2D,EAAIiB,EAC7BP,EAAOP,IAAMm2D,EAAUp2D,EAAIC,EAEvB82D,EAAY5nE,OAAQ,CACvB,IAAMsR,EAAUs2D,EAAYA,EAAY5nE,OAAS,GAC3CuR,EAAYq2D,EAAY,GAE9Bv2D,EAAOC,QAAU,CAChBc,OAAQ60D,EAAUp2D,EAAIS,EAAQc,OAC9BvW,OAAQyV,EAAQzV,OAChB+U,KAAMq2D,EAAUt2D,EAAIW,EAAQV,KAC5BgB,MAAOq1D,EAAUt2D,EAAIW,EAAQM,MAC7Bd,IAAKm2D,EAAUp2D,EAAIS,EAAQR,IAC3BhV,MAAOwV,EAAQxV,OAGhBuV,EAAOE,UAAY,CAClBa,OAAQ60D,EAAUp2D,EAAIU,EAAUa,OAChCvW,OAAQ0V,EAAU1V,OAClB+U,KAAMq2D,EAAUt2D,EAAIY,EAAUX,KAC9BgB,MAAOq1D,EAAUt2D,EAAIY,EAAUK,MAC/Bd,IAAKm2D,EAAUp2D,EAAIU,EAAUT,IAC7BhV,MAAOyV,EAAUzV,QAKpB,OAAOuV,GAcRi2D,sBA1V2B,WA2V1B,IAAIxmE,EAAYhC,SAASwR,wBACnB7D,EAAYtP,KAAKkM,eACjBq+D,EAAkBj7D,EAAU06D,YAElC,IAAKO,EACJ,OAAO5mE,EAGR,IAAI6qC,SAEJ,IACEA,EAAa+7B,EAAgB/7B,aAC9BA,EAAW9K,wBACV,CACD,IAAMs+B,EAAWxzB,EAAW9K,wBAC3B6mC,EAAgB77B,aAIdszB,GACDuI,EAAgB97B,aACf87B,EAAgB57B,aAClBqzB,IAAa6I,KAAKC,+BAElBnnE,EAAYhC,SAAS0S,yBAIvB,OAAO1Q,IAIThC,SAAS6hB,QAAQwhC,IAAI,qBAAsB,CAC1C+lB,KAD0C,SACrC5sE,GACJ,IAAIkoB,SACEzoB,EAAiBnB,OAAOkB,UAAUC,eAExC,IAAKyoB,KAAQwiD,EAAgBlrE,UAE3BC,EAAe1B,KAAK2sE,EAAgBlrE,UAAW0oB,IACvB,qBAAjBloB,EAAOkoB,KAEdloB,EAAOkoB,GAAQwiD,EAAgBlrE,UAAU0oB,S,6BCtZ9C,IAAM2kD,EAAmC,CACxC5wD,MAAO,EACPkoB,IAAK,EACL2oC,SAAU,EACVC,MAAO,EACP9nC,GAAI,EACJ+nC,MAAO,EACP/tB,GAAI,EACJguB,MAAO,EACPC,GAAI,GAWL,SAAShxD,EAAMlc,GACd6B,KAAKikE,QAAU9lE,EAGhBkc,EAAMixD,aAAe,OACrBjxD,EAAMkxD,YAAc,SACpBlxD,EAAMmxD,aAAe,OACrBnxD,EAAMoxD,YAAc,MAEpBpxD,EAAM1c,UAAY,CACjB2a,YAAa+B,EAWbhd,OAZiB,SAYViB,GACN,IAAMH,EAAS6B,KAAKikE,QACd7pD,EAAQpa,KAAK0rE,eAAe,SAElCptE,EAASA,GAAU,GAOnB,IAJA,IAAM4sE,EAAQ9wD,EAAMuxD,OAAO3rE,KAAK0rE,eAAe,UACzCzmD,EAAO3mB,EAAO2mB,MAAQ,EACtBD,EAAO1mB,EAAO0mB,MAAQ,EAEnBjpB,EAAI,EAAGA,EAAIkpB,EAAMlpB,IAEzB,IADA,IAAMqgE,EAAM8O,EAAMS,OAAO3rE,KAAK0rE,eAAe,OACpCE,EAAI,EAAGA,EAAI5mD,EAAM4mD,IAAK,CAC9B,IAAMtO,EAAOlB,EAAIuP,OAAO3rE,KAAK0rE,eAAe,OAE5CpO,EAAKuO,cAIP7rE,KAAK4nE,cAAcxtD,EAAO9b,EAAO8U,OACjCpT,KAAK8rE,WAAW1xD,EAAO9b,EAAOytE,SAG9B5tE,EAAO4f,cAAc3D,GAErB,IAAM4xD,EAAY,IAAIrqE,SAAS2R,IAAI1O,QAAQwV,EAAMtF,EAAEmQ,KAAK,GAAGgnD,MAAM,IAC3DxzD,EAAQta,EAAO6rD,cAIrB,OAHAvxC,EAAMyzD,eAAeF,EAAWrqE,SAASwqE,sBACzC1zD,EAAMq1B,SAEC1zB,GAWR/H,iBAtDiB,WAuDhB,IAAI+H,SACE9K,EAAYtP,KAAKikE,QAAQ/3D,eACzByG,EAAWrD,EAAU2Q,qBAE3B,GAAItN,GAAYA,EAASqwB,GAAG,SAC3B5oB,EAAQzH,MACF,CACN,IAAM23D,EAASh7D,EAAYA,EAAUqK,YAAc,KAM/C2wD,GAAUA,EAAOznE,OAAS,IAKzBlB,SAAS8P,IAAI26D,QAChB9B,EAAO,GAAG/C,OAAO5lE,SAAS0qE,cAG3BjyD,EAAQpa,KAAKikE,QACXriE,YAAY0oE,EAAO,GAAG/wD,mBAAkB,IACxCE,SAAS,QAAS,IAItB,OAAOW,GAkBRE,WArGiB,SAqGNuD,GACV,OAAKlc,SAAS8P,IAAIC,IAAOmM,EAAGmlB,GAAGgoC,GAI3BntD,EAAGguC,aAAa,mBAC2B,UAAvChuC,EAAG7X,aAAa,mBAGjBhG,KAAKsa,WAAWuD,EAAGyuD,cAPjBzuD,EAAGrE,cAmBb4kD,WA1HiB,SA0HNhkD,GAGV,GAFAA,EAAQA,GAASpa,KAAKqS,oBAEjB+H,EACJ,OAAO,KAQR,IALA,IAAMmyD,EAAuC,OAAlBnyD,EAAMtF,EAAE03D,MAE/BC,GAAqB,EAGhBrQ,EAAM,EAAGA,EAAMhiD,EAAMtF,EAAEmQ,KAAKpiB,OAAQu5D,IAAO,CAEnD,IAAMkB,EAAOljD,EAAMtF,EAAEmQ,KAAKm3C,GAAK6P,MAAM,GAErC,GAAI3O,GAAwC,OAAhCA,EAAKxoC,SAAShwB,cAAwB,CACjD2nE,GAAqB,EACrB,OAIF,IAAIC,EAAkBryD,EAAMmxD,aAa5B,OAXIe,IACHG,EAAkBryD,EAAMoxD,aAGrBgB,IACHC,EACCA,IAAoBryD,EAAMoxD,YACvBpxD,EAAMixD,aACNjxD,EAAMkxD,aAGJmB,GAWRj9D,OAxKiB,SAwKV2K,GACN,IAAMjc,EAAS6B,KAAKikE,QAEpB,GAAI7pD,EACHA,EAAM3K,cAIN,GAFA2K,EAAQjc,EAAOyD,cAAc6X,SAAS,QAAS,GAE3CW,EAAO,CAEV,IAAMuyD,EAASvyD,EAAMkyD,YACf7jE,EAAWtK,EAAOsK,WAGI,IAA3BkkE,EAAOC,iBACND,EAAO3pC,GAAG,KAAM,OAChB2pC,EAAO/zD,OAAOnQ,KAEf2R,EAAQuyD,GAGT,IAAMl0D,EAAQta,EAAO6rD,cACrBvxC,EAAMyzD,eAAe9xD,EAAOzY,SAASkrE,uBACrCzyD,EAAM3K,WAcTm4D,cA7MiB,SA6MHxtD,EAAOhH,GAChBA,GACH3W,OAAOqH,KAAKsP,GAAOvN,SAAQ,SAAAwgB,GAC1BjM,EAAMnV,aAAaohB,EAAMjT,EAAMiT,QAclCylD,WA9NiB,SA8NN1xD,EAAO2xD,GACjB3xD,EAAQA,GAASpa,KAAKqS,mBAEtB,IAAItW,SACA+wE,SACAC,SACEC,EAAY5yD,EAAM6yD,iBAAiB,SAAS3F,QAAQ,GAEtD4F,EAAeltE,KAAKo+D,WAAWhkD,GAC7B+yD,EACLD,IAAiB7yD,EAAMkxD,aACvB2B,IAAiB7yD,EAAMixD,aAElB8B,EACLrB,IAAY1xD,EAAMkxD,aAAeQ,IAAY1xD,EAAMixD,aAC9C+B,EACLtB,IAAY1xD,EAAMoxD,aAAeM,IAAY1xD,EAAMixD,aAIpD,IAAKlxD,EAAMtF,EAAE03D,OAASa,EAAgB,CACrC,IAAMC,EAAgBN,EAAUC,iBAAiB,MAAM3F,QAAQ,GACzDiG,EAA0BD,EAAcV,gBAG9C,IAAK7wE,EAAI,EAAGA,EAAIwxE,EAAyBxxE,IAAK,CAC7C,IAAMuhE,EAAOgQ,EAAcE,SAASzxE,GAInCuhE,EAAK75D,OAAS9B,SAAS0qE,cACtB/O,EAAK79D,KAAK,kBAEX69D,EAAKmQ,WAAW,MAChBnQ,EAAKr4D,aAAa,QAAS,QAI7B8nE,EAAY/sE,KAAK0rE,eAAetxD,EAAMtF,EAAE44D,eACxCX,EAAUpB,OAAO2B,EAAc79D,UAKhC,GAAsB,OAAlB2K,EAAMtF,EAAE03D,QAAmBa,EAAgB,CAE9CN,EAAY/sE,KAAK0rE,eAAetxD,EAAMtF,EAAE03D,OAExC,IAAMmB,EAAmBX,EAAUY,WAEnC,MAAOb,EAAUH,gBAAkB,EAAG,CACrC,IAAMiB,EAAcd,EAAUa,WACxBE,EAAwBD,EAAYjB,gBAE1C,IAAK7wE,EAAI,EAAGA,EAAI+xE,EAAuB/xE,IACtC+wE,EAAUe,EAAYL,SAASzxE,GAE3B+wE,EAAQrpE,OAAS9B,SAAS0qE,eAC7BS,EAAQW,WAAW,MACnBX,EAAQ/5C,gBAAgB,UAI1B86C,EAAYppB,aAAakpB,GAG1BZ,EAAUt9D,SAGXy9D,EAAeltE,KAAKo+D,WAAWhkD,GAC/B,IAAM2zD,EACLb,IAAiB7yD,EAAMkxD,aACvB2B,IAAiB7yD,EAAMixD,aAIxB,IAAKyC,GAAiBX,EACrB,IAAKrxE,EAAI,EAAGA,EAAIqe,EAAMtF,EAAEmQ,KAAKpiB,OAAQ9G,IACoB,OAApDqe,EAAMtF,EAAEmQ,KAAKlpB,GAAGkwE,MAAM,GAAGn3C,SAAShwB,gBACrCgoE,EAAU,IAAInrE,SAAS2R,IAAI1O,QAC1BwV,EAAMtF,EAAEmQ,KAAKlpB,GAAGkwE,MAAM,IAEvBa,EAAQW,WAAW,MACnBX,EAAQ7nE,aAAa,QAAS,QAOjC,GAAIkoE,IAAkBC,EACrB,IAAKrxE,EAAI,EAAGA,EAAIqe,EAAMtF,EAAEmQ,KAAKpiB,OAAQ9G,IAAK,CACzC,IAAMqgE,EAAM,IAAIz6D,SAAS2R,IAAI1O,QAAQwV,EAAMtF,EAAEmQ,KAAKlpB,IAEhB,UAA9BqgE,EAAIkQ,YAAYzyD,YACnBizD,EAAU,IAAInrE,SAAS2R,IAAI1O,QAAQw3D,EAAItnD,EAAEm3D,MAAM,IAC/Ca,EAAQW,WAAW,MACnBX,EAAQ/5C,gBAAgB,YAgB5B24C,eA/UiB,SA+UFpvE,GACd,OAAO,IAAIqF,SAAS2R,IAAI1O,QAAQtI,EAAM0D,KAAKikE,QAAQjhE,YAIrDrB,SAASmJ,GAAG,iBAAiB,SAAArI,GAC5B,IAAMurE,EAAkB,CACvB3zD,EAAMmxD,aACNnxD,EAAMoxD,YACNpxD,EAAMkxD,YACNlxD,EAAMixD,cAGDxmD,EAAa,IAAIzK,EAAM5X,EAAMtE,QAEnC6vE,EAAgBnoE,SAAQ,SAAAkmE,GACvBtpE,EAAMtE,OAAO0I,WAAW,eAAiBklE,EAAS,CACjDrlE,KADiD,SAC5Cu9D,GACJn/C,EAAWgnD,WAAW,KAAMC,YAMhCpqE,SAAS0Y,MAAQ1Y,SAAS0Y,OAASA,G,6BChXnC1Y,SAAS+L,MAAMugE,MAAQ,SACtBC,EACAC,EACAzkE,EACA0kE,GAEA,IAAMC,EAAc1sE,SAAS+L,MAAM4gE,gBAEnCH,EAAYA,GAAa,GACzBA,EAAUzkE,SAAW,6BAA+B2kE,EAAc,IAE7D1sE,SAASigB,EAAE2sD,iBACf5sE,SAASigB,EAAE2sD,eAAiB,IAG7B5sE,SAASigB,EAAE2sD,eAAeF,GAAe,SAASG,GACjD5kE,YAAW,WACV6kE,IAEA/kE,EAAS8kE,OAIX,IAAIE,EAAgB,IAAI/sE,SAAS2R,IAAI1O,QAAQ,UAU7C,SAAS6pE,IACJC,IACHA,EAAcj/D,gBACP9N,SAASigB,EAAE2sD,eAAeF,GACjCK,EAAgB,MAMlB,OAnBAA,EAAczpE,aAAa,MAAOipE,EAAYS,OAAOR,IACrDO,EAAc5jE,GAAG,SAAS,WACzB2jE,IAEIL,GACHA,OAYFzsE,SAASqB,SAAS4rE,UAAUjD,OAAO+C,GAE5B,CACNG,OAAQJ,EACR5mE,GAAIwmE,IAiBN1sE,SAAS+L,MAAMC,MACdhM,SAAS+L,MAAMC,OACf,WAAkB,IACjB,IAAMwZ,EAAS,GADE,mBAAND,EAAM,qBAANA,EAAM,gBAGjB,IAAK,IAAInrB,EAAI,EAAGA,EAAImrB,EAAKrkB,SAAU9G,EAAG,CACrC,IAAMyR,EAAM0Z,EAAKnrB,GAEjB,IAAK,IAAMuB,KAAOkQ,EACb/Q,OAAOkB,UAAUC,eAAe1B,KAAKsR,EAAKlQ,KAC7C6pB,EAAO7pB,GAAOkQ,EAAIlQ,IAKrB,OAAO6pB,GAYTxlB,SAAS+L,MAAMohE,SAAW,SAASlqE,EAASnC,GAC3C,IAAMssE,EAAgB/rE,SAASgsE,YAAY,UAC3CD,EAAcE,UAAUxsE,GAAO,GAAM,GACrCmC,EAAQsqE,cAAcH,K,6BChHlBptE,SAAS6hB,QAAQ5mB,IAAI,cAuDzB+E,SAAS6hB,QAAQwhC,IAAI,YAAa,CASjC+lB,KATiC,SAS5B5sE,GACJ,IAAIgxE,EAAY,GAEVC,EAAcpvE,KAAKqvE,mBAAmBlxE,EAAO0J,IAE7CynE,EAAiBnxE,EAAOG,OAAOixE,OAClCpxE,EAAOG,OAAOixE,OAAOznB,QACrB,GAEG0nB,EAAW7tE,SAAS+L,MAAMu4D,UAAS,SAAAxjE,GAGxC,GAFA0sE,EAAY,GAGI,UAAf1sE,EAAMnG,MACmB,KAAzBmG,EAAMhD,KAAKqV,EAAEzQ,SACblG,EAAOG,OAAOmxE,SACb,CACD,IAAM37D,EAAgB3V,EAAO4rE,mBAEzBj2D,GACH3V,EAAOwB,KAAK,oBAAqB,CAChCoU,YAAatR,EAAMhD,KAAKqV,EACxBhB,qBAIDw7D,GAEGI,EAAa/tE,SAAS+L,MAAMu4D,UAAS,SAAA0J,GAC1CP,EAAYz3C,UAAYw3C,EAAUzzD,KAAK,QACrC4zD,GAEGM,EAAmBjuE,SAAS+L,MAAMu4D,UAAS,SAAAxjE,GAKhD,IAJA,IAAMotE,EAAY7sE,SAASyC,iBAAiB,UAExCqqE,SAEK/zE,EAAI,EAAGA,EAAI8zE,EAAUhtE,OAAQ9G,IACrC,GAAI8zE,EAAU9zE,GAAG0d,SAAShX,EAAMhD,KAAKqV,EAAEq3B,eAAgB,CACtD2jC,GAAQ,EACR,MAIGA,GACJN,EAAS/sE,KAER6sE,GAEHnxE,EAAO2M,GAAG,cAAc,SAAArI,GAOvB0sE,EAAUlpE,KAAKxD,EAAMhD,KAAKswE,SAE1BL,OAGDvxE,EAAO0L,KAAK,cAAc,WACzB,IAAMpB,EAAWtK,EAAOsK,WAElBunE,EAAevnE,EAASwnE,eAC7BxnE,EACA,SACA,SAAAhG,GACCutE,EAAatW,iBAEbjxD,EAASwnE,eAAexnE,EAAU,QAAS+mE,GAC3C/mE,EAASwnE,eAAexnE,EAAU,UAAW+mE,GAC7C/mE,EAASwnE,eACRxnE,EACA,aACAmnE,GAGDJ,EAAS/sE,SAKZtE,EAAO2M,GAAG,WAAW,SAAA6kE,GACpBP,EAAYp0C,WAAWlD,YAAYs3C,GAEnCI,EAASlJ,aAaX+I,mBA5GiC,SA4GdxnE,GAClB,IAAMqoE,EAAgBltE,SAASiV,cAAc,OAU7C,OARAi4D,EAAclyE,UAAY,aAE1BkyE,EAAcjrE,aAAa,YAAa,UACxCirE,EAAcjrE,aAAa,OAAQ,UACnCirE,EAAcjrE,aAAa,KAAM4C,EAAK,cAEtC7E,SAAS4T,KAAKmhB,YAAYm4C,GAEnBA,M,6BC9KV,a,OACA,Q,qVAEA,IAAMC,EAAOxuE,SAAS8P,IAAIC,GAErB/P,SAAS6hB,QAAQ5mB,IAAI,iBA6BzB+E,SAAS6hB,QAAQwhC,IAAI,eAAgB,CAUpC+lB,KAVoC,SAU/B5sE,GAAQ,WACZ6B,KAAKowE,iBAAmBjyE,EAAOG,OAAO8xE,iBACtCpwE,KAAKqwE,kBAAoBlyE,EAAOG,OAAO+xE,kBAEvClyE,EAAO0L,KAAK,cAAc,WACzB,IAAMpB,EAAWtK,EAAOsK,WAExBA,EAASwnE,eACRxnE,EACA,YACA,EAAK6nE,aACL,EACA,CACCnyE,WAIFsK,EAASwnE,eACRxnE,EACA,WACA,EAAK8nE,YACL,EACA,CACCpyE,WAIFsK,EAASwnE,eACRxnE,EACA,OACA,EAAK+nE,YACL,EACA,CACCryE,WAIFsK,EAASwnE,eACRxnE,EACA,QACA,EAAKgoE,SACL,EACA,CACCtyE,eAkBJuyE,aAvEoC,SAuEvB9V,EAAOz8D,GACnB,IAAI48D,SACAh/D,SAEEi/D,EAAa,GAEnB,IAAKj/D,EAAI,EAAGA,EAAI6+D,EAAM/3D,OAAQ9G,IAC7Bg/D,EAAOH,EAAM7+D,GAEsB,IAA/Bg/D,EAAKt3D,KAAKN,QAAQ,UACrB63D,EAAW/0D,KAAK80D,GAIlB,IAAM5zC,EAAShpB,EAAOwB,KAAK,iBAAkB,CAC5Cq7D,eAGD,GAAI7zC,EACH,IAAKprB,EAAI,EAAGA,EAAIi/D,EAAWn4D,OAAQ9G,IAClCg/D,EAAOC,EAAWj/D,GAElBiE,KAAK2wE,aAAa5V,EAAM58D,GAI1B,OAAO,GAcRqyE,YA/GoC,SA+GxB/tE,GACX,IAAMsR,EAActR,EAAMhD,KAAKqV,EAEzB87D,EAAgB78D,EAAY6+B,aAAagoB,MAE/C,GAAIgW,EAAc/tE,OAAS,EAAG,CAC7B,IAAIlB,SAAS2R,IAAI7Q,MAAMsR,GAAa1Q,iBAEpC,IAAMlF,EAASsE,EAAMsiE,aAAa5mE,OAElCsE,EAAMsiE,aAAa5mE,OAAO2qE,yBACzB/0D,EAAYg4B,QACZh4B,EAAYi4B,SAGbhsC,KAAK0wE,aAAaE,EAAezyE,KAanCmyE,aA3IoC,SA2IvB7tE,GACR0tE,GACHnwE,KAAK6wE,cAAcpuE,IAarB8tE,YA1JoC,SA0JxB9tE,GACP0tE,GACHnwE,KAAK6wE,cAAcpuE,IAcrBguE,SA1KoC,SA0K3BhuE,GACR,GACCA,EAAMhD,MACNgD,EAAMhD,KAAKqV,GACXrS,EAAMhD,KAAKqV,EAAEq6B,eACb1sC,EAAMhD,KAAKqV,EAAEq6B,cAAclnC,OAC3BxF,EAAMhD,KAAKqV,EAAEq6B,cAAclnC,MAAMpF,OAAS,EACzC,CACD,IAAMiuE,EAAaruE,EAAMhD,KAAKqV,EAAEq6B,cAAclnC,MAAM,GAEpD,GAAyC,IAArC6oE,EAAWrtE,KAAKN,QAAQ,SAAgB,CAC3C,IAAM4tE,EAAYD,EAAWE,YAE7BhxE,KAAK2wE,aAAaI,EAAWtuE,EAAMsiE,aAAa5mE,WAcnD0yE,cArMoC,SAqMtBpuE,GACbA,EAAQ,IAAId,SAAS2R,IAAI7Q,MAAMA,EAAMhD,KAAKqV,GAE1CrS,EAAMY,iBACNZ,EAAMW,mBAcPutE,aAvNoC,SAuNvB5V,EAAM58D,GAAQ,WACpB08D,EAAS,IAAIC,WAEnBD,EAAOz8C,iBAAiB,UAAxB,mCAAmC,WAAOuM,GAAP,4GAEd,IAAAxJ,UAASwJ,EAAEhoB,OAAOwkB,OAAQ4zC,EAAKt3D,MAFjB,OAE3BhE,EAF2B,OAK3Boe,EAAKlc,SAAS2R,IAAI1O,QAAQkZ,eAC/B,aAAere,EAAO,MAGvBtB,EAAO4f,cAAcF,GAEfo9C,EAAY,CACjBp9C,KACAk9C,QAGD58D,EAAOwB,KAAK,WAAYs7D,GAhBS,qDAqBjC95D,QAAQ+5D,KAAR,uCArBiC,uDAAnC,uDAyBAL,EAAOM,cAAcJ,O,gBCnRxB,IAAIkW,EAAW,SAAUp1E,GACvB,aAEA,IAEImf,EAFAk2D,EAAKz0E,OAAOkB,UACZwzE,EAASD,EAAGtzE,eAEZwzE,EAA4B,oBAAXt0E,OAAwBA,OAAS,GAClDu0E,EAAiBD,EAAQhoD,UAAY,aACrCkoD,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQr0E,aAAe,gBAE/C,SAAS00E,EAAKC,EAASC,EAASC,EAAMC,GAEpC,IAAIC,EAAiBH,GAAWA,EAAQh0E,qBAAqBo0E,EAAYJ,EAAUI,EAC/EC,EAAYv1E,OAAOY,OAAOy0E,EAAen0E,WACzC2B,EAAU,IAAI2yE,EAAQJ,GAAe,IAMzC,OAFAG,EAAUE,QAAUC,EAAiBT,EAASE,EAAMtyE,GAE7C0yE,EAcT,SAASI,EAASxrE,EAAI4G,EAAK6kE,GACzB,IACE,MAAO,CAAE5uE,KAAM,SAAU4uE,IAAKzrE,EAAG1K,KAAKsR,EAAK6kE,IAC3C,MAAOnxE,GACP,MAAO,CAAEuC,KAAM,QAAS4uE,IAAKnxE,IAhBjCrF,EAAQ41E,KAAOA,EAoBf,IAAIa,EAAyB,iBACzBC,EAAyB,iBACzBC,EAAoB,YACpBC,EAAoB,YAIpBC,EAAmB,GAMvB,SAASX,KACT,SAASY,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBA,EAAkBxB,GAAkB,WAClC,OAAOrxE,MAGT,IAAI8yE,EAAWr2E,OAAOs2E,eAClBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MAC/DD,GACAA,IAA4B9B,GAC5BC,EAAOj1E,KAAK82E,EAAyB3B,KAGvCwB,EAAoBG,GAGtB,IAAIE,EAAKN,EAA2Bj1E,UAClCo0E,EAAUp0E,UAAYlB,OAAOY,OAAOw1E,GAQtC,SAASM,EAAsBx1E,GAC7B,CAAC,OAAQ,QAAS,UAAUkI,SAAQ,SAASutE,GAC3Cz1E,EAAUy1E,GAAU,SAASf,GAC3B,OAAOryE,KAAKkyE,QAAQkB,EAAQf,OAoClC,SAASgB,EAAcrB,EAAWsB,GAChC,SAASC,EAAOH,EAAQf,EAAKzvD,EAAS4wD,GACpC,IAAIC,EAASrB,EAASJ,EAAUoB,GAASpB,EAAWK,GACpD,GAAoB,UAAhBoB,EAAOhwE,KAEJ,CACL,IAAI0jB,EAASssD,EAAOpB,IAChBr1E,EAAQmqB,EAAOnqB,MACnB,OAAIA,GACiB,kBAAVA,GACPm0E,EAAOj1E,KAAKc,EAAO,WACds2E,EAAY1wD,QAAQ5lB,EAAM02E,SAAS7wD,MAAK,SAAS7lB,GACtDu2E,EAAO,OAAQv2E,EAAO4lB,EAAS4wD,MAC9B,SAAStyE,GACVqyE,EAAO,QAASryE,EAAK0hB,EAAS4wD,MAI3BF,EAAY1wD,QAAQ5lB,GAAO6lB,MAAK,SAAS8wD,GAI9CxsD,EAAOnqB,MAAQ22E,EACf/wD,EAAQuE,MACP,SAAS/lB,GAGV,OAAOmyE,EAAO,QAASnyE,EAAOwhB,EAAS4wD,MAvBzCA,EAAOC,EAAOpB,KA4BlB,IAAIuB,EAEJ,SAASC,EAAQT,EAAQf,GACvB,SAASyB,IACP,OAAO,IAAIR,GAAY,SAAS1wD,EAAS4wD,GACvCD,EAAOH,EAAQf,EAAKzvD,EAAS4wD,MAIjC,OAAOI,EAaLA,EAAkBA,EAAgB/wD,KAChCixD,EAGAA,GACEA,IAKR9zE,KAAKkyE,QAAU2B,EA2BjB,SAAS1B,EAAiBT,EAASE,EAAMtyE,GACvC,IAAI0C,EAAQswE,EAEZ,OAAO,SAAgBc,EAAQf,GAC7B,GAAIrwE,IAAUwwE,EACZ,MAAM,IAAIhpE,MAAM,gCAGlB,GAAIxH,IAAUywE,EAAmB,CAC/B,GAAe,UAAXW,EACF,MAAMf,EAKR,OAAO0B,IAGTz0E,EAAQ8zE,OAASA,EACjB9zE,EAAQ+yE,IAAMA,EAEd,MAAO,EAAM,CACX,IAAI2B,EAAW10E,EAAQ00E,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAU10E,GACnD,GAAI20E,EAAgB,CAClB,GAAIA,IAAmBvB,EAAkB,SACzC,OAAOuB,GAIX,GAAuB,SAAnB30E,EAAQ8zE,OAGV9zE,EAAQ60E,KAAO70E,EAAQ80E,MAAQ90E,EAAQ+yE,SAElC,GAAuB,UAAnB/yE,EAAQ8zE,OAAoB,CACrC,GAAIpxE,IAAUswE,EAEZ,MADAtwE,EAAQywE,EACFnzE,EAAQ+yE,IAGhB/yE,EAAQ+0E,kBAAkB/0E,EAAQ+yE,SAEN,WAAnB/yE,EAAQ8zE,QACjB9zE,EAAQg1E,OAAO,SAAUh1E,EAAQ+yE,KAGnCrwE,EAAQwwE,EAER,IAAIiB,EAASrB,EAASV,EAASE,EAAMtyE,GACrC,GAAoB,WAAhBm0E,EAAOhwE,KAAmB,CAO5B,GAJAzB,EAAQ1C,EAAQ0sB,KACZymD,EACAF,EAEAkB,EAAOpB,MAAQK,EACjB,SAGF,MAAO,CACL11E,MAAOy2E,EAAOpB,IACdrmD,KAAM1sB,EAAQ0sB,MAGS,UAAhBynD,EAAOhwE,OAChBzB,EAAQywE,EAGRnzE,EAAQ8zE,OAAS,QACjB9zE,EAAQ+yE,IAAMoB,EAAOpB,OAU7B,SAAS6B,EAAoBF,EAAU10E,GACrC,IAAI8zE,EAASY,EAAS5qD,SAAS9pB,EAAQ8zE,QACvC,GAAIA,IAAWp4D,EAAW,CAKxB,GAFA1b,EAAQ00E,SAAW,KAEI,UAAnB10E,EAAQ8zE,OAAoB,CAE9B,GAAIY,EAAS5qD,SAAS,YAGpB9pB,EAAQ8zE,OAAS,SACjB9zE,EAAQ+yE,IAAMr3D,EACdk5D,EAAoBF,EAAU10E,GAEP,UAAnBA,EAAQ8zE,QAGV,OAAOV,EAIXpzE,EAAQ8zE,OAAS,QACjB9zE,EAAQ+yE,IAAM,IAAIp3D,UAChB,kDAGJ,OAAOy3D,EAGT,IAAIe,EAASrB,EAASgB,EAAQY,EAAS5qD,SAAU9pB,EAAQ+yE,KAEzD,GAAoB,UAAhBoB,EAAOhwE,KAIT,OAHAnE,EAAQ8zE,OAAS,QACjB9zE,EAAQ+yE,IAAMoB,EAAOpB,IACrB/yE,EAAQ00E,SAAW,KACZtB,EAGT,IAAIrf,EAAOogB,EAAOpB,IAElB,OAAMhf,EAOFA,EAAKrnC,MAGP1sB,EAAQ00E,EAASO,YAAclhB,EAAKr2D,MAGpCsC,EAAQmF,KAAOuvE,EAASQ,QAQD,WAAnBl1E,EAAQ8zE,SACV9zE,EAAQ8zE,OAAS,OACjB9zE,EAAQ+yE,IAAMr3D,GAUlB1b,EAAQ00E,SAAW,KACZtB,GANErf,GA3BP/zD,EAAQ8zE,OAAS,QACjB9zE,EAAQ+yE,IAAM,IAAIp3D,UAAU,oCAC5B3b,EAAQ00E,SAAW,KACZtB,GAoDX,SAAS+B,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB10E,KAAKg1E,WAAW/uE,KAAK0uE,GAGvB,SAASM,EAAcN,GACrB,IAAIlB,EAASkB,EAAMO,YAAc,GACjCzB,EAAOhwE,KAAO,gBACPgwE,EAAOpB,IACdsC,EAAMO,WAAazB,EAGrB,SAASxB,EAAQJ,GAIf7xE,KAAKg1E,WAAa,CAAC,CAAEJ,OAAQ,SAC7B/C,EAAYhsE,QAAQ4uE,EAAcz0E,MAClCA,KAAKm1E,OAAM,GA8Bb,SAASlC,EAAOmC,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAS/D,GAC9B,GAAIgE,EACF,OAAOA,EAAen5E,KAAKk5E,GAG7B,GAA6B,oBAAlBA,EAAS3wE,KAClB,OAAO2wE,EAGT,IAAK92D,MAAM82D,EAASvyE,QAAS,CAC3B,IAAI9G,GAAK,EAAG0I,EAAO,SAASA,IAC1B,QAAS1I,EAAIq5E,EAASvyE,OACpB,GAAIsuE,EAAOj1E,KAAKk5E,EAAUr5E,GAGxB,OAFA0I,EAAKzH,MAAQo4E,EAASr5E,GACtB0I,EAAKunB,MAAO,EACLvnB,EAOX,OAHAA,EAAKzH,MAAQge,EACbvW,EAAKunB,MAAO,EAELvnB,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAMsvE,GAIjB,SAASA,IACP,MAAO,CAAE/2E,MAAOge,EAAWgR,MAAM,GA+MnC,OA3mBA2mD,EAAkBh1E,UAAYu1E,EAAG56D,YAAcs6D,EAC/CA,EAA2Bt6D,YAAcq6D,EACzCC,EAA2BpB,GACzBmB,EAAkBv+C,YAAc,oBAYlCv4B,EAAQy5E,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,oBAAXD,GAAyBA,EAAOj9D,YAClD,QAAOk9D,IACHA,IAAS7C,GAG2B,uBAAnC6C,EAAKphD,aAAeohD,EAAKl5E,QAIhCT,EAAQ45E,KAAO,SAASF,GAUtB,OATI94E,OAAOi5E,eACTj5E,OAAOi5E,eAAeH,EAAQ3C,IAE9B2C,EAAOI,UAAY/C,EACbpB,KAAqB+D,IACzBA,EAAO/D,GAAqB,sBAGhC+D,EAAO53E,UAAYlB,OAAOY,OAAO61E,GAC1BqC,GAOT15E,EAAQ+5E,MAAQ,SAASvD,GACvB,MAAO,CAAEqB,QAASrB,IAsEpBc,EAAsBE,EAAc11E,WACpC01E,EAAc11E,UAAU2zE,GAAuB,WAC7C,OAAOtxE,MAETnE,EAAQw3E,cAAgBA,EAKxBx3E,EAAQg6E,MAAQ,SAASnE,EAASC,EAASC,EAAMC,EAAayB,QACxC,IAAhBA,IAAwBA,EAAc5xD,SAE1C,IAAIo0D,EAAO,IAAIzC,EACb5B,EAAKC,EAASC,EAASC,EAAMC,GAC7ByB,GAGF,OAAOz3E,EAAQy5E,oBAAoB3D,GAC/BmE,EACAA,EAAKrxE,OAAOoe,MAAK,SAASsE,GACxB,OAAOA,EAAO6E,KAAO7E,EAAOnqB,MAAQ84E,EAAKrxE,WAuKjD0uE,EAAsBD,GAEtBA,EAAG1B,GAAqB,YAOxB0B,EAAG7B,GAAkB,WACnB,OAAOrxE,MAGTkzE,EAAG/yE,SAAW,WACZ,MAAO,sBAkCTtE,EAAQiI,KAAO,SAASrG,GACtB,IAAIqG,EAAO,GACX,IAAK,IAAIxG,KAAOG,EACdqG,EAAKmC,KAAK3I,GAMZ,OAJAwG,EAAKiyE,UAIE,SAAStxE,IACd,MAAOX,EAAKjB,OAAQ,CAClB,IAAIvF,EAAMwG,EAAK2nB,MACf,GAAInuB,KAAOG,EAGT,OAFAgH,EAAKzH,MAAQM,EACbmH,EAAKunB,MAAO,EACLvnB,EAQX,OADAA,EAAKunB,MAAO,EACLvnB,IAsCX5I,EAAQo3E,OAASA,EAMjBhB,EAAQt0E,UAAY,CAClB2a,YAAa25D,EAEbkD,MAAO,SAASa,GAcd,GAbAh2E,KAAK0E,KAAO,EACZ1E,KAAKyE,KAAO,EAGZzE,KAAKm0E,KAAOn0E,KAAKo0E,MAAQp5D,EACzBhb,KAAKgsB,MAAO,EACZhsB,KAAKg0E,SAAW,KAEhBh0E,KAAKozE,OAAS,OACdpzE,KAAKqyE,IAAMr3D,EAEXhb,KAAKg1E,WAAWnvE,QAAQovE,IAEnBe,EACH,IAAK,IAAI15E,KAAQ0D,KAEQ,MAAnB1D,EAAKsO,OAAO,IACZumE,EAAOj1E,KAAK8D,KAAM1D,KACjBgiB,OAAOhiB,EAAKsJ,MAAM,MACrB5F,KAAK1D,GAAQ0e,IAMrB6D,KAAM,WACJ7e,KAAKgsB,MAAO,EAEZ,IAAIiqD,EAAYj2E,KAAKg1E,WAAW,GAC5BkB,EAAaD,EAAUf,WAC3B,GAAwB,UAApBgB,EAAWzyE,KACb,MAAMyyE,EAAW7D,IAGnB,OAAOryE,KAAKm2E,MAGd9B,kBAAmB,SAAS+B,GAC1B,GAAIp2E,KAAKgsB,KACP,MAAMoqD,EAGR,IAAI92E,EAAUU,KACd,SAASq2E,EAAOC,EAAKC,GAYnB,OAXA9C,EAAOhwE,KAAO,QACdgwE,EAAOpB,IAAM+D,EACb92E,EAAQmF,KAAO6xE,EAEXC,IAGFj3E,EAAQ8zE,OAAS,OACjB9zE,EAAQ+yE,IAAMr3D,KAGNu7D,EAGZ,IAAK,IAAIx6E,EAAIiE,KAAKg1E,WAAWnyE,OAAS,EAAG9G,GAAK,IAAKA,EAAG,CACpD,IAAI44E,EAAQ30E,KAAKg1E,WAAWj5E,GACxB03E,EAASkB,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAOyB,EAAO,OAGhB,GAAI1B,EAAMC,QAAU50E,KAAK0E,KAAM,CAC7B,IAAI8xE,EAAWrF,EAAOj1E,KAAKy4E,EAAO,YAC9B8B,EAAatF,EAAOj1E,KAAKy4E,EAAO,cAEpC,GAAI6B,GAAYC,EAAY,CAC1B,GAAIz2E,KAAK0E,KAAOiwE,EAAME,SACpB,OAAOwB,EAAO1B,EAAME,UAAU,GACzB,GAAI70E,KAAK0E,KAAOiwE,EAAMG,WAC3B,OAAOuB,EAAO1B,EAAMG,iBAGjB,GAAI0B,GACT,GAAIx2E,KAAK0E,KAAOiwE,EAAME,SACpB,OAAOwB,EAAO1B,EAAME,UAAU,OAG3B,KAAI4B,EAMT,MAAM,IAAIjtE,MAAM,0CALhB,GAAIxJ,KAAK0E,KAAOiwE,EAAMG,WACpB,OAAOuB,EAAO1B,EAAMG,gBAU9BR,OAAQ,SAAS7wE,EAAM4uE,GACrB,IAAK,IAAIt2E,EAAIiE,KAAKg1E,WAAWnyE,OAAS,EAAG9G,GAAK,IAAKA,EAAG,CACpD,IAAI44E,EAAQ30E,KAAKg1E,WAAWj5E,GAC5B,GAAI44E,EAAMC,QAAU50E,KAAK0E,MACrBysE,EAAOj1E,KAAKy4E,EAAO,eACnB30E,KAAK0E,KAAOiwE,EAAMG,WAAY,CAChC,IAAI4B,EAAe/B,EACnB,OAIA+B,IACU,UAATjzE,GACS,aAATA,IACDizE,EAAa9B,QAAUvC,GACvBA,GAAOqE,EAAa5B,aAGtB4B,EAAe,MAGjB,IAAIjD,EAASiD,EAAeA,EAAaxB,WAAa,GAItD,OAHAzB,EAAOhwE,KAAOA,EACdgwE,EAAOpB,IAAMA,EAETqE,GACF12E,KAAKozE,OAAS,OACdpzE,KAAKyE,KAAOiyE,EAAa5B,WAClBpC,GAGF1yE,KAAK22E,SAASlD,IAGvBkD,SAAU,SAASlD,EAAQsB,GACzB,GAAoB,UAAhBtB,EAAOhwE,KACT,MAAMgwE,EAAOpB,IAcf,MAXoB,UAAhBoB,EAAOhwE,MACS,aAAhBgwE,EAAOhwE,KACTzD,KAAKyE,KAAOgvE,EAAOpB,IACM,WAAhBoB,EAAOhwE,MAChBzD,KAAKm2E,KAAOn2E,KAAKqyE,IAAMoB,EAAOpB,IAC9BryE,KAAKozE,OAAS,SACdpzE,KAAKyE,KAAO,OACa,WAAhBgvE,EAAOhwE,MAAqBsxE,IACrC/0E,KAAKyE,KAAOswE,GAGPrC,GAGTkE,OAAQ,SAAS9B,GACf,IAAK,IAAI/4E,EAAIiE,KAAKg1E,WAAWnyE,OAAS,EAAG9G,GAAK,IAAKA,EAAG,CACpD,IAAI44E,EAAQ30E,KAAKg1E,WAAWj5E,GAC5B,GAAI44E,EAAMG,aAAeA,EAGvB,OAFA90E,KAAK22E,SAAShC,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACPjC,IAKb,MAAS,SAASkC,GAChB,IAAK,IAAI74E,EAAIiE,KAAKg1E,WAAWnyE,OAAS,EAAG9G,GAAK,IAAKA,EAAG,CACpD,IAAI44E,EAAQ30E,KAAKg1E,WAAWj5E,GAC5B,GAAI44E,EAAMC,SAAWA,EAAQ,CAC3B,IAAInB,EAASkB,EAAMO,WACnB,GAAoB,UAAhBzB,EAAOhwE,KAAkB,CAC3B,IAAIozE,EAASpD,EAAOpB,IACpB4C,EAAcN,GAEhB,OAAOkC,GAMX,MAAM,IAAIrtE,MAAM,0BAGlBstE,cAAe,SAAS1B,EAAUb,EAAYC,GAa5C,OAZAx0E,KAAKg0E,SAAW,CACd5qD,SAAU6pD,EAAOmC,GACjBb,WAAYA,EACZC,QAASA,GAGS,SAAhBx0E,KAAKozE,SAGPpzE,KAAKqyE,IAAMr3D,GAGN03D,IAQJ72E,EA1rBK,CAisBiBC,EAAOD,SAGtC,IACEk7E,mBAAqB9F,EACrB,MAAO+F,GAUPC,SAAS,IAAK,yBAAdA,CAAwChG,K,6BCltB1C,IAAKtvE,SAAS6hB,QAAQ5mB,IAAI,eAAgB,CAGrC,uCAAuCiO,KAAKZ,UAAUitE,YACzDl0E,SAASxD,YAAY,iBAAiB,GAAO,GAG9C,IAAM23E,EAAW,EAEXC,EAAY,IAEZ73D,EAAY,GAEZ83D,EAAgB,IAEhBC,EAAY,GAEZC,EAAa,CAACH,EAAW73D,EAAW83D,EAAeC,GAEnDE,EAAkB,YAGlBC,EACL,wKAOKC,EAAc,iDAQpB/1E,SAAS6hB,QAAQwhC,IAAI,cAAe,CAUnC+lB,KAVmC,SAU9B5sE,GAAQ,WACZA,EAAO0L,KAAK,cAAc,WACzB,IAAMpB,EAAWtK,EAAOsK,WAExBA,EAASwnE,eACRxnE,EACA,QACA,EAAKkvE,SACL,EACA,CACCx5E,cAKHA,EAAO2M,GAAG,SAAS,SAAArI,GAClB,GAA0B,UAAtBA,EAAMhD,KAAK2zE,OAAoB,CAClC,GACC3wE,EAAMhD,KAAKm4E,UAAUz0E,QAAQ,MAAQ,GACrCV,EAAMhD,KAAKm4E,UAAUz0E,QAAQ,SAAW,EAWxC,YARCV,EAAMhD,KAAKm4E,UAAUz0E,QAAQ,qBAC5B,IAEDV,EAAMhD,KAAKm4E,UAAYn1E,EAAMhD,KAAKm4E,UAAUvsD,QAC3C,0CACA,MAMH,IAAM9Y,EAAW,EAEjB9P,EAAMhD,KAAKm4E,UAAYn1E,EAAMhD,KAAKm4E,UAAUvsD,QAC3CwsD,OAAOJ,EAAW,QAClB,SAAA93D,GACC,GAAIpN,EAASulE,YAAYn4D,GACxB,OAAIpN,EAASwlE,cAAcp4D,GAEzB,mBACAA,EACA,KACAA,EACA,OAIA,YAAcA,EAAM,KAAOA,EAAM,eAoBzCq4D,aA/EmC,SA+EtB75E,GACZ,IAAMmR,EAAYnR,EAAO+N,eACnBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KAMrD,GAAKlB,EAAL,CAIA,IAAM8qB,EAAS9qB,EAAMM,YAEjBk/D,EAAe,GAGnB,GAAIj4E,KAAKk4E,kBAAoB34D,EAAW,CACvC,IAAI44D,EAAe1/D,EAAMI,eAAeu/D,cAEpCngD,SAEJ,GAAIkgD,EAAc,CAGjB,OAAQA,EAAaE,QACpBF,EAAeA,EAAaC,cAG7BngD,EAAYkgD,EAAaE,UAKzB,MAAOpgD,IAAcA,EAAUvf,UAC9Buf,EAAYA,EAAUmgD,cAKlBngD,GAAaA,EAAUnjB,EAAElW,OAC9BoB,KAAKs4E,gBAAkBrgD,EACvBggD,EAAehgD,EAAYA,EAAUvf,UAAY,GACjD1Y,KAAKu4E,QAAUN,EAAap1E,aAG7B7C,KAAKs4E,gBAAkB7/D,EAAMI,eAG7Bo/D,EAAej4E,KAAKs4E,gBAClB5/D,UACAspB,UAAU,EAAGuB,EAAS,GAExBvjC,KAAKu4E,QAAUh1C,EAAS,EAGzB,IAAIi1C,EAAW,GAETpvE,EAAQ6uE,EAAa7uE,MAAMouE,GAMjC,OAJIpuE,IACHovE,EAAWpvE,EAAMqiB,OAGX+sD,IAaRT,cA5JmC,SA4JrB5uC,GACb,OAAOuuC,EAAY7sE,KAAKs+B,IAazB2uC,YA1KmC,SA0KvB1lE,GACX,OAAOylE,OAAOJ,EAAW,KAAK5sE,KAAKuH,IAapCqmE,WAxLmC,SAwLxBh2E,GACV,IAAMsR,EAActR,EAAMhD,KAAKqV,EAEzB3W,EAASsE,EAAMsiE,aAAa5mE,OAE5BsK,EAAWtK,EAAOsK,WAExBA,EAASixD,eAAe,UAAW15D,KAAKy4E,YAEpC1kE,EAAY1P,UAAY8yE,IAC3B10E,EAAMosE,SACNpsE,EAAMhD,KAAK4D,iBAEXrD,KAAKoP,YAAYjR,IAGlB6B,KAAK04E,QAAU,MAahBf,SArNmC,SAqN1Bl1E,GACR,IAAMsR,EAActR,EAAMhD,KAAKqV,EAI/B,GAFA9U,KAAKk4E,gBAAkBnkE,EAAY1P,SAEe,IAA9CkzE,EAAWp0E,QAAQnD,KAAKk4E,iBAAyB,CACpD,IAAM/5E,EAASsE,EAAMsiE,aAAa5mE,OAE5Bq6E,EAAWx4E,KAAKg4E,aAAa75E,GAE/B6B,KAAK83E,YAAYU,IACpBx4E,KAAK24E,sBAAsBx6E,EAAQq6E,KAetCG,sBA/OmC,SA+Obx6E,EAAQy6E,GAC7B,IAAIngE,EAAQta,EAAO6rD,cACbthD,EAAO/G,SAAS2R,IAAI1O,QAAQhI,IAAIoD,KAAKs4E,iBACrC/0C,EAASvjC,KAAKu4E,QAGpB9/D,EAAMwxC,SAASvhD,EAAM66B,EAASq1C,EAAQ/1E,QACtC4V,EAAM2xC,OAAO1hD,EAAM66B,GACnB9qB,EAAMq1B,SAEN,IAAM+qC,EAAS,IAAIl3E,SAASoN,KAAK5Q,GACjC06E,EAAOx7E,OAAOu7E,GACd54E,KAAK04E,QAAUG,EAEf,IAAMC,EAAWD,EAAOxmE,mBACxBlU,EAAOwB,KAAK,cAAem5E,GAE3B94E,KAAK+4E,qBAAqB56E,GAK1B,IAAMmR,EAAYnR,EAAO+N,eAEzB,GADAuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,MAC3ClB,EACH,OAAO,KAIR,GAAIzY,KAAKk4E,kBAAoB34D,EAAW,CACvC,IAAMy5D,EAAmBvgE,EAAMmuD,sBAE/BnuD,EAAMwxC,SAAS+uB,EAAkB,GACjCvgE,EAAM2xC,OAAO4uB,EAAkB,OACzB,CACN,IAAMC,EAAexgE,EAAMygE,kBAE3BzgE,EAAMwxC,SAASgvB,EAAc,GAC7BxgE,EAAM2xC,OAAO6uB,EAAc,GAG5BxgE,EAAMq1B,UAmBP1+B,YA3SmC,SA2SvBjR,GACX,IAAMmR,EAAYnR,EAAO+N,eACnBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KACrD,IAAIlB,EACH,OAAO,KAGR,IAAM0gE,EAAc1gE,EAAMM,YAGpB+/D,EACL94E,KAAKs4E,gBAAgBc,WAAap5E,KAAKs4E,gBAElCe,EAAWl7E,EAAO6rD,cACxBqvB,EAASpvB,SAAS6uB,EAAU,GAC5BO,EAASC,YAAYR,GACrBO,EAASvrC,SAET9tC,KAAK04E,QAAQjpE,SAGbgJ,EAAM2xC,OAAO3xC,EAAMI,eAAgBsgE,GACnC1gE,EAAMwxC,SAASxxC,EAAMI,eAAgBsgE,GAErC1gE,EAAMq1B,UAWPirC,qBA9UmC,SA8Ud56E,GACpB,IAAMsK,EAAWtK,EAAOsK,WAKxBA,EAASwnE,eACRxnE,EACA,UACAzI,KAAKy4E,WACLz4E,KACA,CACC7B,UAED,Q,6BClYJ,IAAKwD,SAAS6hB,QAAQ5mB,IAAI,eAAgB,CACzC,IAAMu6E,EAAW,EAEXG,EAAY,GAEZiC,EAAiB,CACtB,CACCC,MAAO,OACP/1E,KAAM,gBAEP,CACC+1E,MAAO,QACP/1E,KAAM,iBAUR9B,SAAS6hB,QAAQwhC,IAAI,cAAe,CAUnC+lB,KAVmC,SAU9B5sE,GAAQ,WACZA,EAAO0L,KAAK,cAAc,WACzB,IAAMpB,EAAWtK,EAAOsK,WAExBA,EAASwnE,eACRxnE,EACA,UACA,EAAKgwE,WACL,EACA,CACCt6E,eAeJs7E,0BAnCmC,SAmCTh3E,GACzB,IAAMtE,EAASsE,EAAMsiE,aAAa5mE,OAE5B4V,EAActR,EAAMhD,KAAKqV,EAEzBrM,EAAWtK,EAAOsK,WAExBA,EAASixD,eAAe,UAAW15D,KAAKy5E,2BAEpC1lE,EAAY1P,UAAY8yE,IAC3Bh5E,EAAOqB,YAAY,QACnBrB,EAAOu7E,WAAWj3E,EAAMsiE,aAAa4U,OAAS,UAC9Cl3E,EAAMhD,KAAK4D,mBAcbu2E,eA7DmC,SA6DpBz7E,GACd,IAAM07E,EAAc17E,EAAOG,OAAOw7E,UAAYP,EAGxCjqE,EAAYnR,EAAO+N,eACnBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KACrD,IAAIlB,EACH,OAAO,KAGR,IAAMshE,EAAgBthE,EAAMK,aAAaJ,UAEnCihE,EAASI,EAAc/3C,UAAU,EAAGvpB,EAAMM,aAE1C4B,EAAOo/D,EAAc/3C,UAC1BvpB,EAAMM,YACNghE,EAAcl3E,QAGX0D,EAAQ,EAENyzE,EAAWH,EAAYh3E,OAEzBo3E,EAAc,KAElB,OAAQA,GAAeD,EAAWzzE,EAAO,CACxC,IAAM2zE,EAAYL,EAAYtzE,GAE9B,GAAI2zE,EAAUV,MAAM3uE,KAAK8uE,GAAS,CACjCM,EAAc,CACbN,SACAx7E,SACAwc,OACAlX,KAAMy2E,EAAUz2E,MAGjB,MAGD8C,IAGD,OAAO0zE,GAYRE,YAnHmC,SAmHvBC,GACX,IAAMj8E,EAASi8E,EAAWj8E,OAEpBmR,EAAYnR,EAAO+N,eACnBuM,EAAQnJ,EAAYA,EAAUqK,YAAY,GAAK,KACrD,IAAIlB,EACH,OAAO,KAIRA,EAAMK,aAAauhE,QAAQD,EAAWz/D,MACtCxc,EAAOqB,YAAY46E,EAAW32E,MAE9B,IAAMgF,EAAWtK,EAAOsK,WAIxBA,EAASwnE,eACRxnE,EACA,UACAzI,KAAKy5E,0BACLz5E,KACA,CACC7B,SACAw7E,OAAQS,EAAWT,QAEpB,IAcFlB,WA3JmC,SA2JxBh2E,GACV,IAAMsR,EAActR,EAAMhD,KAAKqV,EAE/B,GAAIf,EAAY1P,UAAYizE,EAAW,CACtC,IAAM8C,EAAap6E,KAAK45E,eACvBn3E,EAAMsiE,aAAa5mE,QAGhBi8E,IACH33E,EAAMhD,KAAK4D,iBACXrD,KAAKm6E,YAAYC,U,6BCnLtB,IAAKz4E,SAAS6hB,QAAQ5mB,IAAI,iBAAkB,CAC3C,IAAM09E,EAAgB,CACrBC,KAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACjD77E,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACvC87E,MAAO,CAAC,KAAM,KAAM,KAAM,MAC1B77E,MAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,OAGjC87E,EAAsB,CAC3BC,GAD2B,SACxBrE,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EAAgBvE,GAAS,EAAI5iE,EAAMknE,EAAIj8E,OAAS,EAAIiV,IAErDknE,GAJ2B,SAIxBxE,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EACCvE,EACAnxE,KAAK41E,MAAMH,EAAIh8E,MAAQ,GAAK,EAAI8U,EAChCknE,EAAIj8E,OAAS,EAAIiV,IAGnB0uB,GAX2B,SAWxBg0C,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EAAgBvE,EAAQsE,EAAIh8E,MAAQ,EAAI8U,EAAMknE,EAAIj8E,OAAS,EAAIiV,IAEhEonE,GAd2B,SAcxB1E,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EACCvE,GACC,EAAI5iE,EACLvO,KAAK41E,MAAMH,EAAIj8E,OAAS,GAAK,EAAIiV,IAGnCqnE,GArB2B,SAqBxB3E,EAAQ5iE,EAAME,EAAKsnE,GACrBL,EAAgBvE,EAAQ5iE,EAAO,EAAGE,EAAM,IAEzCunE,GAxB2B,SAwBxB7E,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EACCvE,EACAnxE,KAAK41E,MAAMH,EAAIh8E,MAAQ,GAAK,EAAI8U,GAC/B,EAAIE,IAGP03D,GA/B2B,SA+BxBgL,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EAAgBvE,EAAQsE,EAAIh8E,MAAQ,EAAI8U,GAAO,EAAIE,IAEpDwnE,GAlC2B,SAkCxB9E,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EACCvE,EACAsE,EAAIh8E,MAAQ,EAAI8U,EAChBvO,KAAK41E,MAAMH,EAAIj8E,OAAS,GAAK,EAAIiV,KAK9BynE,EAAqB,EAErBC,EAAY,kBAAmBr4E,SAASi5C,gBAAgB56C,MAExDi6E,EAAW,qBAAsBt4E,SAASi5C,gBAAgB56C,MAE1Dk6E,EAAeD,GAAYD,EA6BjC,SAAStQ,EAAK5sE,GACb,IAAM6K,EAAS7K,EAAO6K,OAAO8L,EAEvB9R,EAAW7E,EAAO6E,SAAS8R,EAE7BumE,GAEHr4E,EAASxD,YAAY,wBAAwB,GAAO,GAGrD,IAAMg8E,EACyB,qBAAvBJ,EACJ,KACAA,EAEJj9E,EAAOG,OAAOm9E,iBACbt9E,EAAOG,OAAOm9E,kBAAoB,OAEnC,IAAMC,EAAU,IAAIC,EAAQx9E,EAAQ,CACnCs9E,iBAAkBt9E,EAAOG,OAAOm9E,iBAChCD,eAGKI,EAAoB,SAASjxD,GAC9B+wD,EAAQG,SAASlxD,EAAEhoB,SACtB+4E,EAAQI,SAASnxD,IAMnB,SAASo1C,IACR,IAAMzwD,EAAYnR,EAAO+N,eAEpBoD,IAGJA,EAAU86D,YAAczoE,SAAS0oE,gBACjC/6D,EAAUsiD,kBAAkB5uB,GAAG,OAI7Bh6B,EAAOvG,OACPuG,EAAOvG,MAAM+U,QACU,IAAxBxO,EAAOvG,MAAM+U,QAEbkkE,EAAQza,KAAK3xD,EAAUsiD,kBAAkB98C,GAG1C4mE,EAAQK,QApBV/4E,EAASob,iBAAiB,YAAaw9D,GAAmB,GAwB1Dz9E,EAAO2M,GAAG,kBAAmBi1D,GAE7B5hE,EAAO2M,GAAG,WAAW,SAAA6f,GACpB,IAAIsM,EAAOtM,EAAElrB,KAAKm4E,WAAa,GAC/B3gD,EAAOA,EAAK5L,QAAQ,uCAAwC,IAC5D4L,EAAOA,EAAK5L,QAAQ,kBAAmB,IACvCV,EAAElrB,KAAKm4E,UAAY3gD,KAGpB94B,EAAO2M,GAAG,mBAAmB,WAE5B4wE,EAAQK,UAGT59E,EAAO2M,GAAG,kBAAkB,WAE3Bi1D,OAGD5hE,EAAO2M,GAAG,QAAQ,WAEjB4wE,EAAQK,UAGT59E,EAAO2M,GAAG,oBAAoB,SAAS8mE,IACtCzzE,EAAOu7D,eAAe,mBAAoBkY,GAC1C8J,EAAQK,UAGT59E,EAAO2M,GAAG,WAAW,WACpB,IAAMkxE,EAAgBh5E,EAAS0iE,eAAe,YAE1CsW,GACHA,EAAcvsE,SAGX4rE,GACHr4E,EAASxD,YAAY,wBAAwB,GAAO,GAGrDwD,EAASi5E,oBAAoB,YAAaL,MAI3C,IAAIM,SACJ/9E,EAAO6K,OAAO8B,GAAG,UAAU,WAE1BsX,aAAa85D,GAEbA,EAAgBtyE,WAAWm2D,EAAiB,OAI9C,SAAS4b,EAAQx9E,EAAQ0Z,GACxB7X,KAAK7B,OAASA,EACd6B,KAAKgJ,OAAS7K,EAAO6K,OAAO8L,EAC5B9U,KAAKgD,SAAW7E,EAAO6E,SAAS8R,EAChC9U,KAAK6X,IAAMA,GAAO,GAClB7X,KAAK+qE,OAuON,SAASoR,EAAUnzE,EAAQhG,GAC1BhD,KAAKgJ,OAASA,EACdhJ,KAAKgD,SAAWA,EAChBhD,KAAKo8E,OAAS,CACbC,UAAW9+E,EAAKyC,KAAKq8E,UAAWr8E,MAChCs8E,QAAS/+E,EAAKyC,KAAKs8E,QAASt8E,MAC5Bu8E,QAASh/E,EAAKyC,KAAKu8E,QAASv8E,OAmF9B,SAAS8sB,EAAQtf,GAIhB,IAHA,IAAM2qD,EAAM3qD,EAAI3K,OAEVw0D,EAAM,IAAI1xD,MAAMwyD,GACbp8D,EAAI,EAAGA,EAAIo8D,EAAKp8D,IACxBs7D,EAAIt7D,GAAKyR,EAAIzR,GAEd,OAAOs7D,EAGR,SAAS95D,EAAKqJ,EAAI41E,GACjB,OAAI51E,EAAGrJ,KACCqJ,EAAGrJ,KAAKi/E,GAET,WAAkB,2BAANt1D,EAAM,qBAANA,EAAM,gBACxBtgB,EAAG0c,MAAMk5D,EAAKt1D,IAIhB,SAAS0zD,EAAgB/8D,EAAIpK,EAAME,GAClCkK,EAAGxc,MAAMoS,KAAO4H,OAAO5H,GAAQ,KAC/BoK,EAAGxc,MAAMsS,IAAM0H,OAAO1H,GAAO,KAG9B,SAASqoE,EAAcn+D,EAAIlf,EAAOD,GACjC,IAAM+8E,EAAmBz7E,KAAK7B,OAAOG,OAAOm9E,iBACnB,SAArBA,GACH59D,EAAGxc,MAAM1C,MAAQ0c,OAAO1c,GAAS,KACjCkf,EAAGxc,MAAM3C,OAAS2c,OAAO3c,GAAU,MAEd,UAArB+8E,GACqB,UAArBA,GAEA59D,EAAGxc,MAAM3C,OAAS,OAClBmf,EAAGxc,MAAM1C,MAAQ0c,OAAO1c,GAAS,MACF,WAArB88E,IACV59D,EAAGxc,MAAM3C,OAAS2c,OAAO3c,GAAU,KACnCmf,EAAGxc,MAAM1C,MAAQ,QAInB,SAAS89E,EAAezzE,EAAQ6U,GAC/B,IAAM8J,EAAO9J,EAAG6+D,wBAChB,MAAO,CACNjpE,KAAMkU,EAAKlU,KAAOzK,EAAO2zE,YACzBhpE,IAAKgU,EAAKhU,IAAM3K,EAAO4zE,YACvBj+E,MAAOgpB,EAAKhpB,MACZD,OAAQipB,EAAKjpB,QAzfX68E,GAEH55E,SAASk7E,OACR,4gCAOFl7E,SAAS6hB,QAAQwhC,IAAI,gBAAiB,CACrC83B,OADqC,aAMrC/R,KANqC,SAMhC5sE,GACCo9E,GAILp9E,EAAO0L,KAAK,cAAc,SAAAkzE,GACzBhS,EAAK5sE,SAuHRw9E,EAAQh+E,UAAY,CACnBotE,KADmB,WAElB,IAAMx4D,EAAWvS,KAEX+8B,EAAa/8B,KAAK+8B,UAAY/8B,KAAKgD,SAASiV,cACjD,OAGD8kB,EAAUl1B,GAAK,WACf7H,KAAKg9E,QAAUh9E,KAAKgD,SAASiV,cAAc,QAC3C8kB,EAAUhF,YAAY/3B,KAAKg9E,SAE3B,IAAMC,EAAWj9E,KAAKi9E,QAAU,GAQhC,IAAK,IAAMz/E,KANX88E,EAAct6E,KAAK6X,IAAI4jE,kBAAkB51E,SAAQ,SAAAq3E,GAChDD,EAAQC,GAAc3qE,EAAS0qE,QAC9BC,GACG3qE,EAAS4qE,aAAaD,MAGXD,EACXxgF,OAAOkB,UAAUC,eAAe1B,KAAK+gF,EAASz/E,IACjDu/B,EAAUhF,YAAYklD,EAAQz/E,KAIjC2/E,aA1BmB,SA0BN7gF,GACZ,IAAMuhB,EAAK7d,KAAKgD,SAASiV,cAAc,KAEvC,OADA4F,EAAGu/D,UAAUp4B,IAAI1oD,GACVuhB,GAERg+D,SA/BmB,SA+BVh+D,GACR,IAAMo/D,EAAUj9E,KAAKi9E,QACrB,IAAK,IAAMz/E,KAAKy/E,EACf,GAAIA,EAAQz/E,KAAOqgB,EAClB,OAAO,EAGT,OAAO,GAERojD,KAxCmB,SAwCdpjD,GACJ,IAAI9H,EAAS/V,KAAK7B,OAAOG,OAAOyX,OAE1BC,EAAYD,EAASA,EAAOC,UAAY,EAE9ChW,KAAK6d,GAAKA,EACN7d,KAAK6X,IAAI2jE,aACZx7E,KAAKq9E,YAAcvwD,EAClB9sB,KAAKgD,SAASmG,qBAAqB,QAEpCnJ,KAAKq9E,YAAYhnB,OAAOr2D,KAAKq9E,YAAYl6E,QAAQ0a,GAAK,IAEvD,IAAM88D,EAAO36E,KAAK26E,IAAM8B,EAAez8E,KAAKgJ,OAAQ6U,GACpD+8D,EAAgB56E,KAAK+8B,UAAW49C,EAAIlnE,KAAMknE,EAAIhnE,IAAMqC,GAEpDD,EAASA,GAAU/S,SAAS4T,KAE5Bb,EAAOgiB,YAAY/3B,KAAK+8B,WAExB/8B,KAAK6d,GAAGu/D,UAAUp4B,IAAI,YACtBhlD,KAAKs9E,eAENvB,KA9DmB,WAiElB,IADA,IAAMwB,EAAWv9E,KAAKgD,SAASw6E,uBAAuB,YAC7CzhF,EAAI,EAAGA,EAAIwhF,EAAS16E,SAAU9G,EACtCwhF,EAASxhF,GAAGqhF,UAAU3tE,OAAO,YAE9BzP,KAAKy9E,cACDz9E,KAAK+8B,UAAU/B,YAClBh7B,KAAK+8B,UAAU/B,WAAWlD,YAAY93B,KAAK+8B,YAG7C++C,SAzEmB,SAyEVnxD,GACR,GAAiB,IAAbA,EAAEnT,OAAN,CAIA,IAAMkkE,EAAU17E,KACV09E,EAAO,IAAIvB,EAAUn8E,KAAKgJ,OAAQhJ,KAAKgD,UAC7C06E,EAAKC,QAAU,WACdjC,EAAQkC,cACRlC,EAAQmC,YAAa,EACrBnC,EAAQv9E,OAAO+N,eAAeC,QAE/BuxE,EAAKI,OAAS,WACbpC,EAAQqC,cAAc/9E,MACtB07E,EAAQsC,gBACR,IAAMrD,EAAMe,EAAQuC,WACpBvC,EAAQwC,cAAcvD,EAAKA,EAAIlnE,KAAMknE,EAAIhnE,MAE1C+pE,EAAKS,UAAY,WAChBzC,EAAQmC,YAAa,EACrBnC,EAAQ0C,cACR1C,EAAQK,OACRL,EAAQv9E,OAAO+N,eAAeG,SAE9BqvE,EAAQv9E,OAAOwB,KAAK,iBAErB+9E,EAAKW,WAAa,WACjB3C,EAAQ4C,iBAER5C,EAAQv9E,OAAOwB,KAAK,iBAErB+9E,EAAKtvC,MAAMzjB,KAEZuzD,cA1GmB,SA0GLvD,EAAKlnE,EAAME,GACxBF,EAAOA,GAAQ,EACfE,EAAMA,GAAO,EACb,IAAMspE,EAAUj9E,KAAKi9E,QAErB,IAAK,IAAM5G,KAAU4G,EAChBxgF,OAAOkB,UAAUC,eAAe1B,KAAK+gF,EAAS5G,IACjDoE,EAAoBpE,GACnB4G,EAAQ5G,GACR5iE,EACAE,EACAgnE,IAKJ2C,YA1HmB,WA2HlB,IAAML,EAAUj9E,KAAKi9E,QAErB,IAAK,IAAMz/E,KADXwC,KAAKk+E,cAAcl+E,KAAK26E,KACRsC,EACXxgF,OAAOkB,UAAUC,eAAe1B,KAAK+gF,EAASz/E,KACjDy/E,EAAQz/E,GAAG6D,MAAMwjD,QAAU,UAI9B44B,YAnImB,WAoIlB,IAAMR,EAAUj9E,KAAKi9E,QACrB,IAAK,IAAMz/E,KAAKy/E,EACXxgF,OAAOkB,UAAUC,eAAe1B,KAAK+gF,EAASz/E,KACjDy/E,EAAQz/E,GAAG6D,MAAMwjD,QAAU,SAI9B+4B,YA3ImB,WA4IlB59E,KAAKg9E,QAAQ37E,MAAMk9E,gBAAkB,QAAUv+E,KAAK6d,GAAGxU,IAAM,KAC7DrJ,KAAK+9E,gBACL/9E,KAAKg+E,gBACLh+E,KAAKg9E,QAAQ37E,MAAMwjD,QAAU,SAE9Bm5B,cAjJmB,WAkJlB,IAAMrD,EAAM36E,KAAKi+E,WACjBrD,EAAgB56E,KAAKg9E,QAASrC,EAAIlnE,KAAMknE,EAAIhnE,KAC5C3T,KAAKg9E,QAAQ37E,MAAM1C,MAAQqB,KAAKi+E,WAAWt/E,MAAQ,KACnDqB,KAAKg9E,QAAQ37E,MAAM3C,OAASsB,KAAKi+E,WAAWv/E,OAAS,MAEtD0/E,YAvJmB,WAwJlB,IAAMzD,EAAM8B,EAAez8E,KAAKgJ,OAAQhJ,KAAKg9E,SAC7Ch9E,KAAKmnB,OAAS,CACbxoB,MAAOg8E,EAAIh8E,MACXD,OAAQi8E,EAAIj8E,QAEbsB,KAAKg9E,QAAQ37E,MAAMwjD,QAAU,QAE9Bk5B,cA/JmB,SA+JLt+E,GACb,IAAMk7E,EAAO36E,KAAKi+E,WAAa,CAC9BtqE,IAAK,EACLF,KAAM,EACN9U,MAAOqB,KAAK26E,IAAIh8E,MAChBD,OAAQsB,KAAK26E,IAAIj8E,QAGlB,GAAKe,EAAL,CAEA,IAAM4mB,EAAO5mB,EAAKkD,OAAO3E,UAezB,IAbKqoB,EAAKljB,QAAQ,OACjBw3E,EAAIh8E,MAAQuG,KAAKC,IAAI,GAAInF,KAAK26E,IAAIh8E,MAAQc,EAAK++E,MAAMhrE,KAEjD6S,EAAKljB,QAAQ,OACjBw3E,EAAIj8E,OAASwG,KAAKC,IAAI,GAAInF,KAAK26E,IAAIj8E,OAASe,EAAK++E,MAAM9qE,KAEnD2S,EAAKljB,QAAQ,OACjBw3E,EAAIh8E,MAAQuG,KAAKC,IAAI,GAAInF,KAAK26E,IAAIh8E,MAAQc,EAAK++E,MAAMhrE,KAEjD6S,EAAKljB,QAAQ,OACjBw3E,EAAIj8E,OAASwG,KAAKC,IAAI,GAAInF,KAAK26E,IAAIj8E,OAASe,EAAK++E,MAAM9qE,IAGpD2S,EAAKljB,QAAQ,KAAO,IAAM1D,EAAKqE,KAAKrC,MAAO,CAC9C,IAAMg9E,EAAQz+E,KAAK26E,IAAIh8E,MAAQqB,KAAK26E,IAAIj8E,OACpCi8E,EAAIh8E,MAAQg8E,EAAIj8E,OAAS+/E,EAC5B9D,EAAIj8E,OAASwG,KAAK41E,MAAMH,EAAIh8E,MAAQ8/E,GAEpC9D,EAAIh8E,MAAQuG,KAAK41E,MAAMH,EAAIj8E,OAAS+/E,GAItC,IAAMjD,EAAax7E,KAAK6X,IAAI2jE,WAE5B,GAAIA,EAEH,IADA,IAAMkD,EAAS1+E,KAAKq9E,YACXthF,EAAI,EAAGA,EAAI2iF,EAAO77E,OAAQ9G,IAAK,CACvC,IAAM4iF,EAAQlC,EAAez8E,KAAKgJ,OAAQ01E,EAAO3iF,IACjD,GACCmJ,KAAKyP,IAAIgmE,EAAIh8E,MAAQggF,EAAMhgF,QAAU68E,GACrCt2E,KAAKyP,IAAIgmE,EAAIj8E,OAASigF,EAAMjgF,SAAW88E,EACtC,CACDb,EAAIh8E,MAAQggF,EAAMhgF,MAClBg8E,EAAIj8E,OAASigF,EAAMjgF,OACnB,QAME2nB,EAAKljB,QAAQ,OACjBw3E,EAAIlnE,KAAOzT,KAAK26E,IAAIh8E,MAAQg8E,EAAIh8E,QAE5B0nB,EAAKljB,QAAQ,OACjBw3E,EAAIhnE,IAAM3T,KAAK26E,IAAIj8E,OAASi8E,EAAIj8E,UAGlC4/E,eA1NmB,WA2NlBtC,EAAc9/E,KACb8D,KACAA,KAAK6d,GACL7d,KAAKmnB,OAAOxoB,MACZqB,KAAKmnB,OAAOzoB,UAefy9E,EAAUx+E,UAAY,CACrBywC,MADqB,SACfzjB,GACLA,EAAEtnB,iBACFsnB,EAAEvnB,kBACFpD,KAAK2C,OAASgoB,EAAEhoB,OAChB3C,KAAKqmB,KAAOsE,EAAEhoB,OAAO3E,UACrBgC,KAAK4+E,SAAW,CACfprE,EAAGmX,EAAEohB,QACLr4B,EAAGiX,EAAEqhB,SAENhsC,KAAK+P,OAAO4a,GACZ,IAAMyxD,EAASp8E,KAAKo8E,OACpBp8E,KAAKgD,SAASob,iBACb,YACAg+D,EAAOC,WACP,GAEDr8E,KAAKgD,SAASob,iBAAiB,UAAWg+D,EAAOE,SAAS,GAC1Dt8E,KAAKgD,SAASob,iBAAiB,UAAWg+D,EAAOG,SAAS,GAC1Dv8E,KAAKgD,SAAS4T,KAAKwmE,UAAUp4B,IAAI,YAAchlD,KAAKqmB,MAChDrmB,KAAK29E,SACR39E,KAAK29E,WAGP5tE,OAxBqB,SAwBd4a,GACN3qB,KAAK6+E,WAAa,CACjBrrE,EAAGmX,EAAEohB,QACLr4B,EAAGiX,EAAEqhB,SAENhsC,KAAKw+E,MAAQ,CACZhrE,EAAGmX,EAAEohB,QAAU/rC,KAAK4+E,SAASprE,EAC7BE,EAAGiX,EAAEqhB,QAAUhsC,KAAK4+E,SAASlrE,GAE9B1T,KAAK8D,KAAO,CACXrC,MAAOkpB,EAAEuhB,SACT4yC,KAAMn0D,EAAE+d,QACRq2C,IAAKp0D,EAAEge,SAGT0zC,UAvCqB,SAuCX1xD,GACT3qB,KAAK+P,OAAO4a,GACR3qB,KAAK89E,QACR99E,KAAK89E,SAEU,IAAZnzD,EAAE6d,OAELxoC,KAAKu8E,QAAQ5xD,IAGf2xD,QAjDqB,SAiDb3xD,GAEW,KAAdA,EAAEtmB,SACLrE,KAAK26B,WAGP4hD,QAvDqB,SAuDb5xD,GACP3qB,KAAK+P,OAAO4a,GACZ3qB,KAAK26B,UACD36B,KAAKq+E,YACRr+E,KAAKq+E,cAGP1jD,QA9DqB,WA+DpB36B,KAAKgD,SAAS4T,KAAKwmE,UAAU3tE,OAAO,YAAczP,KAAKqmB,MACvD,IAAM+1D,EAASp8E,KAAKo8E,OACpBp8E,KAAKgD,SAASi5E,oBACb,YACAG,EAAOC,WACP,GAEDr8E,KAAKgD,SAASi5E,oBAAoB,UAAWG,EAAOE,SAAS,GAC7Dt8E,KAAKgD,SAASi5E,oBAAoB,UAAWG,EAAOG,SAAS,GACzDv8E,KAAKm+E,WACRn+E,KAAKm+E,gB,6BCngBT,IAAKx8E,SAAS6hB,QAAQ5mB,IAAI,oBAAqB,CAC9C,IAAMoiF,EAAgB,CACrBC,OAAQ,EACRxrE,KAAM,EACNgB,MAAO,GAOFyqE,EAAS,CACd3E,KAAM,cACN77E,OAAQ,YACR87E,MAAO,cACP77E,MAAO,aAGFwgF,EAAe,kBAEfC,EAAW,wBAyJjB,SAASC,EAAUlhF,GAClBA,EAAOG,OAAOm9E,iBACbt9E,EAAOG,OAAOm9E,kBAAoB,OAEnCt9E,EAAO2M,GAAG,YAAY,SAAAmwD,GACrB98D,EAAOmhF,QAAQC,OAAOtkB,EAAUx7D,KAAKoe,GAAI,YAG1C,IAAM2hE,EAAerhF,EAAOG,OAAOmhF,oBAE7BC,EAAiBvhF,EAAOG,OAAOqhF,sBAErC,MAAO,CACN5U,KADM,WAEL,IAAM6U,EAAUj+E,SAAS6hB,QAAQq8D,OAE3BnlE,EAAQ1a,KAAKsB,MAAMoZ,MAEnBjb,EAAO,CACZs/E,IAAKrkE,EAAM1U,aAAa,QAAU,GAClC85E,aAAc9/E,KAAKsB,MAAMy+E,QACzBrhF,OAAQgc,EAAM1U,aAAa,WAAa,GAExCmG,MAAMnM,KAAKggF,OACRJ,EAAQK,qBAAqBvlE,GAEhCrR,IAAKqR,EAAM1U,aAAa,OACxBrH,MAAO+b,EAAM1U,aAAa,UAAY,IAMjCoM,EAAOsI,EAAMoF,aAAa,KAUhC,GARI1N,GAAQpS,KAAKkgF,QAAQzmE,SAASrH,KACjCpS,KAAKsB,MAAM8Q,KAAOA,IAOd3S,EAAK0gF,MAAO,CAChB,IAAMC,EAAe3gF,EAAKqgF,WAAa9/E,KAAK4E,QAAU8V,EAGlD8kE,GACCY,EAAa7qE,SAASiqE,EAAa,IACtC//E,EAAK0gF,MAAQ,OACHC,EAAa7qE,SAASiqE,EAAa,MAC7C//E,EAAK0gF,MAAQ,SAGV1gF,EAAK0gF,MACRC,EAAavqE,YACZ2pE,EAAaR,EAAcv/E,EAAK0gF,SAGjC1gF,EAAK0gF,MAAQ,SAKd1gF,EAAK0gF,MAAQC,EAAav+E,SAAS,UAAY,OAC/Cu+E,EAAah0E,YAAY,UAM3BpM,KAAKkgF,SAASzgF,EAAKqgF,WAAa,SAAW,OAAS,SACnD,uBAGD9/E,KAAKqgF,QAAQ5gF,IAE+B,IAAxCtB,EAAOG,OAAOgiF,uBACjBC,EAAavgF,OAMf8V,SAxEM,SAwEG9X,GACRwiF,EAAoBxgF,MAAM8V,SAAS9X,IAGpCmlE,eAAgBsd,EAAwBtiF,GAGxCuiF,uBAAwB,CAAC,CAAC,gCAE1BjhF,KAjFM,WAkFL,IAAMkhF,EAAW3gF,KAAK2gF,SA+CtB,GA3CC3gF,KAAKP,KAAKqgF,aACT3hF,EAAOkQ,OAAOuyE,aAAaD,EAASZ,WAErC//E,KAAKP,KAAKqgF,YAAa,GAKJ,QAAnB9/E,KAAKP,KAAK0gF,OACThiF,EAAOkQ,OAAOuyE,aAAaD,EAASR,SAErCngF,KAAKP,KAAK0gF,MAAQ,QAKdngF,KAAKP,KAAK2S,KAKTpS,KAAKsB,MAAM8Q,OACfpS,KAAKsB,MAAM8Q,KAAOpS,KAAKsB,MAAMoZ,MAAM4xD,aALhCtsE,KAAKsB,MAAM8Q,aACPpS,KAAKsB,MAAM8Q,KAQpBpS,KAAKsB,MAAMoZ,MAAMktD,cAAc,CAC9BmX,IAAK/+E,KAAKP,KAAKs/E,IAEf8B,iBAAiB7gF,KAAKsB,MAAMoZ,MAAM1U,aACjC,oBAEEhG,KAAKsB,MAAMoZ,MAAM1U,aAAa,mBAIjC,qBAAsBhG,KAAKP,KAAK4J,IAEhCA,IAAKrJ,KAAKP,KAAK4J,MAMfrJ,KAAK8gF,UACJ9gF,KAAK8gF,QAAQhB,YACd9/E,KAAKP,KAAKqgF,WAEV,IAAK,IAAM1jF,KAAK4D,KAAKP,KAAKshF,QAExBtkF,OAAOkB,UAAUC,eAAe1B,KAC/B8D,KAAKP,KAAKshF,QACV3kF,IAGD4D,KAAKsB,MAAMoZ,MAAM7E,YAAYzZ,GAO5B+B,EAAOkQ,OAAOuyE,aAAaD,EAASK,YACvCC,EAAcjhF,MAIfA,KAAK8gF,QAAUn/E,SAAS+L,MAAMjC,OAAO,GAAIzL,KAAKP,OAG/CyhF,SAAUC,EAAsBhjF,GAEhCijF,WAAW,EAGXC,UAAW,CACVtB,QAAS,CACRuB,SAAU,aACVne,eAAgB,8CAIlBwd,SAAUY,EAAkBpjF,GAI5BqjF,WAAa,WACZ,IAAMC,EAAa,IAAI5J,OACtB,KACC,GAAGxxE,OAAOq5E,EAAgBF,GAAc9jE,KAAK,KAC7C,MAGF,OAAO,WACN,IAAMqlE,EAAU/gF,KAAK0hF,WAAWC,oBAC/BnB,EAAoBxgF,MAAMgG,aAAa,UAKxC,IAAK,IAAM5J,KAAK2kF,EACXU,EAAW52E,KAAKzO,WACZ2kF,EAAQ3kF,GAIjB,OAAO2kF,GApBI,GAwBba,SApMM,WAqML,IAAMx5E,GAASpI,KAAKP,KAAKs/E,KAAO,IAAM,IAAM/+E,KAAK6hF,SAEjD,OAAOz5E,GAKRmN,SA5MM,SA4MGvX,GACR,OAAOwiF,EAAoBxgF,MAAMuV,SAASvX,IAG3CsD,MAAO,CACNy+E,QAAS,aACTrlE,MAAO,OAKR7E,YAvNM,SAuNM7X,GACXwiF,EAAoBxgF,MAAM6V,YAAY7X,IAGvC8jF,gBAAiB,eAEjBC,kBAAmB,aAGnB3C,WAEA4C,OAAQC,EAAoB9jF,IAuE9B,SAAS8jF,EAAoB9jF,GAC5B,IAAM+jF,EAAkBC,EAAqBhkF,GAEvCuhF,EAAiBvhF,EAAOG,OAAOqhF,sBAIrC,OAAO,SAAS9hE,EAAIpe,GACnB,IAAM2iF,EAAa,CAClB1jF,OAAQ,EACRC,MAAO,GAGFrC,EAAOuhB,EAAGvhB,KAEZoe,SAGJ,IAAImD,EAAG60C,WAAW,wBAAlB,CAgBA,GAAIwvB,EAAgBrkE,GAAK,CACxB,GAAY,OAARvhB,EAAe,CAClB,IAAM+lF,EAASxkE,EAAG+vD,SAAS,UAGvByU,IACHxkE,EAAGykE,YAAYD,GACfxkE,EAAKwkE,GAMP5iF,EAAK0gF,MAAQ,SAGbzlE,EAAQmD,EAAG+vD,SAAS,QAAU/vD,EAAG+vD,SAAS,KAAKA,SAAS,WAIxC,UAARtxE,GAAoBuhB,EAAGtI,SAASmqE,GACxChlE,EAAQmD,EAAG+vD,SAAS,QAAU/vD,EAAG+vD,SAAS,KAAKA,SAAS,OAG9C2U,EAA0B1kE,KACpCnD,EAAmB,KAAXmD,EAAGvhB,KAAcuhB,EAAGtW,SAAS,GAAKsW,GAG3C,GAAKnD,EAAL,CAMA,IAAK,IAAMre,KAAK+lF,EACf,GAAI3lF,OAAOkB,UAAUC,eAAe1B,KAAKkmF,EAAY/lF,GAAI,CACxD,IAAM2kF,EAAYtmE,EAAMg4C,WAAWr2D,GAE/B2kF,GAAaA,EAAU53E,MAAM+1E,WACzBzkE,EAAMg4C,WAAWr2D,GAK3B,OAAOwhB,KAQT,SAASsjE,EAAsBhjF,GAC9B,IAAMqhF,EAAerhF,EAAOG,OAAOmhF,oBAGnC,OAAO,SAAS5hE,GAGf,IAAM2kE,EAAyB,KAAX3kE,EAAGvhB,KAAcuhB,EAAG+vD,WAAa/vD,SAE9C2kE,EAAY9vB,WAAWmuB,gBAE9B,IAAMztE,EAAQovE,EAAY9vB,WAEpBytB,EAAQngF,KAAKP,KAAK0gF,MAIxB,IAAKngF,KAAKkjE,OAAQ,CACjB,IAAMuf,EAAgB5kE,EAAG+vD,SAAS,QAE9B6U,GACHA,EAAcH,YACbG,EAAc7U,SAAS,CACtBznE,EAAG,EACHq8B,IAAK,KAMT,GAAI29C,GAAkB,QAATA,EAAiB,CAC7B,IAAMzzE,EAAS/K,SAAS+L,MAAMg1E,aAAatvE,EAAM/R,OAAS,IAc7C,UAAT8+E,GAAgC,UAAXtiE,EAAGvhB,KAC3BuhB,EAAKA,EAAG8kE,SACP,IAAIhhF,SAASihF,WAAWh+E,QACvB,MACA46E,EACG,CACA7sB,MAAO6sB,EAAa,IAEpB,CACAn+E,MAAO,uBAQZ8+E,IACA,CACC1sE,KAAM,EACNgB,MAAO,KAGJ+qE,EACHgD,EAAY1sE,SACX0pE,EAAaR,EAAcmB,KAG5BzzE,EAAO,SAAWyzE,GAKfX,GAAiB79E,SAAS+L,MAAMm1E,QAAQn2E,KAC5C0G,EAAM/R,MAAQM,SAAS+L,MAAMo1E,aAAap2E,IAI5C,OAAOmR,GAQT,SAASskE,EAAqBhkF,GAC7B,IAAMuhF,EAAiBvhF,EAAOG,OAAOqhF,sBAE/BH,EAAerhF,EAAOG,OAAOmhF,oBAE7BsD,EAAgB,CACrB58E,EAAG,EACHk8E,OAAQ,EACR7/C,IAAK,GAGN,OAAO,SAAS3kB,GAEf,KAEEA,EAAGvhB,OACH,CACC0mF,IAAK,EACLnlF,EAAG,IAIL,OAAO,EAGR,IAAM0J,EAAWsW,EAAGtW,SAGpB,GAAwB,IAApBA,EAAS1E,OACZ,OAAO,EAGR,IAAMm3B,EAAQzyB,EAAS,GAIvB,KAAMyyB,EAAM19B,QAAQymF,GACnB,OAAO,EAKR,GAAe,KAAXllE,EAAGvhB,MACN,IAAKimF,EAA0BvoD,GAC9B,OAAO,OAOR,GAAkB,UAAdA,EAAM19B,MACT,IAAK09B,EAAMzkB,SAASmqE,GACnB,OAAO,MAEF,CAKN,GAAIvhF,EAAO8kF,WAAathF,SAASuhF,QAChC,OAAO,EAKR,IAAKX,EAA0BvoD,GAC9B,OAAO,EAOV,SACCwlD,EACG3hE,EAAGtI,SAASiqE,EAAa,IAIN,UAHnB79E,SAAS+L,MAAMg1E,aACf7kE,EAAG60C,WAAWrxD,OAAS,IACvB,GACE,gBAYR,SAASkhF,EAA0B1kE,GAClC,MAAe,OAAXA,EAAGvhB,MAEe,KAAXuhB,EAAGvhB,OACgB,GAAtBuhB,EAAGtW,SAAS1E,QAAegb,EAAG+vD,SAAS,QAShD,SAASqT,EAAckC,GACtB,IAAM1jF,EAAO0jF,EAAO1jF,KAEd2iF,EAAa,CAClB1jF,OAAQe,EAAKf,OACbC,MAAOc,EAAKd,OAGP+b,EAAQyoE,EAAO7hF,MAAMoZ,MAE3B,IAAK,IAAMre,KAAK+lF,EACXA,EAAW/lF,GACdqe,EAAMzV,aAAa5I,EAAG+lF,EAAW/lF,IAEjCqe,EAAMqY,gBAAgB12B,GAQzB,SAASkkF,EAAa4C,GACrB,IAAMhlF,EAASglF,EAAOhlF,OAEhBsK,EAAWtK,EAAOsK,WAElB26E,EAAMjlF,EAAO6E,SAGb04E,EAAWyH,EAAOzH,QAAU0H,EAAInrE,cAAc,QASpD,GAPAyjE,EAAQ5lE,SAAS,qBACjB4lE,EAAQ5lE,SACP,qBAAuBopE,EAAO/gF,EAAOG,OAAOm9E,mBAE7CC,EAAQ/P,OAAO,IAAIhqE,SAAS2R,IAAIqH,KAAK,IAAUyoE,IAG1CD,EAAOjgB,OAkBXigB,EAAOjD,QAAQvU,OAAO+P,OAlBH,CACnB,IAAM2H,EAAcF,EAAO7hF,MAAM8Q,MAAQ+wE,EAAO7hF,MAAMoZ,MAEhD4oE,EAAmBD,EAAY/W,YAE/BmW,EAAgBW,EAAInrE,cAAc,QAExCwqE,EAAc3sE,SAAS,6BACvB2sE,EAAc9W,OAAO0X,GACrBZ,EAAc9W,OAAO+P,GACrByH,EAAOv+E,QAAQ+mE,OAAO8W,GAAe,GAIjCa,EAAiBtgD,GAAG,SACvBsgD,EAAiB7zE,SAOnBisE,EAAQ5wE,GAAG,aAAa,SAAAy4E,GACvB,IAAM7oE,EAAQyoE,EAAO7hF,MAAMoZ,MAKrB8oE,EAA8B,SAArBL,EAAO1jF,KAAK0gF,OAAoB,EAAI,EAI7CnX,EAASua,EAAI9jF,KAAKqV,EAAE+2B,QAEpBo9B,EAASsa,EAAI9jF,KAAKqV,EAAEg3B,QAGpB23C,EAAa/oE,EAAM5F,EAAEqC,YAErBusE,EAAchpE,EAAM5F,EAAE6uE,aAEtB5pB,EAAY,GAGZ6pB,EAAc,gBAAmBJ,EAAe,IAAN,KAE5CK,SACAC,SACAC,SACAC,SAEAC,SACAC,SAmBJ,SAASC,EAAkB7nF,EAAMoN,EAAU06E,GAC1C,IAAMC,EAAY1iF,SAASqB,SAErB+2D,EAAY,GAQlB,GANKqpB,EAAIxqE,OAAOyrE,IACftqB,EAAU9zD,KAAKo+E,EAAUv5E,GAAGxO,EAAMoN,IAGnCqwD,EAAU9zD,KAAKm9E,EAAIt4E,GAAGxO,EAAMoN,IAExB06E,EACH,IAAK,IAAIroF,EAAIg+D,EAAUl3D,OAAQ9G,KAC9BqoF,EAAWn+E,KAAK8zD,EAAUtuC,OAsB7B,SAAS64D,EAAYf,GACpB,IAAM9H,EAAmBt9E,EAAOG,OAAOm9E,iBAEvCoI,EAAYN,EAAI9jF,KAAKqV,EAGrBmvE,EAAYJ,EAAUh4C,QAAUm9B,EAChCkb,EAAYjb,EAAS4a,EAAU/3C,QAGT,UAArB2vC,GACqB,SAArBA,GACqB,UAArBA,IAEAqI,EAAWL,EAAaD,EAASS,GAIZ,WAArBxI,GACqB,SAArBA,IAEAsI,EAAYL,EAAcQ,GAGF,UAArBzI,IACHsI,EAAY,QAGbD,EAAWA,GAAYL,EACvBM,EAAYA,GAAaL,EAKxBI,GAAY,KACXC,GAAa,IAAoB,SAAdA,IAEpBrpE,EAAM5F,EAAEzT,MAAM1C,MAAQmlF,EAAW,KACjCppE,EAAM5F,EAAEzT,MAAM3C,OAASqlF,EAAY,KAEnCC,GAAa,GAEbA,GAAa,EAIf,SAASO,IACR,IAAIvoF,SAEJ,MAAQA,EAAI+9D,EAAUtuC,MACrBzvB,EAAE09D,iBAIHjxD,EAASoN,YAAY+tE,GAGrBlI,EAAQ7lE,YAAY,sBAEhBmuE,IACHb,EAAO9C,QAAQ,CACd3hF,OAAQqlF,EACRplF,MAAOmlF,IAIR3lF,EAAOwB,KAAK,iBAIbqkF,GAAa,EAzHd7lF,EAAOwB,KAAK,gBAGZwkF,EAAkB,YAAaG,EAAavqB,GAG5CoqB,EAAkB,UAAWI,EAAWxqB,GAGxCtxD,EAASqN,SAAS8tE,GAGlBlI,EAAQ5lE,SAAS,yBAkHlBqtE,EAAOr4E,GAAG,QAAQ,WACjB4wE,EAA6B,SAArByH,EAAO1jF,KAAK0gF,MAAmB,WAAa,eACnD,6BAIFgD,EAAO7hF,MAAMoZ,MAAM5P,GAAG,SAAS,WAC9B,IAAMwE,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM1K,EAAU0K,EAAUsiD,kBAE1B,GAAIhtD,EAAS,CACZ,IAAM4/E,EAAgB5/E,EAAQoV,QAAQ,OAEtC,GAAIwqE,EAAe,CAClB,IAAMtwE,EAAStP,EAAQujB,gBAEjBL,EAAiB,IAAInmB,SAAS2R,IAAItK,OACvCA,QACC+e,oBACF7T,EAAOT,MAAQqU,EAAetU,EAC9BU,EAAOP,KAAOmU,EAAepU,EAE7BQ,EAAOvQ,UAAYhC,SAAS0S,wBAE5BlW,EAAOwB,KAAK,oBAAqB,CAChCoU,YAAatR,MACbqR,cAAe,CACdlP,QAAS4/E,EACTtwE,kBAeP,SAASusE,EAAwBtiF,GAChC,IAAMsmF,EAAQ,CACbC,YAAY,EACZrC,OAAQ,CACPtB,QAAS,IAAM5iF,EAAOG,OAAOqhF,uBAE9Bn9C,IAAK,CACJkwB,WAAY,0BAId,OAAO+xB,EAUR,SAASlD,EAAkBpjF,GAC1B,IAAMqhF,EAAerhF,EAAOG,OAAOmhF,oBAE7BkB,EAAW,CAChBR,MAAO,CACN2B,gBACC,OACCtC,EAAe,IAAMA,EAAa,GAAK,IAAM,YAEhDO,QAAS,CACR+B,gBAAiB,cAElBd,UAAW,CACVc,gBAAiB,sBAInB,OAAOnB,EASR,SAASH,EAAoB2C,GAC5B,OAAOA,EAAO1jF,KAAKqgF,WAAaqD,EAAOv+E,QAAUu+E,EAAO7hF,MAAMoZ,MA/hC/D/Y,SAAS6hB,QAAQwhC,IAAI,mBAAoB,CACxC2/B,OAAO,EAEPC,MAAO,QAEP7Z,KALwC,SAKnC5sE,GACJ,IAAMuc,EAAQ2kE,EAAUlhF,GAGxBA,EAAOmhF,QAAQt6B,IAAI,QAAStqC,IAG7BoiE,OAZwC,WAavCn7E,SAASk7E,OACR,2kBA0CFrU,SAAU,WAuVX7mE,SAAS6hB,QAAQq8D,OAAS,CAQzBI,qBARyB,SAQJvlE,GACpB,IAAM5F,EAAI4F,EAAM5F,EAEV+vE,EAAU7kF,KAAK8kF,WAAWpqE,GAMhC,OACCxV,KAAK41E,MAAOhmE,EAAEqC,YAAc0tE,EAAQlmF,MAASkmF,EAAQnmF,SACpDoW,EAAE6uE,cACHz+E,KAAK41E,MAAOhmE,EAAE6uE,aAAekB,EAAQnmF,OAAUmmF,EAAQlmF,QACtDmW,EAAEqC,aAYL2tE,WAjCyB,SAiCdpqE,GACV,IAAI0nE,SAEJ,GAAI1nE,EAAM5F,EAAEiwE,aACX3C,EAAa,CACZ1jF,OAAQgc,EAAM5F,EAAEkwE,aAChBrmF,MAAO+b,EAAM5F,EAAEiwE,kBAEV,CACN,IAAMviD,EAAM,IAAI3gB,MAEhB2gB,EAAIn5B,IAAMqR,EAAM1U,aAAa,OAE7Bo8E,EAAa,CACZ1jF,OAAQ8jC,EAAIyiD,MACZtmF,MAAO6jC,EAAI7jC,OAIb,OAAOyjF,IAgmBVzgF,SAASrD,OAAOqhF,sBAAwB,S,8BCxjCxC,WACC,IAAIh+E,SAAS6hB,QAAQ5mB,IAAI,sBAAzB,CAIA,IAAMwiF,EAAW,wBAEX8F,EAAgB,IAAIvjF,SAASy9E,SAClC,oCACCA,EACA,0DAIIJ,EAAgB,CAACvrE,KAAM,EAAGwrE,OAAQ,EAAGxqE,MAAO,GAE5C0qE,EAAe,kBAErBx9E,SAAS6hB,QAAQwhC,IAAI,qBAAsB,CAC1CwjB,SAAU,SACVsU,OAF0C,WAGzCn7E,SAASk7E,OACR,glCAgEF9R,KApE0C,SAoErC5sE,GAIJ,IAAMuc,EAAQ2kE,EAAUlhF,GAGxBA,EAAOmhF,QAAQt6B,IAAI,QAAStqC,GAI5Bvc,EAAO2M,GAAG,mBAAmB,SAAA6kE,GAC5B,IAAMrgE,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM1K,EAAU0K,EAAU2Q,qBAE1B,GAAIrb,EAAS,CACZ,IAAM4/E,EAAgB5/E,EAAQoV,QAAQ,OAEtC,GAAIwqE,EAAe,CAClB,IAAMtwE,EAAStP,EAAQujB,gBAEjBL,EAAiB,IAAInmB,SAAS2R,IAAItK,OACvCA,QACC+e,oBACF7T,EAAOT,MAAQqU,EAAetU,EAC9BU,EAAOP,KAAOmU,EAAepU,EAE7BQ,EAAOvQ,UAAYhC,SAAS0S,wBAE5BlW,EAAOwB,KAAK,oBAAqB,CAChCoU,YAAa,GACbD,cAAe,CACdlP,QAAS4/E,EACTtwE,mBASPixE,UAhH0C,SAgHhChnF,GAET,IAAMgiF,EAAQ,CAAC1sE,KAAM,EAAGgB,MAAO,EAAGwqE,OAAQ,EAAGmG,MAAO,GAE9CC,EAAYC,EAAuBnnF,GAEzC,IAAK,IAAMnB,KAASmjF,EACf1jF,OAAOkB,UAAUC,eAAe1B,KAAKikF,EAAOnjF,IAC/CqoF,EAAUroF,MAgbd2E,SAAS6hB,QAAQ+hE,mBAAqB,CACrCC,aADqC,SACxBrnF,GAEZ,IAAMilF,EAAMjlF,EAAO6E,SAEbw8E,EAAerhF,EAAOG,OAAOmnF,gCAE7B/F,EACLvhF,EAAOG,OAAOonF,kCAETj9E,EAAWtK,EAAOsK,WAIlBk9E,EAAa,CAAC,aAAc,QAAS,QAGrCC,EAAe,CACpBzF,MADoB,SACd1+E,EAAOokF,EAAUC,GACtB,IAAMjoE,EAAKpc,EAAMmD,QAIhBnD,EAAMskF,QAAQ5F,OACa,SAA1BtiE,EAAG/I,EAAEzT,MAAM2kF,YACgB,SAA3BnoE,EAAG/I,EAAEzT,MAAM4kF,YAGPxkF,EAAMykF,QAAQpG,cAGL,UAAZgG,GAC2B,SAA1BjoE,EAAG/I,EAAEzT,MAAM2kF,YACgB,SAA3BnoE,EAAG/I,EAAEzT,MAAM4kF,eAEZxkF,EAAM0kF,UACN1kF,EAAMmD,QAAUwhF,EAAgBjoF,EAAQ0f,IAKvCpc,EAAMskF,QAAQjG,YACH,UAAZ+F,GACY,UAAZC,IAEArkF,EAAM0kF,UACN1kF,EAAMmD,QAAUyhF,EAAoBxoE,KAO1B,UAAZioE,GACArkF,EAAMskF,QAAQjG,aACbr+E,EAAMykF,QAAQpG,aAEfr+E,EAAM0kF,UACN1kF,EAAMmD,QAAUwhF,EAAgBjoF,EAAQ0f,KAIpC2hE,GAAgB3hE,EAAGmlB,GAAG,YACV,UAAZ8iD,EACHjoE,EAAGyoE,SAAS,UAAW,gBACnBzoE,EAAGzR,YAAY,aAItB0zE,WApDoB,SAoDTr+E,EAAOokF,EAAUC,GAE3B,GAAKrkF,EAAMskF,QAAQjG,WAAnB,CAIA,IAAIuD,SASJ,GAPCA,EADG5hF,EAAMmD,QAAQo+B,GAAG,CAACR,IAAK,EAAGr8B,EAAG,IAClB1E,EAAMmD,QACFnD,EAAMmD,QAAQoV,QAAQ,SAGzCvY,EAAM0kF,UAGFL,EAAU,CAEb,IAAMzD,EAAS1gF,SAAS2R,IAAI1O,QAAQkZ,eACnConE,EAAcvW,OAAO,CACpB+Q,iBACA6G,mBACCpoF,EAAOgM,KAAKo7E,mBACVgB,qBAEJnD,GAIDoD,EAAcnE,EAAQ5gF,EAAMmD,SAI5By+E,EAAYh4D,QAAQg3D,EAAOroE,QAAQ,QAGnCvY,EAAMmD,QAAUy9E,OAMhBgB,EAAYh4D,QAAQ5pB,EAAMmD,SAG1BnD,EAAMmD,QAAUy+E,IAIlBjxE,KApGoB,SAoGf3Q,EAAOokF,EAAUC,GACrB,GAAIrkF,EAAMskF,QAAQ3zE,KAAM,CACvB,IAAMowB,EAAM/gC,EAAMmD,QAAQo+B,GAAG,OAC1BvhC,EAAMmD,QACNnD,EAAMmD,QAAQoV,QAAQ,OAEnB5H,EAAO3Q,EAAMmD,QAAQo+B,GAAG,KAC3BvhC,EAAMmD,QACNnD,EAAMmD,QAAQoV,QAAQ,KAQnBysE,EACJhlF,EAAMmD,QAAQo+B,GAAG,OAAS8iD,GAC1BrkF,EAAMmD,QAAQo+B,GAAG,QAAU8iD,EAEzBY,SAKJ,GAHID,GAAchlF,EAAM0kF,UAGnBL,EACA,CAECD,IACJa,EAAQC,EAAWnkD,EAAK/gC,EAAMykF,QAAQ9zE,OAGvC,IAAMsgD,EAAa/wD,SAAS6hB,QAAQ+hE,mBAAmBqB,yBAApCjlF,CAClBxD,EACA2nF,GAGInkF,SAAS+L,MAAMm1E,QAAQnwB,EAAW9rC,OACrC8/D,GAASt0E,GAAMw1D,cAAclV,EAAW9rC,KAEtC8rC,EAAWm0B,QAAQhkF,SACrB6jF,GAASt0E,GAAM21D,iBACfrV,EAAWm0B,cAjBCH,EAAQI,EAAe10E,GAqBlCq0E,IAAchlF,EAAMmD,QAAU8hF,MAKrC,SAASN,EAAgBjoF,EAAQyG,GAChC,IAAMmiF,EAAmB,GAErBvH,EACHuH,EAAiBr0B,WAAa,CAACC,MAAO6sB,EAAa,IAC/CuH,EAAiBr6E,OAAS,CAAC,aAAc,UAI9C,IAAMuyE,EAASmE,EAAInrE,cAClB9Z,EAAO6oF,iBAAmBrlF,SAASuhF,QAAU,IAAM,MACnD6D,GAOD,OAHAP,EAAcvH,EAAQr6E,GACtBA,EAAQqiF,KAAKhI,GAENA,EAGR,SAASoH,EAAoBzhF,GAC5B,IAAMy+E,EAAcz+E,EAAQoV,QAAQ,SAIpC,OAFAqpE,EAAYh4D,QAAQzmB,GAEby+E,EASR,SAASsD,EAAWnkD,EAAK0kD,GACxB,IAAM90E,EAAOgxE,EAAInrE,cAAc,IAAK,CACnCy6C,WAAY,CACX9zD,KAAMsoF,EAASvnE,OAOjB,OAHAvN,EAAKiZ,QAAQmX,GACbA,EAAIykD,KAAK70E,GAEFA,EAQR,SAAS00E,EAAe10E,GACvB,IAAMowB,EAAMpwB,EAAK4H,QAAQ,OAIzB,OAFAwoB,EAAInX,QAAQjZ,GAELowB,EAGR,SAASgkD,EAAcW,EAAWC,GACjC,GAAIA,EAAS9a,YAAa,CACzB,IAAM7zD,EAAQta,EAAO6rD,cAErBvxC,EAAMyzD,eACLkb,EACAzlF,SAASkrE,uBAMVua,EAAS33E,SAEThH,EAAS4+E,uBAAuBF,EAAW1uE,QAE3C0uE,EAAU97D,QAAQ+7D,GAIpB,OAAO,SAAS3lF,GACf,IAAInF,SACAP,SAIJ,IAFA0F,EAAMskF,QAAU,GAEXhqF,EAAI,EAAGA,EAAI4pF,EAAW9iF,OAAQ9G,IAClCO,EAAOqpF,EAAW5pF,GAElB0F,EAAMskF,QAAQzpF,KAAQmF,EAAMq/E,SACzBr/E,EAAMq/E,QAAQxkF,KAAUmF,EAAMykF,QAAQ5pF,GAK1C,IAAKP,EAAI,EAAGA,EAAI4pF,EAAW9iF,OAAQ9G,IAClCO,EAAOqpF,EAAW5pF,GAElB6pF,EAAatpF,GACZmF,EACAA,EAAMq/E,QAAUr/E,EAAMq/E,QAAQxkF,GAAQ,KACtCmF,EAAMykF,QAAQ5pF,IAIhBmF,EAAM6lF,YAWRrH,qBA7RqC,SA6RhBvlE,GACpB,IAAM5F,EAAI4F,EAAM5F,EAEV+vE,EAAU7kF,KAAK8kF,WAAWpqE,GAMhC,OACCxV,KAAK41E,MAAOhmE,EAAEqC,YAAc0tE,EAAQlmF,MAASkmF,EAAQnmF,SACpDoW,EAAE6uE,cACHz+E,KAAK41E,MAAOhmE,EAAE6uE,aAAekB,EAAQnmF,OAAUmmF,EAAQlmF,QACtDmW,EAAEqC,aAYL2tE,WAtTqC,SAsT1BpqE,GACV,IAAI0nE,SAEJ,GAAI1nE,EAAM5F,EAAEiwE,aACX3C,EAAa,CACZzjF,MAAO+b,EAAM5F,EAAEiwE,aACfrmF,OAAQgc,EAAM5F,EAAEyyE,mBAEX,CACN,IAAM/kD,EAAM,IAAI3gB,MAChB2gB,EAAIn5B,IAAMqR,EAAM1U,aAAa,OAE7Bo8E,EAAa,CACZzjF,MAAO6jC,EAAI7jC,MACXD,OAAQ8jC,EAAI9jC,QAId,OAAO0jF,GAmBRwE,wBA3VqC,WA6VpC,OAAOjlF,SAAS6hB,QAAQpR,KAAKo1E,mBAsB9BC,wBAnXqC,WAqXpC,OAAO9lF,SAAS6hB,QAAQpR,KAAKs1E,sBAqjB/B,IAAMC,EAAwB,SAASxE,EAAQyE,GACvB,SAAnBA,GAAgD,UAAnBA,EAChCzE,EAAOjD,QAAQ9zE,YAAY,SACE,WAAnBw7E,IACVzE,EAAOhlF,OAAOqB,YAAY,eAC1B2jF,EAAOhlF,OAAOqB,YAAY,iBA7vC5B,SAAS6/E,EAAUlhF,GAClB,IAAMqhF,EAAerhF,EAAOG,OAAOmnF,gCAE7B/F,EAAiBvhF,EAAOG,OAAOonF,kCAErC,SAASS,IACJnmF,KAAK6nF,WAGL1pF,EAAOmhF,QAAQwI,SAAW9nF,KAAKmjF,SAAQnjF,KAAK8nF,SAAU,GAE1D3pF,EAAOmhF,QAAQphC,QAAQl+C,KAAKmjF,QAG5BnjF,KAAK6nF,UAAW,GAGjB,SAASP,IACR,IAAM7+E,EAAWtK,EAAOsK,WAElB26E,EAAMjlF,EAAO6E,SAKnB,GAAIhD,KAAK6nF,SAAU,CAUlB,GATA7nF,KAAKmjF,OAAShlF,EAAOmhF,QAAQC,OAC5Bv/E,KAAK4E,QACL,QACA5E,KAAKmjF,OAAO1jF,MAOZO,KAAKmjF,OAAOjgB,SACX,IAAIvhE,SAAS2R,IAAI1R,YAAY5B,KAAKmjF,OAAOjD,QAASz3E,GACjD28E,MACD,CACD,IAAMA,EAAQhC,EAAInrE,cACjB9Z,EAAO6oF,iBAAmBrlF,SAASuhF,QAAU,IAAM,OAEpDkC,EAAM/5D,QAAQrrB,KAAKmjF,OAAOjD,SAC1BlgF,KAAKmjF,OAAOjD,QAAQ+G,KAAK7B,GAKtBplF,KAAK8nF,UACR9nF,KAAKmjF,OAAO3gF,eACLxC,KAAK8nF,gBAGN9nF,KAAK6nF,cAMZE,EAAgB/nF,KAAKmjF,OAAQ3D,GAI/B,MAAO,CACNrc,eAAgBsd,EAAwBtiF,GAExC2jF,gBAAiB,eAEjBnB,SAAUY,EAAkBpjF,GAE5B4jF,kBAAmB,aAGnBrB,uBAAwB,CAAC,CAAC,gCAG1BW,UAAW,CACVtB,QAAS,CACRuB,SAAU,aACVne,eAAgB,8CAIlB7hE,MAAO,CACNoZ,MAAO,MACPqlE,QAAS,cAKVX,WAEA3/E,KA7BM,WA8BL,IAAMkhF,EAAW3gF,KAAK2gF,SA8CtB,GA1CC3gF,KAAKP,KAAKqgF,aACT3hF,EAAOkQ,OAAOuyE,aAAaD,EAASZ,WAErC//E,KAAKP,KAAKqgF,YAAa,GAIJ,QAAnB9/E,KAAKP,KAAK0gF,OACThiF,EAAOkQ,OAAOuyE,aAAaD,EAASR,SAErCngF,KAAKP,KAAK0gF,MAAQ,QAGnBngF,KAAKgoF,WAAW,CACf7E,OAAQnjF,KACR4E,QAAS5E,KAAK4E,QACdk8E,QAAS9gF,KAAK8gF,QACdoF,QAASlmF,KAAKP,KACd0mF,UACAmB,YAKItnF,KAAKP,KAAK2S,KAGTpS,KAAKsB,MAAM8Q,OACfpS,KAAKsB,MAAM8Q,KAAOpS,KAAKsB,MAAMoZ,MAAM4xD,aAHhCtsE,KAAKsB,MAAM8Q,aAAapS,KAAKsB,MAAM8Q,KAMxCpS,KAAKsB,MAAMoZ,MAAMktD,cAAc,CAC9Bv+D,IAAKrJ,KAAKP,KAAK4J,IAGf,qBAAsBrJ,KAAKP,KAAK4J,IAEhC01E,IAAK/+E,KAAKP,KAAKs/E,MAMf/+E,KAAK8gF,UACJ9gF,KAAK8gF,QAAQhB,YACd9/E,KAAKP,KAAKqgF,WAEV,IAAK,IAAM1jF,KAAK4D,KAAKP,KAAKshF,QAExBtkF,OAAOkB,UAAUC,eAAe1B,KAC/B8D,KAAKP,KAAKshF,QACV3kF,IAGD4D,KAAKsB,MAAMoZ,MAAM7E,YAAYzZ,GAO5B+B,EAAOkQ,OAAOuyE,aAAaD,EAASK,YACvCC,EAAcjhF,MAGfA,KAAK8gF,QAAUn/E,SAAS+L,MAAMjC,OAAO,GAAIzL,KAAKP,OAG/CsrE,KAtGM,WAuGL,IAAM6U,EAAUj+E,SAAS6hB,QAAQ+hE,mBAE3B7qE,EAAQ1a,KAAKsB,MAAMoZ,MAEnBjb,EAAO,CACZqgF,aAAc9/E,KAAKsB,MAAMy+E,QACzB12E,IAAKqR,EAAM1U,aAAa,OACxB+4E,IAAKrkE,EAAM1U,aAAa,QAAU,GAClCrH,MAAO+b,EAAM1U,aAAa,UAAY,GACtCtH,OAAQgc,EAAM1U,aAAa,WAAa,GAGxCmG,MAAMnM,KAAKggF,OACRJ,EAAQK,qBAAqBvlE,IAO3BtI,EAAOsI,EAAMoF,aAAa,KAQhC,GANI1N,GAAQpS,KAAKkgF,QAAQzmE,SAASrH,KAAOpS,KAAKsB,MAAM8Q,KAAOA,IAMtD3S,EAAK0gF,MAAO,CAChB,IAAMC,EAAe3gF,EAAKqgF,WAAa9/E,KAAK4E,QAAU8V,EAGlD8kE,GACCY,EAAa7qE,SAASiqE,EAAa,IACtC//E,EAAK0gF,MAAQ,OACHC,EAAa7qE,SAASiqE,EAAa,MAC7C//E,EAAK0gF,MAAQ,SAGV1gF,EAAK0gF,MACRC,EAAavqE,YACZ2pE,EAAaR,EAAcv/E,EAAK0gF,SAGjC1gF,EAAK0gF,MAAQ,SAKd1gF,EAAK0gF,MAAQC,EAAav+E,SAAS,UAAY,OAC/Cu+E,EAAah0E,YAAY,UAK3B,GAAIjO,EAAOqlB,QAAQpR,MAAQpS,KAAKsB,MAAM8Q,KAAM,CAC3C3S,EAAK2S,KAAOwtE,EAAQ6H,yBAAR7H,CACXzhF,EACA6B,KAAKsB,MAAM8Q,MAKZ,IAAM61E,EAAWxoF,EAAK2S,KAAK61E,SACvBA,GAAYA,EAASC,gBACxBD,EAASC,cAAgBvmF,SAAS+L,MAAMm0B,KACvComD,EAASC,cAAc78D,QAAQ,UAAW,MAO7CrrB,KAAKkgF,SAASzgF,EAAKqgF,WAAa,SAAW,OAAS,SACnD,uBAGD9/E,KAAKqgF,QAAQ5gF,GAKZtB,EAAOkQ,OAAOuyE,aAAa5gF,KAAK2gF,SAASK,aACW,IAApD7iF,EAAOG,OAAO6pF,mCAEd5H,EAAavgF,MAEd,IAAMooF,EAAmBpoF,KAAKqoF,qBAAqBvzE,EAAEzT,MACrD+mF,EAAiBnjF,aAChB,kBACA,yBAEDmjF,EAAiBnjF,aAAa,UAAW,KAEzCjF,KAAKgoF,WAAapI,EAAQ4F,aAAaxlF,KAAK7B,QAG5C6B,KAAK8K,GAAG,eAAe,SAASy4E,GAC/BA,EAAI9jF,KAAKib,MAAQ/Y,SAAS2mF,cAKtBtoF,KAAKsB,MAAM8Q,MAAQpS,KAAKkgF,QAAQpgE,aAAa,QAChDyjE,EAAI9jF,KAAK2S,KAAOmxE,EAAI9jF,KAAK8oF,OAAS5mF,SAAS2mF,kBAM9CxyE,SArNM,SAqNG9X,GACRwiF,EAAoBxgF,MAAM8V,SAAS9X,IAKpCuX,SA3NM,SA2NGvX,GACR,OAAOwiF,EAAoBxgF,MAAMuV,SAASvX,IAK3C6X,YAjOM,SAiOM7X,GACXwiF,EAAoBxgF,MAAM6V,YAAY7X,IAKvCwjF,WAAa,WACZ,IAAMC,EAAa,IAAI5J,OACtB,KACC,GAAGxxE,OAAOq5E,EAAgBF,GAAc9jE,KAAK,KAC7C,MAGF,OAAO,WACN,IAAMqlE,EAAU/gF,KAAK0hF,WAAWC,oBAC/BnB,EAAoBxgF,MAAMgG,aAAa,UAKxC,IAAK,IAAM5J,KAAK2kF,EACXU,EAAW52E,KAAKzO,WAAW2kF,EAAQ3kF,GAGxC,OAAO2kF,GAlBI,GAsBbiB,OAAQC,EAAoB9jF,GAC5B+iF,SAAUC,EAAsBhjF,GAEhCyjF,SAhQM,WAiQL,IAAMx5E,GAASpI,KAAKP,KAAKs/E,KAAO,IAAM,IAAM/+E,KAAK6hF,SAEjD,OAAO7hF,KAAK7B,OAAOgM,KAAKg5E,OAAO/6E,MAAMijB,QAAQ,KAAMjjB,KAoYtD,SAAS2/E,EAAgB5E,EAAQ3D,GAChC,IAAMU,EAAUiD,EAAOjD,QAEjBC,EAAQgD,EAAO1jF,KAAK0gF,MAEpBL,EAAaqD,EAAO1jF,KAAKqgF,WAE/B,GAAIN,EAAc,CAEjB,IAAK,IAAIzjF,EAAI,EAAGA,KAAOmkF,EAAQrqE,YAAY2pE,EAAazjF,IAE3C,UAATokF,EASCL,GACHI,EAAQpqE,SAAS0pE,EAAa,IAEZ,QAATW,GACVD,EAAQpqE,SAAS0pE,EAAaR,EAAcmB,SAEvC,CACO,UAATA,GACCL,EAAYI,EAAQoG,SAAS,aAAc,UAC1CpG,EAAQ9zE,YAAY,cAEzB8zE,EAAQ9zE,YAAY,WAEP,QAAT+zE,EAAiBD,EAAQ9zE,YAAY,SACpC8zE,EAAQoG,SAAS,QAASnG,GAE/BD,EAAQ9zE,YAAY,eAGrB,IAAMsO,EAAQwlE,EAAQprE,EAAE0zE,cAAc,OAEhCC,EAAc/tE,EAAM1U,aAAa,SAEvC,GAAIyiF,EAAa,CAChB,IAAI/7E,EAAS,GAEPg8E,EAAe,gBAAgBhiF,KAAK+hF,GACtCC,IACHh8E,GAAUg8E,EAAa,IAGxB,IAAMC,EAAc,eAAejiF,KAAK+hF,GACpCE,IACHj8E,GAAUi8E,EAAY,IAGvBjuE,EAAMzV,aAAa,QAASyH,KAU/B,SAASu1E,EAAoB9jF,GAC5B,IAAM+jF,EAAkBC,EAAqBhkF,GAEvCuhF,EAAiBvhF,EAAOG,OAAOonF,kCAIrC,OAAO,SAAS7nE,EAAIpe,GACnB,IAAM2iF,EAAa,CAACzjF,MAAO,EAAGD,OAAQ,GAEhCpC,EAAOuhB,EAAGvhB,KAEZoe,SAGJ,IAAImD,EAAG60C,WAAW,wBAAlB,CAcA,GAAIwvB,EAAgBrkE,GAAK,CACxB,GAAY,OAARvhB,EAAe,CAClB,IAAM+lF,EAASxkE,EAAG+vD,SAAS,UAGvByU,IACHxkE,EAAGykE,YAAYD,GACfxkE,EAAKwkE,GAMP5iF,EAAK0gF,MAAQ,SAGbzlE,EAAQmD,EAAG+vD,SAAS,QAAU/vD,EAAG+vD,SAAS,KAAKA,SAAS,WAIxC,UAARtxE,GAAoBuhB,EAAGtI,SAASmqE,GACxChlE,EAAQmD,EAAG+vD,SAAS,QAAU/vD,EAAG+vD,SAAS,KAAKA,SAAS,OAG9C2U,EAA0B1kE,KACpCnD,EAAmB,KAAXmD,EAAGvhB,KAAcuhB,EAAGtW,SAAS,GAAKsW,GAG3C,GAAKnD,EAAL,CAIA,IAAK,IAAMre,KAAK+lF,EACf,GAAI3lF,OAAOkB,UAAUC,eAAe1B,KAAKkmF,EAAY/lF,GAAI,CACxD,IAAM2kF,EAAYtmE,EAAMg4C,WAAWr2D,GAC/B2kF,GAAaA,EAAU53E,MAAM+1E,WACzBzkE,EAAMg4C,WAAWr2D,GAI3B,OAAOwhB,KAQT,SAASsjE,EAAsBhjF,GAC9B,IAAMqhF,EAAerhF,EAAOG,OAAOmnF,gCAGnC,OAAO,SAAS5nE,GAGf,IAAM2kE,EAAyB,KAAX3kE,EAAGvhB,KAAcuhB,EAAG+vD,WAAa/vD,EAE/CzK,EAAQovE,EAAY9vB,WAEpBytB,EAAQngF,KAAKP,KAAK0gF,MAIxB,IAAKngF,KAAKkjE,OAAQ,CACjB,IAAMuf,EAAgB5kE,EAAG+vD,SAAS,QAE9B6U,GACHA,EAAcH,YACbG,EAAc7U,SAAS,CAACprC,IAAK,EAAGr8B,EAAG,KAItC,GAAIg6E,GAAkB,QAATA,EAAiB,CAC7B,IAAMzzE,EAAS/K,SAAS+L,MAAMg1E,aAAatvE,EAAM/R,OAAS,IAc7C,UAAT8+E,GAAgC,UAAXtiE,EAAGvhB,KAC3BuhB,EAAKA,EAAG8kE,SACP,IAAIhhF,SAASihF,WAAWh+E,QACvB,MACA46E,EACG,CAAC7sB,MAAO6sB,EAAa,IACrB,CAACn+E,MAAO,uBAML8+E,IAAS,CAAC1sE,KAAM,EAAGgB,MAAO,KAC9B+qE,EACHgD,EAAY1sE,SACX0pE,EAAaR,EAAcmB,KAExBzzE,EAAO,SAAWyzE,GAInBX,GAAiB79E,SAAS+L,MAAMm1E,QAAQn2E,KAC5C0G,EAAM/R,MAAQM,SAAS+L,MAAMo1E,aAAap2E,GAAU,KAGtD,OAAOmR,GAQT,SAASskE,EAAqBhkF,GAC7B,IAAMuhF,EAAiBvhF,EAAOG,OAAOonF,kCAE/BlG,EAAerhF,EAAOG,OAAOmnF,gCAE7B1C,EAAgB,CAACV,OAAQ,EAAGl8E,EAAG,EAAGq8B,IAAK,GAE7C,OAAO,SAAS3kB,GAEf,KAAMA,EAAGvhB,OAAQ,CAAC0mF,IAAK,EAAGnlF,EAAG,IAAK,OAAO,EAEzC,IAAM0J,EAAWsW,EAAGtW,SAGpB,GAAwB,IAApBA,EAAS1E,OAAc,OAAO,EAElC,IAAMm3B,EAAQzyB,EAAS,GAIvB,KAAMyyB,EAAM19B,QAAQymF,GAAgB,OAAO,EAI3C,GAAe,KAAXllE,EAAGvhB,MACN,IAAKimF,EAA0BvoD,GAAQ,OAAO,OAM9C,GAAkB,UAAdA,EAAM19B,MACT,IAAK09B,EAAMzkB,SAASmqE,GAAiB,OAAO,MACtC,CAKN,GAAIvhF,EAAO8kF,WAAathF,SAASuhF,QAAS,OAAO,EAIjD,IAAKX,EAA0BvoD,GAAQ,OAAO,EAMhD,SACCwlD,EACG3hE,EAAGtI,SAASiqE,EAAa,IAIN,UAHnB79E,SAAS+L,MAAMg1E,aACf7kE,EAAG60C,WAAWrxD,OAAS,IACvB,GACE,gBAWR,SAASkhF,EAA0B1kE,GAClC,MAAe,OAAXA,EAAGvhB,MACa,KAAXuhB,EAAGvhB,OACkB,GAAtBuhB,EAAGtW,SAAS1E,QAAegb,EAAG+vD,SAAS,QAQhD,SAASqT,EAAckC,GACtB,IAAM1jF,EAAO0jF,EAAO1jF,KAEd2iF,EAAa,CAACzjF,MAAOc,EAAKd,MAAOD,OAAQe,EAAKf,QAE9Cgc,EAAQyoE,EAAO7hF,MAAMoZ,MAE3B,IAAK,IAAMre,KAAK+lF,EACXA,EAAW/lF,GAAIqe,EAAMzV,aAAa5I,EAAG+lF,EAAW/lF,IAC/Cqe,EAAMqY,gBAAgB12B,GAO7B,SAASkkF,EAAa4C,GACrB,IAAMhlF,EAASglF,EAAOhlF,OAEhBsK,EAAWtK,EAAOsK,WAElB26E,EAAMjlF,EAAO6E,SAIb04E,EAAWyH,EAAOzH,QAAU0H,EAAInrE,cAAc,QAI9C2wE,EAAYxF,EAAInrE,cAAc,QAE9B4wE,EAAYzF,EAAInrE,cAAc,QAE9B6wE,EAAY1F,EAAInrE,cAAc,QAE9B8wE,EAAY3F,EAAInrE,cAAc,QAwBpC,GAtBA2wE,EAAU9yE,SAAS,qBACnB8yE,EAAU9yE,SAAS,wBAEnB+yE,EAAU/yE,SAAS,qBACnB+yE,EAAU/yE,SAAS,wBAEnBgzE,EAAUhzE,SAAS,qBACnBgzE,EAAUhzE,SAAS,wBAEnBizE,EAAUjzE,SAAS,qBACnBizE,EAAUjzE,SAAS,wBAGnB4lE,EAAQ/P,OAAOid,GACflN,EAAQ/P,OAAOkd,GACfnN,EAAQ/P,OAAOmd,GACfpN,EAAQ/P,OAAOod,GAGfrN,EAAQ/P,OAAO,IAAIhqE,SAAS2R,IAAIqH,KAAK,IAAUyoE,IAG1CD,EAAOjgB,OAgBXigB,EAAOjD,QAAQvU,OAAO+P,OAhBH,CACnB,IAAM2H,EAAcF,EAAO7hF,MAAM8Q,MAAQ+wE,EAAO7hF,MAAMoZ,MAEhD4oE,EAAmBD,EAAY/W,YAE/BmW,EAAgBW,EAAInrE,cAAc,QAExCwqE,EAAc3sE,SAAS,6BACvB2sE,EAAc9W,OAAO0X,GACrBZ,EAAc9W,OAAO+P,GACrByH,EAAOv+E,QAAQ+mE,OAAO8W,GAAe,GAIjCa,EAAiBtgD,GAAG,SAASsgD,EAAiB7zE,SAMnDisE,EAAQ5wE,GAAG,aAAa,SAAAy4E,GACvB,IAAM7oE,EAAQyoE,EAAO7hF,MAAMoZ,MAKrBsuD,EAASua,EAAI9jF,KAAKqV,EAAE+2B,QAEpBo9B,EAASsa,EAAI9jF,KAAKqV,EAAEg3B,QAIpB23C,EAAa/oE,EAAM5F,EAAEqC,YAErBusE,EAAchpE,EAAM5F,EAAE6uE,aAEtBlF,EAAQgF,EAAaC,EAErB3pB,EAAY,GAEZp3D,EAAS4gF,EAAI9jF,KAAKwlE,YAEpB+jB,SAEAC,SAEAhF,SAEAC,SAEAL,SAEAE,SAEAD,SAEAE,SAKArhF,EAAO4S,SAAS,yBACnByzE,EAAU,EACVC,EAAU,GACAtmF,EAAO4S,SAAS,yBAC1ByzE,GAAW,EACXC,EAAU,GACAtmF,EAAO4S,SAAS,yBAC1ByzE,EAAU,EACVC,GAAW,GACDtmF,EAAO4S,SAAS,0BAC1ByzE,GAAW,EACXC,GAAW,GAIZ,IAAMrF,EACL,eACGqF,EAAgB,IAAN,OACVD,EAAgB,IAAN,KAmBd,SAAS7E,EAAkB7nF,EAAMoN,EAAU06E,GAC1C,IAAMC,EAAY1iF,SAASqB,SAErB+2D,EAAY,GAOlB,GALKqpB,EAAIxqE,OAAOyrE,IACftqB,EAAU9zD,KAAKo+E,EAAUv5E,GAAGxO,EAAMoN,IAEnCqwD,EAAU9zD,KAAKm9E,EAAIt4E,GAAGxO,EAAMoN,IAExB06E,EACH,IAAK,IAAIroF,EAAIg+D,EAAUl3D,OAAQ9G,KAC9BqoF,EAAWn+E,KAAK8zD,EAAUtuC,OAK7B,SAASy9D,IACRpF,EAAWL,EAAauF,EAAU/E,EAClCF,EAAY7+E,KAAK41E,MAAMgJ,EAAWrF,GAInC,SAAS0K,IACRpF,EAAYL,EAAcuF,EAAU/E,EACpCJ,EAAW5+E,KAAK41E,MAAMiJ,EAAYtF,GAmBnC,SAAS6F,EAAYf,GACpBM,EAAYN,EAAI9jF,KAAKqV,EAGrBmvE,EAAYJ,EAAUh4C,QAAUm9B,EAChCkb,EAAYjb,EAAS4a,EAAU/3C,QAGhB,GAAXk9C,EACC/E,GAAa,EAChBkF,IAEAD,IAKGjF,GAAa,EAChBiF,IAEAC,IAMErF,GAAY,IAAMC,GAAa,IAClCrpE,EAAM5F,EAAEzT,MAAM1C,MAAQmlF,EAAW,KACjCppE,EAAM5F,EAAEzT,MAAM3C,OAASqlF,EAAY,KAEnCC,GAAa,GAEbA,GAAa,EAIf,SAASO,IACR,IAAIvoF,SAEJ,MAAQA,EAAI+9D,EAAUtuC,MAAQzvB,EAAE09D,iBAGhCjxD,EAASoN,YAAY+tE,GAGrBlI,EAAQ7lE,YAAY,sBAEhBmuE,IACHb,EAAO9C,QAAQ,CACd3hF,OAAQqlF,EACRplF,MAAOmlF,IAIR3lF,EAAOwB,KAAK,iBAIbqkF,GAAa,EAtHd7lF,EAAOwB,KAAK,gBAGZwkF,EAAkB,YAAaG,EAAavqB,GAG5CoqB,EAAkB,UAAWI,EAAWxqB,GAGxCtxD,EAASqN,SAAS8tE,GAGlBlI,EAAQ5lE,SAAS,yBAkInB,SAASwvE,EAAuBnnF,GAC/B,IAAMirF,EAAgB,GAElBC,SAEJ,OAAO,SAASrsF,GACf,IAAM0C,EAAUvB,EAAO4D,WAAW,UAAY/E,GAGzC0C,IAIL0pF,EAAcnjF,MAAK,WAClBvG,EAAQ4pF,QAAQnrF,EAAQA,EAAOyD,kBAG5B5E,IAAS,CAACyX,MAAO,EAAGhB,KAAM,EAAGwrE,OAAQ,IACxCv/E,EAAQoL,GAAG,QAAQ,SAAAy4E,GAClB,IAAMJ,EAASoG,EAAiBprF,GAEhC,GAAIglF,EAAQ,CACPA,EAAO1jF,KAAK0gF,QAAUnjF,GACzB2qF,EAAsBxE,EAAQnmF,UAEvBmmF,EAAO1jF,KAAK0gF,OAEnBgD,EAAO9C,QAAQ,QAASrjF,GAKzB,IAAK,IAAIjB,EAAIqtF,EAAcvmF,OAAQ9G,KAClCqtF,EAAcrtF,KAEfwnF,EAAI1U,aAKPnvE,EAAQoL,GAAG,WAAW,SAASy4E,GAC9B,IAAMJ,EAASoG,EAAiBprF,GAE1BqrF,EAAU,CAAC/0E,MAAO,EAAGhB,KAAM,EAAGwrE,OAAQ,GAEvCkE,SAKWnoE,IAAZquE,IACHA,EAAUlrF,EAAOkQ,OAAOuyE,aACvBziF,EAAOmhF,QAAQmK,WAAW/uE,MAAMimE,SAASR,QAItCkJ,EAEJrpF,KAAKgO,SACJm1E,EAAO1jF,KAAK0gF,OAASnjF,EAClB2E,SAASM,YACTjF,KAASwsF,EACT7nF,SAAS2mF,aACT3mF,SAAS+nF,mBAPA1pF,KAAKgO,SAASrM,SAAS+nF,mBAWrCnG,EAAI1U,eAUP,SAAS0a,EAAiBprF,GACzB,IAAMglF,EAAShlF,EAAOmhF,QAAQwI,QAE9B,OAAI3E,GAAyB,SAAfA,EAAO7mF,KAAwB6mF,EAEtC,KASR,SAAS1C,EAAwBtiF,GAChC,IAAMqhF,EAAerhF,EAAOG,OAAOmnF,gCAE7BhB,EAAQ,CAEbzB,IAAK,CACJ55E,MAAO+4E,EAAqBhkF,IAE7BN,EAAG,CACFuL,MAAO+4E,EAAqBhkF,IAE7BqkC,IAAK,CACJkwB,WAAY,yBAEb2vB,OAAQ,CACPtB,QAAS,IAAM5iF,EAAOG,OAAOonF,mCAE9BhB,YAAY,GAoBb,OAjBIlF,GAEHiF,EAAMzB,IAAIjC,QAAUvB,EAAa,GACjCiF,EAAM5mF,EAAEkjF,QAAU0D,EAAMzB,IAAIjC,QAG5B0D,EAAMjiD,IAAIu+C,QAAUvB,EAAa,GAAK,IAAMA,EAAa,GACzDiF,EAAMpC,OAAOtB,SAAW,IAAM0D,EAAMjiD,IAAIu+C,UAGxC0D,EAAMzB,IAAIt2E,OAAS,aACnB+3E,EAAM5mF,EAAE6O,OAAS,aAEjB+3E,EAAMjiD,IAAI91B,OAAS,QACnB+3E,EAAMpC,OAAO31E,OAAS,iBAGhB+3E,EAUR,SAASlD,EAAkBpjF,GAC1B,IAAMqhF,EAAerhF,EAAOG,OAAOmnF,gCAE7B9E,EAAW,CAChBK,UAAW,CACVc,gBAAiB,qBAElB3B,MAAO,CACN2B,gBACC,OACCtC,EAAe,IAAMA,EAAa,GAAK,IAAM,YAEhDO,QAAS,CACR+B,gBAAiB,eAInB,OAAOnB,EASR,SAASH,EAAoB2C,GAC5B,OAAOA,EAAO1jF,KAAKqgF,WAAaqD,EAAOv+E,QAAUu+E,EAAO7hF,MAAMoZ,QAtpDhE,GAsqDA/Y,SAASrD,OAAOonF,kCAAoC,S,6BC3qDpD,aAGA,IAAK/jF,SAAS6hB,QAAQ5mB,IAAI,YAAa,CACtC,IAAM+sF,EAAa,UAEbC,EAAqB,WAE3BjoF,SAASkoF,yBACR,kEACDloF,SAASmoF,4BACR,wCACDnoF,SAASooF,kCAAoC,4BAa7CpoF,SAAS6hB,QAAQwhC,IAAI,WAAY,CAChCwjB,SAAU,SACVuC,KAFgC,SAE3B5sE,GACJ,IAAM6rF,EAAmB,IAAIroF,SAASy9E,SACrCjhF,EAAOG,OAAO2rF,kBACbtoF,SAASkoF,0BAELK,EAAsB,IAAIvoF,SAASy9E,SACxCjhF,EAAOG,OAAO6rF,gBACbxoF,SAASmoF,6BAELM,EAA4B,IAAIzoF,SAASy9E,SAC9CjhF,EAAOG,OAAO+rF,qBACb1oF,SAASooF,mCAKLO,EAA6B,SAAS1lF,EAASnF,GACpD,GACkB,QAAjBmF,EAAQtI,MACRsI,EAAQ8tD,WAAW,qBAInB,OAFAjzD,EAAKkgB,IAAM/a,EAAQ8tD,WAAW,sBAEvB,GAKTv0D,EAAO0I,WAAW,WAAY,CAC7BH,KAD6B,SACxBvI,EAAQsB,GACZtB,EAAOu7E,WACNwQ,EAAoBvb,OAAO,CAC1BhvD,IAAKlgB,EAAKkgB,UAOdxhB,EAAOmhF,QAAQt6B,IAAI,WAAY,CAC9BulC,MAAM,EACNzI,gBAAiB,yBAUjBriF,KAZ8B,SAYzBgD,GACJ,IAAM0gF,EAASnjF,KAET2f,EAAMld,EAAMhD,KAAKkgB,IAEnBA,GACHhe,SAAS+L,MAAMugE,MACd+b,EACA,CACCrqE,IAAK2J,mBAAmB3J,KAEzB,SAAA6uD,GACKA,EAASv3C,KAEX2yD,EAAmB/+E,KAAK2jE,EAASv3C,MAEjCksD,EAAOqH,WAAW7qE,GAElBwjE,EAAOv+E,QAAQ6lF,QAAQjc,EAASv3C,MAGjCksD,EAAOqH,WAAW7qE,MAGpB,SAAA+qE,GACCvH,EAAOqH,WAAW7qE,OAMtB6qE,WA3C8B,SA2CnB7qE,GACV3f,KAAK7B,OAAOqB,YAAY,QAExB,IAAMmrF,EAAWP,EAA0Bzb,OAAO,CACjDhvD,QAGD3f,KAAK7B,OAAOu7E,WAAWiR,GACvB3qF,KAAK7B,OAAOwB,KAAK,kBAAmBK,OAUrCgiF,OA7D8B,SA6DvBp9E,EAASnF,GACf,IAAMmrF,EACLzsF,EAAOG,OAAOssF,qBACdN,EAED,OAAOM,EAAoBhmF,EAASnF,MAKtCtB,EAAO0L,KAAK,cAAc,WACzB1L,EAAO2M,GACN,SACA,SAAArI,GACC,IAAM2P,EAAO3P,EAAMhD,KAAKm4E,UAEpB+R,EAAW9+E,KAAKuH,KACnB3P,EAAMoc,OAEN1gB,EAAOqB,YAAY,WAAY,CAC9BmgB,IAAKld,EAAMhD,KAAKm4E,eAInB,KACA,KAIAiT,oBAMF1sF,EAAO2M,GAAG,mBAAmB,SAAA6kE,GAC5B,IAAMrgE,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM1K,EAAU0K,EAAU2Q,qBAE1B,GAAIrb,EAAS,CACZ,IAAM4/E,EAAgB5/E,EAAQoV,QAC7B,4BAGD,GAAIwqE,EAAe,CAClB,IAAMtwE,EAAStP,EAAQujB,gBAEjBL,EAAiB,IAAInmB,SAAS2R,IAAItK,OACvCA,QACC+e,oBACF7T,EAAOT,MAAQqU,EAAetU,EAC9BU,EAAOP,KAAOmU,EAAepU,EAE7BQ,EAAOvQ,UAAYhC,SAAS0S,wBAE5BlW,EAAOwB,KAAK,oBAAqB,CAChCoU,YAAa,GACbD,cAAe,CACdlP,QAAS4/E,EACTtwE,kBASN/V,EAAOkQ,OAAOy8E,oBAAmB,SAAAlmF,GAChC,GAAI,sBAAuBA,EAAQ8tD,WAClC,OAAO/wD,SAASopF,yB,8EClMWC,EAAnBA,iBAAmB,GACHH,EAAhBA,cAAgB,G,8ECN7B,a,0DAEA,IAAKlpF,SAAS6hB,QAAQ5mB,IAAI,YAAa,CACtC,IAAM+sF,EAAa,UAEnBhoF,SAASspF,6BACR,oLAOD,IAAMC,EAAkB,CACvBC,OAAQ,SACRC,KAAM,OACNC,MAAO,SAQFC,EAAe,CACpBJ,EAAgBC,OAChBD,EAAgBE,KAChBF,EAAgBG,OAQXE,EAAuB,CAC5B,CACCjvF,KAAM,UACNU,MAAO,SAER,CACCV,KAAM,cACNU,MAAO,QAER,CACCV,KAAM,eACNU,MAAO,SAWHwuF,EAAoB,SAASjxE,GAClC,IAAIkxE,EAAiBlxE,EAAM1Y,SAAS,SAUpC,GAPE4pF,GACkB,YAAnBA,GACmB,SAAnBA,IAEAA,EAAiBlxE,EAAMvU,aAAa,WAGhCylF,EAAgB,CACpB,IAAMC,EAAgBH,EAAqBI,OAAM,SAAAtqF,GAChD,IAAIuqF,EAAarxE,EAAM1Y,SAASR,EAAM/E,QAAU+E,EAAMrE,MAUtD,OARK4uF,GAAcvqF,EAAMwqF,iBACxBD,EAAavqF,EAAMwqF,eAAevlF,MACjC,SAAAwlF,GAAA,OACCvxE,EAAM1Y,SAASiqF,EAAezqF,EAAM/E,QACpC+E,EAAMrE,UAIF4uF,KAGRH,EAAiBC,EAAgBR,EAAgBC,OAAS,KAG3D,OAAOM,GAUFM,EAAuB,SAASxxE,EAAOkxE,GAE3CA,IAAmBP,EAAgBE,MACnCK,IAAmBP,EAAgBG,OAEnC9wE,EAAMnO,YAAY,SAEdq/E,IAAmBD,EAAkBjxE,IACxCA,EAAMwY,gBAAgB,UAEb04D,IAAmBP,EAAgBC,QAC7CI,EAAqB1lF,SAAQ,SAAAxE,GAC5BkZ,EAAMnO,YAAY/K,EAAM/E,MAEpB+E,EAAMwqF,gBACTxqF,EAAMwqF,eAAehmF,SAAQ,SAAAimF,GAAA,OAC5BvxE,EAAMnO,YAAY0/E,EAAezqF,EAAM/E,aActC0vF,EAAoB,SAASzxE,EAAOkxE,GACzCM,EAAqBxxE,EAAOixE,EAAkBjxE,IAG7CkxE,IAAmBP,EAAgBE,MACnCK,IAAmBP,EAAgBG,MAEnC9wE,EAAM+rE,SAAS,QAASmF,GACdA,IAAmBP,EAAgBC,QAC7CI,EAAqB1lF,SAAQ,SAAAxE,GAC5BkZ,EAAM+rE,SAASjlF,EAAM/E,KAAM+E,EAAMrE,OAE7BqE,EAAMwqF,gBACTxqF,EAAMwqF,eAAehmF,SAAQ,SAAAimF,GAAA,OAC5BvxE,EAAM+rE,SAASwF,EAAezqF,EAAM/E,KAAM+E,EAAMrE,cAO/CijB,EAAqB,SAAS9hB,GACnC,IAAMgpB,EAAS,CACd80C,UAAW,KACXr3D,QAAS,MAGJ0K,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM0Q,EAAkB1Q,EAAU2Q,qBAGjCD,GACAA,EAAgBha,aAAa,6BAE7BmhB,EAAO80C,UAAYuvB,EAAkBxrE,GACrCmH,EAAOviB,QAAUob,GAInB,OAAOmH,GAGF60D,EAAgB,SAASn+D,EAAIlf,EAAOD,GACzC,IAAMutF,EAAiBpuE,EAAGquE,cAE1B,GAAID,GAAkBttF,EAAQ,GAAKD,EAAS,EAAG,CAC9C,IAAMipB,EAAOskE,EAAevP,wBAEtByP,EACLxtF,GAASgpB,EAAKhpB,MACX,IACAuG,KAAK4oD,MAAOnvD,EAAQgpB,EAAKhpB,MAAS,KAChC0C,EAAQA,SAAS8qF,EAAjB,KAENF,EAAehnF,aAAa,QAAS5D,GAErC,IAAMmjF,EAAgByH,EAAezD,cACpC,4BAGD,GAAIhE,EAAe,CAClB,IAAM93E,EACLw/C,KAAKkgC,MAAM5H,EAAcx+E,aAAa,iBAAmB,GAE1D0G,EAAO/N,MAAWA,EAAlB,KACA+N,EAAOhO,OAAYA,EAAnB,KAEA8lF,EAAcv/E,aACb,cACAinD,KAAKC,UAAUz/C,IAGhB,IAAM2/E,EAAgB7H,EAAcgE,cAAc,UAE9C6D,IACHA,EAAcpnF,aAAa,QAAStG,GACpC0tF,EAAcpnF,aAAa,SAAUvG,OAMnC4tF,EAAe,SAASnuF,GAC7ByL,YAAW,WACV,IAAM0F,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM28E,EAAiB38E,EAAUi9E,KAAKC,KACrC,6BAGD,GAAIP,EAAgB,CACnB,IAAMQ,EAAcR,EAAen3E,EACnC,GAAI23E,EAAY5pF,OAAS,EAAG,CAC3B,IAAMi6D,EAAc,IAAIn7D,SAAS2R,IAAI1O,QACpC6nF,EAAYA,EAAY5pF,OAAS,IAG5BivD,EAAegL,EAAY9iD,QAAQ,OACnCwqE,EAAgB1nB,EAAY9iD,QACjC,4BAGD,GAAI83C,GAAgB0yB,EAAe,CAClC,IAAM/rE,EAAQta,EAAO6rD,cAErBvxC,EAAMwxC,SAASu6B,EAAe,GAC9B/rE,EAAM2xC,OAAO0H,EAAc,GAE3BxiD,EAAUw3D,aAAa,CAACruD,IACxBnJ,EAAUo4D,cAAc5K,SAK1B,IAGA4vB,EAAmB,KACnBC,EAAiB,KACjBjR,EAAU,KAWd/5E,SAAS6hB,QAAQwhC,IAAI,WAAY,CAChCwjB,SAAU,SAEVuC,KAAM,SAAA5sE,GACL,IAAMyuF,EAAuB,IAAIjrF,SAASy9E,SACzCjhF,EAAOG,OAAO6rF,gBACbxoF,SAASspF,8BAGP4B,EAAY1uF,EAAOG,OAAOilE,gBAAkB,GAEhDspB,EAAYA,EAAU3kF,KAAI,SAAA4kF,GACzB,MAAO,CACNjlF,GAAIilF,EAASjlF,GACbg+D,IAAK,IAAIlkE,SAASy9E,SAAb,kCAC8B0N,EAASjnB,IADvC,UAGLpiE,KAAMqpF,EAASrpF,KACfqiE,WAAYgnB,EAAShnB,WAAW59D,KAC/B,SAAA6kF,GAAA,OAAU,IAAIlV,OAAOkV,UAKxB,IAAMC,EAAuB,SAACrtE,EAAKi5D,GAClC,OAAOgU,EAAqBje,OAAO,CAClCiK,UACAqU,YAAarkF,YAAYe,QAAQujF,sBACjCC,gBAAiBC,QAAQC,KAAKC,kBAC7B,eAED3tE,SAII2qE,EAA6B,SAAC1lF,EAASnF,GAC5C,IAAI8tF,GAAe,EAEnB,GACkB,QAAjB3oF,EAAQtI,MACRsI,EAAQ8tD,WAAW,kBAEnBjzD,EAAKkgB,IAAM/a,EAAQ8tD,WAAW,kBAE9B66B,GAAe,OACT,GACW,QAAjB3oF,EAAQtI,MACRsI,EAAQ8tD,WAAW,iBAClB,CACD,IAAM86B,EAAS5oF,EAAQ2C,SAAS,GAEhC9H,EAAKkgB,IAAM6tE,EAAO96B,WAAWrpD,WAEtBzE,EAAQ8tD,WAAWrxD,MAE1B,IAAMosF,EAAeT,EACpBvtF,EAAKkgB,IACL/a,EAAQ8oF,gBAGHC,EAAiB,IAAIhsF,SAASihF,WAAWgL,SAASC,SACvDJ,GAGDF,EAAeI,EAAepmF,SAAS,GAEvCgmF,EAAa76B,WAAW,eACvB9tD,EAAQ8tD,WAAW,eACpB66B,EAAa13E,YAAY,oBACzB03E,EAAa13E,YAAY,0BAEzBjR,EAAQ09E,YAAYiL,GAGrB,OAAOA,GAGFO,EAAY,SAAAC,GACjB5vF,EAAOwB,KAAK,QAASouF,GAErBnkF,YAAW,WACVzL,EAAO+N,eAAeg+C,kBAEtB/rD,EAAOqE,QAEPk5E,EAAQK,SACN,IAGJ59E,EAAO0I,WAAW,WAAY,CAC7BH,KAAM,SAACvI,EAAQsB,GACd,IAAMgE,EAAOhE,EAAKgE,KACZkc,EAAMlgB,EAAKkgB,IACbi5D,SAEJ,GAAI+Q,EAAW9+E,KAAK8U,GAAM,CACzB,IAAMquE,EAAgBnB,EACpBx+E,QAAO,SAAAy+E,GACP,OAAOrpF,GAAOqpF,EAASrpF,OAASA,KAEhC6C,MAAK,SAAAwmF,GACL,IAAMC,EAASD,EAAShnB,WAAW0mB,MAClC,SAAAO,GAAA,OAAUA,EAAOliF,KAAK8U,MAGvB,GAAIotE,EAAQ,CACX,IAAMkB,EAAUlB,EAAOrmF,KAAKiZ,GAAK,GAEjCi5D,EAAUkU,EAASjnB,IAAI8I,OAAO,CAC7Bsf,YAIF,OAAOlB,KAGT,GAAIiB,EAAe,CAClB7vF,EAAO+vF,mBAAqBvuE,EAE5B,IAAM8tE,EAAeT,EACpBrtE,EACAi5D,GAGDz6E,EAAOu7E,WAAW+T,QAElBK,EAAUllF,YAAYe,QAAQwkF,2BAG/BL,EAAUllF,YAAYe,QAAQykF,kBAKjCjwF,EAAOmhF,QAAQt6B,IAAI,WAAY,CAC9Bo8B,WAAW,EACXmJ,MAAM,EACNzI,gBAAiB,sBAEjBriF,KAL8B,SAKzBgD,GACJ,IAAM8P,EAAWvS,KAIXquF,EAAa97E,EAAS3N,QAAQoB,aACnC,eAGG0G,EAAS2hF,EAAaniC,KAAKkgC,MAAMiC,GAAc,KAEnD,IAAK3hF,EAAQ,CACZ,IAAM8gF,EAASj7E,EAAS2tE,QAAQlmE,QAAQ,UAElCs0E,EAAS/7E,EAAS2tE,QAAQprE,EAAE4nE,wBAC5B/9E,EAAQ6uF,EAAOxnF,aAAa,SAE5BmmF,EACLxtF,GAAS2vF,EAAO3vF,MACb,IACAuG,KAAK41E,MAAOn8E,EAAQ2vF,EAAO3vF,MAAS,KAExC+N,EAAS,CACR/N,MAAUwtF,EAAV,KAIF55E,EAAS2tE,QAAQj7E,aAChB,QACAtD,SAAS+L,MAAMo1E,aAAap2E,IAGzBvO,EAAO+vF,qBAAuBzrF,EAAMhD,KAAKkgB,KAC5C2sE,EAAanuF,IAIf+iF,SA1C8B,SA0CrBiC,GACR,IAAMsK,EAAetK,EAAO57E,SAAS,GAcrC,OAZAkmF,EAAa/6B,WAAWC,MACvB,0CAED86B,EAAa/6B,WAAW,eAAiBxG,KAAKC,UAC7CxqD,SAAS+L,MAAMg1E,aACdS,EAAOxW,OAAOja,WAAWrxD,QAI3BosF,EAAa/6B,WAAWrxD,MACvB8hF,EAAOxW,OAAOja,WAAWrxD,MAEnBosF,GAGRzL,OA5D8B,SA4DvBp9E,EAASnF,GACf,IAAMmrF,EACLzsF,EAAOG,OAAOssF,qBACdN,EAED,OAAOM,EAAoBhmF,EAASnF,MAItCuJ,OAAOoV,iBACN,UACA,WACCs9D,EAAQK,OACRuQ,EAAanuF,MAEd,GAGDA,EAAO2M,GAAG,mBAAmB,SAAA6kE,GAC5B,IAAMrgE,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAM1K,EAAU0K,EAAU2Q,qBAE1B,GAAIrb,EAAS,CACZ,IAAM4/E,EAAgB5/E,EAAQoV,QAC7B,4BAGD,GAAIwqE,EAAe,CAClB,IAAM18D,EAAiB,IAAInmB,SAAS2R,IAAItK,OACvCA,QACC+e,oBAEI7T,EAAStP,EAAQujB,gBAEvBjU,EAAOvQ,UAAYhC,SAAS0S,wBAC5BH,EAAOT,MAAQqU,EAAetU,EAC9BU,EAAOP,KAAOmU,EAAepU,EAE7BvV,EAAOwB,KAAK,oBAAqB,CAChCoU,YAAa,GACbD,cAAe,CACdlP,QAAS4/E,EACTtwE,YAKH,IAAM49C,EAAeltD,EAAQoV,QAC5B,uBAGG83C,GACH4pB,EAAQza,KAAKnP,EAAah9C,QAG3B4mE,EAAQK,WAKX59E,EAAO2M,GAAG,WAAW,WACpB,IAAMkxE,EAAgBh5E,SAAS0iE,eAAe,YAE1CsW,GACHA,EAAcvsE,SAGfzM,SAASi5E,oBAAoB,YAAaL,MAG3Cz9E,EAAO2M,GAAG,QAAQ,WACjB4wE,EAAQK,UAGT59E,EAAOkQ,OAAOy8E,oBAAmB,SAAAlmF,GAChC,GAAI,mBAAoBA,EAAQ8tD,WAC/B,OAAO/wD,SAASopF,oBAIlB,IAAMnP,EAAoB,SAAAn5E,GACzB,IAAM0kB,EAASlH,EAAmB9hB,GAElCuuF,EAAmBvlE,EAAO80C,UAC1B0wB,EAAiBxlE,EAAOviB,QAEpB82E,EAAQG,SAASp5E,EAAME,SAC1B+4E,EAAQI,SAASr5E,IAInBi5E,EAAU,IAAIC,UAAQx9E,EAAQ,CAC7BkgF,WAD6B,SAClBz5E,EAASjG,EAAOD,GAC1Bs9E,EAAcp3E,EAASjG,EAAOD,GAE1BguF,GAAoBC,GACvBX,EAAkBW,EAAgBD,GAEnCJ,EAAanuF,MAIf6E,SAASob,iBAAiB,YAAaw9D,GAAmB,IAG3DuJ,UAAW,SAAAhnF,GACVmtF,EAAazlF,SAAQ,SAAA0oF,GACpB,IAAM7uF,EAAUvB,EAAO4D,WAAW,UAAYwsF,GAE1C7uF,IACHA,EAAQoL,GAAG,QAAQ,SAAArI,GAClB,IAAMud,EAAkB7hB,EACtB+N,eACA+T,qBAEF,GACCD,GACAA,EAAgBha,aACf,2BAEA,CACD,IAAMwoF,EAAgBxuE,EAAgBhG,QACrC,4CAGD,GAAIw0E,EAAe,CAClB,IAAM/C,EAAiBD,EACtBxrE,GAGGyrE,IAAmB8C,EACtBxC,EACC/rE,EACAuuE,GAGDvC,EACChsE,EACAuuE,GAIF5B,EAAiB3sE,EACjB0sE,EAAmBlB,EAClBxrE,GAGD,IAAM8xC,EAAe9xC,EAAgBhG,QACpC,OAGG83C,GACH4pB,EAAQza,KAAKnP,EAAah9C,GAG3BrS,EAAMosE,SAEN,IAAMjtE,EAAc,IAAID,SAAS2R,IAAI1R,YACpCoe,GAGDsrE,EAAazlF,SAAQ,SAAA0oF,GACpB,IAAM7uF,EAAUvB,EAAO4D,WACtB,UAAYwsF,GAGT7uF,GACHA,EAAQ4pF,QAAQnrF,EAAQyD,WAO7BlC,EAAQoL,GAAG,WAAW,SAAArI,GACrB,IAAMq6D,EAAcr6D,EAAMhD,KAAKlB,KAAKu+D,YAEpC,GACCA,GACAA,EAAY92D,aACX,4BAED82D,EAAY9iD,QAAQ,iCACnB,CACD,IAAMyxE,EAAiBD,EACtB1uB,GAGDr6D,EAAMgsF,OAAOzgF,SACZy9E,IAAmB8C,EAChB5sF,SAASM,YACTN,SAAS2mF,cAGb7lF,EAAMosE,oB,UASEltE,SAAS6hB,QAAQ5mB,IAAI,a,wVClpBpC,S,wJAEA,IAAM09E,EAAgB,CAAC,KAAM,KAAM,KAAM,MAEnCG,EAAsB,CAC3BC,GAD2B,SACxBrE,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EAAgBvE,GAAS,EAAI5iE,EAAMknE,EAAIj8E,OAAS,EAAIiV,IAErD0uB,GAJ2B,SAIxBg0C,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EAAgBvE,EAAQsE,EAAIh8E,MAAQ,EAAI8U,EAAMknE,EAAIj8E,OAAS,EAAIiV,IAEhEwnE,GAP2B,SAOxB9E,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EACCvE,EACAsE,EAAIh8E,MAAQ,EAAI8U,EAChBvO,KAAK41E,MAAMH,EAAIj8E,OAAS,GAAK,EAAIiV,IAGnCqnE,GAd2B,SAcxB3E,EAAQ5iE,EAAME,EAAKsnE,GACrBL,EAAgBvE,EAAQ5iE,EAAO,EAAGE,EAAM,IAEzC03D,GAjB2B,SAiBxBgL,EAAQ5iE,EAAME,EAAKgnE,GACrBC,EAAgBvE,EAAQsE,EAAIh8E,MAAQ,EAAI8U,GAAO,EAAIE,KAI/CinE,EAAkB,SAAC/8D,EAAIpK,EAAME,GAClCkK,EAAGxc,MAAMoS,KAAUA,EAAnB,KACAoK,EAAGxc,MAAMsS,IAASA,EAAlB,MAGK8oE,EAAiB,SAACzzE,EAAQ6U,GAC/B,IAAM8J,EAAO9J,EAAG6+D,wBAEhB,MAAO,CACNh+E,OAAQipB,EAAKjpB,OACb+U,KAAMkU,EAAKlU,KAAOzK,EAAO2zE,YACzBhpE,IAAKgU,EAAKhU,IAAM3K,EAAO4zE,YACvBj+E,MAAOgpB,EAAKhpB,QAIRg9E,E,WACL,WAAYx9E,GAAkB,IAAV0Z,EAAU,uDAAJ,GAAI,UAC7B7X,KAAK6X,IAAMA,EACX7X,KAAK7B,OAASA,EAEd6B,KAAKgD,SAAW7E,EAAO6E,SAAW7E,EAAO6E,SAAS8R,EAAI9R,SACtDhD,KAAKgJ,OAAS7K,EAAO6K,OAAS7K,EAAO6K,OAAO8L,EAAI9L,OAEhDhJ,KAAK26E,IAAM,KACX36E,KAAK+8B,UAAY,KACjB/8B,KAAKi9E,QAAU,GACfj9E,KAAKg9E,QAAU,KACfh9E,KAAKi+E,WAAa,KAClBj+E,KAAKmnB,OAAS,KAEdnnB,KAAK+qE,O,yCAGC,WACN/qE,KAAK+8B,UAAY/8B,KAAKgD,SAASiV,cAAc,OAC7CjY,KAAK+8B,UAAUl1B,GAAK,WAEpB7H,KAAKg9E,QAAUh9E,KAAKgD,SAASiV,cAAc,QAE3CjY,KAAK+8B,UAAUhF,YAAY/3B,KAAKg9E,SAEhCh9E,KAAKi9E,QAAU,GAEf3C,EAAcz0E,SAAQ,SAAAq3E,GACrB,EAAKD,QAAQC,GAAc,EAAKC,aAAaD,MAK9C,IAFA,IAAMp5E,EAAOrH,OAAOqH,KAAK9D,KAAKi9E,SAErBlhF,EAAI,EAAGA,EAAI+H,EAAKjB,OAAQ9G,IAChCiE,KAAK+8B,UAAUhF,YAAY/3B,KAAKi9E,QAAQn5E,EAAK/H,O,mCAIlCO,GACZ,IAAMuhB,EAAK7d,KAAKgD,SAASiV,cAAc,KAIvC,OAFA4F,EAAGu/D,UAAUp4B,IAAI1oD,GAEVuhB,I,+BAGCA,GAKR,IAJA,IAAM/Z,EAAOrH,OAAOqH,KAAK9D,KAAKi9E,SAE1B91D,GAAS,EAEJprB,EAAI,EAAGA,EAAI+H,EAAKjB,OAAQ9G,IAC5BiE,KAAKi9E,QAAQn5E,EAAK/H,MAAQ8hB,IAC7BsJ,GAAS,GAIX,OAAOA,I,2BAGHtJ,GACJ,IAAM9H,EAAS/V,KAAK7B,OAAOG,OAAOyX,QAAU/S,SAAS4T,KAErD5W,KAAK6d,GAAKA,EAEV7d,KAAK26E,IAAM8B,EAAez8E,KAAKgJ,OAAQhJ,KAAK6d,IAE5C+8D,EACC56E,KAAK+8B,UACL/8B,KAAK26E,IAAIlnE,KACTzT,KAAK26E,IAAIhnE,IAAMoC,EAAOC,WAGvBD,EAAOgiB,YAAY/3B,KAAK+8B,WAExB/8B,KAAK6d,GAAGu/D,UAAUp4B,IAAI,YAEtBhlD,KAAKs9E,gB,6BAML,IAFA,IAAMC,EAAWv9E,KAAKgD,SAASw6E,uBAAuB,YAE7CzhF,EAAI,EAAGA,EAAIwhF,EAAS16E,OAAQ9G,IACpCwhF,EAASxhF,GAAGqhF,UAAU3tE,OAAO,YAG9BzP,KAAKy9E,cAEDz9E,KAAK+8B,UAAU/B,YAClBh7B,KAAK+8B,UAAU/B,WAAWlD,YAAY93B,KAAK+8B,a,+BAIpCt6B,GAAO,WACf,GAAqB,IAAjBA,EAAM+U,OAAV,CAIA,IAAMkmE,EAAO,IAAIvB,UAAUn8E,KAAKgJ,OAAQhJ,KAAKgD,UAE7C06E,EAAKC,QAAU,WACd,EAAKC,cAEL,EAAKC,YAAa,EAElB,EAAK1/E,OAAO+N,eAAeC,QAG5BuxE,EAAKI,OAAS,WACb,EAAKC,cAAcL,GAEnB,IAAMgR,EAAe,EAAKvwF,OAAOyG,QAAQkQ,EAAE4nE,wBAE3C,KAAI,EAAKuB,WAAWt/E,OAAS+vF,EAAa/vF,OAA1C,CAIA,EAAKq/E,gBAEL,IAAMrD,EAAM,EAAKsD,WAEjB,EAAKC,cAAcvD,EAAKA,EAAIlnE,KAAMknE,EAAIhnE,OAGvC+pE,EAAKS,UAAY,WAChB,EAAKC,cAEL,EAAKP,YAAa,EAElB,EAAK9B,OAEL,EAAK59E,OAAO+N,eAAeG,SAE3B,EAAKlO,OAAOwB,KAAK,iBAGlB+9E,EAAKW,WAAa,WACjB,EAAKC,iBAEL,EAAKngF,OAAOwB,KAAK,iBAGlB+9E,EAAKtvC,MAAM3rC,M,oCAGEk4E,GAGb,IAHqC,IAAnBlnE,EAAmB,uDAAZ,EAAGE,EAAS,uDAAH,EAC5B7P,EAAOrH,OAAOqH,KAAK9D,KAAKi9E,SAErBlhF,EAAI,EAAGA,EAAI+H,EAAKjB,OAAQ9G,IAChC0+E,EAAoB32E,EAAK/H,IAAIiE,KAAKi9E,QAAQn5E,EAAK/H,IAAK0X,EAAME,EAAKgnE,K,oCAKhE36E,KAAKk+E,cAAcl+E,KAAK26E,KAIxB,IAFA,IAAM72E,EAAOrH,OAAOqH,KAAK9D,KAAKi9E,SAErBlhF,EAAI,EAAGA,EAAI+H,EAAKjB,OAAQ9G,IAChCiE,KAAKi9E,QAAQn5E,EAAK/H,IAAIsF,MAAMwjD,QAAU,U,oCAOvC,IAFA,IAAM/gD,EAAOrH,OAAOqH,KAAK9D,KAAKi9E,SAErBlhF,EAAI,EAAGA,EAAI+H,EAAKjB,OAAQ9G,IAChCiE,KAAKi9E,QAAQn5E,EAAK/H,IAAIsF,MAAMwjD,QAAU,S,oCAKvC7kD,KAAK+9E,gBAEL/9E,KAAKg+E,gBAELh+E,KAAKg9E,QAAQ37E,MAAMwjD,QAAU,U,sCAI7B+1B,EACC56E,KAAKg9E,QACLh9E,KAAKi+E,WAAWxqE,KAChBzT,KAAKi+E,WAAWtqE,KAGjB3T,KAAKg9E,QAAQ37E,MAAM3C,OAAYsB,KAAKi+E,WAAWv/E,OAA/C,KACAsB,KAAKg9E,QAAQ37E,MAAM1C,MAAWqB,KAAKi+E,WAAWt/E,MAA9C,O,oCAIA,IAAMg8E,EAAM8B,EAAez8E,KAAKgJ,OAAQhJ,KAAKg9E,SAE7Ch9E,KAAKmnB,OAAS,CACbzoB,OAAQi8E,EAAIj8E,OACZC,MAAOg8E,EAAIh8E,OAGZqB,KAAKg9E,QAAQ37E,MAAMwjD,QAAU,S,oCAGhBplD,GAQb,GAPAO,KAAKi+E,WAAa,CACjBv/E,OAAQsB,KAAK26E,IAAIj8E,OACjB+U,KAAM,EACNE,IAAK,EACLhV,MAAOqB,KAAK26E,IAAIh8E,OAGZc,EAAL,CAIA,IAAMzB,EAAYyB,EAAKkD,OAAO3E,UAwB9B,GAtBIA,EAAUmF,QAAQ,MAAQ,IAC7BnD,KAAKi+E,WAAWt/E,MAAQuG,KAAKC,IAAI,GAAInF,KAAK26E,IAAIh8E,MAAQc,EAAK++E,MAAMhrE,IAG9DxV,EAAUmF,QAAQ,MAAQ,IAC7BnD,KAAKi+E,WAAWv/E,OAASwG,KAAKC,IAC7B,GACAnF,KAAK26E,IAAIj8E,OAASe,EAAK++E,MAAM9qE,IAI3B1V,EAAUmF,QAAQ,MAAQ,IAC7BnD,KAAKi+E,WAAWt/E,MAAQuG,KAAKC,IAAI,GAAInF,KAAK26E,IAAIh8E,MAAQc,EAAK++E,MAAMhrE,IAG9DxV,EAAUmF,QAAQ,MAAQ,IAC7BnD,KAAKi+E,WAAWv/E,OAASwG,KAAKC,IAC7B,GACAnF,KAAK26E,IAAIj8E,OAASe,EAAK++E,MAAM9qE,IAI3B1V,EAAUmF,QAAQ,KAAO,IAAM1D,EAAKqE,KAAKrC,MAAO,CACnD,IAAMg9E,EAAQz+E,KAAK26E,IAAIh8E,MAAQqB,KAAK26E,IAAIj8E,OAEpCsB,KAAKi+E,WAAWt/E,MAAQqB,KAAKi+E,WAAWv/E,OAAS+/E,EACpDz+E,KAAKi+E,WAAWv/E,OAASwG,KAAK41E,MAC7B96E,KAAKi+E,WAAWt/E,MAAQ8/E,GAGzBz+E,KAAKi+E,WAAWt/E,MAAQuG,KAAK41E,MAC5B96E,KAAKi+E,WAAWv/E,OAAS+/E,GAKxBzgF,EAAUmF,QAAQ,MAAQ,IAC7BnD,KAAKi+E,WAAWxqE,KAAOzT,KAAK26E,IAAIh8E,MAAQqB,KAAKi+E,WAAWt/E,OAGrDX,EAAUmF,QAAQ,MAAQ,IAC7BnD,KAAKi+E,WAAWtqE,IAAM3T,KAAK26E,IAAIj8E,OAASsB,KAAKi+E,WAAWv/E,W,uCAKzDsB,KAAK6X,IAAIwmE,WAAWr+E,KAAK6d,GAAI7d,KAAKmnB,OAAOxoB,MAAOqB,KAAKmnB,OAAOzoB,Y,OAItDi9E,U,UACOA,G,yaCtTTQ,E,WACL,WAAYnzE,EAAQhG,GAAU,UAC7BhD,KAAKgD,SAAWA,EAChBhD,KAAKgJ,OAASA,EAEdhJ,KAAKo8E,OAAS,CACbE,QAASt8E,KAAKs8E,QAAQ/+E,KAAKyC,MAC3Bq8E,UAAWr8E,KAAKq8E,UAAU9+E,KAAKyC,MAC/Bu8E,QAASv8E,KAAKu8E,QAAQh/E,KAAKyC,O,wCAIvByC,GACLA,EAAMY,iBACNZ,EAAMW,kBAENpD,KAAK2C,OAASF,EAAME,OAEpB3C,KAAKhC,UAAYgC,KAAK2C,OAAO3E,UAE7BgC,KAAK4+E,SAAW,CACfprE,EAAG/Q,EAAMspC,QACTr4B,EAAGjR,EAAMupC,SAGVhsC,KAAK+P,OAAOtN,GAEZzC,KAAKgD,SAASob,iBAAiB,UAAWpe,KAAKo8E,OAAOE,SAAS,GAC/Dt8E,KAAKgD,SAASob,iBACb,YACApe,KAAKo8E,OAAOC,WACZ,GAEDr8E,KAAKgD,SAASob,iBAAiB,UAAWpe,KAAKo8E,OAAOG,SAAS,GAE/Dv8E,KAAKgD,SAAS4T,KAAKwmE,UAAUp4B,IAA7B,YAA6ChlD,KAAKhC,WAEtB,oBAAjBgC,KAAK29E,SACf39E,KAAK29E,Y,6BAIAl7E,GACNzC,KAAK6+E,WAAa,CACjBrrE,EAAG/Q,EAAMspC,QACTr4B,EAAGjR,EAAMupC,SAGVhsC,KAAKw+E,MAAQ,CACZhrE,EAAG/Q,EAAMspC,QAAU/rC,KAAK4+E,SAASprE,EACjCE,EAAGjR,EAAMupC,QAAUhsC,KAAK4+E,SAASlrE,GAGlC1T,KAAK8D,KAAO,CACXi7E,IAAKt8E,EAAMkmC,OACXm2C,KAAMr8E,EAAMimC,QACZjnC,MAAOgB,EAAMypC,Y,gCAILzpC,GACTzC,KAAK+P,OAAOtN,GAEe,oBAAhBzC,KAAK89E,QACf99E,KAAK89E,SAGc,IAAhBr7E,EAAM+lC,OACTxoC,KAAKu8E,QAAQ95E,K,8BAIPA,GACe,KAAlBA,EAAM4B,SACTrE,KAAK26B,Y,8BAICl4B,GACPzC,KAAK+P,OAAOtN,GAEZzC,KAAK26B,UAE0B,oBAApB36B,KAAKq+E,YACfr+E,KAAKq+E,e,gCAKNr+E,KAAKgD,SAAS4T,KAAKwmE,UAAU3tE,OAA7B,YAAgDzP,KAAKhC,WAErDgC,KAAKgD,SAASi5E,oBACb,UACAj8E,KAAKo8E,OAAOE,SACZ,GAEDt8E,KAAKgD,SAASi5E,oBACb,YACAj8E,KAAKo8E,OAAOC,WACZ,GAEDr8E,KAAKgD,SAASi5E,oBACb,UACAj8E,KAAKo8E,OAAOG,SACZ,GAG6B,oBAAnBv8E,KAAKm+E,WACfn+E,KAAKm+E,gB,OAKAhC,Y,UACOA,G,6BClHf,Y,kLAEA,IAAKx6E,SAAS6hB,QAAQ5mB,IAAI,qBAAsB,OAKzC+xF,EAAkB,CACvBxD,OAAQ,SACRC,KAAM,OACNC,MAAO,SAOFC,EAAe,CACpBqD,EAAgBvD,KAChBuD,EAAgBtD,MAChBsD,EAAgBxD,QAOXyD,YACJD,EAAgBvD,KAAO,CACvB,CACC9uF,KAAM,UACNU,MAAO,gBAER,CACCV,KAAM,QACNU,MAAO,QAER,CACCV,KAAM,eACNU,MAAO,YAZJ,IAeJ2xF,EAAgBxD,OAAS,CACzB,CACC7uF,KAAM,UACNU,MAAO,SAER,CACCV,KAAM,cACNU,MAAO,QAER,CACCV,KAAM,eACNU,MAAO,UA1BJ,IA6BJ2xF,EAAgBtD,MAAQ,CACxB,CACC/uF,KAAM,UACNU,MAAO,gBAER,CACCV,KAAM,QACNU,MAAO,SAER,CACCV,KAAM,cACNU,MAAO,YAxCJ,GAmDA6xF,EAAoB,SAASn0E,GAClC,IAAIktE,EAAiBltE,EAAM7Y,SAAS,SAUpC,GAPE+lF,GACkB,YAAnBA,GACmB,SAAnBA,IAEAA,EAAiBltE,EAAM1U,aAAa,WAGhC4hF,EAAgB,CACpB,IAAIkH,EAAgBF,EACnBD,EAAgBxD,QACfQ,OAAM,SAAAtqF,GACP,IAAIuqF,EAAalxE,EAAM7Y,SAASR,EAAM/E,QAAU+E,EAAMrE,MAWtD,OATK4uF,GAAcvqF,EAAMwqF,iBACxBD,EAAavqF,EAAMwqF,eAAevlF,MAAK,SAAAwlF,GACtC,OACCpxE,EAAM7Y,SAASiqF,EAAezqF,EAAM/E,QACpC+E,EAAMrE,UAKF4uF,KAGR,IAAKhE,EAAgB,CACpB,IAAMmH,EAAiBr0E,EAAM5F,EAAEkmB,WAE3B+zD,EAAe1tF,MAAM2tF,WAAaL,EAAgBxD,SACrDyD,EAAsBD,EAAgBxD,QAAQtlF,SAC7C,SAAAxE,GACCqZ,EAAM4rE,SAASjlF,EAAM/E,KAAM+E,EAAMrE,OAE7BqE,EAAMwqF,gBACTxqF,EAAMwqF,eAAehmF,SAAQ,SAAAimF,GAC5BpxE,EAAM4rE,SACLwF,EAAezqF,EAAM/E,KACrB+E,EAAMrE,aAMX8xF,GAAgB,EAChBC,EAAe1tF,MAAM2tF,UAAY,IAInCpH,EAAiBkH,EAAgBH,EAAgBxD,OAAS,KAG3D,IAAKxpF,SAAS8P,IAAImyD,MAAQjiE,SAAS8P,IAAIC,GAAI,CAC1C,IAAM7T,EAAI6c,EAAMV,QAAQ,KACpBnc,IACH+pF,EAAiB/pF,EAAEgE,SAAS,eAI9B,OAAO+lF,GASFqH,EAAuB,SAASv0E,EAAOktE,GAC5C,GACCA,IAAmB+G,EAAgBvD,MACnCxD,IAAmB+G,EAAgBtD,MAE/BzD,IAAmBiH,EAAkBn0E,IACxCA,EAAMqY,gBAAgB,cAEjB,GAAI60D,IAAmB+G,EAAgBxD,OAAQ,CACrD,IAAM4D,EAAiBr0E,EAAM5F,EAAEkmB,WAE3B+zD,EAAe1tF,MAAM2tF,WAAaL,EAAgBxD,SACrD4D,EAAe1tF,MAAM2tF,UAAY,IAInC,IAAMtiF,EAASkiF,EAAsBhH,GAEjCl7E,GACHA,EAAO7G,SAAQ,SAAAxE,GACdqZ,EAAMtO,YAAY/K,EAAM/E,MAEpB+E,EAAMwqF,gBACTxqF,EAAMwqF,eAAehmF,SAAQ,SAAAimF,GAC5BpxE,EAAMtO,YAAY0/E,EAAezqF,EAAM/E,aAatC4yF,EAAoB,SAASx0E,EAAOktE,GACzCqH,EAAqBv0E,EAAOm0E,EAAkBn0E,IAE9C,IAAMhO,EAASkiF,EAAsBhH,GAEjCl7E,GACHA,EAAO7G,SAAQ,SAAAxE,GACdqZ,EAAM4rE,SAASjlF,EAAM/E,KAAM+E,EAAMrE,OAE7BqE,EAAMwqF,gBACTxqF,EAAMwqF,eAAehmF,SAAQ,SAAAimF,GAC5BpxE,EAAM4rE,SAASwF,EAAezqF,EAAM/E,KAAM+E,EAAMrE,cAcrD2E,SAAS6hB,QAAQwhC,IAAI,oBAAqB,CAQzCmgC,UARyC,SAQ/BhnF,GACT,IAAMyzE,EAAO5xE,KAEbsrF,EAAazlF,SAAQ,SAAA7I,GACpB,IAAM0C,EAAUvB,EAAO4D,WAAW,UAAY/E,GAE1C0C,IACHA,EAAQoL,GAAG,QAAQ,SAAArI,GAClB,IAAMqR,EAAgB3V,EAAO4rE,mBAE7B,GACCj2D,GACAhI,UAAc4O,MAAM,CACnBjb,KAAM,CAACqU,mBAEP,CACD,IAAM4G,EAAQ5G,EAAclP,QAEtBgjF,EAAiBiH,EAAkBn0E,GAErCktE,IAAmB5qF,EACtBiyF,EAAqBv0E,EAAO1d,GAE5BkyF,EAAkBx0E,EAAO1d,GAG1ByF,EAAMosE,SAEN+C,EAAKud,gBACJhxF,EACA,IAAIwD,SAAS2R,IAAI1R,YAAY8Y,QAKhChb,EAAQoL,GAAG,WAAW,SAASrI,GAC9B,IAAMqR,EAAgB,CACrBlP,QAASnC,EAAMhD,KAAKlB,KAAKu+D,aAG1B,GACChxD,UAAc4O,MAAM,CACnBjb,KAAM,CAACqU,mBAEP,CACD,IAAM8zE,EAAiBiH,EACtB/6E,EAAclP,SAGf5E,KAAKgO,SACJ45E,IAAmB5qF,EAChB2E,SAASM,YACTN,SAAS2mF,cAGb7lF,EAAMosE,kBAeXsgB,gBA9EyC,SA8EzBhxF,EAAQyD,GACvB0pF,EAAazlF,SAAQ,SAAA7I,GACpB,IAAM0C,EAAUvB,EAAO4D,WAAW,UAAY/E,GAE1C0C,GACHA,EAAQ4pF,QAAQnrF,EAAQyD,W,6BCtSxBD,SAAS6hB,QAAQ5mB,IAAI,mBAwBzB+E,SAAS6hB,QAAQwhC,IAAI,iBAAkB,CAQtC+lB,KARsC,SAQjC5sE,GAAQ,WACZA,EAAO0L,KAAK,cAAc,WACzB,IAAMpB,EAAWtK,EAAOsK,WAExBA,EAASwnE,eACRxnE,EACA,QACA,EAAKgoE,SACL,EACA,CACCtyE,eAiBJsyE,SAnCsC,SAmC7BhuE,GACR,GAAIA,EAAMhD,KAAKqV,EAAEq6B,cAAe,CAC/B,IAAM2hC,EAAaruE,EAAMhD,KAAKqV,EAAEq6B,cAAclnC,MAAM,GAC9C9J,EAASsE,EAAMsiE,aAAa5mE,OAElC,GAAyC,IAArC2yE,EAAWrtE,KAAKN,QAAQ,SAAgB,CAC3C,IAAM03D,EAAS,IAAIC,WACbiW,EAAYD,EAAWE,YAE7BnW,EAAO/4C,OAAS,SAASrf,GACxB,IAAM0kB,EAAShpB,EAAOwB,KAAK,iBAAkB,CAC5Cq7D,WAAY+V,IAGb,GAAI5pD,EAAQ,CACX,IAAMtJ,EAAKlc,SAAS2R,IAAI1O,QAAQkZ,eAC/B,aAAerb,EAAME,OAAOwkB,OAAS,MAGtChpB,EAAO4f,cAAcF,GAErB,IAAMo9C,EAAY,CACjBp9C,KACAk9C,KAAMgW,GAGP5yE,EAAOwB,KAAK,WAAYs7D,KAI1BJ,EAAOM,cAAc4V,S,6BCzF1B,IAAKpvE,SAAS6hB,QAAQ5mB,IAAI,kBAAmB,CAQ5C,IAAMwyF,EAAWztF,SAAS8P,IAAI49E,cAAgB,OAAS,GAEjDC,EAAsB,CAC3BC,EAAG,CAAC,MAAQH,EAAW,QACvBI,EAAG,CAAC,GAAI,IAAKJ,GACbK,EAAG,CAAC,QAAUL,EAAW,WAkB1BztF,SAAS6hB,QAAQwhC,IAAI,iBAAkB,CAQtC+lB,KARsC,SAQjC5sE,GACJA,EAAO2M,GAAG,OAAQ9K,KAAK0vF,gBAAiB1vF,MACxC7B,EAAO2M,GAAG,SAAU9K,KAAK0vF,gBAAiB1vF,MAC1C7B,EAAO2M,GAAG,QAAS9K,KAAK2vF,wBAAyB3vF,MACjD7B,EAAO0L,KAAK,aAAc7J,KAAK0vF,gBAAiB1vF,OAWjD0vF,gBAvBsC,SAuBtBjtF,GACf,IAAMtE,EAASsE,EAAMtE,OAEfyxF,EAAezxF,EAAOsK,WAEtBonF,EAAYD,EAAa96E,EAAE6iB,UAAUkK,OAErCghD,EAAUyM,EAAoBnxF,EAAOG,OAAO2kF,WAAW38E,MAC5D,SAAA1B,GACC,OAAOirF,IAAcjrF,KAInBi+E,EACH+M,EAAa95E,SAAS3X,EAAOG,OAAOklE,kBAEpCosB,EAAa/5E,YAAY1X,EAAOG,OAAOklE,mBAWzCmsB,wBAlDsC,SAkDdltF,GACvB,IAAMtE,EAASsE,EAAMtE,OAEf2xF,EAAa,IAAInuF,SAAS2R,IAAI1O,QAAQzG,EAAOyG,QAAQkQ,GAE3Dg7E,EAAWj6E,YAAY1X,EAAOG,OAAOklE,uB,6BCtFnC7hE,SAAS6hB,QAAQ5mB,IAAI,2BAOzB+E,SAAS6hB,QAAQwhC,IAAI,yBAA0B,CAC9CwjB,SAAU,qBAUVuC,KAX8C,SAWzC5sE,GACAA,EAAOG,OAAOqlE,qBACjBxlE,EAAOG,OAAOqlE,oBAAoB99D,SACjC,SAAAkqF,GACC,IAAMrwF,EAAU,IAAIiC,SAASjC,QAAQvB,EAAQ,CAC5CuI,KAD4C,SACvCvI,GACJA,EAAOwB,KAAK,oBAAqB,CAChCuQ,gBACC6/E,EAAmBzgF,UACpByE,YAAa,GACbD,cAAe3V,EAAO4rE,wBAKnBtjE,EACL,qBAAuBspF,EAAmBzgF,UAE3CnR,EAAO0I,WAAWJ,EAAa/G,GAC/BvB,EAAO8I,aACN8oF,EAAmBjsF,KACnB2C,U,6BClCP,IAAK9E,SAAS6hB,QAAQ5mB,IAAI,kBAAmB,CAC5C,IAAMozF,EAASruF,SAAS+L,MAAMuiF,UAE9B,SAASC,EAASryE,GACjB,OAAOlc,SAAS8P,IAAIC,GACjBmM,EAAG/I,EAAEqC,YACLpW,SAAS8c,EAAG/G,iBAAiB,SAAU,IAG3C,SAASq5E,EAAevrF,EAASwrF,GAChC,IAAIC,EAAWzrF,EAAQkS,iBAAiB,UAAYs5E,EAAO,UAErDE,EAAY,CACjBC,KAAM,MACNC,OAAQ,MACRC,MAAO,OAeR,OAZIJ,EAASltF,QAAQ,MAAQ,IAM3BktF,EAHAA,KAAYC,GACgC,QAA5C1rF,EAAQkS,iBAAiB,gBAEdw5E,EAAUD,GAEV,GAINtvF,SAASsvF,EAAU,IAI3B,SAASK,EAAmBt2E,GAW3B,IAVA,IAAMu2E,EAAQv2E,EAAMtF,EAAEmQ,KAElB2rE,EAAW,EAEXC,SAEAC,SAEAC,SAEKh1F,EAAI,EAAGo8D,EAAMw4B,EAAM9tF,OAAQ9G,EAAIo8D,EAAKp8D,IAC5Cg1F,EAAMJ,EAAM50F,GACZ80F,EAAaE,EAAI9kB,MAAMppE,OAEnBguF,EAAaD,IAChBA,EAAWC,EACXC,EAAWC,GAIb,OAAOD,EAGR,SAASE,EAAwB52E,GAiBhC,IAhBA,IAAM62E,EAAU,GAEZC,GAAe,EAEbC,EAA8C,QAAxC/2E,EAAMtD,iBAAiB,aAG7Bi6E,EAAML,EAAmBt2E,GAIzB8wD,EAAQ,IAAIvpE,SAAS2R,IAAI1O,QAAQwV,EAAMtF,EAAEs8E,QAAQ,IAEjDC,EAAgBnmB,EAAMomB,sBAGnBv1F,EAAI,EAAGo8D,EAAM44B,EAAI9kB,MAAMppE,OAAQ9G,EAAIo8D,EAAKp8D,IAAK,CAGrD,IAAMqnC,EAAK,IAAIzhC,SAAS2R,IAAI1O,QAAQmsF,EAAI9kB,MAAMlwE,IAExCw1F,EACLR,EAAI9kB,MAAMlwE,EAAI,IAAM,IAAI4F,SAAS2R,IAAI1O,QAAQmsF,EAAI9kB,MAAMlwE,EAAI,IAE5Dm1F,GAAe9tD,EAAGtuB,EAAE08E,SAAW,EAG/B,IAAIC,SACAC,SAEAl+E,EAAI4vB,EAAGkuD,sBAAsB99E,EAG7B29E,EACHO,EAAcl+E,EAAI28E,EAAe/sD,EAAI,QAErCquD,EAAaj+E,EAAI4vB,EAAGtuB,EAAEK,YAAcg7E,EAAe/sD,EAAI,SAIpDmuD,GACH/9E,EAAI+9E,EAAOD,sBAAsB99E,EAE7B29E,EACHM,EACCj+E,EACA+9E,EAAOz8E,EAAEK,YACTg7E,EAAeoB,EAAQ,SAExBG,EAAcl+E,EAAI28E,EAAeoB,EAAQ,UAK1C/9E,EAAI4G,EAAMk3E,sBAAsB99E,EAE5B29E,EACHM,EAAaj+E,EAEbk+E,EAAcl+E,EAAI4G,EAAMtF,EAAEK,aAI5B,IAAMw8E,EAAczsF,KAAKC,IAAIusF,EAAcD,EAAY,GAIvDR,EAAQhrF,KAAK,CACZmU,QACA7T,MAAO2qF,EACP19E,EAAGi+E,EACH/9E,EAAG29E,EAAc39E,EACjB/U,MAAOgzF,EACPjzF,OAAQwsE,EAAMp2D,EAAEE,aAChBm8E,QAIF,OAAOF,EAGR,SAASW,EAAoBX,EAASY,GACrC,IAAK,IAAI91F,EAAI,EAAGo8D,EAAM84B,EAAQpuF,OAAQ9G,EAAIo8D,EAAKp8D,IAAK,CACnD,IAAM+1F,EAASb,EAAQl1F,GAEvB,GAAI81F,GAAaC,EAAOt+E,GAAKq+E,GAAaC,EAAOt+E,EAAIs+E,EAAOnzF,MAC3D,OAAOmzF,EAIT,OAAO,KAGR,SAASjjB,EAAO0U,IACdA,EAAI9jF,MAAQ8jF,GAAKlgF,iBAGnB,SAAS0uF,EAAc5zF,EAAQ2zF,GAC9B,IAAIE,SACAC,SACAC,SACAC,SACAC,SACAC,SACAt5E,SAEE/V,EAAW7E,EAAO6E,SAElB04E,EAAU/5E,SAAS2R,IAAI1O,QAAQkZ,eACpC,mOAGA9a,GAGKsvF,EAActyF,KAAKsyF,WAAa,WACrC,OAAOH,GAGFlL,EAAQjnF,KAAKinF,KAAO,SAASsL,GAClC,IAAIC,EACHD,EAAOrtF,KAAK41E,MAAMY,EAAQ5mE,EAAEK,YAAc,GAE3C,GAAIm9E,EAAY,CACf,GACCE,IAAuBP,GACvBO,IAAuBJ,EAEvB,OAGDI,EAAqBttF,KAAKC,IACzBqtF,EACAP,GAEDO,EAAqBttF,KAAKE,IACzBotF,EACAJ,GAGDJ,EAAeQ,EAAqBz5E,EAGrC2iE,EAAQ4K,SAAS,OAAQ0J,EAAOwC,KAGjC,SAASlsB,IACRoV,EAAQhiB,eAAe,UAAW6qB,GAClC7I,EAAQhiB,eAAe,YAAa+4B,GACpC/W,EAAQhiB,eAAe,YAAa4qB,GAGrC,SAASoO,IAkBR,IAdA,IAAMC,EAAcb,EAAOvrF,MAErB2B,EAAMvG,SAAS+L,MAAMklF,cAAcd,EAAO13E,OAE1Cy4E,EAAkB,GAElBC,EAAmB,GAErBC,EAAcC,OAAOC,UAErBC,EAAeH,EAEb5B,EAAMW,EAAOX,IAEVp1F,EAAI,EAAGo8D,EAAMjwD,EAAIrF,OAAQ9G,EAAIo8D,EAAKp8D,IAAK,CAC/C,IAAMqgE,EAAMl0D,EAAInM,GAEZo3F,EAAW/2B,EAAIu2B,GAAexB,EAAM,EAAI,IAExCiC,EAAYh3B,EAAIu2B,GAAexB,EAAM,EAAI,IAE7CgC,EAAWA,GAAY,IAAIxxF,SAAS2R,IAAI1O,QAAQuuF,GAChDC,EAAYA,GAAa,IAAIzxF,SAAS2R,IAAI1O,QAAQwuF,GAE7CD,GAAaC,GAAcD,EAASv6E,OAAOw6E,KAC3CD,IACHJ,EAAc7tF,KAAKE,IAAI2tF,EAAa7C,EAASiD,KAE1CC,IACHF,EAAehuF,KAAKE,IACnB8tF,EACAhD,EAASkD,KAIXP,EAAgB5sF,KAAKktF,GACrBL,EAAiB7sF,KAAKmtF,IAKxBlB,EAAgBW,EAChBR,EAAiBS,EAGjBb,EAAoBH,EAAOt+E,EAAIu/E,EAC/BX,EAAqBN,EAAOt+E,EAAI0/E,EAEhCxX,EAAQ2X,WAAW,IACnBt6E,EAAchY,SAAS26E,EAAQ75E,SAAS,QAAS,IACjDmwF,EAAe,EACfG,EAAW,EAEXzW,EAAQ5wE,GAAG,YAAaw5E,GAGxBthF,EAAS8H,GAAG,YAAa+jE,GAG1B,SAASykB,IACRnB,EAAW,EAEXzW,EAAQ2X,WAAW,GAEfrB,GACHuB,IAGD,IAAMn5E,EAAQ03E,EAAO13E,MACrBxQ,YAAW,WACVwQ,EAAMo5E,iBAAiB,wBACrB,GAEHxwF,EAAS02D,eAAe,YAAamV,GAGtC,SAAS0kB,IAQR,IARuB,WACjBpC,EAAMW,EAAOX,IAEbN,EAAaM,EAChBkB,EAAexvF,OACfqvF,EAAcrvF,OALM,WAQd9G,GACR,IAAMo3F,EAAWjB,EAAcn2F,GAEzBq3F,EAAYf,EAAet2F,GAE3Bqe,EAAQ03E,EAAO13E,MAGrBzY,SAAS+L,MAAM9D,YACd,SACCupF,EACAM,EACAL,EACAM,EACAC,EACAC,GAGIT,GACHA,EAAS7M,SACR,QACA0J,EAAO9qF,KAAKC,IAAIsuF,EAAeG,EAAW,KAGxCR,GACHA,EAAU9M,SACT,QACA0J,EAAO9qF,KAAKC,IAAIuuF,EAAgBE,EAAW,KAKzCD,GACHv5E,EAAMksE,SACL,QACA0J,EAAO2D,EAAaC,GAAazC,GAAO,EAAI,OAI/C,EACA,EACA,CACCgC,EACAA,GAAYjD,EAASiD,GACrBC,EACAA,GAAalD,EAASkD,KACpBD,IAAaC,IACdlD,EAAS91E,GACR+1E,EAAe/1E,EAAO,QACtB+1E,EAAe/1E,EAAO,SACxB43E,KAlDMj2F,EAAI,EAAGA,EAAI80F,EAAY90F,IAAK,EAA5BA,GAwDV,SAAS02F,EAAYlP,GACpB1U,EAAO0U,GAEPmP,IAEA1vF,EAAS8H,GAAG,UAAWy5E,EAAWvkF,MAGnC,SAASukF,EAAUhB,GAClBA,EAAI7pB,iBAEJ45B,IAGD,SAAShP,EAAYf,GACpB0D,EAAK1D,EAAI9jF,KAAKo0F,gBAAgBrgF,GAI/BrV,EAAO2M,GAAG,WAAW,WACpBw7D,IAEAoV,EAAQjsE,YAKTzM,EAAS8wF,qBAAqBnoB,OAAO+P,GAErCA,EAAQhmE,UAAU,CACjB/W,MAAOqxF,EAAO8B,EAAOnzF,OACrBD,OAAQsxF,EAAO8B,EAAOpzF,QACtB+U,KAAMu8E,EAAO8B,EAAOt+E,GACpBG,IAAKq8E,EAAO8B,EAAOp+E,KAGpBgoE,EAAQ5wE,GAAG,YAAa2nF,EAAazyF,MAErCgD,EAAS4rE,UAAU0X,SAAS,SAAU,cAItC5K,EAAQza,OAERjhE,KAAKk+C,QAAU,WACdooB,IAEAtjE,EAAS4rE,UAAU0X,SAAS,SAAU,QAEtC5K,EAAQjsE,UAIV,SAASskF,EAAkBxQ,GAC1B,IAAM5gF,EAAS4gF,EAAI9jF,KAAKwlE,YAExB,GAAiB,aAAbse,EAAIjnF,KAAqB,CAE5B,IAAKqG,EAAOqgC,GAAG,SACd,OAGD,IAAIgxD,EAAO,IAAIryF,SAAS2R,IAAI1O,QAC3B2+E,EAAI9jF,KAAKqV,EAAEq3B,eAAiBo3C,EAAI9jF,KAAKqV,EAAEu3B,WAExC,MAAO2nD,GAAQA,EAAKl/E,IAAMk/E,EAAKp7E,OAAOjW,KAAYqxF,EAAKhxD,GAAG,QACzDgxD,EAAOA,EAAK1nB,YAEb,IAAK0nB,GAAQA,EAAKp7E,OAAOjW,GACxB,OAIFA,EAAOmd,aAAa,QAAS,GAAG0zE,iBAAiB,sBACjDjQ,EAAI7pB,iBAGL/3D,SAAS6hB,QAAQwhC,IAAI,iBAAkB,CACtCwjB,SAAU,gBAEVuC,KAHsC,SAGjC5sE,GACJA,EAAO2M,GAAG,cAAc,WACvB,IAAI4wE,SAEEjzE,EAAWtK,EAAOsK,WAIxBA,EAASwnE,eACRxnE,EAASwrF,WAAaxrF,EAAWtK,EAAO6E,SACxC,aACA,SAAAugF,GACCA,EAAMA,EAAI9jF,KAEV,IAAMkD,EAAS4gF,EAAIte,YAInB,GAAItiE,EAAOc,OAAS9B,SAAS0qE,aAA7B,CAIA,IAAMp4D,EAAQsvE,EAAIsQ,gBAAgBrgF,EAIlC,GAAIkoE,EAAS,CACZ,GAAIA,EAAQ4W,aAKX,OAJA5W,EAAQuL,KAAKhzE,QAEb46D,EAAO0U,GAIP7H,EAAQx9B,UAERw9B,EAAU,KAKZ,IAAIuV,SAEJ,GACEtuF,EAAOqgC,GAAG,UACVrgC,EAAOmd,aAAa,QAAS,GAF/B,CAOA,IAAM1F,EAAQzX,EAAOmd,aAAa,QAAS,GAI3C,GAAK3hB,EAAOsK,WAAWgR,SAASW,GAAhC,EAKG62E,EAAU72E,EAAM85E,cACjB,yBAID95E,EAAM+5E,cACL,qBACClD,EAAUD,EAAwB52E,IAEpCA,EAAMtP,GAAG,WAAYipF,GACrB35E,EAAMtP,GAAG,YAAaipF,IAGvB,IAAMjC,EAASF,EAAoBX,EAASh9E,GAExC69E,IACHpW,EAAU,IAAIqW,EAAc5zF,EAAQ2zF,kB,6BC9f3C,IAAKnwF,SAAS6hB,QAAQ5mB,IAAI,iBAAkB,CAC3C,IAAMw3F,EAAgB,cAEtB,SAASC,EAAiB/kF,GACzB,IAAIA,EACH,OAAO,KAER,IAAMg7D,EAASh7D,EAAUqK,YACnB26E,EAAS,GACTC,EAAW,GAEjB,SAASC,EAAmB9rF,GAEvB4rF,EAAOzxF,OAAS,GAKnB6F,EAAKjF,MAAQ9B,SAAS0qE,cACtB+nB,EAAcvpF,KAAKnC,EAAKmR,aACvBnR,EAAKwrF,cAAc,mBAEpBvyF,SAAS2R,IAAI1O,QAAQ6vF,UACpBF,EACA7rF,EACA,iBACA,GAED4rF,EAAOruF,KAAKyC,IAId,IAAK,IAAI3M,EAAI,EAAGA,EAAIuuE,EAAOznE,OAAQ9G,IAAK,CACvC,IAAM0c,EAAQ6xD,EAAOvuE,GAErB,GAAI0c,EAAMuuD,UAAW,CAEpB,IAAM6C,EAAYpxD,EAAMc,oBAClBm7E,EACL7qB,EAAU/pD,aAAa,MAAM,IAC7B+pD,EAAU/pD,aAAa,MAAM,GAC1B40E,GAAaJ,EAAOruF,KAAKyuF,OACvB,CACN,IAAMC,EAAS,IAAIhzF,SAAS2R,IAAIqhF,OAAOl8E,GACnC/P,SACJisF,EAAOC,MAAQJ,EAEf,MAAQ9rF,EAAOisF,EAAOlwF,OAQrB,GACCiE,EAAKjF,MAAQ9B,SAAS0qE,eACrB3jE,EAAKs6B,GAAGrhC,SAASkzF,IAAIz6E,OACrB,CACD,IAAMuyD,EACLjkE,EAAKoX,aAAa,MAAM,IACxBpX,EAAKoX,aAAa,MAAM,GACrB6sD,IAAWA,EAAOunB,cAAc,mBACnCvyF,SAAS2R,IAAI1O,QAAQ6vF,UACpBF,EACA5nB,EACA,iBACA,GAED2nB,EAAOruF,KAAK0mE,MASjB,OAFAhrE,SAAS2R,IAAI1O,QAAQkwF,gBAAgBP,GAE9BD,EAGR,SAASS,EAA6BC,GACrC,IAAIj5F,EAAI,EAEF+lD,EAAOkzC,EAAcnyF,OAAS,EAE9B0xF,EAAW,GAEbj3B,SAEA23B,SAEA5pB,SAEJ,MAAQ/N,EAAO03B,EAAcj5F,KAC5B4F,SAAS2R,IAAI1O,QAAQ6vF,UAAUF,EAAUj3B,EAAM,eAAe,GAG/DvhE,EAAI,EACJ,MAAQuhE,EAAO03B,EAAcj5F,KAC5B,IACGk5F,EAAc33B,EAAK8a,iBACnB6c,EAAYf,cAAc,iBAC1Be,EAAc33B,EAAK8b,aACnB6b,EAAYf,cAAc,eAG5B,OADAvyF,SAAS2R,IAAI1O,QAAQkwF,gBAAgBP,GAC9BU,EAQT,OAJAtzF,SAAS2R,IAAI1O,QAAQkwF,gBAAgBP,GAGrClpB,EAAK2pB,EAAc,GAAG1oB,aACjBjB,EAAKA,EAAG+M,eAAuB/M,EAAGgN,WAGvChN,EAAK2pB,EAAclzC,GAAMwqB,aACpBjB,EAAKA,EAAG+N,WAAmB/N,EAAGmC,SAAS,GAErC,MAGR,SAAS0nB,EAAU5lF,EAAWm1C,GAiC7B,IAhCA,IAAMwnB,EAAQooB,EAAiB/kF,GAEzB08D,EAAYC,EAAM,GAElB7xD,EAAQ4xD,EAAUlsD,aAAa,SAE/BsjE,EAAMpX,EAAUmpB,cAEhBC,EAAWnpB,EAAM,GAAGK,YAEpB+oB,EAAgBD,EAAStgF,EAAEwgF,SAE3BC,EAAWtpB,EAAMA,EAAMppE,OAAS,GAEhC2yF,EACLD,EAASjpB,YAAYx3D,EAAEwgF,SAAWC,EAASzgF,EAAE2gF,QAAU,EAElDC,EAAS,IAAI/zF,SAAS2R,IAAI1O,QAAQwV,EAAMtF,EAAEmQ,KAAKuwE,IAE/CF,EAAW7wC,EAAe4wC,EAAgBG,EAE1Cp5B,EAAM3X,EAAe2wC,EAAWM,EAEhCxtF,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAEnCu7E,EAAWztF,EAAIotF,GAEfM,EAAUnxC,EAAev8C,EAAIotF,EAAW,GAAKptF,EAAIotF,EAAW,GAE5D32F,EAAQuJ,EAAI,GAAGrF,OAEfgzF,EAASzS,EAAInrE,cAAc,MACxBlc,EAAI,EAAG45F,EAAS55F,IAAMA,EAAI4C,EAAO5C,IAAK,CAC9C,IAAIuhE,SAGHq4B,EAAS55F,GAAG05F,QAAU,GACtBG,GACAD,EAAS55F,IAAM65F,EAAQ75F,IAEvBuhE,EAAOq4B,EAAS55F,GAChBuhE,EAAKm4B,SAAW,IAEhBn4B,EAAO,IAAI37D,SAAS2R,IAAI1O,QAAQ+wF,EAAS55F,IAAI+5F,QAC7Cx4B,EAAKvqC,gBAAgB,WACrBuqC,EAAKuO,cACLgqB,EAAOlqB,OAAOrO,GACdA,EAAOA,EAAKxoD,GAGb/Y,GAAKuhE,EAAKk0B,QAAU,EAGjB/sC,EACHoxC,EAAOpxC,aAAa2X,GAEpBy5B,EAAOE,YAAY35B,GAIrB,SAAS45B,EAAWC,GACnB,GAAIA,aAA0Bt0F,SAAS2R,IAAIhE,UAAW,CAqBrD,IApBA,IAAM28D,EAAQooB,EAAiB4B,GAEzBjqB,EAAYC,EAAM,GAElB7xD,EAAQ4xD,EAAUlsD,aAAa,SAE/B5X,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAEnCg7E,EAAWnpB,EAAM,GAAGK,YAEpB+oB,EAAgBD,EAAStgF,EAAEwgF,SAE3BC,EAAWtpB,EAAMA,EAAMppE,OAAS,GAEhC2yF,EACLD,EAASjpB,YAAYx3D,EAAEwgF,SAAWC,EAASzgF,EAAE2gF,QAAU,EAElDS,EAAe,GAGZn6F,EAAIs5F,EAAet5F,GAAKy5F,EAAaz5F,IAAK,CAKlD,IAJA,IAAMo6F,EAASjuF,EAAInM,GAEbqgE,EAAM,IAAIz6D,SAAS2R,IAAI1O,QAAQwV,EAAMtF,EAAEmQ,KAAKlpB,IAEzC6vE,EAAI,EAAGA,EAAIuqB,EAAOtzF,OAAQ+oE,IAAK,CACvC,IAAMtO,EAAO,IAAI37D,SAAS2R,IAAI1O,QAAQuxF,EAAOvqB,IAEvCwqB,EAAe94B,EAAKgP,YAAYx3D,EAAEwgF,SAExC,GAAsB,GAAlBh4B,EAAKxoD,EAAE2gF,QAAcn4B,EAAK7tD,cAM7B,GAFA6tD,EAAKxoD,EAAE2gF,SAAW,EAEdW,GAAgBr6F,EAAG,CACtB,IAAMs6F,EAAanuF,EAAInM,EAAI,GACvBs6F,EAAWzqB,EAAI,GAClBtO,EAAKy4B,YACJ,IAAIp0F,SAAS2R,IAAI1O,QAAQyxF,EAAWzqB,EAAI,KAGzC,IAAIjqE,SAAS2R,IAAI1O,QAChBwV,EAAMtF,EAAEmQ,KAAKlpB,EAAI,IAChB4vE,OAAOrO,EAAM,GAKlBsO,GAAKtO,EAAKxoD,EAAE08E,QAAU,EAGvB0E,EAAajwF,KAAKm2D,GAenB,IAZA,IAAMn3C,EAAO7K,EAAMtF,EAAEmQ,KAMfqxE,EAAiB,IAAI30F,SAAS2R,IAAI1O,QACvCqgB,EAAKuwE,EAAc,KACjBH,EAAgB,EAAIpwE,EAAKowE,EAAgB,GAAK,OAC/Cj7E,EAAMtF,EAAEkmB,YAGDj/B,EAAIm6F,EAAarzF,OAAQ9G,GAAK,EAAGA,IACzCi6F,EAAWE,EAAan6F,IAEzB,OAAOu6F,EACD,GAAIL,aAA0Bt0F,SAAS2R,IAAI1O,QAAS,CAC1D,IAAMwV,EAAQ67E,EAAen2E,aAAa,SAEf,GAAvB1F,EAAMtF,EAAEmQ,KAAKpiB,OAAauX,EAAM3K,SAC/BwmF,EAAexmF,SAGrB,OAAO,KAGR,SAAS8mF,EAAgBj5B,EAAMk5B,GAM9B,IALA,IAAMp6B,EAAMkB,EAAKgP,YAEXmqB,EAAWr6B,EAAItnD,EAAEm3D,MAEnByqB,EAAW,EACN36F,EAAI,EAAGA,EAAI06F,EAAS5zF,OAAQ9G,IAAK,CACzC,IAAM46F,EAAUF,EAAS16F,GAEzB,GADA26F,GAAYF,EAAU,EAAIG,EAAQnF,QAC9BmF,GAAWr5B,EAAKxoD,EAAG,MAGxB,OAAO4hF,EAAW,EAGnB,SAASE,EAAkB3qB,EAAOuqB,GAEjC,IADA,IAAIlC,EAASkC,EAAU9rB,IAAW,EACzB3uE,EAAI,EAAGA,EAAIkwE,EAAMppE,OAAQ9G,IAAK,CACtC,IAAM26F,EAAWH,EAAgBtqB,EAAMlwE,GAAIy6F,IACvCA,EAAUE,EAAWpC,EAASoC,EAAWpC,KAC5CA,EAASoC,GAEX,OAAOpC,EAGR,SAASuC,EAAavnF,EAAWm1C,GAqBhC,IApBA,IAAMwnB,EAAQooB,EAAiB/kF,GAEzB08D,EAAYC,EAAM,GAElB7xD,EAAQ4xD,EAAUlsD,aAAa,SAE/Bg3E,EAAWF,EAAkB3qB,EAAO,GAEpC8qB,EAAUH,EAAkB3qB,GAE5ByqB,EAAWjyC,EAAeqyC,EAAWC,EAErC7uF,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAEnC48E,EAAW,GAEXC,EAAU,GAEVv4F,EAASwJ,EAAIrF,OAEV9G,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAK,CAChCi7F,EAAS/wF,KAAKiC,EAAInM,GAAG26F,IACrB,IAAMQ,EAAWzyC,EACdv8C,EAAInM,GAAG26F,EAAW,GAClBxuF,EAAInM,GAAG26F,EAAW,GACrBO,EAAQhxF,KAAKixF,GAGd,IAAK,IAAIn7F,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAK,CAChC,IAAIuhE,SAEC05B,EAASj7F,KAGVi7F,EAASj7F,GAAGy1F,QAAU,GAAKyF,EAAQl7F,IAAMi7F,EAASj7F,IACrDuhE,EAAO05B,EAASj7F,GAChBuhE,EAAKk0B,SAAW,IAEhBl0B,EAAO,IAAI37D,SAAS2R,IAAI1O,QAAQoyF,EAASj7F,IAAI+5F,QAC7Cx4B,EAAKvqC,gBAAgB,WACrBuqC,EAAKuO,cACLvO,EAAK7Y,EAAe,eAAiB,eAAevoD,KACnDohE,EACA,IAAI37D,SAAS2R,IAAI1O,QAAQoyF,EAASj7F,KAEnCuhE,EAAOA,EAAKxoD,GAGb/Y,GAAKuhE,EAAKm4B,QAAU,IAItB,SAAS0B,EAAcC,GAoBtB,IAnBA,IAAMnrB,EAAQooB,EAAiB+C,GAEzBprB,EAAYC,EAAM,GAElBspB,EAAWtpB,EAAMA,EAAMppE,OAAS,GAEhCuX,EAAQ4xD,EAAUlsD,aAAa,SAE/B5X,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAErCi9E,SAEAC,SAEEpB,EAAe,GAEjBjxE,SAGKlpB,EAAI,EAAGkpB,EAAO/c,EAAIrF,OAAQ9G,EAAIkpB,EAAMlpB,IAE5C,IAAK,IAAI6vE,EAAI,EAAG5mD,EAAO9c,EAAInM,GAAG8G,OAAQ+oE,EAAI5mD,EAAM4mD,IAC3C1jE,EAAInM,GAAG6vE,IAAMI,EAAUl3D,IAAGuiF,EAAgBzrB,GAC1C1jE,EAAInM,GAAG6vE,IAAM2pB,EAASzgF,IAAGwiF,EAAc1rB,GAK7C,IAAK,IAAI7vE,EAAIs7F,EAAet7F,GAAKu7F,EAAav7F,IAC7C,IAAK,IAAI6vE,EAAI,EAAGA,EAAI1jE,EAAIrF,OAAQ+oE,IAAK,CACpC,IAAMuqB,EAASjuF,EAAI0jE,GAEbxP,EAAM,IAAIz6D,SAAS2R,IAAI1O,QAAQwV,EAAMtF,EAAEmQ,KAAK2mD,IAE5CtO,EAAO,IAAI37D,SAAS2R,IAAI1O,QAAQuxF,EAAOp6F,IAEzCuhE,EAAKxoD,IACc,GAAlBwoD,EAAKxoD,EAAE08E,QAAcl0B,EAAK7tD,SAEzB6tD,EAAKxoD,EAAE08E,SAAW,EAEvB5lB,GAAKtO,EAAKxoD,EAAE2gF,QAAU,EAEjBr5B,EAAItnD,EAAEm3D,MAAMppE,QAAQqzF,EAAajwF,KAAKm2D,IAK9C,IAAMm7B,EAAgBn9E,EAAMtF,EAAEmQ,KAAK,IAAM7K,EAAMtF,EAAEmQ,KAAK,GAAGgnD,MAMnDqqB,EAAiB,IAAI30F,SAAS2R,IAAI1O,QACvC2yF,EAAcF,KACZA,EACEE,EAAcF,EAAgB,GAC9Bj9E,EAAMtF,EAAEkmB,aAMb,OAFIk7D,EAAarzF,QAAUoiB,GAAM7K,EAAM3K,SAEhC6mF,EAGR,SAASkB,EAAWloF,EAAWm1C,GAC9B,IAAMgzC,EAAenoF,EAAUsiD,kBACzB0L,EACLm6B,EAAa33E,aAAa,KAAM,IAChC23E,EAAa33E,aAAa,KAAM,GAEjC,GAAKw9C,EAAL,CAGA,IAAMwP,EAAUxP,EAAKw4B,QACrBhpB,EAAQjB,cAEJpnB,EAAcqoB,EAAQroB,aAAa6Y,GAClCwP,EAAQipB,YAAYz4B,IAG1B,SAASo6B,EAAYN,GACpB,GAAIA,aAA2Bz1F,SAAS2R,IAAIhE,UAAW,CAMtD,IALA,IAAM0lF,EAAgBX,EAAiB+C,GACjCh9E,EACL46E,EAAc,IAAMA,EAAc,GAAGl1E,aAAa,SAC7C63E,EAAc5C,EAA6BC,GAExCj5F,EAAIi5F,EAAcnyF,OAAS,EAAG9G,GAAK,EAAGA,IAC9C27F,EAAY1C,EAAcj5F,IAEvB47F,EAAaC,EAAkBD,GAAa,GACvCv9E,GAAOA,EAAM3K,cAChB,GAAI2nF,aAA2Bz1F,SAAS2R,IAAI1O,QAAS,CAC3D,IAAMymE,EAAK+rB,EAAgB9qB,YACD,GAAtBjB,EAAGuB,gBAAsBvB,EAAG57D,SAC3B2nF,EAAgB3nF,UAKvB,SAASooF,EAASv6B,GACjB,IAAMw6B,EAAQx6B,EAAKy6B,WACfD,GACHA,EAAMroF,SAEP6tD,EAAKz7B,OAGN,SAAS+1D,EAAkBt6B,EAAM06B,GAChC,IAAMC,EAAW36B,EAAK63B,cAEhB+C,EAAWv2F,SAASqB,SAMtBrB,SAAS8P,IAAIC,IAA8B,IAAxB/P,SAAS8P,IAAIud,UACnCkpE,EAAS11F,QACTy1F,EAASz1F,SAGV,IAAMiW,EAAQ,IAAI9W,SAAS2R,IAAImF,MAAMw/E,GAEnCx/E,EAAM,qBAAuBu/E,EAAa,MAAQ,UAAU16B,KAE7D7kD,EAAMyuD,mBAAmB5J,GACzB7kD,EAAM0/E,UAASH,IAEhBv/E,EAAMq1B,QAAO,GAGd,SAASsqD,EAAUC,EAAU/C,EAAUh4B,GACtC,IAAMg7B,EAAOD,EAAS/C,GACtB,GAAmB,oBAARh4B,EAAqB,OAAOg7B,EAEvC,IAAK,IAAIl8F,EAAI,EAAGk8F,GAAQl8F,EAAIk8F,EAAKz1F,OAAQzG,IAAK,CAC7C,GAAIkhE,EAAKt6B,IAAMs1D,EAAKl8F,IAAMkhE,EAAKxoD,EAAG,OAAO1Y,EACpC,GAAIA,GAAKkhE,EAAM,OAAO,IAAI37D,SAAS2R,IAAI1O,QAAQ0zF,EAAKl8F,IAE1D,OAAOkhE,EAAKt6B,IAAM,EAAI,KAGvB,SAASu1D,EAAUF,EAAU3B,GAE5B,IADA,IAAM8B,EAAO,GACJ37F,EAAI,EAAGA,EAAIw7F,EAASx1F,OAAQhG,IAAK,CACzC,IAAMu/D,EAAMi8B,EAASx7F,GACrB27F,EAAKvyF,KAAKm2D,EAAIs6B,IAGVt6B,EAAIs6B,GAAUjB,QAAU,IAAG54F,GAAKu/D,EAAIs6B,GAAUjB,QAAU,GAE7D,OAAO+C,EAGR,SAASC,EAAWnpF,EAAWopF,EAAgBC,GAC9C,IAAM1sB,EAAQooB,EAAiB/kF,GAM3BspF,SACJ,IACEF,EAAiC,GAAhBzsB,EAAMppE,OAAcopE,EAAMppE,OAAS,KACnD+1F,EAAiBtpF,EAAUiK,sBAC5Bq/E,EAAen1F,MAAQ9B,SAAS0qE,cAChCusB,EAAe51D,GAAG,SAEnB,OAAO,EAER,IAAIs6B,SAEE0O,EAAYC,EAAM,GAElB7xD,EAAQ4xD,EAAUlsD,aAAa,SAE/B5X,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAEnCy+E,EAAY3wF,EAAIrF,OAEhBi2F,EAAW5wF,EAAI,GAAGrF,OAElBuyF,EAAWppB,EAAUM,YAAYx3D,EAAEwgF,SAEnCyD,EAAcX,EAAUlwF,EAAKktF,EAAUppB,GAE7C,GAAI0sB,EAAgB,CACnB,IAAIM,SACJ,IACC,IAAMC,EACLl4F,SAASirE,EAAUhmE,aAAa,WAAY,KAAO,EAC9CkzF,EACLn4F,SAASirE,EAAUhmE,aAAa,WAAY,KAAO,EAEpDgzF,EACC9wF,EACmB,MAAlBwwF,EACGtD,EAAW6D,EACO,QAAlBP,EACAtD,EAAW6D,EACX7D,GAEe,QAAlBsD,EACGK,EAAcG,EACI,SAAlBR,EACAK,EAAcG,EACdH,GAEJ,MAAOI,GACR,OAAO,EAKR,IAAKH,GAAchtB,EAAUl3D,GAAKkkF,EAAY,OAAO,EAGrD/sB,EACmB,MAAlBysB,GAA4C,QAAlBA,EACvB,UACA,QACF,IAAI/2F,SAAS2R,IAAI1O,QAAQo0F,IAkB5B,IAdA,IAAM5V,EAAMpX,EAAUmpB,cAElBiE,EAAehE,EAEfiE,EAAe,EAEfC,EAAe,EAIbC,GAAQZ,GAAY,IAAIh3F,SAAS2R,IAAIkmF,iBAAiBpW,GAExDpC,EAAY,EAEPjlF,EAAI,EAAGA,EAAIkwE,EAAMppE,OAAQ9G,IAAK,CACtCuhE,EAAO2O,EAAMlwE,GAEb,IAAMsvE,EAAK/N,EAAKgP,YAEVmtB,EAAiBn8B,EAAKsQ,WAEtB4jB,EAAUl0B,EAAKxoD,EAAE08E,QAEjBiE,EAAUn4B,EAAKxoD,EAAE2gF,QAEjBH,EAAWjqB,EAAGv2D,EAAEwgF,SAEhBoB,EAAW0B,EAAUlwF,EAAKotF,EAAUh4B,GAc1C,GAXA0jB,GAAawQ,EAAUiE,EAEvB6D,EAAep0F,KAAKC,IACnBm0F,EACA5C,EAAWqC,EAAcvH,GAE1B6H,EAAen0F,KAAKC,IACnBk0F,EACA/D,EAAWF,EAAWK,IAGlBkD,EAAU,CAEd,GAAKd,EAASv6B,GAAOA,EAAK+J,cAAcz7C,QAAU,CAEjD,GACC0pE,GAAY8D,GACZK,KAECA,EAAeC,kBACfD,EAAeC,gBAAgB,CAACr3D,GAAI,KAEpC,CACD,IAAMyf,EAAOy3C,EAAKlhB,QACjB12E,SAAS2R,IAAIqhF,OAAOgF,aAAY,KAE7B73C,GAAUA,EAAK9e,IAAM8e,EAAK9e,GAAG,OAChCu2D,EAAK5tB,OAAO,MAGdrO,EAAKs8B,aAAaL,GAEfx9F,EACHuhE,EAAK7tD,SAEL6tD,EAAKmtB,QAAQ,IAGf2O,EAAe9D,EAGhB,GAAKqD,EA8BJ,OAAOU,EAAeC,GAAgBtY,EA7BtCuY,EAAKK,aAAa5tB,GAElBA,EAAUH,cAENytB,GAAgBR,EAAU9sB,EAAUj5C,gBAAgB,WACnDi5C,EAAUl3D,EAAE2gF,QAAU4D,EAEvBA,GAAgBR,EAAW7sB,EAAUj5C,gBAAgB,WACpDi5C,EAAUl3D,EAAE08E,QAAU8H,EAO3B,IAJA,IAAMO,EAAM,IAAIl4F,SAAS2R,IAAIwmF,SAAS1/E,EAAMtF,EAAEmQ,MAE1C2G,EAAQiuE,EAAIjuE,QAEP7vB,EAAI6vB,EAAQ,EAAG7vB,GAAK,EAAGA,IAAK,CACpC,IAAMg+F,EAASF,EAAIvyB,QAAQvrE,GACtBg+F,EAAOjlF,EAAEm3D,MAAMppE,SACnBk3F,EAAOtqF,SACPmc,KAKF,OAAOogD,EAST,SAASguB,EAAkB1qF,EAAWqpF,GACrC,IAAM1sB,EAAQooB,EAAiB/kF,GAC/B,GAAI28D,EAAMppE,OAAS,EAAG,OAAO,EACxB,GAAI81F,EAAU,OAAO,EAE1B,IAAMr7B,EAAO2O,EAAM,GAEbZ,EAAK/N,EAAKgP,YAEVlyD,EAAQixD,EAAGvrD,aAAa,SAExB5X,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAEnCk7E,EAAWjqB,EAAGv2D,EAAEwgF,SAEhBoB,EAAW0B,EAAUlwF,EAAKotF,EAAUh4B,GAEpCm4B,EAAUn4B,EAAKxoD,EAAE2gF,QAEnB3oB,SAEAmtB,SAEAC,SAEAC,SAEJ,GAAI1E,EAAU,EAAG,CAChBwE,EAAa/0F,KAAKygD,KAAK8vC,EAAU,GACjCyE,EAAiBh1F,KAAK4oD,MAAM2nC,EAAU,GACtC0E,EAAc7E,EAAW2E,EACzB,IAAMG,EAAY,IAAIz4F,SAAS2R,IAAI1O,QAClCwV,EAAMtF,EAAEmQ,KAAKk1E,IAGRE,EAAajC,EAAUlwF,EAAKiyF,GAE9BG,SAEJxtB,EAAUxP,EAAKw4B,QAGf,IAAK,IAAI15F,EAAI,EAAGA,EAAIi+F,EAAWx3F,OAAQzG,IAAK,CAG3C,GAFAk+F,EAAgBD,EAAWj+F,GAEvBk+F,EAAct/D,YAAco/D,EAAUtlF,GAAK1Y,EAAIs6F,EAAU,CAC5D5pB,EAAQroB,aACP,IAAI9iD,SAAS2R,IAAI1O,QAAQ01F,IAE1B,MAEAA,EAAgB,KAKbA,GAAeF,EAAUzuB,OAAOmB,OAC/B,CACNotB,EAAiBD,EAAa,EAE9B,IAAMG,EAAY/uB,EAAGyqB,QACrBsE,EAAUrE,YAAY1qB,GACtB+uB,EAAUzuB,OAAQmB,EAAUxP,EAAKw4B,SAGjC,IADA,IAAMyE,EAAiBnC,EAAUlwF,EAAKotF,GAC7Bv5F,EAAI,EAAGA,EAAIw+F,EAAe13F,OAAQ9G,IAC1Cw+F,EAAex+F,GAAG05F,UAUpB,OAPA3oB,EAAQjB,cAERvO,EAAKxoD,EAAE2gF,QAAUwE,EACjBntB,EAAQh4D,EAAE2gF,QAAUyE,EACF,GAAdD,GAAiB38B,EAAKvqC,gBAAgB,WACpB,GAAlBmnE,GAAqBptB,EAAQ/5C,gBAAgB,WAE1C+5C,EAGR,SAAS0tB,EAAoBlrF,EAAWqpF,GACvC,IAAM1sB,EAAQooB,EAAiB/kF,GAC/B,GAAI28D,EAAMppE,OAAS,EAAG,OAAO,EACxB,GAAI81F,EAAU,OAAO,EAE1B,IAAMr7B,EAAO2O,EAAM,GAEbZ,EAAK/N,EAAKgP,YAEVlyD,EAAQixD,EAAGvrD,aAAa,SAExB5X,EAAMvG,SAAS+L,MAAMklF,cAAcx4E,GAEnCk7E,EAAWjqB,EAAGv2D,EAAEwgF,SAEhBoB,EAAW0B,EAAUlwF,EAAKotF,EAAUh4B,GAEpCk0B,EAAUl0B,EAAKxoD,EAAE08E,QAEnBiJ,SAEAC,SAEJ,GAAIlJ,EAAU,EACbiJ,EAAav1F,KAAKygD,KAAK6rC,EAAU,GACjCkJ,EAAiBx1F,KAAK4oD,MAAM0jC,EAAU,OAChC,CACNkJ,EAAiBD,EAAa,EAE9B,IADA,IAAME,EAAiBpC,EAAUrwF,EAAKwuF,GAC7B36F,EAAI,EAAGA,EAAI4+F,EAAe93F,OAAQ9G,IAC1C4+F,EAAe5+F,GAAGy1F,UAEpB,IAAM1kB,EAAUxP,EAAKw4B,QASrB,OARAhpB,EAAQipB,YAAYz4B,GACpBwP,EAAQjB,cAERvO,EAAKxoD,EAAE08E,QAAUiJ,EACjB3tB,EAAQh4D,EAAE08E,QAAUkJ,EACF,GAAdD,GAAiBn9B,EAAKvqC,gBAAgB,WACpB,GAAlB2nE,GAAqB5tB,EAAQ/5C,gBAAgB,WAE1C+5C,EAGRnrE,SAAS6hB,QAAQwhC,IAAI,gBAAiB,CACrC+lB,KADqC,SAChC5sE,GACJ,SAASy8F,EAAUC,GAClB,OAAOl5F,SAAS+L,MAAMjC,OAAOovF,GAAO,GAAI,CACvCC,iBAAkB,EAClBxR,QAFuC,SAE/BnrF,EAAQI,GACfyB,KAAKgO,SACJzP,EAAKkb,SAAS,CAAC2pB,GAAI,EAAGga,GAAI,GAAI,GAC3Bz7C,SAAS2mF,aACT3mF,SAAS+nF,sBAKhB,SAASqR,EAAOz+F,EAAMu+F,GACrB,IAAIG,EAAM78F,EAAO4D,WAAWzF,GAExB0+F,IAIJA,EAAM78F,EAAO0I,WAAWvK,EAAMu+F,GAC9B18F,EAAO88F,WAAWD,IAGnBD,EACC,YACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzB0rF,EAAkB5B,EAAW1mF,QAKhCyrF,EACC,kBACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzBgpF,EAAU5lF,GAAW,OAKxByrF,EACC,iBACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzBgpF,EAAU5lF,OAKbyrF,EACC,eACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACnBtH,EAAUuyF,EAAc7nF,GAC1B1K,GACHgzF,EAAkBhzF,GAAS,OAM/Bm2F,EACC,qBACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzB2qF,EAAavnF,GAAW,OAK3ByrF,EACC,oBACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzB2qF,EAAavnF,OAKhByrF,EACC,aACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzBwrF,EAAYpoF,OAKfyrF,EACC,YACAH,EAAU,CACTz3B,eAAgB,sBAChB2e,gBAAiB,sBACjBp7E,KAHS,SAGJvI,GACJy5F,EACCa,EAAWt6F,EAAO+N,iBAClB,OAMJ6uF,EACC,iBACAH,EAAU,CACTz3B,eAAgB,cAChB2e,gBAAiB,cACjBp7E,KAHS,SAGJvI,GACJy5F,EACCa,EAAWt6F,EAAO+N,eAAgB,UAClC,OAMJ6uF,EACC,gBACAH,EAAU,CACTz3B,eAAgB,cAChB2e,gBAAiB,cACjBp7E,KAHS,SAGJvI,GACJy5F,EACCa,EAAWt6F,EAAO+N,eAAgB,SAClC,OAMJ6uF,EACC,oBACAH,EAAU,CACTz3B,eAAgB,cAChB2e,gBAAiB,cACjBp7E,KAHS,SAGJvI,GACJy5F,EACCoC,EAAkB77F,EAAO+N,qBAM7B6uF,EACC,sBACAH,EAAU,CACTz3B,eAAgB,cAChB2e,gBAAiB,cACjBp7E,KAHS,SAGJvI,GACJy5F,EACC4C,EAAoBr8F,EAAO+N,qBAM/B6uF,EACC,mBACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzBsrF,EAAWloF,GAAW,OAKzByrF,EACC,kBACAH,EAAU,CACT9Y,gBAAiB,QACjBp7E,KAFS,SAEJvI,GACJ,IAAMmR,EAAYnR,EAAO+N,eACzBsrF,EAAWloF,QAMf+kF,qBAWF1yF,SAAS+L,MAAMklF,cAAgB,SAASx4E,GAQvC,IAPA,IAAM8gF,EAAQ9gF,EAAMtF,EAAEmQ,KAGlBpoB,GAAK,EAEHs+F,EAAO,GAEJp/F,EAAI,EAAGA,EAAIm/F,EAAMr4F,OAAQ9G,IAAK,CACtCc,IACKs+F,EAAKt+F,KACTs+F,EAAKt+F,GAAK,IAKX,IAFA,IAAIT,GAAK,EAEAwvE,EAAI,EAAGA,EAAIsvB,EAAMn/F,GAAGkwE,MAAMppE,OAAQ+oE,IAAK,CAC/C,IAAMwvB,EAAQF,EAAMn/F,GAAGkwE,MAAML,GAE7BxvE,IACA,MAAO++F,EAAKt+F,GAAGT,GAAIA,IAKnB,IAHA,IAAMi/F,EAAW/8E,MAAM88E,EAAM5J,SAAW,EAAI4J,EAAM5J,QAC5C8J,EAAWh9E,MAAM88E,EAAM3F,SAAW,EAAI2F,EAAM3F,QAEzC8F,EAAK,EAAGA,EAAKD,EAAUC,IAAM,CAChCJ,EAAKt+F,EAAI0+F,KAAKJ,EAAKt+F,EAAI0+F,GAAM,IAElC,IAAK,IAAIC,EAAK,EAAGA,EAAKH,EAAUG,IAC/BL,EAAKt+F,EAAI0+F,GAAIn/F,EAAIo/F,GAAMN,EAAMn/F,GAAGkwE,MAAML,GAIxCxvE,GAAKi/F,EAAW,GAGlB,OAAOF,I,6BC7hCR,OAEA,OAEA,OAEA,OAEA,OAEA,Q,sRCVA,O,OAEA,O,ynBAGA,IAAKx5F,SAAS6hB,QAAQ5mB,IAAI,mBAAoB,CAC7C,IAAM6+F,EAAc,GAapB,SAASC,EAAqBpwF,EAAYqwF,EAAkBx9F,GAC3D,IAMmB,IANfy9F,EAAehzF,YAAY+C,QAAQL,IAEvCmwF,EAAYt9F,EAAO7B,MAAQm/F,EAAYt9F,EAAO7B,OAAS,GACvDm/F,EAAYt9F,EAAO7B,MAAMgP,GACxBmwF,EAAYt9F,EAAO7B,MAAMgP,IAAeqwF,EAEpCC,KACJA,gBAAA,SAAAA,IAAA,mBAAAA,GAAA,uFAAAA,EAAA,iCAAAA,IAAA,sCA8DCpgC,aAAe,WACd,IAAMr9D,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEjCi/F,EACLJ,EAAYt9F,EAAO7B,MAAMgP,GAAY5L,QAEhCo8F,EACLL,EAAYt9F,EAAO7B,MAAMgP,GAAY+F,QAElCyqF,EACHA,EAAc5/F,KAAd,GAEAiC,EAAOqB,YAAYq8F,GAGpB19F,EAAOwB,KAAK,kBAAZ,IA7EF,oBAAAi8F,EAAA,KAAAA,EAAA,qEAaE,IAAMz9F,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCm/F,EAAkB,6BAElBC,EACLP,EAAYt9F,EAAO7B,MAAMgP,GAAYhP,MACrCm/F,EAAYt9F,EAAO7B,MAAMgP,GAAY5L,SACrC4L,EAEK2wF,EACLR,EAAYt9F,EAAO7B,MAAMgP,GAAYlD,MAEhC8zF,EAAa,UAAYF,EAEzB9/B,EAAgB,WAAa8/B,EAE7BG,EAAY,GAEZC,EAAWz6F,SAAS06F,KAAKC,aAC9BN,GAGD,GAAII,EAAU,CACb,IAAMG,EAAgBH,EAAS76F,MAAM,KAErC46F,EAAU5d,gBAAkBge,EAAc,GAAGv6D,UAC5Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAEjCg5F,EAAUK,mBAAqBD,EAAc,GAAGv6D,UAC/Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAEjCg5F,EAAUM,eAAiBF,EAAc,GAAGv6D,UAC3Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAIlC,OACC,kCACCgO,aAAY8qF,EACZj+F,UAAW+9F,EACX37E,YAAW87E,EACX7qF,QAASrR,KAAKw7D,aACdn0D,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO2qF,GACP,gCAAMj+F,UAAWk+D,EAAe76D,MAAO86F,SAzD3CP,GAA6B98F,UAAMG,WAAnC,EACQW,YAAcf,UADtB,EAGQu1B,YAAc9oB,EAHtB,EAKQhO,IAAMgO,EALdswF,EAAA,EAiFAhzF,YAAY+C,QAAQL,GAAcswF,GAGnC,OAAOA,EAIHj6F,SAAS6hB,QAAQ5mB,IAAI,YACzB+E,SAAS+6F,UAAY,SAErB/6F,SAAS6hB,QAAQwhC,IAAI,SAAU,KAahCrjD,SAAS6hB,QAAQwhC,IAAI,kBAAmB,CACvCwjB,SAAU,CAAC,eASXm0B,WAVuC,SAU5Bx+F,GACVA,EAAOykD,GAAGg6C,UAAY,SAAStxF,EAAYqwF,GAC1C37F,KAAKglD,IAAI15C,EAAY3J,SAAS+6F,UAAWf,IAG1Cx9F,EAAOykD,GAAGi6C,WAAWl7F,SAAS+6F,UAAW,CACxC13C,IAAK02C,EACLr+F,OAFwC,SAEjCs+F,GACN,IAAMrwF,EACL,gBAAmC,IAAhBpG,KAAK6/B,WAAoB,GACvC62D,EAAeF,EACpBpwF,EACAqwF,GAGD,OAAO,IAAIC,U,sRC5JhB,O,OAEA,O,OACA,Q,ynBAGA,IAAKj6F,SAAS6hB,QAAQ5mB,IAAI,uBAAwB,CACjD,IAAMkgG,EAAkB,GAYxB,SAASC,EACRC,EACAC,EACA9+F,GAEA,IAOuB,IAPnB++F,EAAmBt0F,YAAY+C,QAAQqxF,IAE3CF,EAAgB3+F,EAAO7B,MAAQwgG,EAAgB3+F,EAAO7B,OAAS,GAC/DwgG,EAAgB3+F,EAAO7B,MAAM0gG,GAC5BF,EAAgB3+F,EAAO7B,MAAM0gG,IAC7BC,EAEIC,KACJA,gBAAA,SAAAA,IAAA,cAAAA,GAAA,QAAAA,EAAA,iCAAAA,IAAA,gCAAAA,EAAA,KAAAA,EAAA,qEAaE,IAAM/+F,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCugG,EACLL,EAAgB3+F,EAAO7B,MAAM0gG,GAAgB1gG,MAC7CwgG,EAAgB3+F,EAAO7B,MAAM0gG,GAAgBt9F,SAC7Cs9F,EAEKjB,EAAkB,6BAElB7/B,EACL,WAAaihC,EAERhB,EAAY,GAEZC,EAAWz6F,SAAS06F,KAAKC,aAC9Ba,GAGD,GAAIf,EAAU,CACb,IAAMG,EAAgBH,EAAS76F,MAAM,KAErC46F,EAAU5d,gBAAkBge,EAAc,GAAGv6D,UAC5Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAEjCg5F,EAAUK,mBAAqBD,EAAc,GAAGv6D,UAC/Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAEjCg5F,EAAUM,eAAiBF,EAAc,GAAGv6D,UAC3Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAIlC,OACC,+BAAKnF,UAAU,gCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aACC2rF,EAAgB3+F,EAAO7B,MAAM0gG,GAC3B50F,MAEHpK,UAAW+9F,EACX1qF,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MACCwrF,EAAgB3+F,EAAO7B,MAAM0gG,GAC3B50F,OAEH,gCACCpK,UAAWk+D,EACX76D,MAAO86F,KAGRn8F,KAAKZ,MAAMwO,UACX,wBAAC,UAAD,CACChK,UAAW5D,KAAKZ,MAAM+N,gBACrBnN,KAAKo9F,oBArEZ,sCA6EE,IAAMj/F,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBACjCqL,EAAQg1F,EAAqBI,SAC7BC,EAAY7gG,OAAOqH,KAAKmE,GAAOC,KAAI,SAAA5K,GACxC,IAAMigG,EAAWp/F,EAAOq/F,YAAYlgG,GAEpC,IAAKigG,EACJ,OAAO,KAGR,IAAME,EACLF,EAASG,YAAcH,EAClBI,EAAgB11F,EAAM3K,GAEtBU,EACL,uBACC2/F,IAAkBh8F,SAASM,YACzB,SACA,IACE6P,EACL6rF,IAAkBh8F,SAAS+nF,kBACtBr4E,EAAU,WACXosF,EAAmB/9F,QACtBvB,EAAOqB,YAAYi+F,EAAmB/9F,SAC5B+9F,EAAmBpsF,SAC7BosF,EAAmBpsF,QAAQiS,MAC1Bm6E,IAKH,OACC,8BAAIngG,IAAKigG,EAASjhG,KAAMgL,KAAK,UAC5B,kCACCtJ,UAAWA,EACX8T,SAAUA,EACVT,QAASA,GACRosF,EAAmBr1F,WAMxB,OAAOk1F,MAvHTJ,GAAiCp+F,UAAMG,WAAvC,EACQW,YAAcf,UADtB,EAGQu1B,YAAc4oE,EAHtB,EAKQ1/F,IAAM0/F,EALdE,EAAA,EA2HAt0F,YAAY+C,QAAQqxF,GAAkBE,GAGvC,OAAOA,EAIHv7F,SAAS6hB,QAAQ5mB,IAAI,gBACzB+E,SAASi8F,eAAiB,aAE1Bj8F,SAAS6hB,QAAQwhC,IAAI,aAAc,KAcpCrjD,SAAS6hB,QAAQwhC,IAAI,sBAAuB,CAC3CwjB,SAAU,CAAC,cAAe,iBAS1Bm0B,WAV2C,SAUhCx+F,GACVA,EAAOykD,GAAGi7C,cAAgB,SACzBb,EACAC,GAEAj9F,KAAKglD,IACJg4C,EACAr7F,SAASm8F,cACTb,IAIF9+F,EAAOykD,GAAGi6C,WAAWl7F,SAASm8F,cAAe,CAC5C94C,IAAK+3C,EACL1/F,OAF4C,SAErC4/F,GACN,IAAMD,EACL,gBAAmC,IAAhB93F,KAAK6/B,WAAoB,GACvCm4D,EAAmBH,EACxBC,EACAC,GAGD,OAAO,IAAIC,U,6BClNXv7F,SAAS6hB,QAAQ5mB,IAAI,kBAazB+E,SAAS6hB,QAAQwhC,IAAI,gBAAiB,CAQrC23C,WARqC,SAQ1Bx+F,GAEV,IAAIwD,SAAS6hB,QAAQ5mB,IAAI,QAAzB,CAQA,IAJA,IAAMmhG,EAAS,GACTC,EAAe7/F,EAAOyjB,EAAEq8E,WAAa,GACrCX,EAAan/F,EAAOyjB,EAAE07E,UAAY,GAE/BvhG,EAAI,EAAGA,EAAIgiG,EAAOl7F,OAAQ9G,IAClCiiG,EAAYD,EAAOhiG,IAAMA,EAAI,EAY9BoC,EAAO+/F,aAAe,SAAS5hG,EAAMukC,GACpCm9D,EAAY1hG,GAAQukC,GAAS,KAU9B1iC,EAAOggG,YAAc,SAAS7hG,EAAMohG,GAC/BM,EAAYN,EAAWU,SAC1Bd,EAAUhhG,GAAQ,CACjBA,OACAohG,gBAWHv/F,EAAOkgG,aAAe,SAASC,GAC9B,IAAK,IAAMC,KAAYD,EAErB7hG,OAAOkB,UAAUC,eAAe1B,KAC/BoiG,EACAC,IAGDv+F,KAAKm+F,YAAYI,EAAUD,EAAYC,KAY1CpgG,EAAOq/F,YAAc,SAASlhG,GAC7B,OAAOghG,EAAUhhG,IASlB6B,EAAOqgG,eAAiB,SAASliG,UACzBghG,EAAUhhG,S,sRCtGrB,O,OAEA,O,OACA,Q,ynBAGA,IAAKqF,SAAS6hB,QAAQ5mB,IAAI,4BAA6B,CACtD,IAAM6hG,EAAkB,GAYlBC,EAAgC,SACrCC,EACAC,EACAzgG,GAEA,IAO4B,IAPxB0gG,EAAwBj2F,YAAY+C,QAAQgzF,IAEhDF,EAAgBtgG,EAAO7B,MAAQmiG,EAAgBtgG,EAAO7B,OAAS,GAC/DmiG,EAAgBtgG,EAAO7B,MAAMqiG,GAC5BF,EAAgBtgG,EAAO7B,MAAMqiG,IAC7BC,EAEIC,KACJA,gBAAA,SAAAA,IAAA,cAAAA,GAAA,QAAAA,EAAA,iCAAAA,IAAA,gCAAAA,EAAA,KAAAA,EAAA,uEAYE,IAAM1gG,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCugG,EACLsB,EAAgBtgG,EAAO7B,MAAMqiG,GAC3BriG,MACFmiG,EAAgBtgG,EAAO7B,MAAMqiG,GAC3Bj/F,SACFi/F,EAEK5C,EAAkB,6BAElB7/B,EACL,WAAaihC,EAERhB,EAAY,GAEZC,EAAWz6F,SAAS06F,KAAKC,aAC9Ba,GAGD,GAAIf,EAAU,CACb,IAAMG,EAAgBH,EAAS76F,MAAM,KAErC46F,EAAU5d,gBAAkBge,EAAc,GAAGv6D,UAC5Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAEjCg5F,EAAUK,mBAAqBD,EAAc,GAAGv6D,UAC/Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAEjCg5F,EAAUM,eAAiBF,EAAc,GAAGv6D,UAC3Cu6D,EAAc,GAAGp5F,QAAQ,KAAO,GAIlC,IAAI27F,SAMJ,OAJI9+F,KAAKZ,MAAMwO,WACdkxF,EAAQ9+F,KAAK++F,aAIb,+BAAK/gG,UAAU,gCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aACCstF,EAAgBtgG,EAAO7B,MACtBqiG,GACCv2F,MAEHpK,UAAW+9F,EACX1qF,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MACCmtF,EAAgBtgG,EAAO7B,MACtBqiG,GACCv2F,OAEH,gCACCpK,UAAWk+D,EACX76D,MAAO86F,KAGR2C,KA3EL,kCAiFE,IAAM3gG,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCoiG,EACLP,EAAgBtgG,EAAO7B,MAAMqiG,GAC3BM,QAEGH,EAAQ,CACb/iB,KAAM/7E,KAAKZ,MAAM+N,eACjB8zD,KAAMjhE,KAAKZ,MAAM+N,gBAGZ+xF,EAAe,IAAIv9F,SAAS2R,IAAI1O,QAAQ,OAExCwgF,EAAQ,CACbxgF,QAASs6F,EACTp7F,KAAM,IAWP,OAPIk7F,GACHA,EAAuB9iG,KAAK8D,KAAM8+F,EAAO1Z,GAOzC,wBAAC,UAAD,CAAgBxhF,UAAW5D,KAAKZ,MAAM+N,gBACrC,+BACCnP,UAAWkhG,EAAal5F,aAAa,SACrC+W,wBAAyB,CACxBC,OAAQkiF,EAAaC,kBAhH3BN,GAAsC//F,UAAMG,WAA5C,EACQW,YAAcf,UADtB,EAGQu1B,YAAcuqE,EAHtB,EAKQrhG,IAAMqhG,EALdE,EAAA,EAwHAj2F,YAAY+C,QAAQgzF,GAAuBE,GAG5C,OAAOA,GAIHl9F,SAAS6hB,QAAQ5mB,IAAI,qBACzB+E,SAASy9F,eAAiB,kBAE1Bz9F,SAAS6hB,QAAQwhC,IAAI,kBAAmB,KAIpCrjD,SAAS6hB,QAAQ5mB,IAAI,iBACzB+E,SAASy9F,eAAiB,cAE1Bz9F,SAAS6hB,QAAQwhC,IAAI,cAAe,KAarCrjD,SAAS6hB,QAAQwhC,IAAI,2BAA4B,CAChDwjB,SAAU,CAAC,eASXm0B,WAVgD,SAUrCx+F,GACVA,EAAOykD,GAAGy8C,mBAAqB,SAC9BV,EACAC,GAEA5+F,KAAKglD,IACJ25C,EACAh9F,SAASy9F,eACTR,IAIFzgG,EAAOykD,GAAGi6C,WAAWl7F,SAASy9F,eAAgB,CAC7Cp6C,IAAK05C,EACLrhG,OAF6C,SAEtCuhG,GACN,IAAMD,EACL,yBAA4C,IAAhBz5F,KAAK6/B,WAAoB,GAChD85D,EAAwBH,EAC7BC,EACAC,GAGD,OAAO,IAAIC,U,sRCtNhB,O,OAEA,O,OACA,Q,OACA,O,ynBAGA,IAAKl9F,SAAS6hB,QAAQ5mB,IAAI,sBAAuB,CAChD,IAAM0iG,EAAkB,GAYlBC,EAA0B,SAC/BC,EACAC,EACAthG,GAEA,IAOsB,IAPlBuhG,EAAkB92F,YAAY+C,QAAQ6zF,IAE1CF,EAAgBnhG,EAAO7B,MAAQgjG,EAAgBnhG,EAAO7B,OAAS,GAC/DgjG,EAAgBnhG,EAAO7B,MAAMkjG,GAC5BF,EAAgBnhG,EAAO7B,MAAMkjG,IAAkBC,EAChDH,EAAgBnhG,EAAO7B,MAAMkjG,GAAeG,kBAAe3kF,EAEtD0kF,KACJA,gBAOC,WAAYtgG,GAAO,yEACZA,IADY,SA+HnBsd,SAAW,SAAAja,GACV,IAAMtE,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEjCgjG,EACLN,EAAgBnhG,EAAO7B,MAAMkjG,GAE9B,GAAII,EAAYvuF,QAAS,CACxB,IAAMy0E,EAAWrjF,EAAMotB,cAAc7pB,aACpC,cAGD45F,EAAYvuF,QAAQnV,KAApB,EAA+B4pF,GAE/BwZ,EAAgBnhG,EAAO7B,MACtBkjG,GACCG,aAAe7Z,EAEjB3nF,EAAOwB,KAAK,kBAAZ,KA9ID,EAAKqC,MAAQ,CACZhF,MACCsiG,EAAgBnhG,EAAO7B,MAAMkjG,GAC3BG,cALc,EAPpB,SAAAD,EAAA,KAAAA,EAAA,oaA8BK1iG,EAAOggF,EAAS1rE,GACnBtR,KAAK6/F,OAAO55F,KAAK,CAChB+2E,UACA1rE,QACAtU,YAlCH,2CAuCE,IAAMmB,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCgjG,EACLN,EAAgBnhG,EAAO7B,MAAMkjG,GAE9Bx/F,KAAK6/F,OAAS,GAEd7/F,KAAKm1B,SAAWn1B,KAAK8/F,UAEjBF,EAAY70B,MACf60B,EAAY70B,KAAK7uE,KAAK8D,MAGnB4/F,EAAYG,UACfH,EAAYG,SAAS7jG,KAAK8D,QArD7B,6CA0DEA,KAAKggG,YAAYhgG,KAAKgC,MAAMhF,OAE5BgD,KAAKm1B,SAAWn1B,KAAKggG,cA5DvB,iCAgEE,OAAOhgG,KAAKgC,MAAMhF,QAhEpB,+BAoEE,IAAMmB,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEjCqjG,EACLX,EAAgBnhG,EAAO7B,MAAMkjG,GAC3BG,cAAgBF,EAAoBr3F,MAEvC,OACC,+BAAKpK,UAAU,yCACd,kCACC4lB,gBAAe5jB,KAAKZ,MAAMwO,SAC1BuD,aAAY8uF,EACZjiG,UAAU,qBACVqT,QAASrR,KAAKZ,MAAM+N,eACpB7F,KAAK,WACLD,SAAUrH,KAAKZ,MAAMiI,SACrBiK,MAAO2uF,GACP,+BAAKjiG,UAAU,gBACd,gCAAMA,UAAU,uCACdiiG,GAEF,wBAAC,UAAD,CAAYhiG,OAAO,mBAGpB+B,KAAKZ,MAAMwO,UACX,wBAAC,UAAD,CACChK,UAAW5D,KAAKZ,MAAM+N,gBACrBnN,KAAKkgG,gBA9FZ,kCAqGaljG,GACX,IAAMmB,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEvC0iG,EAAgBnhG,EAAO7B,MACtBkjG,GACCG,aAAe3iG,IA1GnB,kCA6Ga,WACLmjG,EAAYngG,KAEZiI,EAAQjI,KAAK6/F,OAAO33F,KAAI,SAAApC,GAC7B,IAAM9H,EACL,uBACC8H,EAAK9I,QAAU,EAAKgF,MAAMhF,MAAQ,SAAW,IAE/C,OACC,8BAAIM,IAAKwI,EAAKwL,MAAOhK,KAAK,UACzB,kCACCtJ,UAAWA,EACX+e,wBAAyB,CACxBC,OAAQlX,EAAKk3E,SAEdt6D,aAAY5c,EAAK9I,MACjBqU,QAAS8uF,EAAUzjF,eAMvB,OAAOzU,IAnIT,gCA2JWjL,GACTgD,KAAKggG,YAAYhjG,GAEjBgD,KAAKgO,SAAS,CACbhR,cA/JH0iG,GAAgC5gG,UAAMG,WAAtC,EACQW,YAAcf,UADtB,EAGQu1B,YAAcorE,EAHtB,EAKQliG,IAAMkiG,EALdE,EAAA,EAoKA92F,YAAY+C,QAAQ6zF,GAAiBE,GAGtC,OAAOA,GAIH/9F,SAAS6hB,QAAQ5mB,IAAI,eACzB+E,SAASy+F,aAAe,YAExBz+F,SAAS6hB,QAAQwhC,IAAI,YAAa,KAanCrjD,SAAS6hB,QAAQwhC,IAAI,qBAAsB,CAC1CwjB,SAAU,CAAC,eASXm0B,WAV0C,SAU/Bx+F,GACVA,EAAOykD,GAAGy9C,aAAe,SACxBb,EACAC,GAEAz/F,KAAKglD,IACJw6C,EACA79F,SAASy+F,aACTX,IAIFthG,EAAOykD,GAAGi6C,WAAWl7F,SAASy+F,aAAc,CAC3Cp7C,IAAKu6C,EACLliG,OAF2C,SAEpCoiG,GACN,IAAMD,EACL,mBAAsC,IAAhBt6F,KAAK6/B,WAAoB,GAC1C26D,EAAkBH,EACvBC,EACAC,GAGD,OAAO,IAAIC,U,6BC3PX/9F,SAAS6hB,QAAQ5mB,IAAI,gBASzB+E,SAAS6hB,QAAQwhC,IAAI,cAAe,CAOnC23C,WAPmC,SAOxBx+F,GACV,IAAMmiG,EAAkBniG,EAAOykD,GAAGoC,IAElC7mD,EAAOykD,GAAGoC,IAAM,SAAS1oD,EAAMmH,EAAMi6F,GACpC4C,EAAgBpkG,KAAK8D,KAAM1D,EAAMmH,EAAMi6F,GAEvC,IAAM6C,EAAcvgG,KAAK4hB,EAAE4+E,SAAS/8F,GAEhC88F,GAAeA,EAAYv7C,MAC9Bu7C,EAAYv7C,IAAI1oD,EAAMohG,EAAYv/F,GAClCyK,YAAYyC,qBACX/O,EACA6B,EAAOmqE,qBAAqBzE,OAAOvnE,Y,0GC7BzC,a,4DAEQ0pE,8B,8ECFR,IAAMA,EAAqB,CAC1Bt/D,KAAM,SAAAvI,GACL,IAAMmR,EAAYnR,EAAO+N,eAEzB,GAAIoD,EAAW,CACd,IAAMg7D,EAASh7D,EAAUqK,YACnBd,EAAiByxD,EAAO,GAAGzxD,eAE3B4nF,EAAY,IAAI9+F,SAAS2R,IAAImF,MAAMI,GACzC4nF,EAAUx2C,SAASpxC,EAAgB,GACnC4nF,EAAUr2C,OAAOvxC,EAAgB,GAEjC,IAAMmH,EAAkB1Q,EAAU2Q,qBAElC,GAAID,GAAiD,QAA9BA,EAAgBnG,UAAqB,CAC3D,IAAM6mF,EAASpxF,EAAU06D,YACrB02B,GACHA,EAAOx2C,kBAGR56C,EAAUw3D,aAAa,CAAC25B,IAExBzgF,EAAgBvQ,a,UAMLu2D,G,uUC5Bf,O,OACA,O,OACA,O,OAEA,O,OACA,Q,OACA,Q,6nBASM26B,E,YAoDL,WAAYvhG,GAAO,yEACZA,IADY,SAwOnBwhG,uBAAyB,WACxB,IAAMziG,EAAS,EAAKmB,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAOqE,SAxOP,EAAKR,MAAQ,CACZyoD,QAAQ,GAJS,E,6DAeC,WACbtsD,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAO2M,GAAG,oBAAqB9K,KAAK6gG,qBAAsB7gG,MAC1D7B,EAAO2M,GAAG,kBAAmB9K,KAAK8gG,mBAAoB9gG,MACtD7B,EAAO2M,GAAG,MAAO9K,KAAK+gG,aAAc/gG,MAUpCA,KAAKghG,mBAAqB,SAAAv+F,GACzB,EAAKw+F,aAAax+F,EAAME,SAGzB3C,KAAKkhG,iBAAmBv/F,SAAS+L,MAAMu4D,UACtC,SAAA0J,GACC,EAAKsxB,aAAaj+F,SAASC,iBAE5BjD,KAAKZ,MAAMomE,YACXxlE,MAGDgD,SAASob,iBAAiB,YAAape,KAAKghG,oBAC5Ch+F,SAASob,iBAAiB,UAAWpe,KAAKkhG,oB,yCAYxBC,EAAWC,GAC7B,IAAM/7F,EAAUC,UAASC,YAAYvF,MAE/B7B,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEnCyI,GACHlH,EAAOwB,KAAK,aAAc,CACzBowE,QAAS/vE,KAAKqhG,6BAA6Bh8F,KAI7ClH,EAAOwB,KAAK,eAAgB,CAC3BwhG,YACAC,YACAhiG,MAAOY,KAAKZ,MACZ4C,MAAOhC,KAAKgC,U,6CAISs/F,GAWtB,OAVKthG,KAAKuhG,uBACTvhG,KAAKuhG,qBAAuB,IAGxBvhG,KAAKuhG,qBAAqBD,KAC9BthG,KAAKuhG,qBAAqBD,GAAc,IAAI3/F,SAASy9E,SACpDp/E,KAAKwhG,kBAAkBF,KAIlBthG,KAAKuhG,qBAAqBD,K,wCAkBjC,OACCthG,KAAKZ,MAAMqiG,aAAe,CACzBC,UAAW94F,YAAYe,QAAQg4F,oBAC/BC,WAAYh5F,YAAYe,QAAQk4F,qBAChCC,aAAcl5F,YAAYe,QAAQo4F,0B,mDAeR18F,GAC5B,IAAM28F,EAAmB38F,EAAQI,iBAAiB,oBAElD,GAAKu8F,EAAiBn/F,OAEf,CACN,IAAMo/F,EAAet8F,MAAMhI,UAAUiI,MACnC1J,KAAK8lG,GACL95F,KAAI,SAAAwf,GACJ,OAAOA,EAAQ1hB,aAAa,iBAGxBs7F,EACmB,IAAxBW,EAAap/F,OAAe,aAAe,eAE5C,OAAO7C,KAAKkiG,uBAAuBZ,GAAY3yB,OAAO,CACrDvL,SAAU6+B,EACRvmF,KAAK,KACL2P,QAAQ,YAAa,aAdxB,OAAOrrB,KAAKwhG,kBAAkBE,Y,6CA2B3B1hG,KAAKghG,oBACRh+F,SAASi5E,oBAAoB,YAAaj8E,KAAKghG,oBAG5ChhG,KAAKkhG,mBACRlhG,KAAKkhG,iBAAiB56B,SACtBtjE,SAASi5E,oBAAoB,UAAWj8E,KAAKkhG,qB,+BAatC,WACR,GAAIlhG,KAAKgC,MAAMyoD,OACd,OAAO,KAGR,IAAI2Y,EAAW3mE,OAAOqH,KAAK9D,KAAKZ,MAAMgkE,UAAUl7D,KAAI,SAAAwf,GACnD,OAAO9e,YAAYoD,SAAS0b,IAAY1e,OAAO0e,MAmBhD,OAhBA07C,EAAWpjE,KAAK4X,gBAAgBwrD,GAAUl7D,KAAI,SAAAwf,GAC7C,IAAMtoB,EAAQ,EAAK0Y,oBAClB,CACCxZ,OAAQ,EAAKc,MAAMgkE,SAAS17C,EAAQpqB,KACpCa,OAAQ,EAAKmB,QAAQnB,OACrB0V,YAAa,EAAK7R,MAAM6R,YACxBvW,IAAKoqB,EAAQpqB,IACbsG,UAAW,EAAKg9F,uBAChB9sF,cAAe,EAAK9R,MAAM8R,eAE3B4T,EAAQpqB,KAGT,OAAOwB,UAAMmZ,cAAcyP,EAAStoB,MAIpC,+BAAKpB,UAAU,cAAcoJ,UAAWpH,KAAKsD,WAC3C8/D,K,yCAceuM,GAClB,IAAMxxE,EAAS6B,KAAKV,QAAQnB,OAAOvB,IAAI,gBAEvCuB,EAAOqE,QAEPxC,KAAKgO,SAAS,CACbI,cAAe,KACf0F,cAAe3V,EAAO4rE,uB,2CA4BHtnE,GACpBzC,KAAKgO,SAAS,CACb6F,YAAapR,EACbgoD,QAAQ,EACRr8C,cAAe,KACf0F,cAAerR,EAAMhD,KAAKqU,kB,mCAYfrR,GACZ,IAAMsR,EAActR,EAAMhD,KAAK0iG,SAASrtF,EAEpCf,EAAY40B,QAAkC,MAAxB50B,EAAY1P,SACrCrE,KAAKwC,U,mCAcMG,GACZ,IAAM0C,EAAUC,UAASC,YAAYvF,MAErC,GAAIqF,EAAS,CACZ,IAAMoD,EAAWzI,KAAKV,QAAQnB,OAAOvB,IAAI,gBAAgB6L,WACnDuyB,EAAar4B,EAAOq4B,WACpBonE,EAAa,IAAIzgG,SAAS2R,IAAI5K,KAAK/F,GAEzC,GAAK8F,EAIE,CACN,IAAIgO,EACHhO,EAASqM,IAAMnS,GACf8F,EAASgR,SAAS2oF,IAClB,IAAIzgG,SAAS2R,IAAI1O,QAAQS,GAASoU,SAAS2oF,GAExCpnE,IACHvkB,EAAMA,GAAyB,aAAlBukB,EAAWnzB,IAGpB4O,GACJzW,KAAKgO,SAAS,CACby8C,QAAQ,SAfVzqD,KAAKgO,SAAS,CACby8C,QAAQ,S,GAzVI3rD,UAAMG,WAAjB0hG,EACE/gG,YAAcf,UADhB8hG,EAWEn5F,aAAe,CACrBhD,UAAU,EACVgB,YAAa,uBACbggE,YAAa,EACb1hE,KAAM,CACLW,KAAM,IAhBHk8F,EAoBE16E,UAAY,CAWlBw7E,YAAav7E,UAAUzoB,OASvB+nE,YAAat/C,UAAUmjB,OASvB+5B,SAAUl9C,UAAUzoB,OAAO02D,Y,WAgVd,cAAgB,aAAmBwsC,K,8EChZlD,Y,OACA,O,OACA,Q,0DAQA,SAASr4F,EAAKhK,GACbgK,EAAKiQ,WAAWD,YAAYpc,KAAK8D,KAAM1B,GAEvC0B,KAAK+qE,KAAKzsE,IAGX,aAAOgK,EAAMoD,UAAW,CAUvBq/D,KAVuB,SAUlBzsE,GACJ0B,KAAKqiG,WAAW,cAAe/jG,IAUhC4/C,QArBuB,WAsBtBl+C,KAAKqiG,WAAW,eAajBA,WAnCuB,SAmCZC,EAAKp7E,GACf,IAAImwC,EAAM,GAENme,EAAOx1E,KAAKsY,YAEhB,MAAOk9D,EACF11E,UAAKC,WAAWy1E,EAAK73E,UAAU2kG,KAClCjrC,EAAIpxD,KAAKuvE,EAAK73E,UAAU2kG,IAGzB9sB,EAAOA,EAAKj9D,WAAai9D,EAAKj9D,WAAWD,YAAc,KAGxD++C,EAAMA,EAAI0e,UAEV7uD,EAAOpnB,UAAKI,QAAQgnB,GAAQA,EAAO,CAACA,GAEpC,IAAK,IAAInrB,EAAI,EAAGA,EAAIs7D,EAAIx0D,OAAQ9G,IAAK,CACpC,IAAM+J,EAAOuxD,EAAIt7D,GAEjB+J,EAAKwd,MAAMtjB,KAAMknB,O,UAKL5e,G,cCjFfxM,EAAOD,QAAU","file":"alloy-editor-no-ckeditor-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 45);\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\nexport default function ButtonIcon({className = '', symbol}) {\n\treturn (\n\t\t<EditorContext.Consumer>\n\t\t\t{({editor}) => {\n\t\t\t\tconst nativeEditor = editor.get('nativeEditor');\n\t\t\t\tconst spritemap = nativeEditor.config.spritemap || '';\n\t\t\t\tconst path = `${spritemap}#${symbol}`;\n\t\t\t\tconst classNamePrefix = className ? ` ${className}` : '';\n\t\t\t\tconst combinedClassName = `ae-svg-icon${classNamePrefix}`;\n\n\t\t\t\treturn (\n\t\t\t\t\t<svg className={combinedClassName} height=\"18\" width=\"18\">\n\t\t\t\t\t\t<use href={path} />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EditorContext.Consumer>\n\t);\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\n/**\n * React context to avoid explicitly passing the editor instance all\n * through the component hierarchy via props.\n */\nconst EditorContext = React.createContext({});\n\n/**\n * Helper that passes the editor context in via a prop.\n *\n * Context can only be accessed in `render()` and in lifecycle methods\n * (`componentDidMount()` etc). If a component needs to access context\n * elsewhere, such as in a constructor, the context needs to be passed\n * in via a prop.\n */\nEditorContext.toProps = Component => {\n\tconst forwardingComponent = React.forwardRef((props, ref) => (\n\t\t<EditorContext.Consumer>\n\t\t\t{context => <Component {...props} context={context} ref={ref} />}\n\t\t</EditorContext.Consumer>\n\t));\n\tforwardingComponent.key = Component.key;\n\treturn forwardingComponent;\n};\n\nexport default EditorContext;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCommand is a mixin that executes a command via CKEDITOR's API.\n *\n * @class ButtonCommand\n */\nexport default WrappedComponent =>\n\tclass ButtonCommand extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Executes a CKEditor command and fires `actionPerformed` event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.\n\t\t * @method execCommand\n\t\t */\n\t\texecCommand = data => {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\teditor.execCommand(this.props.command, data);\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStateClasses is a mixin that decorates the domElement of a component\n * with different CSS classes based on the current state of the element.\n *\n * To check for state, the component can expose the following methods:\n * - `Function` **isActive** to check the active state\n *\n * @class ButtonStateClasses\n */\nexport default WrappedComponent =>\n\tclass ButtonStateClasses extends WrappedComponent {\n\t\t/**\n\t\t * Returns the list of state classes associated to the current element's state, according\n\t\t * to the results of the isActive method.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStateClasses\n\t\t * @method getStateClasses\n\t\t * @return {String} A string with the state CSS classes.\n\t\t */\n\t\tgetStateClasses() {\n\t\t\tlet stateClasses = '';\n\n\t\t\t// Check for active state\n\t\t\tif (Lang.isFunction(this.isActive) && this.isActive()) {\n\t\t\t\tstateClasses += 'ae-button-pressed';\n\t\t\t}\n\n\t\t\treturn stateClasses;\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Provides core language utilities.\n *\n * @class Lang\n */\nconst Lang = {\n\t/**\n\t * Check if the passed value is an array.\n\t *\n\t * @memberof Lang\n\t * @method isArray\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an array, false otherwise.\n\t * @static\n\t */\n\tisArray(value) {\n\t\treturn Object.prototype.toString.call(value) === '[object Array]';\n\t},\n\n\t/**\n\t * Check if the passed value is boolean.\n\t *\n\t * @memberof Lang\n\t * @method isBoolean\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is boolean, false otherwise.\n\t * @static\n\t */\n\tisBoolean(value) {\n\t\treturn typeof value === 'boolean';\n\t},\n\n\t/**\n\t * Check if the passed value is a function.\n\t *\n\t * @memberof Lang\n\t * @method isFunction\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a function, false otherwise.\n\t * @static\n\t */\n\tisFunction(value) {\n\t\treturn typeof value === 'function';\n\t},\n\n\t/**\n\t * Check if the passed value is NULL.\n\t *\n\t * @memberof Lang\n\t * @method isNull\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is NULL, false otherwise.\n\t * @static\n\t */\n\tisNull(value) {\n\t\treturn value === null;\n\t},\n\n\t/**\n\t * Check if the passed value is number.\n\t *\n\t * @memberof Lang\n\t * @method isNumber\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is number, false otherwise.\n\t * @static\n\t */\n\tisNumber(value) {\n\t\treturn typeof value === 'number' && isFinite(value);\n\t},\n\n\t/**\n\t * Check if the passed value is an object\n\t *\n\t * @memberof Lang\n\t * @method isObject\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an object, false otherwise.\n\t * @static\n\t */\n\tisObject(value) {\n\t\tconst valueType = typeof value;\n\n\t\treturn value && (valueType === 'object' || Lang.isFunction(value));\n\t},\n\n\t/**\n\t * Check if the passed value is a string.\n\t *\n\t * @memberof Lang\n\t * @method isString\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a string, false otherwise.\n\t * @static\n\t */\n\tisString(value) {\n\t\treturn typeof value === 'string';\n\t},\n\n\t/**\n\t * Adds all properties from the supplier to the receiver.\n\t * The function will add all properties, not only these owned by the supplier.\n\t *\n\t * @memberof Lang\n\t * @method mix\n\t * @param {Object} receiver The object which will receive properties.\n\t * @param {Object} supplier The object which provides properties.\n\t * @return {Object} The modified receiver.\n\t * @static\n\t */\n\tmix(receiver, supplier) {\n\t\tconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\tfor (const key in supplier) {\n\t\t\tif (hasOwnProperty.call(supplier, key)) {\n\t\t\t\treceiver[key] = supplier[key];\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Converts value to Integer.\n\t *\n\t * @memberof Lang\n\t * @method toInt\n\t * @param {Any} value The value which have to be converted to Integer.\n\t * @return {Integer} The converted value.\n\t * @static\n\t */\n\ttoInt(value) {\n\t\treturn parseInt(value, 10);\n\t},\n};\n\nexport default Lang;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonStyle\n */\nexport default WrappedComponent =>\n\tclass ButtonStyle extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tlet style = this.props.style;\n\n\t\t\tif (Lang.isString(style)) {\n\t\t\t\tconst parts = style.split('.');\n\t\t\t\tlet currentMember = this.context.editor.get('nativeEditor')\n\t\t\t\t\t.config;\n\t\t\t\tlet property = parts.shift();\n\n\t\t\t\twhile (\n\t\t\t\t\tproperty &&\n\t\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t\t) {\n\t\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\t\tproperty = parts.shift();\n\t\t\t\t}\n\n\t\t\t\tif (Lang.isObject(currentMember)) {\n\t\t\t\t\tstyle = currentMember;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._style = new CKEDITOR.style(style);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis._style = null;\n\t\t}\n\n\t\t/**\n\t\t * Returns instance of CKEDITOR.style which represents the current button style.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method getStyle\n\t\t * @return {CKEDITOR.style} The current style representation.\n\t\t */\n\t\tgetStyle() {\n\t\t\treturn this._style;\n\t\t}\n\n\t\t/**\n\t\t * Checks if style is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method isActive\n\t\t * @return {Boolean} True if style is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\t\tconst elementPath = editor.elementPath();\n\t\t\treturn this.getStyle().checkActive(elementPath, editor);\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCommandActive is a mixin that provides an `isActive` method to determine if\n * a context-aware command is currently in an active state.\n *\n * @class ButtonCommandActive\n */\nexport default WrappedComponent =>\n\tclass ButtonCommandActive extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Checks if the command is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommandActive\n\t\t * @method isActive\n\t\t * @return {Boolean} True if the command is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tconst command = editor.getCommand(this.props.command);\n\n\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\nimport Lang from '../../oop/lang';\n\nconst DIRECTION_NONE = 0;\nconst DIRECTION_NEXT = 1;\nconst DIRECTION_PREV = -1;\n\nconst ACTION_NONE = 0;\nconst ACTION_MOVE_FOCUS = 1;\nconst ACTION_DISMISS_FOCUS = 2;\n\n/**\n * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,\n * it exposes the following props and methods:\n *\n * @class WidgetFocusManager\n */\nexport default WrappedComponent =>\n\tclass WidgetFocusManager extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidMount\n\t\t */\n\t\tcomponentDidMount() {\n\t\t\tif (Lang.isFunction(super.componentDidMount)) {\n\t\t\t\tsuper.componentDidMount();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t\t * Refreshes the descendants list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidUpdate\n\t\t */\n\t\tcomponentDidUpdate() {\n\t\t\tif (Lang.isFunction(super.componentDidUpdate)) {\n\t\t\t\tsuper.componentDidUpdate();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Focuses the current active descendant.\n\t\t *\n\t\t * Several Widgets can be nested in a component hierarchy by attaching this focus method to\n\t\t * the widget DOM node, transferring the DOM focus control to the inner FocusManager.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method focus\n\t\t */\n\t\tfocus = event => {\n\t\t\tif (!event || this._isValidTarget(event.target)) {\n\t\t\t\tif (this._descendants && this._descendants.length) {\n\t\t\t\t\tconst activeDescendantEl = this._descendants[\n\t\t\t\t\t\tthis._activeDescendant\n\t\t\t\t\t];\n\t\t\t\t\t// When user clicks with the mouse, the activeElement is already set and there\n\t\t\t\t\t// is no need to focus it. Focusing of the active descendant (usually some button) is required\n\t\t\t\t\t// in case of keyboard navigation, because the focused element might be not the first button,\n\t\t\t\t\t// but the div element, which contains the button.\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.activeElement !== activeDescendantEl &&\n\t\t\t\t\t\t!this.props.focusFirstChild\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis._descendants.indexOf(\n\t\t\t\t\t\t\t\tdocument.activeElement\n\t\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tactiveDescendantEl.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Handles the key events on a DOM node to execute the appropriate navigation when needed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @param {Object} event The Keyboard event that was detected on the widget DOM node.\n\t\t * @method handleKey\n\t\t */\n\t\thandleKey = event => {\n\t\t\tif (this._isValidTarget(event.target) && this._descendants) {\n\t\t\t\tconst action = this._getFocusAction(event);\n\n\t\t\t\tif (action.type) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif (action.type === ACTION_MOVE_FOCUS) {\n\t\t\t\t\t\tthis._moveFocus(action.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (action.type === ACTION_DISMISS_FOCUS) {\n\t\t\t\t\t\tthis.props.onDismiss(action.direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t */\n\t\tmoveFocus(direction) {\n\t\t\tdirection = Lang.isNumber(direction) ? direction : 0;\n\n\t\t\tthis._moveFocus(direction);\n\t\t}\n\n\t\t/**\n\t\t * Returns the action, if any, that a keyboard event in the current focus manager state\n\t\t * should produce.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusAction\n\t\t * @param {object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} An action object with type and direction properties.\n\t\t */\n\t\t_getFocusAction(event) {\n\t\t\tconst action = {\n\t\t\t\ttype: ACTION_NONE,\n\t\t\t};\n\n\t\t\tif (this.props.keys) {\n\t\t\t\tconst direction = this._getFocusMoveDirection(event);\n\n\t\t\t\tif (direction) {\n\t\t\t\t\taction.direction = direction;\n\t\t\t\t\taction.type = ACTION_MOVE_FOCUS;\n\t\t\t\t}\n\n\t\t\t\tconst dismissAction = this._getFocusDismissAction(\n\t\t\t\t\tevent,\n\t\t\t\t\tdirection\n\t\t\t\t);\n\n\t\t\t\tif (dismissAction.dismiss) {\n\t\t\t\t\taction.direction = dismissAction.direction;\n\t\t\t\t\taction.type = ACTION_DISMISS_FOCUS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn action;\n\t\t}\n\n\t\t/**\n\t\t * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This\n\t\t * will happen in any of these scenarios if a dismiss callback has been specified:\n\t\t * - A dismiss key has been pressed\n\t\t * - In a non-circular focus manager, when:\n\t\t *     - The active descendant is the first one and a prev key has been pressed.\n\t\t *     - The active descendant is the last one and a next key has been pressed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusDismissAction\n\t\t * @param {Number} focusMoveDirection The focus movement direction (if any).\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} A dismiss action with dismiss and direction properties.\n\t\t */\n\t\t_getFocusDismissAction(event, focusMoveDirection) {\n\t\t\tconst dismissAction = {\n\t\t\t\tdirection: focusMoveDirection,\n\t\t\t\tdismiss: false,\n\t\t\t};\n\n\t\t\tif (this.props.onDismiss) {\n\t\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissNext)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_NEXT;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissPrev)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_PREV;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!dismissAction.dismiss &&\n\t\t\t\t\t!this.props.circular &&\n\t\t\t\t\tfocusMoveDirection\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss =\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_PREV &&\n\t\t\t\t\t\t\tthis._activeDescendant === 0) ||\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_NEXT &&\n\t\t\t\t\t\t\tthis._activeDescendant ===\n\t\t\t\t\t\t\t\tthis._descendants.length - 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn dismissAction;\n\t\t}\n\n\t\t/**\n\t\t * Returns the direction, if any, in which the focus should be moved. In presence of the\n\t\t * shift key modifier, the direction of the movement is inverted.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusMoveDirection\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Number} The computed direction of the expected focus movement.\n\t\t */\n\t\t_getFocusMoveDirection(event) {\n\t\t\tlet direction = DIRECTION_NONE;\n\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.next)) {\n\t\t\t\tdirection = DIRECTION_NEXT;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.prev)) {\n\t\t\t\tdirection = DIRECTION_PREV;\n\t\t\t}\n\n\t\t\tif (event.shifKey) {\n\t\t\t\tdirection *= -1;\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given keyCode is valid for the given set of keys.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.\n\t\t * @param {Number} keyCode An event keyCode.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the key is valid.\n\t\t */\n\t\t_isValidKey(keyCode, keys) {\n\t\t\treturn Lang.isArray(keys)\n\t\t\t\t? keys.indexOf(keyCode) !== -1\n\t\t\t\t: keyCode === keys;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given element is valid for focus management. User input elements such as\n\t\t * input, select or textarea are excluded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {DOMNode} element A DOM element.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the element is valid.\n\t\t */\n\t\t_isValidTarget(element) {\n\t\t\tconst tagName = element.tagName.toLowerCase();\n\n\t\t\treturn (\n\t\t\t\ttagName !== 'input' &&\n\t\t\t\ttagName !== 'select' &&\n\t\t\t\ttagName !== 'textarea'\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t * @protected\n\t\t */\n\t\t_moveFocus(direction) {\n\t\t\tconst numDescendants = this._descendants.length;\n\n\t\t\tlet descendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', -1);\n\n\t\t\tthis._activeDescendant += direction;\n\n\t\t\tif (this.props.circular) {\n\t\t\t\t// Calculate proper modulo result since remainder operator doesn't behave in the\n\t\t\t\t// same way for negative numbers\n\t\t\t\tthis._activeDescendant =\n\t\t\t\t\t((this._activeDescendant % numDescendants) +\n\t\t\t\t\t\tnumDescendants) %\n\t\t\t\t\tnumDescendants;\n\t\t\t} else {\n\t\t\t\tthis._activeDescendant = Math.max(\n\t\t\t\t\tMath.min(this._activeDescendant, numDescendants - 1),\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tdescendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', 0);\n\t\t\tdescendant.focus();\n\t\t}\n\n\t\t/**\n\t\t * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _refresh\n\t\t * @protected\n\t\t */\n\t\t_refresh() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tconst descendants = domNode.querySelectorAll(\n\t\t\t\t\tthis.props.descendants\n\t\t\t\t);\n\n\t\t\t\tlet priorityDescendants = [];\n\n\t\t\t\tthis._descendants = [];\n\n\t\t\t\tArray.prototype.slice.call(descendants).forEach(item => {\n\t\t\t\t\tconst dataTabIndex = item.getAttribute('data-tabindex');\n\n\t\t\t\t\tif (dataTabIndex) {\n\t\t\t\t\t\tpriorityDescendants.push(item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._descendants.push(item);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tpriorityDescendants = priorityDescendants.sort((a, b) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tLang.toInt(a.getAttribute('data-tabindex')) >\n\t\t\t\t\t\tLang.toInt(b.getAttribute('data-tabindex'))\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\tthis._descendants = priorityDescendants.concat(\n\t\t\t\t\tthis._descendants\n\t\t\t\t);\n\n\t\t\t\tthis._activeDescendant = 0;\n\n\t\t\t\tthis._descendants.some((item, index) => {\n\t\t\t\t\tif (item.getAttribute('tabindex') === '0') {\n\t\t\t\t\t\tthis._activeDescendant = index;\n\t\t\t\t\t\tthis.focus();\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring\n * a function of the instance to be invoked upon the keystroke activation.\n *\n * @class ButtonKeystroke\n */\nexport default WrappedComponent =>\n\tclass ButtonKeystroke extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst keystroke = this.props.keystroke;\n\n\t\t\tconst commandName = `keystroke:${keystroke.name}`;\n\n\t\t\tlet command = nativeEditor.getCommand(commandName);\n\n\t\t\tif (!command) {\n\t\t\t\tcommand = new CKEDITOR.command(nativeEditor, {\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tconst keystrokeFn = keystroke.fn;\n\n\t\t\t\t\t\tif (Lang.isString(keystrokeFn)) {\n\t\t\t\t\t\t\tthis[keystrokeFn].call(this, editor);\n\t\t\t\t\t\t} else if (Lang.isFunction(keystrokeFn)) {\n\t\t\t\t\t\t\tkeystrokeFn.call(this, editor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this),\n\t\t\t\t});\n\n\t\t\t\tnativeEditor.addCommand(commandName, command);\n\t\t\t}\n\n\t\t\tthis._defaultKeystrokeCommand =\n\t\t\t\tnativeEditor.keystrokeHandler.keystrokes[keystroke.keys];\n\n\t\t\tnativeEditor.setKeystroke(keystroke.keys, commandName);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis.context.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.setKeystroke(\n\t\t\t\t\tthis.props.keystroke.keys,\n\t\t\t\t\tthis._defaultKeystrokeCommand\n\t\t\t\t);\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown\n * opened from a button.\n *\n * @class ButtonDropdown\n */\nclass ButtonDropdown extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the dropdown in the configuration.\n\t *\n\t * @default dropdown\n\t * @memberof ButtonDropdown\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'dropdown';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-arrow-box ae-arrow-box-top-left ae-dropdown\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul className=\"ae-listbox\" role=\"listbox\">\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WidgetFocusManager(ButtonDropdown);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\n\n/**\n * The ButtonCommandsList class provides functionality for showing a list of commands that can be\n * executed to the current selection..\n *\n * @class ButtonCommandsList\n * @uses WidgetFocusManager\n */\nclass ButtonCommandsList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandsList\n\t * @memberof ButtonCommandsList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandsList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._ref = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._ref.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-arrow-box ae-arrow-box-top-left ae-dropdown\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\tref={this._ref}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"ae-listbox\"\n\t\t\t\t\tid={this.props.listId}\n\t\t\t\t\trole=\"listbox\">\n\t\t\t\t\t{this._renderActions(this.props.commands)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method _renderActions\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonCommandListItem class\n\t */\n\t_renderActions(commands) {\n\t\tlet items;\n\n\t\tif (commands && commands.length) {\n\t\t\titems = commands.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.command} role=\"option\">\n\t\t\t\t\t\t<ButtonCommandListItem\n\t\t\t\t\t\t\tcommand={item.command}\n\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\ttypeof item.label === 'string'\n\t\t\t\t\t\t\t\t\t? item.label\n\t\t\t\t\t\t\t\t\t: item.label()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticon={item.icon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonCommandsList);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport * as Base from '../components/base';\nimport Buttons from '../components/buttons';\nimport * as Compat from '../components/compat';\nimport Toolbars from '../components/toolbars';\nimport Attribute from '../oop/attribute';\nimport Lang from '../oop/lang';\nimport extend from '../oop/oop';\nimport SelectionGetArrowBoxClasses from '../selections/selection-arrowbox';\nimport SelectionSetPosition from '../selections/selection-position';\nimport SelectionTest from '../selections/selection-test';\nimport Selections from '../selections/selections';\nimport Core from './core';\n\nimport '../plugins';\n\n// An object containing all currently registered plugins in AlloyEditor.\nconst BRIDGE_BUTTONS = {};\n\n/**\n * Creates an instance of AlloyEditor.\n *\n * @memberof AlloyEditor\n * @method editable\n * @static\n * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n * @param {Object} config Configuration attributes for the current instance of AlloyEditor.\n * @return {Object} An instance of {{#crossLink \"Core\"}}{{/crossLink}}\n */\nconst editable = function(node, config) {\n\tconfig = config || {};\n\tconfig.srcNode = node;\n\n\tAlloyEditor.implementEventTarget();\n\n\treturn new Core(config);\n};\n\n/**\n * The full URL for the AlloyEditor installation directory.\n * It is possible to manually provide the base path by setting a\n * global variable named `ALLOYEDITOR_BASEPATH`. This global variable\n * must be set **before** the editor script loading.\n *\n * @memberof AlloyEditor\n * @method getBasePath\n * @static\n * @return {String} The found base path\n */\nconst getBasePath = function() {\n\t// Find out the editor directory path, based on its <script> tag.\n\tlet path = window.ALLOYEDITOR_BASEPATH || '';\n\n\tif (!path) {\n\t\tconst scripts = document.getElementsByTagName('script');\n\n\t\tfor (let i = 0; i < scripts.length; i++) {\n\t\t\tconst match = scripts[i].src.match(AlloyEditor.regexBasePath);\n\n\t\t\tif (match) {\n\t\t\t\tpath = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// In IE (only) the script.src string is the raw value entered in the\n\t// HTML source. Other browsers return the full resolved URL instead.\n\tif (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {\n\t\t// Absolute path.\n\t\tif (path.indexOf('/') === 0) {\n\t\t\tpath = location.href.match(/^.*?:\\/\\/[^/]*/)[0] + path;\n\t\t}\n\t\t// Relative path.\n\t\telse {\n\t\t\tpath = location.href.match(/^[^?]*\\/(?:)/)[0] + path;\n\t\t}\n\t}\n\n\tif (!path) {\n\t\tthrow new Error(\n\t\t\t'The AlloyEditor installation path could not be automatically detected. Please set the global variable \"ALLOYEDITOR_BASEPATH\" before creating editor instances.'\n\t\t);\n\t}\n\n\treturn path;\n};\n\n/**\n * Detects and load the corresponding language file if AlloyEditor language strings are not already present.\n * The function fires a {{#crossLink \"AlloyEditor/languageResourcesLoaded:event\"}}{{/crossLink}} event\n *\n * @memberof AlloyEditor\n * @method loadLanguageResources\n * @static\n * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.\n */\nconst loadLanguageResources = function(callback) {\n\tAlloyEditor.implementEventTarget();\n\n\tif (Lang.isFunction(callback)) {\n\t\tif (AlloyEditor.Strings) {\n\t\t\tsetTimeout(callback, 0);\n\t\t} else {\n\t\t\tAlloyEditor.once('languageResourcesLoaded', () => {\n\t\t\t\tsetTimeout(callback, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!AlloyEditor._langResourceRequested) {\n\t\tAlloyEditor._langResourceRequested = true;\n\n\t\tconst languages = [\n\t\t\t'af',\n\t\t\t'ar',\n\t\t\t'bg',\n\t\t\t'bn',\n\t\t\t'bs',\n\t\t\t'ca',\n\t\t\t'cs',\n\t\t\t'cy',\n\t\t\t'da',\n\t\t\t'de',\n\t\t\t'el',\n\t\t\t'en-au',\n\t\t\t'en-ca',\n\t\t\t'en-gb',\n\t\t\t'en',\n\t\t\t'eo',\n\t\t\t'es',\n\t\t\t'et',\n\t\t\t'eu',\n\t\t\t'fa',\n\t\t\t'fi',\n\t\t\t'fo',\n\t\t\t'fr-ca',\n\t\t\t'fr',\n\t\t\t'gl',\n\t\t\t'gu',\n\t\t\t'he',\n\t\t\t'hi',\n\t\t\t'hr',\n\t\t\t'hu',\n\t\t\t'id',\n\t\t\t'is',\n\t\t\t'it',\n\t\t\t'ja',\n\t\t\t'ka',\n\t\t\t'km',\n\t\t\t'ko',\n\t\t\t'ku',\n\t\t\t'lt',\n\t\t\t'lv',\n\t\t\t'mk',\n\t\t\t'mn',\n\t\t\t'ms',\n\t\t\t'nb',\n\t\t\t'nl',\n\t\t\t'no',\n\t\t\t'pl',\n\t\t\t'pt-br',\n\t\t\t'pt',\n\t\t\t'ro',\n\t\t\t'ru',\n\t\t\t'si',\n\t\t\t'sk',\n\t\t\t'sl',\n\t\t\t'sq',\n\t\t\t'sr-latn',\n\t\t\t'sr',\n\t\t\t'sv',\n\t\t\t'th',\n\t\t\t'tr',\n\t\t\t'tt',\n\t\t\t'ug',\n\t\t\t'uk',\n\t\t\t'vi',\n\t\t\t'zh-cn',\n\t\t\t'zh',\n\t\t];\n\n\t\tconst userLanguage =\n\t\t\tnavigator.language || navigator.userLanguage || 'en';\n\n\t\tconst parts = userLanguage\n\t\t\t.toLowerCase()\n\t\t\t.match(/([a-z]+)(?:-([a-z]+))?/);\n\t\tlet lang = parts[1];\n\t\tconst locale = parts[2];\n\n\t\tif (languages.indexOf(lang + '-' + locale) >= 0) {\n\t\t\tlang = lang + '-' + locale;\n\t\t} else if (languages.indexOf(lang) === -1) {\n\t\t\tlang = 'en';\n\t\t}\n\n\t\tCKEDITOR.scriptLoader.load(\n\t\t\tAlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'),\n\t\t\tloaded => {\n\t\t\t\tif (loaded) {\n\t\t\t\t\tAlloyEditor.fire('languageResourcesLoaded');\n\t\t\t\t}\n\t\t\t},\n\t\t\t/* eslint-disable no-invalid-this */\n\t\t\tthis // Always `AlloyEditor`.\n\t\t\t/* eslint-enable no-invalid-this */\n\t\t);\n\t}\n};\n\n/**\n * Gets the full URL for AlloyEditor resources. By default, URLs\n * returned by this function contain a querystring parameter (\"t\")\n * set to the {@link CKEDITOR#timestamp} value.\n *\n * @memberof AlloyEditor\n * @method getUrl\n * @static\n * @param {String} resource The resource whose full URL we want to get.\n * It may be a full, absolute, or relative URL.\n * @return {String} The full URL.\n */\nconst getUrl = function(resource) {\n\tconst basePath = AlloyEditor.getBasePath();\n\n\t// If this is not a full or absolute path.\n\tif (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {\n\t\tresource = basePath + resource;\n\t}\n\n\t// Add the timestamp, except for directories.\n\tif (\n\t\tCKEDITOR.timestamp &&\n\t\tresource.charAt(resource.length - 1) !== '/' &&\n\t\t!/[&?]t=/.test(resource)\n\t) {\n\t\tresource +=\n\t\t\t(resource.indexOf('?') >= 0 ? '&' : '?') +\n\t\t\t't=' +\n\t\t\tCKEDITOR.timestamp;\n\t}\n\n\treturn resource;\n};\n\n/**\n * Implements event firing and subscribing via CKEDITOR.event.\n *\n * @memberof AlloyEditor\n * @method implementEventTarget\n * @static\n */\nconst implementEventTarget = function() {\n\tif (!AlloyEditor.fire && !AlloyEditor.on) {\n\t\tCKEDITOR.event.implementOn(AlloyEditor);\n\t}\n};\n\n/**\n * Regular expression which should match the script which have been used to load AlloyEditor.\n *\n * @memberof AlloyEditor\n * @property regexBasePath\n * @type {RegExp}\n * @static\n */\nconst regexBasePath = /(^|.*[\\\\/])(?:alloy-editor[^/]+|alloy-editor)\\.js(?:\\?.*|;.*)?$/i;\n\n/**\n * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event\n * is fired, AlloyEditor.Strings will be populated with data.\n *\n * @event languageResourcesLoaded\n */\n\n/**\n * Returns the required plugin names needed for a given plugin\n * if it is already registered or an empty array.\n *\n * @memberof AlloyEditor\n * @method getButtons\n * @param {Array} buttons An array of buttons or plugin names.\n * @return {Function} A function that can be invoked to resolve the requested button names.\n * @static\n */\nconst getButtons = function(buttons) {\n\treturn function() {\n\t\treturn buttons.reduce((acc, val) => {\n\t\t\tval = BRIDGE_BUTTONS[val] || [val];\n\t\t\treturn acc.concat(val);\n\t\t}, []);\n\t};\n};\n\n/**\n * Register a button and try to get its required plugins.\n *\n * @memberof AlloyEditor\n * @method registerBridgeButton\n * @param {String} buttonName The name of the button.\n * @param {String} pluginName The name of the plugin that registers the button.\n * @static\n */\nconst registerBridgeButton = function(buttonName, pluginName) {\n\tif (!BRIDGE_BUTTONS[pluginName]) {\n\t\tBRIDGE_BUTTONS[pluginName] = [];\n\t}\n\n\tBRIDGE_BUTTONS[pluginName].push(buttonName);\n};\n\n/**\n * @method OOP\n * @memberof AlloyEditor\n */\nconst OOP = {\n\textend,\n};\n\nexport {\n\tAttribute,\n\tBase,\n\tButtons,\n\tCompat,\n\tCore,\n\tLang,\n\tOOP,\n\tSelectionGetArrowBoxClasses,\n\tSelectionSetPosition,\n\tSelectionTest,\n\tSelections,\n\tToolbars,\n\teditable,\n\tgetBasePath,\n\tgetButtons,\n\tgetUrl,\n\timplementEventTarget,\n\tloadLanguageResources,\n\tregexBasePath,\n\tregisterBridgeButton,\n};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonActionStyle is a mixin that provides applying style implementation for a\n * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.\n *\n * To execute properly, the component has to expose the following methods which can be obtained\n * out of the box using the {{#crossLink \"ButtonStyle\"}}{{/crossLink}} mixin:\n * - `Function` {{#crossLink \"ButtonStyle/isActive\"}}{{/crossLink}} to check the active state\n * - `Function` {{#crossLink \"ButtonStyle/getStyle\"}}{{/crossLink}} to return the style that should be applied\n *\n * @class ButtonActionStyle\n */\nexport default WrappedComponent =>\n\tclass ButtonActionStyle extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Removes or applies the component style to the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonActionStyle\n\t\t * @method applyStyle\n\t\t */\n\t\tapplyStyle = () => {\n\t\t\tif (\n\t\t\t\tLang.isFunction(this.isActive) &&\n\t\t\t\tLang.isFunction(this.getStyle)\n\t\t\t) {\n\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\teditor.getSelection().lock();\n\n\t\t\t\tif (this.isActive()) {\n\t\t\t\t\teditor.removeStyle(this.getStyle());\n\t\t\t\t} else {\n\t\t\t\t\teditor.applyStyle(this.getStyle());\n\t\t\t\t}\n\n\t\t\t\teditor.getSelection().unlock();\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t}\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonDropdown from './button-dropdown.jsx';\nimport ButtonsStylesListHeader from './button-styles-list-header.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\n\n/**\n * The ButtonStylesList class provides functionality for showing a list of styles that can be\n * applied to the current selection..\n *\n * @class ButtonStylesList\n * @uses WidgetFocusManager\n */\nclass ButtonStylesList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowRemoveStylesItem: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @memberof ButtonStylesList\n\t * @static\n\t * @property {String} key\n\t * @default buttonStylesList\n\t */\n\tstatic key = 'buttonStylesList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tconst blockStyles = [];\n\t\tconst inlineStyles = [];\n\t\tconst objectStyles = [];\n\n\t\tthis.props.styles.forEach(item => {\n\t\t\tconst style = new CKEDITOR.style(item.style);\n\n\t\t\tif (style.type === CKEDITOR.STYLE_BLOCK) {\n\t\t\t\tblockStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_INLINE) {\n\t\t\t\tinlineStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_OBJECT) {\n\t\t\t\tobjectStyles.push(item);\n\t\t\t}\n\t\t});\n\n\t\tthis._blockStyles = blockStyles;\n\t\tthis._inlineStyles = inlineStyles;\n\t\tthis._objectStyles = objectStyles;\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet removeStylesItem;\n\n\t\tif (this.props.showRemoveStylesItem) {\n\t\t\tremoveStylesItem = (\n\t\t\t\t<ButtonStylesListItemRemove\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown {...this.props}>\n\t\t\t\t{removeStylesItem}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.blockStyles}\n\t\t\t\t\tstyles={this._blockStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._blockStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.inlineStyles}\n\t\t\t\t\tstyles={this._inlineStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._inlineStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.objectStyles}\n\t\t\t\t\tstyles={this._objectStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._objectStyles)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method _renderStylesItems\n\t * @param {Array} styles List of styles for which preview should be rendered.\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonStylesListItem class\n\t */\n\t_renderStylesItems(styles) {\n\t\tlet items;\n\n\t\tif (styles && styles.length) {\n\t\t\titems = styles.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.name} role=\"option\">\n\t\t\t\t\t\t<ButtonStylesListItem\n\t\t\t\t\t\t\tactiveStyle={this.props.activeStyle}\n\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\tstyle={item.style}\n\t\t\t\t\t\t\tstyleFn={item.styleFn}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonStylesList);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\nimport Lang from '../../oop/lang';\n\n/**\n * Provides functionality for managing different dropdowns inside a widget.\n *\n * @class WidgetDropdown\n */\nexport default WrappedComponent =>\n\tclass WidgetDropdown extends WrappedComponent {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method componentWillReceiveProps\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with two more properties:\n\t\t * - expanded - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method mergeDropdownProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to dropdown state.\n\t\t * @param {Object} itemKey They key of an React Widget which contains the dropdown.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeDropdownProps = (obj, itemKey) => {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\texpanded: this.state.itemDropdown === itemKey ? true : false,\n\t\t\t\ttabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,\n\t\t\t\ttoggleDropdown: this.toggleDropdown.bind(this, itemKey),\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Sets the active dropdown of the widget or discards the toggled item from the state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method toggleDropdown\n\t\t * @param {Object} itemDropdown The widget which requests to toggle its dropdown.\n\t\t * @param {Number} toggleDirection User movement direction when toggled via keyboard.\n\t\t */\n\t\ttoggleDropdown = (itemDropdown, toggleDirection) => {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdropdownTrigger: itemDropdown,\n\t\t\t\t\titemDropdown:\n\t\t\t\t\t\titemDropdown !== this.state.itemDropdown\n\t\t\t\t\t\t\t? itemDropdown\n\t\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tif (!this.state.itemDropdown) {\n\t\t\t\t\t\tif (this.moveFocus) {\n\t\t\t\t\t\t\tthis.moveFocus(toggleDirection);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tReactDOM.findDOMNode(this).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * Provides functionality for managing exclusive state of an widget.\n * The exclusive state means that a button may request to be the only rendered\n * widget in its parent container. WidgetExclusive will manage this state by\n * filtering and suppressing the other sibling widgets from displaying.\n *\n * @class WidgetExclusive\n */\nexport default WrappedComponent =>\n\tclass WidgetExclusive extends WrappedComponent {\n\t\t/**\n\t\t * Cancels the exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method cancelExclusive\n\t\t * @param {Object} itemExclusive The widget which exclusive state should be canceled.\n\t\t */\n\t\tcancelExclusive(itemExclusive) {\n\t\t\tif (this.state.itemExclusive === itemExclusive) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titemExclusive: null,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t * Calling this.setState() within this function will not trigger an additional render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method componentWillReceiveProps\n\t\t * @param {Object} nextProps Object containing the current set of properties.\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\t// Receiving properties means that the component is being re-rendered.\n\t\t\t// Re-rendering is triggered by editorInteraction, so we have to\n\t\t\t// reset the exclusive state and render the UI according to the new selection.\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Filters the items and returns only those with exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method filterExclusive\n\t\t * @param {Array} items The widgets to be filtered.\n\t\t * @return {Array|Object} The item with executive state.\n\t\t */\n\t\tfilterExclusive(items) {\n\t\t\treturn items.filter(item => {\n\t\t\t\tif (this.state.itemExclusive) {\n\t\t\t\t\tif (this.state.itemExclusive === item.key) {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with three more properties:\n\t\t * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.\n\t\t * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method mergeExclusiveProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to exclusive state.\n\t\t * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeExclusiveProps(obj, itemKey) {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\tcancelExclusive: this.cancelExclusive.bind(this, itemKey),\n\t\t\t\trenderExclusive: this.state.itemExclusive === itemKey,\n\t\t\t\trequestExclusive: this.requestExclusive.bind(this, itemKey),\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Requests and sets exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method requestExclusive\n\t\t * @param {Object} itemExclusive The widget which requests exclusive state.\n\t\t */\n\t\trequestExclusive = itemExclusive => {\n\t\t\tthis.setState({\n\t\t\t\titemExclusive,\n\t\t\t});\n\t\t};\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\n\n/**\n * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEdit\n * @uses WidgetDropdown\n * @uses WidgetFocusManager\n */\nclass ButtonLinkEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tappendProtocol: true,\n\t\tautocompleteUrl: '',\n\t\tcircular: true,\n\t\tcustomIndexStart: true,\n\t\tdefaultLinkTarget: '',\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowTargetSelector: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkEdit\n\t * @memberof ButtonLinkEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this._getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tthis._focusLinkInput();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this._getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet targetSelector = {\n\t\t\tallowedTargets: this.props.allowedTargets,\n\t\t\teditor: this.context.editor,\n\t\t\thandleLinkTargetChange: this._handleLinkTargetChange,\n\t\t\tselectedTarget:\n\t\t\t\tthis.state.linkTarget || AlloyEditor.Strings.linkTargetDefault,\n\t\t};\n\n\t\ttargetSelector = this.mergeDropdownProps(\n\t\t\ttargetSelector,\n\t\t\tButtonLinkTargetEdit.key\n\t\t);\n\n\t\tlet autocompleteDropdown;\n\n\t\tif (this.props.data) {\n\t\t\tlet dataFn = this.props.data;\n\n\t\t\tif (!Lang.isFunction(dataFn)) {\n\t\t\t\tconst items = this.props.data;\n\n\t\t\t\tdataFn = () => items;\n\t\t\t}\n\n\t\t\tlet autocompleteDropdownProps = {\n\t\t\t\tautocompleteSelected: this.state.autocompleteSelected,\n\t\t\t\tdata: dataFn,\n\t\t\t\teditor: this.context.editor,\n\t\t\t\thandleLinkAutocompleteClick: this._handleLinkAutocompleteClick,\n\t\t\t\tonDismiss: this.props.toggleDropdown,\n\t\t\t\tsetAutocompleteState: this._setAutocompleteState,\n\t\t\t\tterm: this.state.linkHref,\n\t\t\t};\n\n\t\t\tautocompleteDropdownProps = this.mergeDropdownProps(\n\t\t\t\tautocompleteDropdownProps,\n\t\t\t\tButtonLinkAutocompleteList.key\n\t\t\t);\n\n\t\t\tautocompleteDropdown = (\n\t\t\t\t<ButtonLinkAutocompleteList {...autocompleteDropdownProps} />\n\t\t\t);\n\t\t}\n\n\t\tlet buttonClearLink;\n\n\t\tif (this.state.linkHref) {\n\t\t\tbuttonClearLink = (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t<ButtonIcon symbol=\"times-circle\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tconst placeholderProp = {};\n\n\t\tif (!CKEDITOR.env.ie && AlloyEditor.Strings) {\n\t\t\tplaceholderProp.placeholder = AlloyEditor.Strings.editLink;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.removeLink}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.remove}>\n\t\t\t\t\t<ButtonIcon symbol=\"chain-broken\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t{this.props.showTargetSelector && (\n\t\t\t\t\t\t<ButtonLinkTargetEdit {...targetSelector} />\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"ae-container-input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\t{...placeholderProp}\n\t\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{autocompleteDropdown}\n\t\t\t\t\t</div>\n\t\t\t\t\t{buttonClearLink}\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._updateLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon className=\"ae-icon-svg-check\" symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _getInitialState\n\t * @protected\n\t * @return {Object}\n\t */\n\t_getInitialState() {\n\t\t// Can't access context from contructor, so get editor from props.\n\t\tconst {editor} = this.props.context;\n\t\tconst {defaultLinkTarget} = this.props;\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\teditor.get('nativeEditor')\n\t\t).getFromSelection();\n\t\tconst href = (link && link.getAttribute('href')) || '';\n\t\tconst target =\n\t\t\t(link && link.getAttribute('target')) || defaultLinkTarget;\n\n\t\treturn {\n\t\t\tautocompleteSelected: false,\n\t\t\telement: link,\n\t\t\tinitialLink: {\n\t\t\t\thref,\n\t\t\t\ttarget,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t\tlinkTarget: target,\n\t\t};\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput() {\n\t\tconst instance = this;\n\n\t\tconst focusLinkEl = function() {\n\t\t\tinstance.linkInput.current.focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusLinkEl);\n\t\t} else {\n\t\t\tsetTimeout(focusLinkEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13 || event.keyCode === 27) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === 13) {\n\t\t\tthis._updateLink();\n\t\t} else if (event.keyCode === 40) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteSelected: true,\n\t\t\t});\n\t\t} else if (event.keyCode === 27) {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tnew CKEDITOR.Link(editor).advanceSelection();\n\n\t\t\tthis.context.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when the link target changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkTargetChange\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkTargetChange = event => {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkTarget: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when an autocomplete link result is selected by user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkAutocompleteClick\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkAutocompleteClick(event) {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkHref: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t}\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href and that either that or the link target are different\n\t * from the original link.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} [description]\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\t(this.state.linkHref !== this.state.initialLink.href ||\n\t\t\t\tthis.state.linkTarget !== this.state.initialLink.target);\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the link in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _removeLink\n\t * @protected\n\t */\n\t_removeLink = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\t\tconst selection = editor.getSelection();\n\t\tconst bookmarks = selection.createBookmarks();\n\n\t\tlinkUtils.remove(this.state.element, {advance: true});\n\n\t\tselection.selectBookmarks(bookmarks);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Update autocompleteSelected state to focus and select autocompletes dropdown\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _setAutocompleteState\n\t * @protected\n\t */\n\t_setAutocompleteState(state) {\n\t\tthis.setState({\n\t\t\tautocompleteSelected: state.selected,\n\t\t});\n\t}\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _updateLink\n\t * @protected\n\t */\n\t_updateLink = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {\n\t\t\tappendProtocol: this.props.appendProtocol,\n\t\t});\n\t\tlet linkAttrs = {\n\t\t\ttarget: this.state.linkTarget || null,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (this.state.linkHref) {\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = this.state.linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (!this.state.linkTarget) linkAttrs = {};\n\n\t\t\t\tlinkUtils.create(\n\t\t\t\t\tthis.state.linkHref,\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default EditorContext.toProps(\n\tWidgetDropdown(WidgetFocusManager(ButtonLinkEdit))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * ButtonCfgProps is a class that provides a mergeButtonCfgProps method for\n * merging React props and the native CKEDITOR's buttonCfg.\n *\n * @class ButtonProps\n */\nexport default WrappedComponent =>\n\tclass ButtonProps extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Merges the properties, passed to the current component with user's configuration\n\t\t * via `buttonCfg` property.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonProps\n\t\t * @method mergeButtonCfgProps\n\t\t * @param {Object} props The properties to be merged with the provided configuration for this\n\t\t * button. If not passed, the user configuration will be merged with `this.props`\n\t\t * @return {Object} The merged properties\n\t\t */\n\t\tmergeButtonCfgProps(props = this.props) {\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\t\t\treturn CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\n\n/**\n * ToolbarButtons provides a list of buttons which have to be displayed\n * on the current toolbar depending on user preferences and given state.\n *\n * @class ToolbarButtons\n */\nexport default WrappedComponent =>\n\tclass ToolbarButtons extends WrappedComponent {\n\t\tstatic contextType = EditorContext;\n\n\t\t/**\n\t\t * Lifecycle. Returns the default values of the properties used in the\n\t\t * toolbar.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getDefaultProps\n\t\t */\n\t\tstatic defaultProps = {\n\t\t\t...WrappedComponent.defaultProps,\n\t\t\tgutter: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 10,\n\t\t\t},\n\t\t\tconstrainToViewport: true,\n\t\t};\n\n\t\t/**\n\t\t * Cancels an scheduled animation frame.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method cancelAnimation\n\t\t */\n\t\tcancelAnimation() {\n\t\t\tif (this._animationFrameId) {\n\t\t\t\twindow.cancelAnimationFrame(this._animationFrameId);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Provides functionality for displaying toolbar Arrow box on top or on bottom of the toolbar\n\t\t * depending on the point of user interaction with the editor.\n\t\t * Returns the list of arrow box classes associated to the current element's state. It relies\n\t\t * on the getInteractionPoint method to calculate the selection direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getArrowBoxClasses\n\t\t * @return {String} A string with the arrow box CSS classes.\n\t\t */\n\t\tgetArrowBoxClasses() {\n\t\t\tlet arrowBoxClasses = 'ae-arrow-box';\n\n\t\t\tif (\n\t\t\t\tthis.getInteractionPoint().direction ===\n\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t) {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-top';\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-bottom';\n\t\t\t}\n\n\t\t\treturn arrowBoxClasses;\n\t\t}\n\n\t\t/**\n\t\t * Returns an object which contains the position of the element in page coordinates,\n\t\t * restricted to fit to given viewport.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getConstrainedPosition\n\t\t * @param {Object} attrs The following properties, provided as numbers:\n\t\t * - height\n\t\t * - left\n\t\t * - top\n\t\t * - width\n\t\t * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:\n\t\t * - width\n\t\t * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the\n\t\t * element.\n\t\t */\n\t\tgetConstrainedPosition(attrs, viewPaneSize) {\n\t\t\tviewPaneSize =\n\t\t\t\tviewPaneSize ||\n\t\t\t\tnew CKEDITOR.dom.window(window).getViewPaneSize();\n\n\t\t\tlet x = attrs.left;\n\t\t\tlet y = attrs.top;\n\n\t\t\tif (attrs.left + attrs.width > viewPaneSize.width) {\n\t\t\t\tx -= attrs.left + attrs.width - viewPaneSize.width;\n\t\t\t}\n\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position, in page coordinates, according to which a toolbar should appear.\n\t\t * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.\n\t\t *\n\t\t * It depends on the props editorEvent to analyze the following user-interaction parameters:\n\t\t * - {Object} selectionData The data about the selection in the editor as returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * - {Number} pos Contains the coordinates of the position, considered as most appropriate.\n\t\t * This may be the point where the user released the mouse, or just the beginning or the end of\n\t\t * the selection.\n\t\t *\n\t\t * @instance\n\t\t * @method getInteractionPoint\n\t\t * @return {Object} An Object which contains the following properties:\n\t\t * direction, x, y, where x and y are in page coordinates and direction can be one of these:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t */\n\t\tgetInteractionPoint() {\n\t\t\tconst eventPayload = this.props.editorEvent\n\t\t\t\t? this.props.editorEvent.data\n\t\t\t\t: null;\n\n\t\t\tif (!eventPayload) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selectionData = eventPayload.selectionData;\n\n\t\t\tconst nativeEvent = eventPayload.nativeEvent;\n\n\t\t\tconst pos = {\n\t\t\t\tx: eventPayload.nativeEvent.pageX,\n\t\t\t\ty: selectionData.region.top,\n\t\t\t};\n\n\t\t\tlet direction = selectionData.region.direction;\n\n\t\t\tconst endRect = selectionData.region.endRect;\n\n\t\t\tconst startRect = selectionData.region.startRect;\n\n\t\t\tif (endRect && startRect && startRect.top === endRect.top) {\n\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t}\n\n\t\t\tlet x;\n\t\t\tlet y;\n\n\t\t\t// If we have the point where user released the mouse, show Toolbar at this point\n\t\t\t// otherwise show it on the middle of the selection.\n\n\t\t\tif (pos.x && pos.y) {\n\t\t\t\tx = this._getXPoint(selectionData, pos.x);\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {\n\t\t\t\t\ty = Math.min(pos.y, selectionData.region.top);\n\t\t\t\t} else {\n\t\t\t\t\ty = Math.max(\n\t\t\t\t\t\tpos.y,\n\t\t\t\t\t\tthis._getYPoint(selectionData, nativeEvent)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tx = selectionData.region.left + selectionData.region.width / 2;\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {\n\t\t\t\t\ty = this._getYPoint(selectionData, nativeEvent);\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdirection,\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the toolbar.\n\t\t *\n\t\t * @instance\n\t\t * @method _getXPoint\n\t\t * @param {Object} eventX The X coordinate received from the native event (mouseup).\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated X point in page coordinates.\n\t\t */\n\t\t_getXPoint(selectionData, eventX) {\n\t\t\tconst region = selectionData.region;\n\n\t\t\tconst left = region.startRect ? region.startRect.left : region.left;\n\t\t\tconst right = region.endRect ? region.endRect.right : region.right;\n\n\t\t\tlet x;\n\n\t\t\tif (left < eventX && right > eventX) {\n\t\t\t\tx = eventX;\n\t\t\t} else {\n\t\t\t\tconst leftDist = Math.abs(left - eventX);\n\t\t\t\tconst rightDist = Math.abs(right - eventX);\n\n\t\t\t\tif (leftDist < rightDist) {\n\t\t\t\t\t// user raised the mouse on left on the selection\n\t\t\t\t\tx = left;\n\t\t\t\t} else {\n\t\t\t\t\tx = right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn x;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the toolbar.\n\t\t *\n\t\t * @instance\n\t\t * @method _getYPoint\n\t\t * @param {Object} nativeEvent The data about event is fired\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated Y point in page coordinates.\n\t\t */\n\t\t_getYPoint(selectionData, nativeEvent) {\n\t\t\tlet y = 0;\n\n\t\t\tif (selectionData && nativeEvent) {\n\t\t\t\tconst elementTarget = new CKEDITOR.dom.element(\n\t\t\t\t\tnativeEvent.target\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\telementTarget.$ &&\n\t\t\t\t\telementTarget.getStyle('overflow') === 'auto'\n\t\t\t\t) {\n\t\t\t\t\ty =\n\t\t\t\t\t\tnativeEvent.target.offsetTop +\n\t\t\t\t\t\tnativeEvent.target.offsetHeight;\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.bottom;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn y;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the toolbar taking in consideration the\n\t\t * {{#crossLink \"ToolbarButtons/gutter:attribute\"}}{{/crossLink}} attribute.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @protected\n\t\t * @method  getWidgetXYPoint\n\t\t * @param {Number} left The left offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} top The top offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} direction The direction of the selection. May be one of the following:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t * @return {Array} An Array with left and top offsets in page coordinates.\n\t\t */\n\t\tgetWidgetXYPoint(left, top, direction) {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tconst gutter = this.props.gutter;\n\n\t\t\tif (\n\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t\t) {\n\t\t\t\tleft = left - gutter.left - domNode.offsetWidth / 2;\n\n\t\t\t\ttop =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t\t? top + gutter.top\n\t\t\t\t\t\t: top - domNode.offsetHeight - gutter.top;\n\t\t\t} else if (\n\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_RIGHT_TO_LEFT\n\t\t\t) {\n\t\t\t\tleft =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT\n\t\t\t\t\t\t? left + gutter.left + domNode.offsetHeight / 2\n\t\t\t\t\t\t: left - (3 * domNode.offsetHeight) / 2 - gutter.left;\n\n\t\t\t\ttop = top - gutter.top - domNode.offsetHeight / 2;\n\t\t\t}\n\n\t\t\tif (left < 0) {\n\t\t\t\tleft = 0;\n\t\t\t}\n\n\t\t\tif (top < 0) {\n\t\t\t\ttop = 0;\n\t\t\t}\n\n\t\t\treturn [left, top];\n\t\t}\n\n\t\t/**\n\t\t * Returns true if the toolbar is visible, false otherwise\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method isVisible\n\t\t * @return {Boolean} True if the toolbar is visible, false otherwise\n\t\t */\n\t\tisVisible() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\treturn domElement.hasClass('alloy-editor-visible');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Moves a toolbar from a starting point to a destination point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method moveToPoint\n\t\t * @param  {Object} startPoint The starting point for the movement.\n\t\t * @param  {Object} endPoint The destination point for the movement.\n\t\t */\n\t\tmoveToPoint(startPoint, endPoint) {\n\t\t\tconst domElement = new CKEDITOR.dom.element(\n\t\t\t\tReactDOM.findDOMNode(this)\n\t\t\t);\n\n\t\t\tdomElement.setStyles({\n\t\t\t\tleft: startPoint[0] + 'px',\n\t\t\t\ttop: startPoint[1] + 'px',\n\t\t\t\topacity: 0,\n\t\t\t\tpointerEvents: 'none',\n\t\t\t});\n\n\t\t\tdomElement.removeClass('alloy-editor-invisible');\n\n\t\t\tthis._animationFrameId = window.requestAnimationFrame(() => {\n\t\t\t\tdomElement.addClass('ae-toolbar-transition');\n\t\t\t\tdomElement.addClass('alloy-editor-visible');\n\t\t\t\tdomElement.setStyles({\n\t\t\t\t\tleft: endPoint[0] + 'px',\n\t\t\t\t\ttop: endPoint[1] + 'px',\n\t\t\t\t\topacity: 1,\n\t\t\t\t});\n\n\t\t\t\t// 150ms to match transition-duration for .ae-toolbar-transition:\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdomElement.setStyles({\n\t\t\t\t\t\tpointerEvents: '',\n\t\t\t\t\t});\n\t\t\t\t}, 150);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Shows the toolbar with the default animation transition.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method show\n\t\t */\n\t\tshow() {\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\t\t\tconst uiNode = this.context.editor.get('uiNode');\n\n\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tif (!this.isVisible() && domNode) {\n\t\t\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\t\t\tif (interactionPoint) {\n\t\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\t\tlet finalX;\n\t\t\t\t\tlet finalY;\n\t\t\t\t\tlet initialX;\n\t\t\t\t\tlet initialY;\n\n\t\t\t\t\tfinalX = initialX = parseFloat(domElement.getStyle('left'));\n\t\t\t\t\tfinalY = initialY = parseFloat(domElement.getStyle('top'));\n\n\t\t\t\t\tif (this.props.constrainToViewport) {\n\t\t\t\t\t\tconst res = this.getConstrainedPosition({\n\t\t\t\t\t\t\theight: parseFloat(domNode.offsetHeight),\n\t\t\t\t\t\t\tleft: finalX,\n\t\t\t\t\t\t\ttop: finalY,\n\t\t\t\t\t\t\twidth: parseFloat(domNode.offsetWidth),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfinalX = res.x;\n\t\t\t\t\t\tfinalY = res.y;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tinteractionPoint.direction ===\n\t\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t) {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.bottom + scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.top + scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.moveToPoint([initialX, initialY], [finalX, finalY]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the toolbar position based on the current interaction point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method updatePosition\n\t\t */\n\t\tupdatePosition() {\n\t\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (interactionPoint && domNode) {\n\t\t\t\tconst uiNode =\n\t\t\t\t\tthis.context.editor.get('uiNode') || document.body;\n\t\t\t\tconst uiNodeStyle = getComputedStyle(uiNode);\n\t\t\t\tconst uiNodeMarginLeft = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tconst uiNodeMarginRight = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tconst totalWidth =\n\t\t\t\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\t\t\t\tconst scrollTop =\n\t\t\t\t\tuiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;\n\n\t\t\t\tconst xy = this.getWidgetXYPoint(\n\t\t\t\t\tinteractionPoint.x,\n\t\t\t\t\tinteractionPoint.y,\n\t\t\t\t\tinteractionPoint.direction\n\t\t\t\t);\n\t\t\t\txy[1] += scrollTop;\n\n\t\t\t\tif (xy[0] < 0) {\n\t\t\t\t\txy[0] = 0;\n\t\t\t\t}\n\t\t\t\tif (xy[0] > totalWidth - domNode.offsetWidth) {\n\t\t\t\t\txy[0] = totalWidth - domNode.offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tnew CKEDITOR.dom.element(domNode).setStyles({\n\t\t\t\t\tleft: xy[0] + 'px',\n\t\t\t\t\ttop: xy[1] + 'px',\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Analyses the current selection and returns the buttons or button groups to be rendered.\n\t\t *\n\t\t * @instance\n\t\t * @method getToolbarButtonGroups\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons or button groups that should be rendered.\n\t\t */\n\t\tgetToolbarButtonGroups(buttons, additionalProps) {\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\treturn buttons.reduce((list, button) => {\n\t\t\t\tif (Array.isArray(button)) {\n\t\t\t\t\tlist.push(this.getToolbarButtons(button, additionalProps));\n\t\t\t\t\treturn list;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getToolbarButtons(buttons, additionalProps);\n\t\t\t\t}\n\t\t\t}, []);\n\t\t}\n\n\t\t/**\n\t\t * Analyzes the current selection and the buttons exclusive mode value to figure out which\n\t\t * buttons should be present in a given state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getToolbarButtons\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons that should be rendered.\n\t\t */\n\t\tgetToolbarButtons(buttons, additionalProps) {\n\t\t\tconst buttonProps = {};\n\n\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\tconst toolbarButtons = this.filterExclusive(\n\t\t\t\tbuttons\n\t\t\t\t\t.filter(button => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tbutton &&\n\t\t\t\t\t\t\t(AlloyEditor.Buttons[button] ||\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name])\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.map(button => {\n\t\t\t\t\t\tif (Lang.isString(button)) {\n\t\t\t\t\t\t\tbuttonProps[button] = buttonCfg[button];\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button];\n\t\t\t\t\t\t} else if (Lang.isString(button.name)) {\n\t\t\t\t\t\t\tbuttonProps[\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name].key\n\t\t\t\t\t\t\t] = CKEDITOR.tools.merge(\n\t\t\t\t\t\t\t\tbuttonCfg[button],\n\t\t\t\t\t\t\t\tbutton.cfg\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button.name];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn button;\n\t\t\t\t\t})\n\t\t\t).map(function(button, index) {\n\t\t\t\tlet props = this.mergeExclusiveProps(\n\t\t\t\t\t{\n\t\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\t\tkey:\n\t\t\t\t\t\t\tbutton.key !== 'separator'\n\t\t\t\t\t\t\t\t? button.key\n\t\t\t\t\t\t\t\t: `${button.key}-${index}`,\n\t\t\t\t\t\ttabKey: button.key,\n\t\t\t\t\t\ttabIndex:\n\t\t\t\t\t\t\tthis.props.trigger &&\n\t\t\t\t\t\t\tthis.props.trigger.props.tabKey === button.key\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t\ttrigger: this.props.trigger,\n\t\t\t\t\t},\n\t\t\t\t\tbutton.key\n\t\t\t\t);\n\n\t\t\t\tprops = this.mergeDropdownProps(props, button.key);\n\n\t\t\t\tif (additionalProps) {\n\t\t\t\t\tprops = CKEDITOR.tools.merge(props, additionalProps);\n\t\t\t\t}\n\n\t\t\t\tprops = CKEDITOR.tools.merge(props, buttonProps[button.key]);\n\n\t\t\t\treturn React.createElement(button, props);\n\t\t\t}, this);\n\n\t\t\treturn toolbarButtons;\n\t\t}\n\t};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from './lang';\n\n/**\n * Sets the prototype, constructor and superclass properties to support an inheritance strategy\n * that can chain constructors and methods. Static members will not be inherited.\n *\n * @memberof OOP\n * @method extend\n * @param {Function} receiver The class which will extend another class.\n * @param {Function} supplier The class which will provide the properties the child class.\n * @param {Object} protoProps Prototype properties to add/override.\n * @param {Object} staticProps Static properties to add/overwrite.\n * @return {Function} The extended class.\n * @static\n */\nconst extend = function(receiver, supplier, protoProps, staticProps) {\n\tif (!supplier || !receiver) {\n\t\tthrow new Error('extend failed, verify dependencies');\n\t}\n\n\tconst supplierProto = supplier.prototype;\n\n\tconst receiverProto = Object.create(supplierProto);\n\treceiver.prototype = receiverProto;\n\n\treceiverProto.constructor = receiver;\n\treceiver.superclass = supplierProto;\n\n\t// assign constructor property\n\tif (\n\t\tsupplier !== Object &&\n\t\tsupplierProto.constructor === Object.prototype.constructor\n\t) {\n\t\tsupplierProto.constructor = supplier;\n\t}\n\n\t// add prototype overrides\n\tif (protoProps) {\n\t\tLang.mix(receiverProto, protoProps);\n\t}\n\n\t// add object overrides\n\tif (staticProps) {\n\t\tLang.mix(receiver, staticProps);\n\t}\n\n\treturn receiver;\n};\n\nexport default extend;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst _isRangeAtElementEnd = function(range, element) {\n\t// Finding if a range is at the end of an element is somewhat tricky\n\t// due to how CKEditor handles ranges. It might depend on whether a\n\t// source node inside the element is selected or not. For now, we\n\t// need to cover the following cases:\n\t//\n\t// - The text length of the element is the same as the endOffset of\n\t//   the range.\n\t// - Both start and end containers match the element and the start\n\t//   and end offsets are 1.\n\n\treturn (\n\t\telement.getText().length === range.endOffset ||\n\t\t(element.equals(range.startContainer) &&\n\t\t\telement.equals(range.endContainer) &&\n\t\t\trange.startOffset === range.endOffset &&\n\t\t\trange.endOffset === 1)\n\t);\n};\n\nconst embedSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'ae_embed'\n\t);\n};\n\nconst embedUrlSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'embedurl'\n\t);\n};\n\nconst headingTextSelectionTest = function(payload) {\n\tconst headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst selectionData = payload.data.selectionData;\n\tconst selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly() &&\n\t\tnativeEditor.elementPath().contains(headings)\n\t);\n};\n\nconst linkSelectionTest = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst selection = nativeEditor.getSelection();\n\tconst range = selection ? selection.getRanges()[0] : null;\n\tif(!range) {\n\t\treturn null;\n\t}\n\n\t/*const range = nativeEditor.getSelection().getRanges()[0];*/\n\tconst selectionData = payload.data.selectionData;\n\n\tconst element = new CKEDITOR.Link(nativeEditor).getFromSelection();\n\tconst isSelectionEmpty = nativeEditor.isSelectionEmpty();\n\tconst elementIsNotImage = selectionData.element\n\t\t? selectionData.element.getName() !== 'img'\n\t\t: true;\n\n\treturn !!(\n\t\tisSelectionEmpty &&\n\t\telementIsNotImage &&\n\t\telement &&\n\t\telement.getText().length !== range.endOffset &&\n\t\telement &&\n\t\t!element.isReadOnly() &&\n\t\t!_isRangeAtElementEnd(range, element)\n\t);\n};\n\nconst imageSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\tconst element = selectionData.element;\n\tconst hasImage = !!element && !!element.findOne('img');\n\tconst isImage = !!element && element.getName() === 'img';\n\n\treturn !!(element && (hasImage || isImage));\n};\n\nconst textSelectionTest = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\n\tconst selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly()\n\t);\n};\n\nconst tableSelectionTest = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\n\tconst table = new CKEDITOR.Table(nativeEditor);\n\tconst element = table.getFromSelection();\n\n\treturn !!(element && table.isEditable(element));\n};\n\nconst SelectionTest = {\n\tembed: embedSelectionTest,\n\tembedUrl: embedUrlSelectionTest,\n\theader: headingTextSelectionTest,\n\timage: imageSelectionTest,\n\tlink: linkSelectionTest,\n\ttable: tableSelectionTest,\n\ttext: textSelectionTest,\n};\n\nexport default SelectionTest;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\n/**\n * The ButtonsStylesListHeader class provides the header of an list of style items.\n *\n * @class ButtonsStylesListHeader\n */\nclass ButtonsStylesListHeader extends React.Component {\n\tstatic key = 'buttonStylesListHeader';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonsStylesListHeader\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.styles && this.props.styles.length) {\n\t\t\treturn <span className=\"ae-list-header\">{this.props.name}</span>;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default ButtonsStylesListHeader;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonStylesListItemRemove class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItemRemove\n */\nclass ButtonStylesListItemRemove extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tremoveBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre'],\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItemRemove\n\t * @memberof ButtonStylesListItemRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItemRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<li role=\"option\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this._removeStyles}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t{AlloyEditor.Strings.normal}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t}\n\n\t/**\n\t * Removes all inline styles and configured block elements applied to the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method _removeStyles\n\t * @protected\n\t */\n\t_removeStyles = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.execCommand('removeFormat');\n\n\t\tthis.props.removeBlocks.forEach(blockItem => {\n\t\t\tconst blockStyle = new CKEDITOR.style({element: blockItem});\n\n\t\t\teditor.removeStyle(blockStyle);\n\t\t});\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonStylesListItemRemove;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStyle from '../base/button-style';\n\n/**\n * The ButtonStylesListItem class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItem\n * @uses ButtonActionStyle\n * @uses ButtonStyle\n */\nclass ButtonStylesListItem extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItem\n\t * @memberof ButtonStylesListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItem';\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\t// Styles with wildcard element (*) generate an empty tag in their preview < class=\"custom-class\" />.\n\t\t// We default to element span and remove the margins to obtain a more consistent set of previews.\n\t\tlet styleCfg = {\n\t\t\telement: 'span',\n\t\t\tstyles: {\n\t\t\t\tmargin: 0,\n\t\t\t},\n\t\t};\n\n\t\tstyleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);\n\n\t\tthis._preview = new CKEDITOR.style(styleCfg).buildPreview(\n\t\t\tthis.props.name\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\t// We need to use dangerouselySetInnterHTML since we're not in control of the style\n\t\t// preview that is generated by CKEditor.\n\t\tconst className =\n\t\t\tthis.props.name === this.props.activeStyle\n\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t: 'ae-toolbar-element';\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName={className}\n\t\t\t\tdangerouslySetInnerHTML={{__html: this._preview}}\n\t\t\t\tonClick={this._onClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * Applies the item style to the editor selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method _onClick\n\t * @protected\n\t */\n\t_onClick = () => {\n\t\tif (this.props.styleFn) {\n\t\t\tthis.props.styleFn();\n\t\t} else {\n\t\t\t// Typically, we want the style to be the only one applied to the current selection, so\n\t\t\t// we execute the 'removeFormat' command first. Note that block styles won't be cleaned.\n\t\t\t// However, this is consistent with other editors implementations of this feature.\n\t\t\tthis.context.editor.get('nativeEditor').execCommand('removeFormat');\n\n\t\t\tthis.applyStyle();\n\t\t}\n\t};\n}\n\nexport default ButtonActionStyle(ButtonStyle(ButtonStylesListItem));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\n/**\n * The ButtonCameraImage class takes photo from camera and inserts it to the content.\n *\n * @class ButtonCameraImage\n */\nclass ButtonCameraImage extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t */\n\tstatic defaultProps = {\n\t\tvideoWidth: 320,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default cameraImage\n\t * @memberof ButtonCameraImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'cameraImage';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._buttonTakePhotoRef = React.createRef();\n\t\tthis._canvasContainerRef = React.createRef();\n\t\tthis._videoContainerRef = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses the take photo button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._buttonTakePhotoRef.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._stream) {\n\t\t\tif (this._stream.stop) {\n\t\t\t\tthis._stream.stop();\n\t\t\t} else if (this._stream.getVideoTracks) {\n\t\t\t\tthis._stream.getVideoTracks().forEach(track => {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._stream = null;\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst getUserMedia =\n\t\t\tnavigator.getUserMedia ||\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia;\n\n\t\tgetUserMedia.call(\n\t\t\tnavigator,\n\t\t\t{\n\t\t\t\tvideo: true,\n\t\t\t\taudio: false,\n\t\t\t},\n\t\t\tthis._handleStreamSuccess,\n\t\t\tthis._handleStreamError\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"ae-camera\">\n\t\t\t\t<video ref={this._videoContainerRef}>\n\t\t\t\t\tVideo stream not available.\n\t\t\t\t</video>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-camera-shoot\"\n\t\t\t\t\tonClick={this.takePhoto}\n\t\t\t\t\tref={this._buttonTakePhotoRef}>\n\t\t\t\t\tTake photo\n\t\t\t\t</button>\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"ae-camera-canvas\"\n\t\t\t\t\tref={this._canvasContainerRef}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Takes photo from the video stream and inserts in into editor's content.\n\t *\n\t * @fires ButtonCameraImage#imageCameraAdd\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method takePhoto\n\t */\n\ttakePhoto = () => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tconst context = canvasEl.getContext('2d');\n\n\t\tconst height = this._videoHeight;\n\t\tconst width = this.props.videoWidth;\n\n\t\tif (width && height) {\n\t\t\tcanvasEl.width = width;\n\t\t\tcanvasEl.height = height;\n\n\t\t\tcontext.drawImage(videoEl, 0, 0, width, height);\n\n\t\t\tconst imgURL = canvasEl.toDataURL('image/png');\n\n\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<img src=\"' + imgURL + '\">'\n\t\t\t);\n\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\teditor.insertElement(el);\n\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\teditor.fire('imageCameraAdd', el);\n\t\t}\n\t};\n\n\t/**\n\t * Displays error message in case of video stream capturing failure.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamError\n\t * @param {Event} error The fired event in case of error.\n\t * @protected\n\t */\n\t_handleStreamError = error => {\n\t\twindow.alert('An error occurred! ' + error);\n\t};\n\n\t/**\n\t * Starts streaming video in the video element and sets width/height to the video\n\t * and canvas elements.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamSuccess\n\t * @param {Object} stream The video stream\n\t * @protected\n\t */\n\t_handleStreamSuccess = stream => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tvideoEl.addEventListener(\n\t\t\t'canplay',\n\t\t\t() => {\n\t\t\t\tlet height =\n\t\t\t\t\tvideoEl.videoHeight /\n\t\t\t\t\t(videoEl.videoWidth / this.props.videoWidth);\n\n\t\t\t\tif (isNaN(height)) {\n\t\t\t\t\theight = this.props.videoWidth / (4 / 3);\n\t\t\t\t}\n\n\t\t\t\tvideoEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tvideoEl.setAttribute('height', height);\n\t\t\t\tcanvasEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tcanvasEl.setAttribute('height', height);\n\n\t\t\t\tthis._videoHeight = height;\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tthis._stream = stream;\n\n\t\tif (navigator.mozGetUserMedia) {\n\t\t\tvideoEl.mozSrcObject = stream;\n\t\t} else {\n\t\t\tvideoEl.srcObject = stream;\n\t\t}\n\n\t\tvideoEl.play();\n\n\t\tthis._buttonTakePhotoRef.current.disabled = false;\n\t};\n\n\t/**\n\t * Fired when an image is being taken from the camera and added as an element to the editor.\n\t *\n\t * @event ButtonCameraImage#imageCameraAdd\n\t * @memberof ButtonCameraImage\n\t * @param {CKEDITOR.dom.element} el The created img element in editor.\n\t */\n}\n\nexport default ButtonCameraImage;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\n\n/**\n * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside\n * a list as an item, with a string representation of its behaviour.\n *\n * @class ButtonCommandListItem\n * @uses ButtonCommand\n */\nclass ButtonCommandListItem extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandListItem\n\t * @memberof ButtonCommandListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandListItem';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={this.props.description}\n\t\t\t\tclassName={this._getClassName()}\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t{this.props.description}\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Returns the class name of Widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method _getClassName\n\t * @protected\n\t * @return {String} The class name of the Widget.\n\t */\n\t_getClassName() {\n\t\tconst className = 'ae-container ae-toolbar-element';\n\n\t\treturn className;\n\t}\n}\n\nexport default ButtonCommand(ButtonCommandListItem);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.\n * Provides UI for creating and editing an embed link.\n *\n * @class ButtonEmbedEdit\n */\nclass ButtonEmbedEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embedEdit\n\t * @memberof ButtonEmbedEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embedEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusLinkInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusLinkInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this.getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\t// Can't access context from constructor, so get editor from props.\n\t\tconst editor = this.props.context.editor.get('nativeEditor');\n\t\tlet embed;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\tembed = selectedElement.findOne('[data-widget=\"ae_embed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst href = embed ? embed.getAttribute('data-ae-embed-url') : '';\n\n\t\treturn {\n\t\t\telement: embed,\n\t\t\tinitialLink: {\n\t\t\t\thref,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst clearLinkStyle = {\n\t\t\topacity: this.state.linkHref ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.deleteEmbed}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-remove\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeEmbed}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.deleteEmbed}>\n\t\t\t\t\t<ButtonIcon className=\"ae-icon-svg-trash\" symbol=\"trash\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={AlloyEditor.Strings.editLink}\n\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearLinkStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"times-clear\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon className=\"ae-icon-svg-check\" symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\t};\n\n\t/**\n\t * Triggers the embedUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _embedLink\n\t * @protected\n\t */\n\t_embedLink = () => {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\turl: this.state.linkHref,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput = () => {\n\t\tthis.linkInput.current.focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedLink();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\tthis.state.linkHref !== this.state.initialLink.href;\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the embed in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _removeEmbed\n\t * @protected\n\t */\n\t_removeEmbed = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst embedWrapper = this.state.element.getAscendant(element => {\n\t\t\treturn element.hasClass('cke_widget_wrapper');\n\t\t});\n\n\t\tembedWrapper.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default EditorContext.toProps(ButtonEmbedEdit);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedVideoEdit class provides functionality for changing text color in a document.\n *\n * @uses ButtonIcon\n *\n * @class ButtonEmbedVideoEdit\n */\nclass ButtonEmbedVideoEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'embedVideoEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusVideoUrlInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusVideoUrlInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tconst newState = this.getInitialState();\n\n\t\tthis.setState({\n\t\t\tall: undefined,\n\t\t\tkeys: undefined,\n\t\t\tnew: newState,\n\t\t\told: undefined,\n\t\t});\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\t// Can't access context from constructor, so get editor from props.\n\t\tconst editor = this.props.context.editor.get('nativeEditor');\n\t\tlet element;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\telement = selectedElement.findOne('[data-widget=\"videoembed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst videoURL = element\n\t\t\t? element.getAttribute('data-embed-video-url')\n\t\t\t: '';\n\n\t\treturn {\n\t\t\telement,\n\t\t\tinitialEmbed: {\n\t\t\t\tvideoURL,\n\t\t\t},\n\t\t\tvideoURL,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputPlaceholder = AlloyEditor.Strings.pasteVideoLink;\n\n\t\tconst clearVideoURLStyle = {\n\t\t\topacity: this.state.videoURL ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-embed-video-edit\">\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleVideoURLChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={inputPlaceholder}\n\t\t\t\t\t\tref=\"linkInput\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.videoURL}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-icon-remove\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearVideoURLStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedVideoURL}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink() {\n\t\tthis.setState({\n\t\t\tvideoURL: '',\n\t\t});\n\t}\n\n\t/**\n\t * Triggers the embedVideoUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _embedVideoURL\n\t * @protected\n\t */\n\t_embedVideoURL = () => {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\ttype: 'video',\n\t\t\turl: this.state.videoURL,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _focusVideoUrlInput\n\t * @protected\n\t */\n\t_focusVideoUrlInput = () => {\n\t\tReactDOM.findDOMNode(this.refs.linkInput).focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedVideoURL();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleVideoURLChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleVideoURLChange = event => {\n\t\tthis.setState({\n\t\t\tvideoURL: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty videoURL that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.videoURL &&\n\t\t\tthis.state.videoURL !== this.state.initialEmbed.videoURL;\n\n\t\treturn validState;\n\t}\n}\n\nexport default EditorContext.toProps(ButtonEmbedVideoEdit);\n","\nfunction fitImage(sourceData, fileType) {\n\tconst maxWidth = window.FIT_IMAGE_MAX_WIDTH;\n\tconst maxHeight = window.FIT_IMAGE_MAX_HEIGHT;\n\n\treturn new Promise ((resolved, _) => {\n\t\tif(!maxWidth || !maxHeight) {\n\t\t\tresolved(sourceData);\n\t\t}\n\t\telse {\n\t\t\tconst source = new Image();\n\t\t\tsource.onload = () => {\n\t\t\t\tlet width = source.width;\n\t\t\t\tlet height = source.height;\n\n\t\t\t\tconst cWidth = width / maxWidth;\n\t\t\t\tconst cHeight = height / maxHeight;\n\n\t\t\t\tif(cWidth <= 1 && cHeight <= 1) {\n\t\t\t\t\tresolved(sourceData);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst coeff = (cWidth > cHeight) ? cWidth : cHeight;\n\t\t\t\t\twidth = width / coeff;\n\t\t\t\t\theight = height / coeff;\n\t\t\t\t}\n\n/*\t\t\t\tconsole.debug(`max: ${maxWidth} x ${maxHeight}`);\n\t\t\t\tconsole.debug(`source: ${source.width} x ${source.height}`);\n\t\t\t\tconsole.debug(`coeff: ${cWidth} x ${cHeight}`);\n\t\t\t\tconsole.debug(`destination: ${width} x ${height}`);*/\n\t\t\t\tconst canvas = document.createElement(\"canvas\");\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\t\t\t\tconst context = canvas.getContext(\"2d\");\n\t\t\t\tcontext.drawImage(source, 0, 0, width, height);\n\n\t\t\t\tconst dataurl = canvas.toDataURL(fileType);\n\t\t\t\tresolved(dataurl);\n\t\t\t};\n\t\t\tsource.src = sourceData;\n\t\t}\n\t})\n}\n\nexport {fitImage};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonDropdown from './button-dropdown.jsx';\n\n/**\n * The ButtonLinkAutocompleteList class provides functionality for showing a list of\n * items that can be selected for the link.\n *\n * @class ButtonLinkAutocompleteList\n * @uses WidgetFocusManager\n */\nclass ButtonLinkAutocompleteList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdata: [],\n\t\tdelay: 100,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonLinkAutocompleteList\n\t * @memberof ButtonLinkAutocompleteList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonLinkAutocompleteList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!nextProps.term || nextProps.term !== this.props.term) {\n\t\t\tclearTimeout(this._timeout);\n\n\t\t\tif (nextProps.term) {\n\t\t\t\tthis._timeout = setTimeout(this._updateItems, this.props.delay);\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: [],\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (nextProps.autocompleteSelected) {\n\t\t\tsetTimeout(this.focus, 0);\n\t\t\tthis.props.setAutocompleteState({\n\t\t\t\tselected: false,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this._timeout);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (!this.props.expanded || !this.state.items.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown>\n\t\t\t\t{this._renderAutocompleteItems(this.state.items)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.term !== this.props.term ||\n\t\t\tnextState.items !== this.state.items\n\t\t);\n\t}\n\n\t/**\n\t * Renders a set of list items for the provided items\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _renderAutocompleteItems\n\t * @param {Array} items List of autocomplete items to render\n\t * @protected\n\t * @return {Array} Rendered list item instances\n\t */\n\t_renderAutocompleteItems(items) {\n\t\titems = items || [];\n\n\t\tconst handleLinkAutocompleteClick = this.props\n\t\t\t.handleLinkAutocompleteClick;\n\n\t\treturn items.map(item => {\n\t\t\tconst className =\n\t\t\t\tthis.props.term === item.url\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={item.url} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tdata-value={item.url}\n\t\t\t\t\t\tonClick={handleLinkAutocompleteClick}>\n\t\t\t\t\t\t{item.title}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the data according to {this.props.term} and calls setState() with the returned data\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _updateItems\n\t * @protected\n\t */\n\t_updateItems() {\n\t\tif (!this.props.term) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst promise = Promise.resolve(this.props.data(this.props.term));\n\n\t\tpromise.then(items => {\n\t\t\tif (items.length && !this.props.expanded) {\n\t\t\t\tthis.props.toggleDropdown();\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\titems,\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default WidgetFocusManager(ButtonLinkAutocompleteList);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\n\n/**\n * The LinkEditBrowse class provides functionality for creating and editing a link in a document,\n * and also allows to link to an existing file in DM.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEditBrowse\n */\nclass ButtonLinkEditBrowse extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'linkEditBrowse';\n\n\t/**\n\t *\n\t * @inheritDoc\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\t// Can't access context from constructor, so get editor from props.\n\t\t\tthis.props.context.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\tconst href = link ? link.getAttribute('href') : '';\n\n\t\tthis.linkEditButtonRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\telement: link,\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ae-container-link-edit-browse\">\n\t\t\t\t<ButtonLinkEdit ref={this.linkEditButtonRef} {...this.props} />\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Browse\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._browseClick}\n\t\t\t\t\ttitle=\"browse\">\n\t\t\t\t\t<ButtonIcon symbol=\"folder\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Opens an item selector dialog.\n\t *\n\t * @protected\n\t * @method _browseClick\n\t */\n\t_browseClick = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst url = editor.config.documentBrowseLinkUrl;\n\t\tconst browseLinkCallback = editor.config.documentBrowseLinkCallback;\n\t\tconst linkTarget = this.linkEditButtonRef.current\n\t\t\t? this.linkEditButtonRef.current.state.linkTarget\n\t\t\t: '';\n\n\t\tconst changeLinkCallback = selectedItem => {\n\t\t\tthis._updateLink(\n\t\t\t\tselectedItem.value,\n\t\t\t\tlinkTarget,\n\t\t\t\tselectedItem.title\n\t\t\t);\n\t\t};\n\n\t\tif (Lang.isFunction(browseLinkCallback)) {\n\t\t\tbrowseLinkCallback.apply(null, [editor, url, changeLinkCallback]);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @protected\n\t * @method _updateLink\n\t * @param {String} linkHref href value for the link\n\t * @param {String} linkTarget target value for the link\n\t * @param {String} linkTitle if the link is a title that points to a wiki page (only works for creole)\n\t */\n\t_updateLink = (linkHref, linkTarget, linkTitle) => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {appendProtocol: false});\n\t\tconst linkAttrs = {\n\t\t\ttarget: linkTarget,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (linkHref) {\n\t\t\tif (editor.plugins && editor.plugins.creole && !linkTitle) {\n\t\t\t\tlinkHref = location.origin + linkHref;\n\t\t\t}\n\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlinkUtils.create(linkHref, linkAttrs, modifySelection);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n}\n\nexport default EditorContext.toProps(ButtonLinkEditBrowse);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\n\n/**\n * The ButtonLinkTargetEdit class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonLinkTargetEdit\n */\nclass ButtonLinkTargetEdit extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonLinkTargetEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkTargetEdit';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\t\tconst allowedLinkTargets = this.props.allowedTargets;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-container-dropdown ae-container-dropdown-medium ae-container-edit-link-target ae-has-dropdown\"\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={this.props.selectedTarget}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={this.props.selectedTarget}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{this.props.selectedTarget}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t<ButtonTargetList\n\t\t\t\t\t\tallowedLinkTargets={allowedLinkTargets}\n\t\t\t\t\t\thandleLinkTargetChange={handleLinkTargetChange}\n\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\t\tselectedTarget={this.props.selectedTarget}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.selectedTarget !== this.props.selectedTarget\n\t\t);\n\t}\n}\n\nexport default ButtonLinkTargetEdit;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonDropdown from './button-dropdown.jsx';\n\n/**\n * The ButtonTargetList class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonTargetList\n * @uses WidgetFocusManager\n */\nclass ButtonTargetList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonTargetList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'targetList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst listTargets = this._renderListTargets();\n\n\t\treturn <ButtonDropdown {...this.props}>{listTargets}</ButtonDropdown>;\n\t}\n\n\t/**\n\t * Returns the the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _getAllowedTargetItems\n\t * @protected\n\t * @return {Array} The allowed target items.\n\t */\n\t_getAllowedTargetItems() {\n\t\treturn (\n\t\t\tthis.props.allowedLinkTargets || [\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetDefault,\n\t\t\t\t\tvalue: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetSelf,\n\t\t\t\t\tvalue: '_self',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetBlank,\n\t\t\t\t\tvalue: '_blank',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetParent,\n\t\t\t\t\tvalue: '_parent',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetTop,\n\t\t\t\t\tvalue: '_top',\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n\n\t/**\n\t * Renders the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _renderListTargets\n\t * @protected\n\t * @return {Object} Returns the rendered link items\n\t */\n\t_renderListTargets() {\n\t\tlet targets = this._getAllowedTargetItems();\n\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\n\t\ttargets = targets.map(target => {\n\t\t\tconst className =\n\t\t\t\tthis.props.selectedTarget === target.value\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={target.value} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tdata-value={target.value}\n\t\t\t\t\t\tonClick={handleLinkTargetChange}>\n\t\t\t\t\t\t{target.label}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn targets;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonTargetList);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonProps from '../base/button-props';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\n\n/**\n * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.\n *\n * @class ButtonLink\n * @uses ButtonProps\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n */\nclass ButtonLink extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\tname: 'link',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default link\n\t * @memberof ButtonLink\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'link';\n\n\t/**\n\t * Checks if the current selection is contained within a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a link, false otherwise.\n\t */\n\tisActive() {\n\t\treturn (\n\t\t\tnew CKEDITOR.Link(\n\t\t\t\tthis.context.editor.get('nativeEditor')\n\t\t\t).getFromSelection() !== null\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tconst props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEdit {...props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName={cssClass}\n\t\t\t\t\tdata-type=\"button-link\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon symbol=\"link\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonLink.key);\n\t};\n}\n\nexport default ButtonProps(ButtonKeystroke(ButtonStateClasses(ButtonLink)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonTableEdit class provides functionality for creating and editing a table in a document.\n * Provides UI for creating a table.\n *\n * @class ButtonTableEdit\n */\nclass ButtonTableEdit extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\ttableAttributes: {\n\t\t\tborder: 1,\n\t\t\tcellPadding: 0,\n\t\t\tcellSpacing: 0,\n\t\t\tstyle: 'width: 100%',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableEdit\n\t * @memberof ButtonTableEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableEdit';\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getInitialState\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.rowsRef = React.createRef();\n\t\tthis.colsRef = React.createRef();\n\t\tthis.state = {\n\t\t\tcols: 3,\n\t\t\trows: 3,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis.rowsRef.current.focus();\n\t}\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _createTable\n\t * @protected\n\t */\n\t_createTable = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.create({\n\t\t\tattrs: this.props.tableAttributes,\n\t\t\tcols: this.state.cols,\n\t\t\trows: this.state.rows,\n\t\t});\n\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Handles a change in input value. Sets the provided value from the user back to the input.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleChange\n\t * @param {String} inputName The name of the input which value should be updated.\n\t * @param {SyntheticEvent} event The provided event.\n\t * @protected\n\t */\n\t_handleChange = (inputName, event) => {\n\t\tconst state = {};\n\t\tstate[inputName] = event.target.value;\n\n\t\tthis.setState(state);\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates the table.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._createTable();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst time = Date.now();\n\t\tconst rowsId = time + 'rows';\n\t\tconst colsId = time + 'cols';\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-table\">\n\t\t\t\t<label htmlFor={rowsId}>{AlloyEditor.Strings.rows}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={rowsId}\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tonChange={this._handleChange.bind(this, 'rows')}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Rows\"\n\t\t\t\t\t\tref={this.rowsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.rows}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<label htmlFor={colsId}>{AlloyEditor.Strings.columns}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={colsId}\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tonChange={this._handleChange.bind(this, 'cols')}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Colums\"\n\t\t\t\t\t\tref={this.colsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.cols}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Confirm\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._createTable}>\n\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ButtonTableEdit;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\n/**\n * Provides functionality for calculating the point of interaction of the user with the Editor.\n *\n * @class WidgetInteractionPoint\n */\nconst WidgetInteractionPoint = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The provided editor event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @property {SyntheticEvent} editorEvent\n\t\t */\n\t\teditorEvent: PropTypes.object,\n\t},\n\n\t/**\n\t * Returns the position, in page coordinates, according to which a widget should appear.\n\t * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.\n\t *\n\t * It depends on the props editorEvent to analyze the following user-interaction parameters:\n\t * - {Object} selectionData The data about the selection in the editor as returned from\n\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t * - {Number} pos Contains the coordinates of the position, considered as most appropriate.\n\t * This may be the point where the user released the mouse, or just the beginning or the end of\n\t * the selection.\n\t *\n\t * @instance\n\t * @memberof WidgetInteractionPoint\n\t * @method getInteractionPoint\n\t * @return {Object} An Object which contains the following properties:\n\t * direction, x, y, where x and y are in page coordinates and direction can be one of these:\n\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t */\n\tgetInteractionPoint() {\n\t\tconst eventPayload = this.props.editorEvent\n\t\t\t? this.props.editorEvent.data\n\t\t\t: null;\n\n\t\tif (!eventPayload) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectionData = eventPayload.selectionData;\n\n\t\tconst nativeEvent = eventPayload.nativeEvent;\n\n\t\tconst pos = {\n\t\t\tx: eventPayload.nativeEvent.pageX,\n\t\t\ty: selectionData.region.top,\n\t\t};\n\n\t\tlet direction = selectionData.region.direction;\n\n\t\tconst endRect = selectionData.region.endRect;\n\n\t\tconst startRect = selectionData.region.startRect;\n\n\t\tif (endRect && startRect && startRect.top === endRect.top) {\n\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t}\n\n\t\tlet x;\n\t\tlet y;\n\n\t\t// If we have the point where user released the mouse, show Toolbar at this point\n\t\t// otherwise show it on the middle of the selection.\n\n\t\tif (pos.x && pos.y) {\n\t\t\tx = this._getXPoint(selectionData, pos.x);\n\n\t\t\tif (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {\n\t\t\t\ty = Math.min(pos.y, selectionData.region.top);\n\t\t\t} else {\n\t\t\t\ty = Math.max(\n\t\t\t\t\tpos.y,\n\t\t\t\t\tthis._getYPoint(selectionData, nativeEvent)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tx = selectionData.region.left + selectionData.region.width / 2;\n\n\t\t\tif (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {\n\t\t\t\ty = this._getYPoint(selectionData, nativeEvent);\n\t\t\t} else {\n\t\t\t\ty = selectionData.region.top;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tdirection,\n\t\t\tx,\n\t\t\ty,\n\t\t};\n\t},\n\n\t/**\n\t * Returns the position of the Widget.\n\t *\n\t * @instance\n\t * @memberof WidgetInteractionPoint\n\t * @method _getXPoint\n\t * @param {Object} eventX The X coordinate received from the native event (mouseup).\n\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t * @protected\n\t * @return {Number} The calculated X point in page coordinates.\n\t */\n\t_getXPoint(selectionData, eventX) {\n\t\tconst region = selectionData.region;\n\n\t\tconst left = region.startRect ? region.startRect.left : region.left;\n\t\tconst right = region.endRect ? region.endRect.right : region.right;\n\n\t\tlet x;\n\n\t\tif (left < eventX && right > eventX) {\n\t\t\tx = eventX;\n\t\t} else {\n\t\t\tconst leftDist = Math.abs(left - eventX);\n\t\t\tconst rightDist = Math.abs(right - eventX);\n\n\t\t\tif (leftDist < rightDist) {\n\t\t\t\t// user raised the mouse on left on the selection\n\t\t\t\tx = left;\n\t\t\t} else {\n\t\t\t\tx = right;\n\t\t\t}\n\t\t}\n\n\t\treturn x;\n\t},\n\n\t/**\n\t * Returns the position of the Widget.\n\t *\n\t * @instance\n\t * @memberof WidgetInteractionPoint\n\t * @method _getYPoint\n\t * @param {Object} nativeEvent The data about event is fired\n\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t * @protected\n\t * @return {Number} The calculated Y point in page coordinates.\n\t */\n\t_getYPoint(selectionData, nativeEvent) {\n\t\tlet y = 0;\n\n\t\tif (selectionData && nativeEvent) {\n\t\t\tconst elementTarget = new CKEDITOR.dom.element(nativeEvent.target);\n\n\t\t\tif (\n\t\t\t\telementTarget.$ &&\n\t\t\t\telementTarget.getStyle('overflow') === 'auto'\n\t\t\t) {\n\t\t\t\ty =\n\t\t\t\t\tnativeEvent.target.offsetTop +\n\t\t\t\t\tnativeEvent.target.offsetHeight;\n\t\t\t} else {\n\t\t\t\ty = selectionData.region.bottom;\n\t\t\t}\n\t\t}\n\n\t\treturn y;\n\t},\n};\n\nexport default WidgetInteractionPoint;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from './lang';\n\n/**\n * Attribute implementation.\n *\n * @class Attribute\n * @constructor\n */\nfunction Attribute(config) {\n\tthis.__config__ = config || {};\n\tthis.__ATTRS__ = {};\n}\n\nAttribute.prototype = {\n\tconstructor: Attribute,\n\n\t/**\n\t * Retrieves the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method get\n\t * @param {String} attr The attribute which value should be retrieved.\n\t * @return {Any} The value of the attribute.\n\t */\n\tget(attr) {\n\t\tconst currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tlet curValue = this.__ATTRS__[attr];\n\n\t\tif (currentAttr.getter) {\n\t\t\tcurValue = this._callStringOrFunction(currentAttr.getter, curValue);\n\t\t}\n\n\t\treturn curValue;\n\t},\n\n\t/**\n\t * Sets the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method set\n\t * @param {String} attr The attribute which value should be set.\n\t * @param {Any} value The value which should be set to the attribute.\n\t */\n\tset(attr, value) {\n\t\tconst currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tif (currentAttr.readOnly) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.writeOnce && this._isInitialized(attr)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.setter) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Calls the provided param as function with the supplied arguments.\n\t * If param provided as string, a corresponding function in this object will\n\t * be called. If provided param is a function, it will be directly called.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _callStringOrFunction\n\t * @param  {Any|Array} args The arguments which will be provided to the called function\n\t * @param  {String|Function} stringOrFunction The function which should be called\n\t * @protected\n\t * @return {Any} The returned value from the called function\n\t */\n\t_callStringOrFunction(stringOrFunction, args) {\n\t\tlet result = null;\n\n\t\tif (!Lang.isArray(args)) {\n\t\t\targs = [args];\n\t\t}\n\n\t\tif (\n\t\t\tLang.isString(stringOrFunction) &&\n\t\t\tLang.isFunction(this[stringOrFunction])\n\t\t) {\n\t\t\tresult = this[stringOrFunction](...args);\n\t\t} else if (Lang.isFunction(stringOrFunction)) {\n\t\t\tresult = stringOrFunction.apply(this, args);\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Initializes an attribute. Sets its default value depending on the flags of the\n\t * attribute and the passed configuration object to the constructor.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _init\n\t * @param {String} attr The name of the attribute which have to be initialized.\n\t * @protected\n\t */\n\t_init(attr) {\n\t\tlet value;\n\n\t\tconst currentAttr = this.constructor.ATTRS[attr];\n\n\t\t// Check if there is default value or passed one via configuration object\n\t\tconst hasDefaultValue = Object.prototype.hasOwnProperty.call(\n\t\t\tcurrentAttr,\n\t\t\t'value'\n\t\t);\n\t\tconst hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(\n\t\t\tthis.__config__,\n\t\t\tattr\n\t\t);\n\n\t\t// If there is valueFn, set the value to be the result of invocation of this function\n\t\tif (currentAttr.valueFn) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.valueFn, value);\n\n\t\t\tthis.__ATTRS__[attr] = value;\n\t\t}\n\t\t// else if the attribute has readOnly flag, set the default value from the attribute,\n\t\t// regardless if there is value or not\n\t\telse if (currentAttr.readOnly) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\t\t// else if the attribute has writeOnce value, set it from the passed configuration or from the\n\t\t// default value, in this order. Otherwise, return miserable.\n\t\telse if (currentAttr.writeOnce) {\n\t\t\tif (hasPassedValueViaConfig) {\n\t\t\t\tvalue = this.__config__[attr];\n\t\t\t} else if (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// These two cases below are easy - set the value to be from the passed config or\n\t\t// from the default value, in this order.\n\t\telse if (hasPassedValueViaConfig) {\n\t\t\tvalue = this.__config__[attr];\n\t\t} else if (hasDefaultValue) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\n\t\t// If there is validator, and user passed config object - check the returned value.\n\t\t// If it is false, then set as initial value the default one.\n\t\t// However, if there is no default value, just return.\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\thasPassedValueViaConfig &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\tif (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If there is setter and user passed config object - pass the value thought the setter.\n\t\t// The value might be one from defaultFn, default value or provided from the config.\n\t\tif (currentAttr.setter && hasPassedValueViaConfig) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\t// Finally, set the value as initial value to the storage with values.\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Checks if an attribute is initialized. An attribute is considered as initialized\n\t * when there is an own property with this name in the local collection of attribute values\n\t * for the current instance.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _isInitialized\n\t * @param {String} attr The attribute which should be checked if it is initialized.\n\t * @protected\n\t * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.\n\t */\n\t_isInitialized(attr) {\n\t\treturn Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);\n\t},\n};\n\nexport default Attribute;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst tableSelectionGetArrowBoxClasses = function() {\n\treturn 'ae-arrow-box ae-arrow-box-bottom';\n};\n\nconst SelectionGetArrowBoxClasses = {\n\ttable: tableSelectionGetArrowBoxClasses,\n};\n\nexport default SelectionGetArrowBoxClasses;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\n// Default gutter value for toolbar positioning\nconst DEFAULT_GUTTER = {\n\tleft: 0,\n\ttop: 0,\n};\n\n/**\n * Centers a Toolbar according to given rectangle\n *\n * @method centerToolbar\n * @param {Object} toolbar The toolbar to be centered\n * @param {Object} rect The rectangle according to which the Toolbar will be centered\n */\nconst centerToolbar = function(toolbar, rect) {\n\tconst toolbarNode = ReactDOM.findDOMNode(toolbar);\n\n\tconst nativeEditor = toolbar.context.editor.get('nativeEditor');\n\tconst uiNode = nativeEditor.config.uiNode || document.body;\n\tconst uiNodeStyle = getComputedStyle(uiNode);\n\tconst uiNodeMarginLeft = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t10\n\t);\n\tconst uiNodeMarginRight = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t10\n\t);\n\tconst totalWidth =\n\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\tconst halfNodeWidth = toolbarNode.offsetWidth / 2;\n\tconst scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();\n\n\tconst gutter = toolbar.props.gutter || DEFAULT_GUTTER;\n\n\tconst widgetXY = toolbar.getWidgetXYPoint(\n\t\trect.left + rect.width / 2 - scrollPosition.x,\n\t\trect.top + scrollPosition.y,\n\t\tCKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t);\n\n\tconst endPosition = [\n\t\trect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x,\n\t\trect.top - toolbarNode.offsetHeight + scrollPosition.y - gutter.top,\n\t];\n\n\tif (endPosition[0] < 0) {\n\t\tendPosition[0] = 0;\n\t} else if (endPosition[0] > totalWidth - toolbarNode.offsetWidth) {\n\t\tendPosition[0] = totalWidth - toolbarNode.offsetWidth;\n\t}\n\n\ttoolbar.moveToPoint(widgetXY, endPosition);\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method imageSelectionSetPosition\n * @param {Object} payload Payload, should contain the selection data for retrieving the\n * client rectangle of the selected image\n * @return {Boolean} True, in all cases\n */\nconst imageSelectionSetPosition = function(payload) {\n\tconst selectionData = payload.selectionData\n\t\t? payload.selectionData\n\t\t: payload.editorEvent\n\t\t? payload.editorEvent.data.selectionData\n\t\t: null;\n\n\tif (selectionData && selectionData.element) {\n\t\tconst nativeEditor = payload.editor.get('nativeEditor');\n\t\tconst uiNode = nativeEditor.config.uiNode;\n\n\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\tconst rect = selectionData.element.getClientRect();\n\t\trect.top += scrollTop;\n\n\t\tcenterToolbar(this, rect);\n\n\t\treturn true;\n\t}\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method tableSelectionSetPosition\n * @param {Object} payload Object, which contains the selection data for retrieving the\n * client rectangle of the selected table\n * @return {Boolean} True, in all cases\n */\nconst tableSelectionSetPosition = function(payload) {\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst uiNode = nativeEditor.config.uiNode;\n\n\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\tconst table = new CKEDITOR.Table(nativeEditor).getFromSelection();\n\tconst rect = table.getClientRect();\n\trect.top += scrollTop;\n\n\tcenterToolbar(this, rect);\n\n\treturn true;\n};\n\nconst SelectionSetPosition = {\n\timage: imageSelectionSetPosition,\n\ttable: tableSelectionSetPosition,\n};\n\nexport default SelectionSetPosition;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport SelectionGetArrowBoxClasses from './selection-arrowbox';\nimport SelectionSetPosition from './selection-position';\nimport SelectionTest from './selection-test';\n\nconst Selections = [\n\t{\n\t\tname: 'embed',\n\t\tbuttons: ['embedRemove', 'embedEdit'],\n\t\ttest: SelectionTest.embed,\n\t},\n\t{\n\t\tname: 'embedUrl',\n\t\tbuttons: ['embedVideo', 'embedVideoEdit'],\n\t\ttest: SelectionTest.embedUrl,\n\t},\n\t{\n\t\tname: 'link',\n\t\tbuttons: ['linkEdit'],\n\t\ttest: SelectionTest.link,\n\t},\n\t{\n\t\tname: 'image',\n\t\tbuttons: ['imageLeft', 'imageCenter', 'imageRight', 'removeImage'],\n\t\tsetPosition: SelectionSetPosition.image,\n\t\ttest: SelectionTest.image,\n\t},\n\t{\n\t\tname: 'text',\n\t\tbuttons: {\n\t\t\tfull: [\n\t\t\t\t[\n\t\t\t\t\t'Font',\n\t\t\t\t\t'FontSize',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'bold',\n\t\t\t\t\t'italic',\n\t\t\t\t\t'underline',\n\t\t\t\t\t'strike',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'link',\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t'paragraphAlign',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'ul',\n\t\t\t\t\t'ol',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'h1',\n\t\t\t\t\t'h2',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'indentBlock',\n\t\t\t\t\t'outdentBlock',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'TextColor',\n\t\t\t\t\t'BGColor',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'code',\n\t\t\t\t\t'quote',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'removeFormat',\n\t\t\t\t],\n\t\t\t],\n\n\t\t\tsimple: ['styles', 'bold', 'italic', 'underline', 'link'],\n\t\t},\n\t\ttest: SelectionTest.text,\n\t},\n\t{\n\t\tname: 'table',\n\t\tbuttons: [\n\t\t\t'tableHeading',\n\t\t\t'tableRow',\n\t\t\t'tableColumn',\n\t\t\t'tableCell',\n\t\t\t'tableRemove',\n\t\t],\n\t\tgetArrowBoxClasses: SelectionGetArrowBoxClasses.table,\n\t\tsetPosition: SelectionSetPosition.table,\n\t\ttest: SelectionTest.table,\n\t},\n];\n\nexport default Selections;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport './addimages';\n\nimport './autolink';\n\nimport './autolist';\n\nimport './dragresize';\n\nimport './dragresize_ie';\n\nimport './dragresize_ie11';\n\nimport './embed';\nimport embedurl from './embedurl';\n\nimport './imagealignment';\n\nimport './pasteimages';\n\nimport './placeholder';\n\nimport './selectionkeystrokes';\n\nimport './tableresize';\n\nimport './tabletools';\n\nexport {embedurl};\n","import * as AlloyEditor from '../../src/adapter/main';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nif (typeof window !== 'undefined') {\n\twindow.CKEDITOR.disableAutoInline = true;\n\twindow.AlloyEditor = AlloyEditor;\n\tAlloyEditor.React = React;\n\tAlloyEditor.React.PropTypes = PropTypes;\n\tAlloyEditor.VERSION = require('./version');\n}\n\nexport {AlloyEditor};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nexport {default as ButtonActionStyle} from './button-action-style';\nexport {default as ButtonCommandActive} from './button-command-active';\nexport {default as ButtonCommand} from './button-command';\nexport {default as ButtonKeystroke} from './button-keystroke';\nexport {default as ButtonProps} from './button-props';\nexport {default as ButtonStateClasses} from './button-state-classes';\nexport {default as ButtonStyle} from './button-style';\nexport {default as ToolbarButtons} from './toolbar-buttons';\nexport {default as WidgetDropdown} from './widget-dropdown';\nexport {default as WidgetExclusive} from './widget-exclusive';\nexport {default as WidgetFocusManager} from './widget-focus-manager';\n","/** @license React v16.13.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var l=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.forward_ref\"):60112,y=n?Symbol.for(\"react.suspense\"):60113,z=n?Symbol.for(\"react.memo\"):60115,A=n?Symbol.for(\"react.lazy\"):\n60116,B=\"function\"===typeof Symbol&&Symbol.iterator;function C(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function F(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}F.prototype.isReactComponent={};F.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(C(85));this.updater.enqueueSetState(this,a,b,\"setState\")};F.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction G(){}G.prototype=F.prototype;function H(a,b,c){this.props=a;this.context=b;this.refs=E;this.updater=c||D}var I=H.prototype=new G;I.constructor=H;l(I,F.prototype);I.isPureReactComponent=!0;var J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,c){var e,d={},g=null,k=null;if(null!=b)for(e in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,e)&&!L.hasOwnProperty(e)&&(d[e]=b[e]);var f=arguments.length-2;if(1===f)d.children=c;else if(1<f){for(var h=Array(f),m=0;m<f;m++)h[m]=arguments[m+2];d.children=h}if(a&&a.defaultProps)for(e in f=a.defaultProps,f)void 0===d[e]&&(d[e]=f[e]);return{$$typeof:p,type:a,key:g,ref:k,props:d,_owner:J.current}}\nfunction N(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g,Q=[];function R(a,b,c,e){if(Q.length){var d=Q.pop();d.result=a;d.keyPrefix=b;d.func=c;d.context=e;d.count=0;return d}return{result:a,keyPrefix:b,func:c,context:e,count:0}}\nfunction S(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Q.length&&Q.push(a)}\nfunction T(a,b,c,e){var d=typeof a;if(\"undefined\"===d||\"boolean\"===d)a=null;var g=!1;if(null===a)g=!0;else switch(d){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return c(e,a,\"\"===b?\".\"+U(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var k=0;k<a.length;k++){d=a[k];var f=b+U(d,k);g+=T(d,f,c,e)}else if(null===a||\"object\"!==typeof a?f=null:(f=B&&a[B]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),k=\n0;!(d=a.next()).done;)d=d.value,f=b+U(d,k++),g+=T(d,f,c,e);else if(\"object\"===d)throw c=\"\"+a,Error(C(31,\"[object Object]\"===c?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":c,\"\"));return g}function V(a,b,c){return null==a?0:T(a,\"\",b,c)}function U(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function W(a,b){a.func.call(a.context,b,a.count++)}\nfunction aa(a,b,c){var e=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?X(a,e,c,function(a){return a}):null!=a&&(O(a)&&(a=N(a,d+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(P,\"$&/\")+\"/\")+c)),e.push(a))}function X(a,b,c,e,d){var g=\"\";null!=c&&(g=(\"\"+c).replace(P,\"$&/\")+\"/\");b=R(b,g,e,d);V(a,aa,b);S(b)}var Y={current:null};function Z(){var a=Y.current;if(null===a)throw Error(C(321));return a}\nvar ba={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:function(a,b,c){if(null==a)return a;var e=[];X(a,e,null,b,c);return e},forEach:function(a,b,c){if(null==a)return a;b=R(null,null,b,c);V(a,W,b);S(b)},count:function(a){return V(a,function(){return null},null)},toArray:function(a){var b=[];X(a,b,null,function(a){return a});return b},only:function(a){if(!O(a))throw Error(C(143));return a}};\nexports.Component=F;exports.Fragment=r;exports.Profiler=u;exports.PureComponent=H;exports.StrictMode=t;exports.Suspense=y;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ba;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(C(267,a));var e=l({},a.props),d=a.key,g=a.ref,k=a._owner;if(null!=b){void 0!==b.ref&&(g=b.ref,k=J.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var f=a.type.defaultProps;for(h in b)K.call(b,h)&&!L.hasOwnProperty(h)&&(e[h]=void 0===b[h]&&void 0!==f?f[h]:b[h])}var h=arguments.length-2;if(1===h)e.children=c;else if(1<h){f=Array(h);for(var m=0;m<h;m++)f[m]=arguments[m+2];e.children=f}return{$$typeof:p,type:a.type,\nkey:d,ref:g,props:e,_owner:k}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:x,render:a}};exports.isValidElement=O;\nexports.lazy=function(a){return{$$typeof:A,_ctor:a,_status:-1,_result:null}};exports.memo=function(a,b){return{$$typeof:z,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return Z().useCallback(a,b)};exports.useContext=function(a,b){return Z().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return Z().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return Z().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return Z().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return Z().useMemo(a,b)};exports.useReducer=function(a,b,c){return Z().useReducer(a,b,c)};exports.useRef=function(a){return Z().useRef(a)};exports.useState=function(a){return Z().useState(a)};exports.version=\"16.13.1\";\n","/** @license React v16.13.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),n=require(\"object-assign\"),r=require(\"scheduler\");function u(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(u(227));\nfunction ba(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var da=!1,ea=null,fa=!1,ha=null,ia={onError:function(a){da=!0;ea=a}};function ja(a,b,c,d,e,f,g,h,k){da=!1;ea=null;ba.apply(ia,arguments)}function ka(a,b,c,d,e,f,g,h,k){ja.apply(this,arguments);if(da){if(da){var l=ea;da=!1;ea=null}else throw Error(u(198));fa||(fa=!0,ha=l)}}var la=null,ma=null,na=null;\nfunction oa(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=na(c);ka(d,b,void 0,a);a.currentTarget=null}var pa=null,qa={};\nfunction ra(){if(pa)for(var a in qa){var b=qa[a],c=pa.indexOf(a);if(!(-1<c))throw Error(u(96,a));if(!sa[c]){if(!b.extractEvents)throw Error(u(97,a));sa[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;if(ta.hasOwnProperty(h))throw Error(u(99,h));ta[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&ua(k[e],g,h);e=!0}else f.registrationName?(ua(f.registrationName,g,h),e=!0):e=!1;if(!e)throw Error(u(98,d,a));}}}}\nfunction ua(a,b,c){if(va[a])throw Error(u(100,a));va[a]=b;wa[a]=b.eventTypes[c].dependencies}var sa=[],ta={},va={},wa={};function xa(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!qa.hasOwnProperty(c)||qa[c]!==d){if(qa[c])throw Error(u(102,c));qa[c]=d;b=!0}}b&&ra()}var ya=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),za=null,Aa=null,Ba=null;\nfunction Ca(a){if(a=ma(a)){if(\"function\"!==typeof za)throw Error(u(280));var b=a.stateNode;b&&(b=la(b),za(a.stateNode,a.type,b))}}function Da(a){Aa?Ba?Ba.push(a):Ba=[a]:Aa=a}function Ea(){if(Aa){var a=Aa,b=Ba;Ba=Aa=null;Ca(a);if(b)for(a=0;a<b.length;a++)Ca(b[a])}}function Fa(a,b){return a(b)}function Ga(a,b,c,d,e){return a(b,c,d,e)}function Ha(){}var Ia=Fa,Ja=!1,Ka=!1;function La(){if(null!==Aa||null!==Ba)Ha(),Ea()}\nfunction Ma(a,b,c){if(Ka)return a(b,c);Ka=!0;try{return Ia(a,b,c)}finally{Ka=!1,La()}}var Na=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,Oa=Object.prototype.hasOwnProperty,Pa={},Qa={};\nfunction Ra(a){if(Oa.call(Qa,a))return!0;if(Oa.call(Pa,a))return!1;if(Na.test(a))return Qa[a]=!0;Pa[a]=!0;return!1}function Sa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction Ta(a,b,c,d){if(null===b||\"undefined\"===typeof b||Sa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f}var C={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){C[a]=new v(a,0,!1,a,null,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];C[b]=new v(b,1,!1,a[1],null,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){C[a]=new v(a,2,!1,a.toLowerCase(),null,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){C[a]=new v(a,2,!1,a,null,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){C[a]=new v(a,3,!1,a.toLowerCase(),null,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){C[a]=new v(a,3,!0,a,null,!1)});[\"capture\",\"download\"].forEach(function(a){C[a]=new v(a,4,!1,a,null,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){C[a]=new v(a,6,!1,a,null,!1)});[\"rowSpan\",\"start\"].forEach(function(a){C[a]=new v(a,5,!1,a.toLowerCase(),null,!1)});var Ua=/[\\-:]([a-z])/g;function Va(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(Ua,\nVa);C[b]=new v(b,1,!1,a,null,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(Ua,Va);C[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(Ua,Va);C[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){C[a]=new v(a,1,!1,a.toLowerCase(),null,!1)});\nC.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){C[a]=new v(a,1,!1,a.toLowerCase(),null,!0)});var Wa=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Wa.hasOwnProperty(\"ReactCurrentDispatcher\")||(Wa.ReactCurrentDispatcher={current:null});Wa.hasOwnProperty(\"ReactCurrentBatchConfig\")||(Wa.ReactCurrentBatchConfig={suspense:null});\nfunction Xa(a,b,c,d){var e=C.hasOwnProperty(b)?C[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(Ta(b,c,e,d)&&(c=null),d||null===e?Ra(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar Ya=/^(.*)[\\\\\\/]/,E=\"function\"===typeof Symbol&&Symbol.for,Za=E?Symbol.for(\"react.element\"):60103,$a=E?Symbol.for(\"react.portal\"):60106,ab=E?Symbol.for(\"react.fragment\"):60107,bb=E?Symbol.for(\"react.strict_mode\"):60108,cb=E?Symbol.for(\"react.profiler\"):60114,db=E?Symbol.for(\"react.provider\"):60109,eb=E?Symbol.for(\"react.context\"):60110,fb=E?Symbol.for(\"react.concurrent_mode\"):60111,gb=E?Symbol.for(\"react.forward_ref\"):60112,hb=E?Symbol.for(\"react.suspense\"):60113,ib=E?Symbol.for(\"react.suspense_list\"):\n60120,jb=E?Symbol.for(\"react.memo\"):60115,kb=E?Symbol.for(\"react.lazy\"):60116,lb=E?Symbol.for(\"react.block\"):60121,mb=\"function\"===typeof Symbol&&Symbol.iterator;function nb(a){if(null===a||\"object\"!==typeof a)return null;a=mb&&a[mb]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function ob(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b();a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}}\nfunction pb(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ab:return\"Fragment\";case $a:return\"Portal\";case cb:return\"Profiler\";case bb:return\"StrictMode\";case hb:return\"Suspense\";case ib:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case eb:return\"Context.Consumer\";case db:return\"Context.Provider\";case gb:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\n\"ForwardRef\");case jb:return pb(a.type);case lb:return pb(a.render);case kb:if(a=1===a._status?a._result:null)return pb(a)}return null}function qb(a){var b=\"\";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c=\"\";break a;default:var d=a._debugOwner,e=a._debugSource,f=pb(a.type);c=null;d&&(c=pb(d.type));d=f;f=\"\";e?f=\" (at \"+e.fileName.replace(Ya,\"\")+\":\"+e.lineNumber+\")\":c&&(f=\" (created by \"+c+\")\");c=\"\\n    in \"+(d||\"Unknown\")+f}b+=c;a=a.return}while(a);return b}\nfunction rb(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function sb(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction tb(a){var b=sb(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function xb(a){a._valueTracker||(a._valueTracker=tb(a))}function yb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=sb(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function zb(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}\nfunction Ab(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=rb(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function Bb(a,b){b=b.checked;null!=b&&Xa(a,\"checked\",b,!1)}\nfunction Cb(a,b){Bb(a,b);var c=rb(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?Db(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&Db(a,b.type,rb(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction Eb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction Db(a,b,c){if(\"number\"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function Fb(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function Gb(a,b){a=n({children:void 0},b);if(b=Fb(b.children))a.children=b;return a}\nfunction Hb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+rb(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction Ib(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(u(91));return n({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function Jb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(u(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(u(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:rb(c)}}\nfunction Kb(a,b){var c=rb(b.value),d=rb(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function Lb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var Mb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction Nb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function Ob(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?Nb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar Pb,Qb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==Mb.svg||\"innerHTML\"in a)a.innerHTML=b;else{Pb=Pb||document.createElement(\"div\");Pb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=Pb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction Rb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}function Sb(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Tb={animationend:Sb(\"Animation\",\"AnimationEnd\"),animationiteration:Sb(\"Animation\",\"AnimationIteration\"),animationstart:Sb(\"Animation\",\"AnimationStart\"),transitionend:Sb(\"Transition\",\"TransitionEnd\")},Ub={},Vb={};\nya&&(Vb=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Tb.animationend.animation,delete Tb.animationiteration.animation,delete Tb.animationstart.animation),\"TransitionEvent\"in window||delete Tb.transitionend.transition);function Wb(a){if(Ub[a])return Ub[a];if(!Tb[a])return a;var b=Tb[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Vb)return Ub[a]=b[c];return a}\nvar Xb=Wb(\"animationend\"),Yb=Wb(\"animationiteration\"),Zb=Wb(\"animationstart\"),$b=Wb(\"transitionend\"),ac=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),bc=new (\"function\"===typeof WeakMap?WeakMap:Map);function cc(a){var b=bc.get(a);void 0===b&&(b=new Map,bc.set(a,b));return b}\nfunction dc(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.effectTag&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function ec(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function fc(a){if(dc(a)!==a)throw Error(u(188));}\nfunction gc(a){var b=a.alternate;if(!b){b=dc(a);if(null===b)throw Error(u(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return fc(e),a;if(f===d)return fc(e),b;f=f.sibling}throw Error(u(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(u(189));}}if(c.alternate!==d)throw Error(u(190));}if(3!==c.tag)throw Error(u(188));return c.stateNode.current===c?a:b}function hc(a){a=gc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction ic(a,b){if(null==b)throw Error(u(30));if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function jc(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var kc=null;\nfunction lc(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)oa(a,b[d],c[d]);else b&&oa(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}function mc(a){null!==a&&(kc=ic(kc,a));a=kc;kc=null;if(a){jc(a,lc);if(kc)throw Error(u(95));if(fa)throw a=ha,fa=!1,ha=null,a;}}\nfunction nc(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function oc(a){if(!ya)return!1;a=\"on\"+a;var b=a in document;b||(b=document.createElement(\"div\"),b.setAttribute(a,\"return;\"),b=\"function\"===typeof b[a]);return b}var pc=[];function qc(a){a.topLevelType=null;a.nativeEvent=null;a.targetInst=null;a.ancestors.length=0;10>pc.length&&pc.push(a)}\nfunction rc(a,b,c,d){if(pc.length){var e=pc.pop();e.topLevelType=a;e.eventSystemFlags=d;e.nativeEvent=b;e.targetInst=c;return e}return{topLevelType:a,eventSystemFlags:d,nativeEvent:b,targetInst:c,ancestors:[]}}\nfunction sc(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d=c;if(3===d.tag)d=d.stateNode.containerInfo;else{for(;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo}if(!d)break;b=c.tag;5!==b&&6!==b||a.ancestors.push(c);c=tc(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=nc(a.nativeEvent);d=a.topLevelType;var f=a.nativeEvent,g=a.eventSystemFlags;0===c&&(g|=64);for(var h=null,k=0;k<sa.length;k++){var l=sa[k];l&&(l=l.extractEvents(d,b,f,e,g))&&(h=\nic(h,l))}mc(h)}}function uc(a,b,c){if(!c.has(a)){switch(a){case \"scroll\":vc(b,\"scroll\",!0);break;case \"focus\":case \"blur\":vc(b,\"focus\",!0);vc(b,\"blur\",!0);c.set(\"blur\",null);c.set(\"focus\",null);break;case \"cancel\":case \"close\":oc(a)&&vc(b,a,!0);break;case \"invalid\":case \"submit\":case \"reset\":break;default:-1===ac.indexOf(a)&&F(a,b)}c.set(a,null)}}\nvar wc,xc,yc,zc=!1,Ac=[],Bc=null,Cc=null,Dc=null,Ec=new Map,Fc=new Map,Gc=[],Hc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit\".split(\" \"),Ic=\"focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture\".split(\" \");\nfunction Jc(a,b){var c=cc(b);Hc.forEach(function(a){uc(a,b,c)});Ic.forEach(function(a){uc(a,b,c)})}function Kc(a,b,c,d,e){return{blockedOn:a,topLevelType:b,eventSystemFlags:c|32,nativeEvent:e,container:d}}\nfunction Lc(a,b){switch(a){case \"focus\":case \"blur\":Bc=null;break;case \"dragenter\":case \"dragleave\":Cc=null;break;case \"mouseover\":case \"mouseout\":Dc=null;break;case \"pointerover\":case \"pointerout\":Ec.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Fc.delete(b.pointerId)}}function Mc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=Kc(b,c,d,e,f),null!==b&&(b=Nc(b),null!==b&&xc(b)),a;a.eventSystemFlags|=d;return a}\nfunction Oc(a,b,c,d,e){switch(b){case \"focus\":return Bc=Mc(Bc,a,b,c,d,e),!0;case \"dragenter\":return Cc=Mc(Cc,a,b,c,d,e),!0;case \"mouseover\":return Dc=Mc(Dc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Ec.set(f,Mc(Ec.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Fc.set(f,Mc(Fc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Pc(a){var b=tc(a.target);if(null!==b){var c=dc(b);if(null!==c)if(b=c.tag,13===b){if(b=ec(c),null!==b){a.blockedOn=b;r.unstable_runWithPriority(a.priority,function(){yc(c)});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}function Qc(a){if(null!==a.blockedOn)return!1;var b=Rc(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);if(null!==b){var c=Nc(b);null!==c&&xc(c);a.blockedOn=b;return!1}return!0}\nfunction Sc(a,b,c){Qc(a)&&c.delete(b)}function Tc(){for(zc=!1;0<Ac.length;){var a=Ac[0];if(null!==a.blockedOn){a=Nc(a.blockedOn);null!==a&&wc(a);break}var b=Rc(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);null!==b?a.blockedOn=b:Ac.shift()}null!==Bc&&Qc(Bc)&&(Bc=null);null!==Cc&&Qc(Cc)&&(Cc=null);null!==Dc&&Qc(Dc)&&(Dc=null);Ec.forEach(Sc);Fc.forEach(Sc)}function Uc(a,b){a.blockedOn===b&&(a.blockedOn=null,zc||(zc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tc)))}\nfunction Vc(a){function b(b){return Uc(b,a)}if(0<Ac.length){Uc(Ac[0],a);for(var c=1;c<Ac.length;c++){var d=Ac[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Bc&&Uc(Bc,a);null!==Cc&&Uc(Cc,a);null!==Dc&&Uc(Dc,a);Ec.forEach(b);Fc.forEach(b);for(c=0;c<Gc.length;c++)d=Gc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Gc.length&&(c=Gc[0],null===c.blockedOn);)Pc(c),null===c.blockedOn&&Gc.shift()}\nvar Wc={},Yc=new Map,Zc=new Map,$c=[\"abort\",\"abort\",Xb,\"animationEnd\",Yb,\"animationIteration\",Zb,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\n\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",$b,\"transitionEnd\",\"waiting\",\"waiting\"];function ad(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1],f=\"on\"+(e[0].toUpperCase()+e.slice(1));f={phasedRegistrationNames:{bubbled:f,captured:f+\"Capture\"},dependencies:[d],eventPriority:b};Zc.set(d,b);Yc.set(d,f);Wc[e]=f}}\nad(\"blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),0);\nad(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);ad($c,2);for(var bd=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),cd=0;cd<bd.length;cd++)Zc.set(bd[cd],0);\nvar dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function F(a,b){vc(b,a,!1)}function vc(a,b,c){var d=Zc.get(b);switch(void 0===d?2:d){case 0:d=gd.bind(null,b,1,a);break;case 1:d=hd.bind(null,b,1,a);break;default:d=id.bind(null,b,1,a)}c?a.addEventListener(b,d,!0):a.addEventListener(b,d,!1)}function gd(a,b,c,d){Ja||Ha();var e=id,f=Ja;Ja=!0;try{Ga(e,a,b,c,d)}finally{(Ja=f)||La()}}function hd(a,b,c,d){ed(dd,id.bind(null,a,b,c,d))}\nfunction id(a,b,c,d){if(fd)if(0<Ac.length&&-1<Hc.indexOf(a))a=Kc(null,a,b,c,d),Ac.push(a);else{var e=Rc(a,b,c,d);if(null===e)Lc(a,d);else if(-1<Hc.indexOf(a))a=Kc(e,a,b,c,d),Ac.push(a);else if(!Oc(e,a,b,c,d)){Lc(a,d);a=rc(a,d,null,b);try{Ma(sc,a)}finally{qc(a)}}}}\nfunction Rc(a,b,c,d){c=nc(d);c=tc(c);if(null!==c){var e=dc(c);if(null===e)c=null;else{var f=e.tag;if(13===f){c=ec(e);if(null!==c)return c;c=null}else if(3===f){if(e.stateNode.hydrate)return 3===e.tag?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null)}}a=rc(a,d,c,b);try{Ma(sc,a)}finally{qc(a)}return null}\nvar jd={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kd=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(jd).forEach(function(a){kd.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);jd[b]=jd[a]})});function ld(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||jd.hasOwnProperty(a)&&jd[a]?(\"\"+b).trim():b+\"px\"}\nfunction md(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=ld(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var nd=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction od(a,b){if(b){if(nd[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(u(137,a,\"\"));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(u(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(u(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(u(62,\"\"));}}\nfunction pd(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var qd=Mb.html;function rd(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=cc(a);b=wa[b];for(var d=0;d<b.length;d++)uc(b[d],a,c)}function sd(){}\nfunction td(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function ud(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vd(a,b){var c=ud(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=ud(c)}}\nfunction wd(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?wd(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function xd(){for(var a=window,b=td();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=td(a.document)}return b}\nfunction yd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}var zd=\"$\",Ad=\"/$\",Bd=\"$?\",Cd=\"$!\",Dd=null,Ed=null;function Fd(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction Gd(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var Hd=\"function\"===typeof setTimeout?setTimeout:void 0,Id=\"function\"===typeof clearTimeout?clearTimeout:void 0;function Jd(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}\nfunction Kd(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(c===zd||c===Cd||c===Bd){if(0===b)return a;b--}else c===Ad&&b++}a=a.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),Md=\"__reactInternalInstance$\"+Ld,Nd=\"__reactEventHandlers$\"+Ld,Od=\"__reactContainere$\"+Ld;\nfunction tc(a){var b=a[Md];if(b)return b;for(var c=a.parentNode;c;){if(b=c[Od]||c[Md]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Kd(a);null!==a;){if(c=a[Md])return c;a=Kd(a)}return b}a=c;c=a.parentNode}return null}function Nc(a){a=a[Md]||a[Od];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Pd(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(u(33));}function Qd(a){return a[Nd]||null}\nfunction Rd(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction Sd(a,b){var c=a.stateNode;if(!c)return null;var d=la(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==typeof c)throw Error(u(231,\nb,typeof c));return c}function Td(a,b,c){if(b=Sd(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=ic(c._dispatchListeners,b),c._dispatchInstances=ic(c._dispatchInstances,a)}function Ud(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Rd(b);for(b=c.length;0<b--;)Td(c[b],\"captured\",a);for(b=0;b<c.length;b++)Td(c[b],\"bubbled\",a)}}\nfunction Vd(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Sd(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=ic(c._dispatchListeners,b),c._dispatchInstances=ic(c._dispatchInstances,a))}function Wd(a){a&&a.dispatchConfig.registrationName&&Vd(a._targetInst,null,a)}function Xd(a){jc(a,Ud)}var Yd=null,Zd=null,$d=null;\nfunction ae(){if($d)return $d;var a,b=Zd,c=b.length,d,e=\"value\"in Yd?Yd.value:Yd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return $d=e.slice(a,1<d?1-d:void 0)}function be(){return!0}function ce(){return!1}\nfunction G(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?be:ce;this.isPropagationStopped=ce;return this}\nn(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=be)},persist:function(){this.isPersistent=be},isPersistent:ce,destructor:function(){var a=this.constructor.Interface,\nb;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ce;this._dispatchInstances=this._dispatchListeners=null}});G.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\nG.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;n(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=n({},d.Interface,a);c.extend=d.extend;de(c);return c};de(G);function ee(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}\nfunction fe(a){if(!(a instanceof this))throw Error(u(279));a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function de(a){a.eventPool=[];a.getPooled=ee;a.release=fe}var ge=G.extend({data:null}),he=G.extend({data:null}),ie=[9,13,27,32],je=ya&&\"CompositionEvent\"in window,ke=null;ya&&\"documentMode\"in document&&(ke=document.documentMode);\nvar le=ya&&\"TextEvent\"in window&&!ke,me=ya&&(!je||ke&&8<ke&&11>=ke),ne=String.fromCharCode(32),oe={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},pe=!1;\nfunction qe(a,b){switch(a){case \"keyup\":return-1!==ie.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"blur\":return!0;default:return!1}}function re(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var se=!1;function te(a,b){switch(a){case \"compositionend\":return re(b);case \"keypress\":if(32!==b.which)return null;pe=!0;return ne;case \"textInput\":return a=b.data,a===ne&&pe?null:a;default:return null}}\nfunction ue(a,b){if(se)return\"compositionend\"===a||!je&&qe(a,b)?(a=ae(),$d=Zd=Yd=null,se=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return me&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar ve={eventTypes:oe,extractEvents:function(a,b,c,d){var e;if(je)b:{switch(a){case \"compositionstart\":var f=oe.compositionStart;break b;case \"compositionend\":f=oe.compositionEnd;break b;case \"compositionupdate\":f=oe.compositionUpdate;break b}f=void 0}else se?qe(a,c)&&(f=oe.compositionEnd):\"keydown\"===a&&229===c.keyCode&&(f=oe.compositionStart);f?(me&&\"ko\"!==c.locale&&(se||f!==oe.compositionStart?f===oe.compositionEnd&&se&&(e=ae()):(Yd=d,Zd=\"value\"in Yd?Yd.value:Yd.textContent,se=!0)),f=ge.getPooled(f,\nb,c,d),e?f.data=e:(e=re(c),null!==e&&(f.data=e)),Xd(f),e=f):e=null;(a=le?te(a,c):ue(a,c))?(b=he.getPooled(oe.beforeInput,b,c,d),b.data=a,Xd(b)):b=null;return null===e?b:null===b?e:[e,b]}},we={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!we[a.type]:\"textarea\"===b?!0:!1}\nvar ye={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function ze(a,b,c){a=G.getPooled(ye.change,a,b,c);a.type=\"change\";Da(c);Xd(a);return a}var Ae=null,Be=null;function Ce(a){mc(a)}function De(a){var b=Pd(a);if(yb(b))return a}function Ee(a,b){if(\"change\"===a)return b}var Fe=!1;ya&&(Fe=oc(\"input\")&&(!document.documentMode||9<document.documentMode));\nfunction Ge(){Ae&&(Ae.detachEvent(\"onpropertychange\",He),Be=Ae=null)}function He(a){if(\"value\"===a.propertyName&&De(Be))if(a=ze(Be,a,nc(a)),Ja)mc(a);else{Ja=!0;try{Fa(Ce,a)}finally{Ja=!1,La()}}}function Ie(a,b,c){\"focus\"===a?(Ge(),Ae=b,Be=c,Ae.attachEvent(\"onpropertychange\",He)):\"blur\"===a&&Ge()}function Je(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return De(Be)}function Ke(a,b){if(\"click\"===a)return De(b)}function Le(a,b){if(\"input\"===a||\"change\"===a)return De(b)}\nvar Me={eventTypes:ye,_isInputEventSupported:Fe,extractEvents:function(a,b,c,d){var e=b?Pd(b):window,f=e.nodeName&&e.nodeName.toLowerCase();if(\"select\"===f||\"input\"===f&&\"file\"===e.type)var g=Ee;else if(xe(e))if(Fe)g=Le;else{g=Je;var h=Ie}else(f=e.nodeName)&&\"input\"===f.toLowerCase()&&(\"checkbox\"===e.type||\"radio\"===e.type)&&(g=Ke);if(g&&(g=g(a,b)))return ze(g,c,d);h&&h(a,e,b);\"blur\"===a&&(a=e._wrapperState)&&a.controlled&&\"number\"===e.type&&Db(e,\"number\",e.value)}},Ne=G.extend({view:null,detail:null}),\nOe={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pe(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Oe[a])?!!b[a]:!1}function Qe(){return Pe}\nvar Re=0,Se=0,Te=!1,Ue=!1,Ve=Ne.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if(\"movementX\"in a)return a.movementX;var b=Re;Re=a.screenX;return Te?\"mousemove\"===a.type?a.screenX-b:0:(Te=!0,0)},movementY:function(a){if(\"movementY\"in a)return a.movementY;\nvar b=Se;Se=a.screenY;return Ue?\"mousemove\"===a.type?a.screenY-b:0:(Ue=!0,0)}}),We=Ve.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xe={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",\ndependencies:[\"pointerout\",\"pointerover\"]}},Ye={eventTypes:Xe,extractEvents:function(a,b,c,d,e){var f=\"mouseover\"===a||\"pointerover\"===a,g=\"mouseout\"===a||\"pointerout\"===a;if(f&&0===(e&32)&&(c.relatedTarget||c.fromElement)||!g&&!f)return null;f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window;if(g){if(g=b,b=(b=c.relatedTarget||c.toElement)?tc(b):null,null!==b){var h=dc(b);if(b!==h||5!==b.tag&&6!==b.tag)b=null}}else g=null;if(g===b)return null;if(\"mouseout\"===a||\"mouseover\"===\na){var k=Ve;var l=Xe.mouseLeave;var m=Xe.mouseEnter;var p=\"mouse\"}else if(\"pointerout\"===a||\"pointerover\"===a)k=We,l=Xe.pointerLeave,m=Xe.pointerEnter,p=\"pointer\";a=null==g?f:Pd(g);f=null==b?f:Pd(b);l=k.getPooled(l,g,c,d);l.type=p+\"leave\";l.target=a;l.relatedTarget=f;c=k.getPooled(m,b,c,d);c.type=p+\"enter\";c.target=f;c.relatedTarget=a;d=g;p=b;if(d&&p)a:{k=d;m=p;g=0;for(a=k;a;a=Rd(a))g++;a=0;for(b=m;b;b=Rd(b))a++;for(;0<g-a;)k=Rd(k),g--;for(;0<a-g;)m=Rd(m),a--;for(;g--;){if(k===m||k===m.alternate)break a;\nk=Rd(k);m=Rd(m)}k=null}else k=null;m=k;for(k=[];d&&d!==m;){g=d.alternate;if(null!==g&&g===m)break;k.push(d);d=Rd(d)}for(d=[];p&&p!==m;){g=p.alternate;if(null!==g&&g===m)break;d.push(p);p=Rd(p)}for(p=0;p<k.length;p++)Vd(k[p],\"bubbled\",l);for(p=d.length;0<p--;)Vd(d[p],\"captured\",c);return 0===(e&64)?[l]:[l,c]}};function Ze(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var $e=\"function\"===typeof Object.is?Object.is:Ze,af=Object.prototype.hasOwnProperty;\nfunction bf(a,b){if($e(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!af.call(b,c[d])||!$e(a[c[d]],b[c[d]]))return!1;return!0}\nvar cf=ya&&\"documentMode\"in document&&11>=document.documentMode,df={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},ef=null,ff=null,gf=null,hf=!1;\nfunction jf(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(hf||null==ef||ef!==td(c))return null;c=ef;\"selectionStart\"in c&&yd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return gf&&bf(gf,c)?null:(gf=c,a=G.getPooled(df.select,ff,a,b),a.type=\"select\",a.target=ef,Xd(a),a)}\nvar kf={eventTypes:df,extractEvents:function(a,b,c,d,e,f){e=f||(d.window===d?d.document:9===d.nodeType?d:d.ownerDocument);if(!(f=!e)){a:{e=cc(e);f=wa.onSelect;for(var g=0;g<f.length;g++)if(!e.has(f[g])){e=!1;break a}e=!0}f=!e}if(f)return null;e=b?Pd(b):window;switch(a){case \"focus\":if(xe(e)||\"true\"===e.contentEditable)ef=e,ff=b,gf=null;break;case \"blur\":gf=ff=ef=null;break;case \"mousedown\":hf=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":return hf=!1,jf(c,d);case \"selectionchange\":if(cf)break;\ncase \"keydown\":case \"keyup\":return jf(c,d)}return null}},lf=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mf=G.extend({clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),nf=Ne.extend({relatedTarget:null});function of(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}\nvar pf={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},qf={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},rf=Ne.extend({key:function(a){if(a.key){var b=pf[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=of(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?qf[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(a){return\"keypress\"===\na.type?of(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===a.type?of(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),sf=Ve.extend({dataTransfer:null}),tf=Ne.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),uf=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vf=Ve.extend({deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in\na?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),wf={eventTypes:Wc,extractEvents:function(a,b,c,d){var e=Yc.get(a);if(!e)return null;switch(a){case \"keypress\":if(0===of(c))return null;case \"keydown\":case \"keyup\":a=rf;break;case \"blur\":case \"focus\":a=nf;break;case \"click\":if(2===c.button)return null;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":a=\nVe;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":a=sf;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":a=tf;break;case Xb:case Yb:case Zb:a=lf;break;case $b:a=uf;break;case \"scroll\":a=Ne;break;case \"wheel\":a=vf;break;case \"copy\":case \"cut\":case \"paste\":a=mf;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":a=\nWe;break;default:a=G}b=a.getPooled(e,b,c,d);Xd(b);return b}};if(pa)throw Error(u(101));pa=Array.prototype.slice.call(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));ra();var xf=Nc;la=Qd;ma=xf;na=Pd;xa({SimpleEventPlugin:wf,EnterLeaveEventPlugin:Ye,ChangeEventPlugin:Me,SelectEventPlugin:kf,BeforeInputEventPlugin:ve});var yf=[],zf=-1;function H(a){0>zf||(a.current=yf[zf],yf[zf]=null,zf--)}\nfunction I(a,b){zf++;yf[zf]=a.current;a.current=b}var Af={},J={current:Af},K={current:!1},Bf=Af;function Cf(a,b){var c=a.type.contextTypes;if(!c)return Af;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function L(a){a=a.childContextTypes;return null!==a&&void 0!==a}\nfunction Df(){H(K);H(J)}function Ef(a,b,c){if(J.current!==Af)throw Error(u(168));I(J,b);I(K,c)}function Ff(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(u(108,pb(b)||\"Unknown\",e));return n({},c,{},d)}function Gf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Af;Bf=J.current;I(J,a);I(K,K.current);return!0}\nfunction Hf(a,b,c){var d=a.stateNode;if(!d)throw Error(u(169));c?(a=Ff(a,b,Bf),d.__reactInternalMemoizedMergedChildContext=a,H(K),H(J),I(J,a)):H(K);I(K,c)}\nvar If=r.unstable_runWithPriority,Jf=r.unstable_scheduleCallback,Kf=r.unstable_cancelCallback,Lf=r.unstable_requestPaint,Mf=r.unstable_now,Nf=r.unstable_getCurrentPriorityLevel,Of=r.unstable_ImmediatePriority,Pf=r.unstable_UserBlockingPriority,Qf=r.unstable_NormalPriority,Rf=r.unstable_LowPriority,Sf=r.unstable_IdlePriority,Tf={},Uf=r.unstable_shouldYield,Vf=void 0!==Lf?Lf:function(){},Wf=null,Xf=null,Yf=!1,Zf=Mf(),$f=1E4>Zf?Mf:function(){return Mf()-Zf};\nfunction ag(){switch(Nf()){case Of:return 99;case Pf:return 98;case Qf:return 97;case Rf:return 96;case Sf:return 95;default:throw Error(u(332));}}function bg(a){switch(a){case 99:return Of;case 98:return Pf;case 97:return Qf;case 96:return Rf;case 95:return Sf;default:throw Error(u(332));}}function cg(a,b){a=bg(a);return If(a,b)}function dg(a,b,c){a=bg(a);return Jf(a,b,c)}function eg(a){null===Wf?(Wf=[a],Xf=Jf(Of,fg)):Wf.push(a);return Tf}function gg(){if(null!==Xf){var a=Xf;Xf=null;Kf(a)}fg()}\nfunction fg(){if(!Yf&&null!==Wf){Yf=!0;var a=0;try{var b=Wf;cg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});Wf=null}catch(c){throw null!==Wf&&(Wf=Wf.slice(a+1)),Jf(Of,gg),c;}finally{Yf=!1}}}function hg(a,b,c){c/=10;return 1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function ig(a,b){if(a&&a.defaultProps){b=n({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}var jg={current:null},kg=null,lg=null,mg=null;function ng(){mg=lg=kg=null}\nfunction og(a){var b=jg.current;H(jg);a.type._context._currentValue=b}function pg(a,b){for(;null!==a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else if(null!==c&&c.childExpirationTime<b)c.childExpirationTime=b;else break;a=a.return}}function qg(a,b){kg=a;mg=lg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(rg=!0),a.firstContext=null)}\nfunction sg(a,b){if(mg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)mg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===lg){if(null===kg)throw Error(u(308));lg=b;kg.dependencies={expirationTime:0,firstContext:b,responders:null}}else lg=lg.next=b}return a._currentValue}var tg=!1;function ug(a){a.updateQueue={baseState:a.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}\nfunction vg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,baseQueue:a.baseQueue,shared:a.shared,effects:a.effects})}function wg(a,b){a={expirationTime:a,suspenseConfig:b,tag:0,payload:null,callback:null,next:null};return a.next=a}function xg(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction yg(a,b){var c=a.alternate;null!==c&&vg(c,a);a=a.updateQueue;c=a.baseQueue;null===c?(a.baseQueue=b.next=b,b.next=b):(b.next=c.next,c.next=b)}\nfunction zg(a,b,c,d){var e=a.updateQueue;tg=!1;var f=e.baseQueue,g=e.shared.pending;if(null!==g){if(null!==f){var h=f.next;f.next=g.next;g.next=h}f=g;e.shared.pending=null;h=a.alternate;null!==h&&(h=h.updateQueue,null!==h&&(h.baseQueue=g))}if(null!==f){h=f.next;var k=e.baseState,l=0,m=null,p=null,x=null;if(null!==h){var z=h;do{g=z.expirationTime;if(g<d){var ca={expirationTime:z.expirationTime,suspenseConfig:z.suspenseConfig,tag:z.tag,payload:z.payload,callback:z.callback,next:null};null===x?(p=x=\nca,m=k):x=x.next=ca;g>l&&(l=g)}else{null!==x&&(x=x.next={expirationTime:1073741823,suspenseConfig:z.suspenseConfig,tag:z.tag,payload:z.payload,callback:z.callback,next:null});Ag(g,z.suspenseConfig);a:{var D=a,t=z;g=b;ca=c;switch(t.tag){case 1:D=t.payload;if(\"function\"===typeof D){k=D.call(ca,k,g);break a}k=D;break a;case 3:D.effectTag=D.effectTag&-4097|64;case 0:D=t.payload;g=\"function\"===typeof D?D.call(ca,k,g):D;if(null===g||void 0===g)break a;k=n({},k,g);break a;case 2:tg=!0}}null!==z.callback&&\n(a.effectTag|=32,g=e.effects,null===g?e.effects=[z]:g.push(z))}z=z.next;if(null===z||z===h)if(g=e.shared.pending,null===g)break;else z=f.next=g.next,g.next=h,e.baseQueue=f=g,e.shared.pending=null}while(1)}null===x?m=k:x.next=p;e.baseState=m;e.baseQueue=x;Bg(l);a.expirationTime=l;a.memoizedState=k}}\nfunction Cg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=e;e=c;if(\"function\"!==typeof d)throw Error(u(191,d));d.call(e)}}}var Dg=Wa.ReactCurrentBatchConfig,Eg=(new aa.Component).refs;function Fg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:n({},b,c);a.memoizedState=c;0===a.expirationTime&&(a.updateQueue.baseState=c)}\nvar Jg={isMounted:function(a){return(a=a._reactInternalFiber)?dc(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=Gg(),e=Dg.suspense;d=Hg(d,a,e);e=wg(d,e);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);xg(a,e);Ig(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=Gg(),e=Dg.suspense;d=Hg(d,a,e);e=wg(d,e);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);xg(a,e);Ig(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=Gg(),d=Dg.suspense;\nc=Hg(c,a,d);d=wg(c,d);d.tag=2;void 0!==b&&null!==b&&(d.callback=b);xg(a,d);Ig(a,c)}};function Kg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!bf(c,d)||!bf(e,f):!0}\nfunction Lg(a,b,c){var d=!1,e=Af;var f=b.contextType;\"object\"===typeof f&&null!==f?f=sg(f):(e=L(b)?Bf:J.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Cf(a,e):Af);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Jg;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Mg(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Jg.enqueueReplaceState(b,b.state,null)}\nfunction Ng(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Eg;ug(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=sg(f):(f=L(b)?Bf:J.current,e.context=Cf(a,f));zg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Fg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Jg.enqueueReplaceState(e,e.state,null),zg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.effectTag|=4)}var Og=Array.isArray;\nfunction Pg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(u(309));var d=c.stateNode}if(!d)throw Error(u(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Eg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(u(284));if(!c._owner)throw Error(u(290,a));}return a}\nfunction Qg(a,b){if(\"textarea\"!==a.type)throw Error(u(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\"));}\nfunction Rg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Sg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=\n2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Tg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Pg(a,b,c),d.return=a,d;d=Ug(c.type,c.key,c.props,null,a.mode,d);d.ref=Pg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==\nc.implementation)return b=Vg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Wg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function p(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Tg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Za:return c=Ug(b.type,b.key,b.props,null,a.mode,c),c.ref=Pg(a,null,b),c.return=a,c;case $a:return b=Vg(b,a.mode,c),b.return=a,b}if(Og(b)||\nnb(b))return b=Wg(b,a.mode,c,null),b.return=a,b;Qg(a,b)}return null}function x(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Za:return c.key===e?c.type===ab?m(a,b,c.props.children,d,e):k(a,b,c,d):null;case $a:return c.key===e?l(a,b,c,d):null}if(Og(c)||nb(c))return null!==e?null:m(a,b,c,d,null);Qg(a,c)}return null}function z(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=\na.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Za:return a=a.get(null===d.key?c:d.key)||null,d.type===ab?m(b,a,d.props.children,e,d.key):k(b,a,d,e);case $a:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Og(d)||nb(d))return a=a.get(c)||null,m(b,a,d,e,null);Qg(b,d)}return null}function ca(e,g,h,k){for(var l=null,t=null,m=g,y=g=0,A=null;null!==m&&y<h.length;y++){m.index>y?(A=m,m=null):A=m.sibling;var q=x(e,m,h[y],k);if(null===q){null===m&&(m=A);break}a&&\nm&&null===q.alternate&&b(e,m);g=f(q,g,y);null===t?l=q:t.sibling=q;t=q;m=A}if(y===h.length)return c(e,m),l;if(null===m){for(;y<h.length;y++)m=p(e,h[y],k),null!==m&&(g=f(m,g,y),null===t?l=m:t.sibling=m,t=m);return l}for(m=d(e,m);y<h.length;y++)A=z(m,e,y,h[y],k),null!==A&&(a&&null!==A.alternate&&m.delete(null===A.key?y:A.key),g=f(A,g,y),null===t?l=A:t.sibling=A,t=A);a&&m.forEach(function(a){return b(e,a)});return l}function D(e,g,h,l){var k=nb(h);if(\"function\"!==typeof k)throw Error(u(150));h=k.call(h);\nif(null==h)throw Error(u(151));for(var m=k=null,t=g,y=g=0,A=null,q=h.next();null!==t&&!q.done;y++,q=h.next()){t.index>y?(A=t,t=null):A=t.sibling;var D=x(e,t,q.value,l);if(null===D){null===t&&(t=A);break}a&&t&&null===D.alternate&&b(e,t);g=f(D,g,y);null===m?k=D:m.sibling=D;m=D;t=A}if(q.done)return c(e,t),k;if(null===t){for(;!q.done;y++,q=h.next())q=p(e,q.value,l),null!==q&&(g=f(q,g,y),null===m?k=q:m.sibling=q,m=q);return k}for(t=d(e,t);!q.done;y++,q=h.next())q=z(t,e,y,q.value,l),null!==q&&(a&&null!==\nq.alternate&&t.delete(null===q.key?y:q.key),g=f(q,g,y),null===m?k=q:m.sibling=q,m=q);a&&t.forEach(function(a){return b(e,a)});return k}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ab&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Za:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ab){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,\nk.sibling);d=e(k,f.props);d.ref=Pg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ab?(d=Wg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Ug(f.type,f.key,f.props,null,a.mode,h),h.ref=Pg(a,d,f),h.return=a,a=h)}return g(a);case $a:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=\nd.sibling}d=Vg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Tg(f,a.mode,h),d.return=a,a=d),g(a);if(Og(f))return ca(a,d,f,h);if(nb(f))return D(a,d,f,h);l&&Qg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 0:throw a=a.type,Error(u(152,a.displayName||a.name||\"Component\"));}return c(a,d)}}var Xg=Rg(!0),Yg=Rg(!1),Zg={},$g={current:Zg},ah={current:Zg},bh={current:Zg};\nfunction ch(a){if(a===Zg)throw Error(u(174));return a}function dh(a,b){I(bh,b);I(ah,a);I($g,Zg);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Ob(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=Ob(b,a)}H($g);I($g,b)}function eh(){H($g);H(ah);H(bh)}function fh(a){ch(bh.current);var b=ch($g.current);var c=Ob(b,a.type);b!==c&&(I(ah,a),I($g,c))}function gh(a){ah.current===a&&(H($g),H(ah))}var M={current:0};\nfunction hh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||c.data===Bd||c.data===Cd))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.effectTag&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function ih(a,b){return{responder:a,props:b}}\nvar jh=Wa.ReactCurrentDispatcher,kh=Wa.ReactCurrentBatchConfig,lh=0,N=null,O=null,P=null,mh=!1;function Q(){throw Error(u(321));}function nh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!$e(a[c],b[c]))return!1;return!0}\nfunction oh(a,b,c,d,e,f){lh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.expirationTime=0;jh.current=null===a||null===a.memoizedState?ph:qh;a=c(d,e);if(b.expirationTime===lh){f=0;do{b.expirationTime=0;if(!(25>f))throw Error(u(301));f+=1;P=O=null;b.updateQueue=null;jh.current=rh;a=c(d,e)}while(b.expirationTime===lh)}jh.current=sh;b=null!==O&&null!==O.next;lh=0;P=O=N=null;mh=!1;if(b)throw Error(u(300));return a}\nfunction th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function uh(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(u(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction wh(a){var b=uh(),c=b.queue;if(null===c)throw Error(u(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.expirationTime;if(l<lh){var m={expirationTime:k.expirationTime,suspenseConfig:k.suspenseConfig,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null};null===h?(g=h=m,f=d):h=h.next=m;l>N.expirationTime&&\n(N.expirationTime=l,Bg(l))}else null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:k.suspenseConfig,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),Ag(l,k.suspenseConfig),d=k.eagerReducer===a?k.eagerState:a(d,k.action);k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;$e(d,b.memoizedState)||(rg=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction xh(a){var b=uh(),c=b.queue;if(null===c)throw Error(u(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);$e(f,b.memoizedState)||(rg=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction yh(a){var b=th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:a};a=a.dispatch=zh.bind(null,N,a);return[b.memoizedState,a]}function Ah(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}\nfunction Bh(){return uh().memoizedState}function Ch(a,b,c,d){var e=th();N.effectTag|=a;e.memoizedState=Ah(1|b,c,void 0,void 0===d?null:d)}function Dh(a,b,c,d){var e=uh();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&nh(d,g.deps)){Ah(b,c,f,d);return}}N.effectTag|=a;e.memoizedState=Ah(1|b,c,f,d)}function Eh(a,b){return Ch(516,4,a,b)}function Fh(a,b){return Dh(516,4,a,b)}function Gh(a,b){return Dh(4,2,a,b)}\nfunction Hh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function Ih(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Dh(4,2,Hh.bind(null,b,a),c)}function Jh(){}function Kh(a,b){th().memoizedState=[a,void 0===b?null:b];return a}function Lh(a,b){var c=uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&nh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Mh(a,b){var c=uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&nh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Nh(a,b,c){var d=ag();cg(98>d?98:d,function(){a(!0)});cg(97<d?97:d,function(){var d=kh.suspense;kh.suspense=void 0===b?null:b;try{a(!1),c()}finally{kh.suspense=d}})}\nfunction zh(a,b,c){var d=Gg(),e=Dg.suspense;d=Hg(d,a,e);e={expirationTime:d,suspenseConfig:e,action:c,eagerReducer:null,eagerState:null,next:null};var f=b.pending;null===f?e.next=e:(e.next=f.next,f.next=e);b.pending=e;f=a.alternate;if(a===N||null!==f&&f===N)mh=!0,e.expirationTime=lh,N.expirationTime=lh;else{if(0===a.expirationTime&&(null===f||0===f.expirationTime)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.eagerReducer=f;e.eagerState=h;if($e(h,g))return}catch(k){}finally{}Ig(a,\nd)}}\nvar sh={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},ph={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Ch(4,2,Hh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Ch(4,2,a,b)},useMemo:function(a,b){var c=th();b=void 0===b?null:b;a=a();c.memoizedState=[a,\nb];return a},useReducer:function(a,b,c){var d=th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=zh.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=th();a={current:a};return b.memoizedState=a},useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue:function(a,b){var c=yh(a),d=c[0],e=c[1];Eh(function(){var c=kh.suspense;kh.suspense=void 0===b?null:b;try{e(a)}finally{kh.suspense=\nc}},[a,b]);return d},useTransition:function(a){var b=yh(!1),c=b[0];b=b[1];return[Kh(Nh.bind(null,b,a),[b,a]),c]}},qh={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:function(){return wh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(a,b){var c=wh(vh),d=c[0],e=c[1];Fh(function(){var c=kh.suspense;kh.suspense=void 0===b?null:b;try{e(a)}finally{kh.suspense=c}},[a,b]);return d},useTransition:function(a){var b=\nwh(vh),c=b[0];b=b[1];return[Lh(Nh.bind(null,b,a),[b,a]),c]}},rh={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:function(){return xh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(a,b){var c=xh(vh),d=c[0],e=c[1];Fh(function(){var c=kh.suspense;kh.suspense=void 0===b?null:b;try{e(a)}finally{kh.suspense=c}},[a,b]);return d},useTransition:function(a){var b=xh(vh),c=b[0];b=b[1];return[Lh(Nh.bind(null,\nb,a),[b,a]),c]}},Oh=null,Ph=null,Qh=!1;function Rh(a,b){var c=Sh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}\nfunction Th(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction Uh(a){if(Qh){var b=Ph;if(b){var c=b;if(!Th(a,b)){b=Jd(c.nextSibling);if(!b||!Th(a,b)){a.effectTag=a.effectTag&-1025|2;Qh=!1;Oh=a;return}Rh(Oh,c)}Oh=a;Ph=Jd(b.firstChild)}else a.effectTag=a.effectTag&-1025|2,Qh=!1,Oh=a}}function Vh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;Oh=a}\nfunction Wh(a){if(a!==Oh)return!1;if(!Qh)return Vh(a),Qh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!Gd(b,a.memoizedProps))for(b=Ph;b;)Rh(a,b),b=Jd(b.nextSibling);Vh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(u(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(c===Ad){if(0===b){Ph=Jd(a.nextSibling);break a}b--}else c!==zd&&c!==Cd&&c!==Bd||b++}a=a.nextSibling}Ph=null}}else Ph=Oh?Jd(a.stateNode.nextSibling):null;return!0}\nfunction Xh(){Ph=Oh=null;Qh=!1}var Yh=Wa.ReactCurrentOwner,rg=!1;function R(a,b,c,d){b.child=null===a?Yg(b,null,c,d):Xg(b,a.child,c,d)}function Zh(a,b,c,d,e){c=c.render;var f=b.ref;qg(b,e);d=oh(a,b,c,d,f,e);if(null!==a&&!rg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),$h(a,b,e);b.effectTag|=1;R(a,b,d,e);return b.child}\nfunction ai(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!bi(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ci(a,b,g,d,e,f);a=Ug(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:bf,c(e,d)&&a.ref===b.ref))return $h(a,b,f);b.effectTag|=1;a=Sg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ci(a,b,c,d,e,f){return null!==a&&bf(a.memoizedProps,d)&&a.ref===b.ref&&(rg=!1,e<f)?(b.expirationTime=a.expirationTime,$h(a,b,f)):di(a,b,c,d,f)}function ei(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function di(a,b,c,d,e){var f=L(c)?Bf:J.current;f=Cf(b,f);qg(b,e);c=oh(a,b,c,d,f,e);if(null!==a&&!rg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),$h(a,b,e);b.effectTag|=1;R(a,b,c,e);return b.child}\nfunction fi(a,b,c,d,e){if(L(c)){var f=!0;Gf(b)}else f=!1;qg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Lg(b,c,d),Ng(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=sg(l):(l=L(c)?Bf:J.current,l=Cf(b,l));var m=c.getDerivedStateFromProps,p=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;p||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Mg(b,g,d,l);tg=!1;var x=b.memoizedState;g.state=x;zg(b,d,g,e);k=b.memoizedState;h!==d||x!==k||K.current||tg?(\"function\"===typeof m&&(Fg(b,c,m,d),k=b.memoizedState),(h=tg||Kg(b,c,h,d,x,k,l))?(p||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.effectTag|=4)):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,vg(a,b),h=b.memoizedProps,g.props=b.type===b.elementType?h:ig(b.type,h),k=g.context,l=c.contextType,\"object\"===typeof l&&null!==l?l=sg(l):(l=L(c)?Bf:J.current,l=Cf(b,l)),m=c.getDerivedStateFromProps,(p=\"function\"===typeof m||\"function\"===\ntypeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Mg(b,g,d,l),tg=!1,k=b.memoizedState,g.state=k,zg(b,d,g,e),x=b.memoizedState,h!==d||k!==x||K.current||tg?(\"function\"===typeof m&&(Fg(b,c,m,d),x=b.memoizedState),(m=tg||Kg(b,c,h,d,k,x,l))?(p||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,l),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,l)),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=l,d=m):\n(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),d=!1);return gi(a,b,c,d,f,e)}\nfunction gi(a,b,c,d,e,f){ei(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Hf(b,c,!1),$h(a,b,f);d=b.stateNode;Yh.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=Xg(b,a.child,null,f),b.child=Xg(b,null,h,f)):R(a,b,h,f);b.memoizedState=d.state;e&&Hf(b,c,!0);return b.child}function hi(a){var b=a.stateNode;b.pendingContext?Ef(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Ef(a,b.context,!1);dh(a,b.containerInfo)}\nvar ii={dehydrated:null,retryTime:0};\nfunction ji(a,b,c){var d=b.mode,e=b.pendingProps,f=M.current,g=!1,h;(h=0!==(b.effectTag&64))||(h=0!==(f&2)&&(null===a||null!==a.memoizedState));h?(g=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(f|=1);I(M,f&1);if(null===a){void 0!==e.fallback&&Uh(b);if(g){g=e.fallback;e=Wg(null,d,0,null);e.return=b;if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=Wg(g,d,c,null);c.return=\nb;e.sibling=c;b.memoizedState=ii;b.child=e;return c}d=e.children;b.memoizedState=null;return b.child=Yg(b,null,d,c)}if(null!==a.memoizedState){a=a.child;d=a.sibling;if(g){e=e.fallback;c=Sg(a,a.pendingProps);c.return=b;if(0===(b.mode&2)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==a.child))for(c.child=g;null!==g;)g.return=c,g=g.sibling;d=Sg(d,e);d.return=b;c.sibling=d;c.childExpirationTime=0;b.memoizedState=ii;b.child=c;return d}c=Xg(b,a.child,e.children,c);b.memoizedState=null;return b.child=\nc}a=a.child;if(g){g=e.fallback;e=Wg(null,d,0,null);e.return=b;e.child=a;null!==a&&(a.return=e);if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=Wg(g,d,c,null);c.return=b;e.sibling=c;c.effectTag|=2;e.childExpirationTime=0;b.memoizedState=ii;b.child=e;return c}b.memoizedState=null;return b.child=Xg(b,a,e.children,c)}\nfunction ki(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);pg(a.return,b)}function li(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailExpiration:0,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailExpiration=0,g.tailMode=e,g.lastEffect=f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;R(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.effectTag|=64;else{if(null!==a&&0!==(a.effectTag&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&ki(a,c);else if(19===a.tag)ki(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(M,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===hh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);li(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===hh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}li(b,!0,c,null,f,b.lastEffect);break;case \"together\":li(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction $h(a,b,c){null!==a&&(b.dependencies=a.dependencies);var d=b.expirationTime;0!==d&&Bg(d);if(b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw Error(u(153));if(null!==b.child){a=b.child;c=Sg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Sg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}var ni,oi,pi,qi;\nni=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};oi=function(){};\npi=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;ch($g.current);a=null;switch(c){case \"input\":f=zb(g,f);d=zb(g,d);a=[];break;case \"option\":f=Gb(g,f);d=Gb(g,d);a=[];break;case \"select\":f=n({},f,{value:void 0});d=n({},d,{value:void 0});a=[];break;case \"textarea\":f=Ib(g,f);d=Ib(g,d);a=[];break;default:\"function\"!==typeof f.onClick&&\"function\"===typeof d.onClick&&(g.onclick=sd)}od(c,d);var h,k;c=null;for(h in f)if(!d.hasOwnProperty(h)&&f.hasOwnProperty(h)&&null!=f[h])if(\"style\"===\nh)for(k in g=f[h],g)g.hasOwnProperty(k)&&(c||(c={}),c[k]=\"\");else\"dangerouslySetInnerHTML\"!==h&&\"children\"!==h&&\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&\"autoFocus\"!==h&&(va.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in d){var l=d[h];g=null!=f?f[h]:void 0;if(d.hasOwnProperty(h)&&l!==g&&(null!=l||null!=g))if(\"style\"===h)if(g){for(k in g)!g.hasOwnProperty(k)||l&&l.hasOwnProperty(k)||(c||(c={}),c[k]=\"\");for(k in l)l.hasOwnProperty(k)&&g[k]!==l[k]&&(c||(c={}),\nc[k]=l[k])}else c||(a||(a=[]),a.push(h,c)),c=l;else\"dangerouslySetInnerHTML\"===h?(l=l?l.__html:void 0,g=g?g.__html:void 0,null!=l&&g!==l&&(a=a||[]).push(h,l)):\"children\"===h?g===l||\"string\"!==typeof l&&\"number\"!==typeof l||(a=a||[]).push(h,\"\"+l):\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&(va.hasOwnProperty(h)?(null!=l&&rd(e,h),a||g===l||(a=[])):(a=a||[]).push(h,l))}c&&(a=a||[]).push(\"style\",c);e=a;if(b.updateQueue=e)b.effectTag|=4}};\nqi=function(a,b,c,d){c!==d&&(b.effectTag|=4)};function ri(a,b){switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction si(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return L(b.type)&&Df(),null;case 3:return eh(),H(K),H(J),c=b.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==a&&null!==a.child||!Wh(b)||(b.effectTag|=4),oi(b),null;case 5:gh(b);c=ch(bh.current);var e=b.type;if(null!==a&&null!=b.stateNode)pi(a,b,e,d,c),a.ref!==b.ref&&(b.effectTag|=128);else{if(!d){if(null===b.stateNode)throw Error(u(166));\nreturn null}a=ch($g.current);if(Wh(b)){d=b.stateNode;e=b.type;var f=b.memoizedProps;d[Md]=b;d[Nd]=f;switch(e){case \"iframe\":case \"object\":case \"embed\":F(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<ac.length;a++)F(ac[a],d);break;case \"source\":F(\"error\",d);break;case \"img\":case \"image\":case \"link\":F(\"error\",d);F(\"load\",d);break;case \"form\":F(\"reset\",d);F(\"submit\",d);break;case \"details\":F(\"toggle\",d);break;case \"input\":Ab(d,f);F(\"invalid\",d);rd(c,\"onChange\");break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};F(\"invalid\",d);rd(c,\"onChange\");break;case \"textarea\":Jb(d,f),F(\"invalid\",d),rd(c,\"onChange\")}od(e,f);a=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(a=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(a=[\"children\",\"\"+h]):va.hasOwnProperty(g)&&null!=h&&rd(c,g)}switch(e){case \"input\":xb(d);Eb(d,f,!0);break;case \"textarea\":xb(d);Lb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&\n(d.onclick=sd)}c=a;b.updateQueue=c;null!==c&&(b.effectTag|=4)}else{g=9===c.nodeType?c:c.ownerDocument;a===qd&&(a=Nb(e));a===qd?\"script\"===e?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(e,{is:d.is}):(a=g.createElement(e),\"select\"===e&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,e);a[Md]=b;a[Nd]=d;ni(a,b,!1,!1);b.stateNode=a;g=pd(e,d);switch(e){case \"iframe\":case \"object\":case \"embed\":F(\"load\",\na);h=d;break;case \"video\":case \"audio\":for(h=0;h<ac.length;h++)F(ac[h],a);h=d;break;case \"source\":F(\"error\",a);h=d;break;case \"img\":case \"image\":case \"link\":F(\"error\",a);F(\"load\",a);h=d;break;case \"form\":F(\"reset\",a);F(\"submit\",a);h=d;break;case \"details\":F(\"toggle\",a);h=d;break;case \"input\":Ab(a,d);h=zb(a,d);F(\"invalid\",a);rd(c,\"onChange\");break;case \"option\":h=Gb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};h=n({},d,{value:void 0});F(\"invalid\",a);rd(c,\"onChange\");break;case \"textarea\":Jb(a,\nd);h=Ib(a,d);F(\"invalid\",a);rd(c,\"onChange\");break;default:h=d}od(e,h);var k=h;for(f in k)if(k.hasOwnProperty(f)){var l=k[f];\"style\"===f?md(a,l):\"dangerouslySetInnerHTML\"===f?(l=l?l.__html:void 0,null!=l&&Qb(a,l)):\"children\"===f?\"string\"===typeof l?(\"textarea\"!==e||\"\"!==l)&&Rb(a,l):\"number\"===typeof l&&Rb(a,\"\"+l):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(va.hasOwnProperty(f)?null!=l&&rd(c,f):null!=l&&Xa(a,f,l,g))}switch(e){case \"input\":xb(a);Eb(a,d,!1);\nbreak;case \"textarea\":xb(a);Lb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+rb(d.value));break;case \"select\":a.multiple=!!d.multiple;c=d.value;null!=c?Hb(a,!!d.multiple,c,!1):null!=d.defaultValue&&Hb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof h.onClick&&(a.onclick=sd)}Fd(e,d)&&(b.effectTag|=4)}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)qi(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(u(166));\nc=ch(bh.current);ch($g.current);Wh(b)?(c=b.stateNode,d=b.memoizedProps,c[Md]=b,c.nodeValue!==d&&(b.effectTag|=4)):(c=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),c[Md]=b,b.stateNode=c)}return null;case 13:H(M);d=b.memoizedState;if(0!==(b.effectTag&64))return b.expirationTime=c,b;c=null!==d;d=!1;null===a?void 0!==b.memoizedProps.fallback&&Wh(b):(e=a.memoizedState,d=null!==e,c||null===e||(e=a.child.sibling,null!==e&&(f=b.firstEffect,null!==f?(b.firstEffect=e,e.nextEffect=f):(b.firstEffect=b.lastEffect=\ne,e.nextEffect=null),e.effectTag=8)));if(c&&!d&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(M.current&1))S===ti&&(S=ui);else{if(S===ti||S===ui)S=vi;0!==wi&&null!==T&&(xi(T,U),yi(T,wi))}if(c||d)b.effectTag|=4;return null;case 4:return eh(),oi(b),null;case 10:return og(b),null;case 17:return L(b.type)&&Df(),null;case 19:H(M);d=b.memoizedState;if(null===d)return null;e=0!==(b.effectTag&64);f=d.rendering;if(null===f)if(e)ri(d,!1);else{if(S!==ti||null!==a&&0!==(a.effectTag&\n64))for(f=b.child;null!==f;){a=hh(f);if(null!==a){b.effectTag|=64;ri(d,!1);e=a.updateQueue;null!==e&&(b.updateQueue=e,b.effectTag|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;for(d=b.child;null!==d;)e=d,f=c,e.effectTag&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,a=e.alternate,null===a?(e.childExpirationTime=0,e.expirationTime=f,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null):(e.childExpirationTime=a.childExpirationTime,\ne.expirationTime=a.expirationTime,e.child=a.child,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,f=a.dependencies,e.dependencies=null===f?null:{expirationTime:f.expirationTime,firstContext:f.firstContext,responders:f.responders}),d=d.sibling;I(M,M.current&1|2);return b.child}f=f.sibling}}else{if(!e)if(a=hh(f),null!==a){if(b.effectTag|=64,e=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.effectTag|=4),ri(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!f.alternate)return b=\nb.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*$f()-d.renderingStartTime>d.tailExpiration&&1<c&&(b.effectTag|=64,e=!0,ri(d,!1),b.expirationTime=b.childExpirationTime=c-1);d.isBackwards?(f.sibling=b.child,b.child=f):(c=d.last,null!==c?c.sibling=f:b.child=f,d.last=f)}return null!==d.tail?(0===d.tailExpiration&&(d.tailExpiration=$f()+500),c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=$f(),c.sibling=null,b=M.current,I(M,e?b&1|2:b&1),c):null}throw Error(u(156,\nb.tag));}function zi(a){switch(a.tag){case 1:L(a.type)&&Df();var b=a.effectTag;return b&4096?(a.effectTag=b&-4097|64,a):null;case 3:eh();H(K);H(J);b=a.effectTag;if(0!==(b&64))throw Error(u(285));a.effectTag=b&-4097|64;return a;case 5:return gh(a),null;case 13:return H(M),b=a.effectTag,b&4096?(a.effectTag=b&-4097|64,a):null;case 19:return H(M),null;case 4:return eh(),null;case 10:return og(a),null;default:return null}}function Ai(a,b){return{value:a,source:b,stack:qb(b)}}\nvar Bi=\"function\"===typeof WeakSet?WeakSet:Set;function Ci(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=qb(c));null!==c&&pb(c.type);b=b.value;null!==a&&1===a.tag&&pb(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function Di(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){Ei(a,c)}}function Fi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Ei(a,c)}else b.current=null}\nfunction Gi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:ig(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163));}\nfunction Hi(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0;void 0!==d&&d()}c=c.next}while(c!==b)}}function Ii(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}\nfunction Ji(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:Ii(3,c);return;case 1:a=c.stateNode;if(c.effectTag&4)if(null===b)a.componentDidMount();else{var d=c.elementType===c.type?b.memoizedProps:ig(c.type,b.memoizedProps);a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}b=c.updateQueue;null!==b&&Cg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Cg(c,b,a)}return;\ncase 5:a=c.stateNode;null===b&&c.effectTag&4&&Fd(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Vc(c))));return;case 19:case 17:case 20:case 21:return}throw Error(u(163));}\nfunction Ki(a,b,c){\"function\"===typeof Li&&Li(b);switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;cg(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var g=b;try{c()}catch(h){Ei(g,h)}}a=a.next}while(a!==d)})}break;case 1:Fi(b);c=b.stateNode;\"function\"===typeof c.componentWillUnmount&&Di(b,c);break;case 5:Fi(b);break;case 4:Mi(a,b,c)}}\nfunction Ni(a){var b=a.alternate;a.return=null;a.child=null;a.memoizedState=null;a.updateQueue=null;a.dependencies=null;a.alternate=null;a.firstEffect=null;a.lastEffect=null;a.pendingProps=null;a.memoizedProps=null;a.stateNode=null;null!==b&&Ni(b)}function Oi(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Pi(a){a:{for(var b=a.return;null!==b;){if(Oi(b)){var c=b;break a}b=b.return}throw Error(u(160));}b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(u(161));}c.effectTag&16&&(Rb(b,\"\"),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Oi(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;\nif(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}d?Qi(a,c,b):Ri(a,c,b)}\nfunction Qi(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=sd));else if(4!==d&&(a=a.child,null!==a))for(Qi(a,b,c),a=a.sibling;null!==a;)Qi(a,b,c),a=a.sibling}\nfunction Ri(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Ri(a,b,c),a=a.sibling;null!==a;)Ri(a,b,c),a=a.sibling}\nfunction Mi(a,b,c){for(var d=b,e=!1,f,g;;){if(!e){e=d.return;a:for(;;){if(null===e)throw Error(u(160));f=e.stateNode;switch(e.tag){case 5:g=!1;break a;case 3:f=f.containerInfo;g=!0;break a;case 4:f=f.containerInfo;g=!0;break a}e=e.return}e=!0}if(5===d.tag||6===d.tag){a:for(var h=a,k=d,l=c,m=k;;)if(Ki(h,m,l),null!==m.child&&4!==m.tag)m.child.return=m,m=m.child;else{if(m===k)break a;for(;null===m.sibling;){if(null===m.return||m.return===k)break a;m=m.return}m.sibling.return=m.return;m=m.sibling}g?(h=\nf,k=d.stateNode,8===h.nodeType?h.parentNode.removeChild(k):h.removeChild(k)):f.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){f=d.stateNode.containerInfo;g=!0;d.child.return=d;d=d.child;continue}}else if(Ki(a,d,c),null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(e=!1)}d.sibling.return=d.return;d=d.sibling}}\nfunction Si(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Hi(3,b);return;case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[Nd]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&Bb(c,d);pd(a,e);b=pd(a,d);for(e=0;e<f.length;e+=2){var g=f[e],h=f[e+1];\"style\"===g?md(c,h):\"dangerouslySetInnerHTML\"===g?Qb(c,h):\"children\"===g?Rb(c,h):Xa(c,g,h,b)}switch(a){case \"input\":Cb(c,d);break;\ncase \"textarea\":Kb(c,d);break;case \"select\":b=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,a=d.value,null!=a?Hb(c,!!d.multiple,a,!1):b!==!!d.multiple&&(null!=d.defaultValue?Hb(c,!!d.multiple,d.defaultValue,!0):Hb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(u(162));b.stateNode.nodeValue=b.memoizedProps;return;case 3:b=b.stateNode;b.hydrate&&(b.hydrate=!1,Vc(b.containerInfo));return;case 12:return;case 13:c=b;null===b.memoizedState?\nd=!1:(d=!0,c=b.child,Ti=$f());if(null!==c)a:for(a=c;;){if(5===a.tag)f=a.stateNode,d?(f=f.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(f=a.stateNode,e=a.memoizedProps.style,e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null,f.style.display=ld(\"display\",e));else if(6===a.tag)a.stateNode.nodeValue=d?\"\":a.memoizedProps;else if(13===a.tag&&null!==a.memoizedState&&null===a.memoizedState.dehydrated){f=a.child.sibling;f.return=a;a=\nf;continue}else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===c)break;for(;null===a.sibling;){if(null===a.return||a.return===c)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}Ui(b);return;case 19:Ui(b);return;case 17:return}throw Error(u(163));}function Ui(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Bi);b.forEach(function(b){var d=Vi.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nvar Wi=\"function\"===typeof WeakMap?WeakMap:Map;function Xi(a,b,c){c=wg(c,null);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Yi||(Yi=!0,Zi=d);Ci(a,b)};return c}\nfunction $i(a,b,c){c=wg(c,null);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ci(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===aj?aj=new Set([this]):aj.add(this),Ci(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nvar bj=Math.ceil,cj=Wa.ReactCurrentDispatcher,dj=Wa.ReactCurrentOwner,V=0,ej=8,fj=16,gj=32,ti=0,hj=1,ij=2,ui=3,vi=4,jj=5,W=V,T=null,X=null,U=0,S=ti,kj=null,lj=1073741823,mj=1073741823,nj=null,wi=0,oj=!1,Ti=0,pj=500,Y=null,Yi=!1,Zi=null,aj=null,qj=!1,rj=null,sj=90,tj=null,uj=0,vj=null,wj=0;function Gg(){return(W&(fj|gj))!==V?1073741821-($f()/10|0):0!==wj?wj:wj=1073741821-($f()/10|0)}\nfunction Hg(a,b,c){b=b.mode;if(0===(b&2))return 1073741823;var d=ag();if(0===(b&4))return 99===d?1073741823:1073741822;if((W&fj)!==V)return U;if(null!==c)a=hg(a,c.timeoutMs|0||5E3,250);else switch(d){case 99:a=1073741823;break;case 98:a=hg(a,150,100);break;case 97:case 96:a=hg(a,5E3,250);break;case 95:a=2;break;default:throw Error(u(326));}null!==T&&a===U&&--a;return a}\nfunction Ig(a,b){if(50<uj)throw uj=0,vj=null,Error(u(185));a=xj(a,b);if(null!==a){var c=ag();1073741823===b?(W&ej)!==V&&(W&(fj|gj))===V?yj(a):(Z(a),W===V&&gg()):Z(a);(W&4)===V||98!==c&&99!==c||(null===tj?tj=new Map([[a,b]]):(c=tj.get(a),(void 0===c||c>b)&&tj.set(a,b)))}}\nfunction xj(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}null!==e&&(T===e&&(Bg(b),S===vi&&xi(e,U)),yi(e,b));return e}\nfunction zj(a){var b=a.lastExpiredTime;if(0!==b)return b;b=a.firstPendingTime;if(!Aj(a,b))return b;var c=a.lastPingedTime;a=a.nextKnownPendingLevel;a=c>a?c:a;return 2>=a&&b!==a?0:a}\nfunction Z(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=eg(yj.bind(null,a));else{var b=zj(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=Gg();1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95);if(null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==Tf&&Kf(c)}a.callbackExpirationTime=\nb;a.callbackPriority=d;b=1073741823===b?eg(yj.bind(null,a)):dg(d,Bj.bind(null,a),{timeout:10*(1073741821-b)-$f()});a.callbackNode=b}}}\nfunction Bj(a,b){wj=0;if(b)return b=Gg(),Cj(a,b),Z(a),null;var c=zj(a);if(0!==c){b=a.callbackNode;if((W&(fj|gj))!==V)throw Error(u(327));Dj();a===T&&c===U||Ej(a,c);if(null!==X){var d=W;W|=fj;var e=Fj();do try{Gj();break}catch(h){Hj(a,h)}while(1);ng();W=d;cj.current=e;if(S===hj)throw b=kj,Ej(a,c),xi(a,c),Z(a),b;if(null===X)switch(e=a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,d=S,T=null,d){case ti:case hj:throw Error(u(345));case ij:Cj(a,2<c?2:c);break;case ui:xi(a,c);d=a.lastSuspendedTime;\nc===d&&(a.nextKnownPendingLevel=Ij(e));if(1073741823===lj&&(e=Ti+pj-$f(),10<e)){if(oj){var f=a.lastPingedTime;if(0===f||f>=c){a.lastPingedTime=c;Ej(a,c);break}}f=zj(a);if(0!==f&&f!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}a.timeoutHandle=Hd(Jj.bind(null,a),e);break}Jj(a);break;case vi:xi(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=Ij(e));if(oj&&(e=a.lastPingedTime,0===e||e>=c)){a.lastPingedTime=c;Ej(a,c);break}e=zj(a);if(0!==e&&e!==c)break;if(0!==d&&d!==c){a.lastPingedTime=\nd;break}1073741823!==mj?d=10*(1073741821-mj)-$f():1073741823===lj?d=0:(d=10*(1073741821-lj)-5E3,e=$f(),c=10*(1073741821-c)-e,d=e-d,0>d&&(d=0),d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*bj(d/1960))-d,c<d&&(d=c));if(10<d){a.timeoutHandle=Hd(Jj.bind(null,a),d);break}Jj(a);break;case jj:if(1073741823!==lj&&null!==nj){f=lj;var g=nj;d=g.busyMinDurationMs|0;0>=d?d=0:(e=g.busyDelayMs|0,f=$f()-(10*(1073741821-f)-(g.timeoutMs|0||5E3)),d=f<=e?0:e+d-f);if(10<d){xi(a,c);a.timeoutHandle=\nHd(Jj.bind(null,a),d);break}}Jj(a);break;default:throw Error(u(329));}Z(a);if(a.callbackNode===b)return Bj.bind(null,a)}}return null}\nfunction yj(a){var b=a.lastExpiredTime;b=0!==b?b:1073741823;if((W&(fj|gj))!==V)throw Error(u(327));Dj();a===T&&b===U||Ej(a,b);if(null!==X){var c=W;W|=fj;var d=Fj();do try{Kj();break}catch(e){Hj(a,e)}while(1);ng();W=c;cj.current=d;if(S===hj)throw c=kj,Ej(a,b),xi(a,b),Z(a),c;if(null!==X)throw Error(u(261));a.finishedWork=a.current.alternate;a.finishedExpirationTime=b;T=null;Jj(a);Z(a)}return null}function Lj(){if(null!==tj){var a=tj;tj=null;a.forEach(function(a,c){Cj(c,a);Z(c)});gg()}}\nfunction Mj(a,b){var c=W;W|=1;try{return a(b)}finally{W=c,W===V&&gg()}}function Nj(a,b){var c=W;W&=-2;W|=ej;try{return a(b)}finally{W=c,W===V&&gg()}}\nfunction Ej(a,b){a.finishedWork=null;a.finishedExpirationTime=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Id(c));if(null!==X)for(c=X.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Df();break;case 3:eh();H(K);H(J);break;case 5:gh(d);break;case 4:eh();break;case 13:H(M);break;case 19:H(M);break;case 10:og(d)}c=c.return}T=a;X=Sg(a.current,null);U=b;S=ti;kj=null;mj=lj=1073741823;nj=null;wi=0;oj=!1}\nfunction Hj(a,b){do{try{ng();jh.current=sh;if(mh)for(var c=N.memoizedState;null!==c;){var d=c.queue;null!==d&&(d.pending=null);c=c.next}lh=0;P=O=N=null;mh=!1;if(null===X||null===X.return)return S=hj,kj=b,X=null;a:{var e=a,f=X.return,g=X,h=b;b=U;g.effectTag|=2048;g.firstEffect=g.lastEffect=null;if(null!==h&&\"object\"===typeof h&&\"function\"===typeof h.then){var k=h;if(0===(g.mode&2)){var l=g.alternate;l?(g.updateQueue=l.updateQueue,g.memoizedState=l.memoizedState,g.expirationTime=l.expirationTime):(g.updateQueue=\nnull,g.memoizedState=null)}var m=0!==(M.current&1),p=f;do{var x;if(x=13===p.tag){var z=p.memoizedState;if(null!==z)x=null!==z.dehydrated?!0:!1;else{var ca=p.memoizedProps;x=void 0===ca.fallback?!1:!0!==ca.unstable_avoidThisFallback?!0:m?!1:!0}}if(x){var D=p.updateQueue;if(null===D){var t=new Set;t.add(k);p.updateQueue=t}else D.add(k);if(0===(p.mode&2)){p.effectTag|=64;g.effectTag&=-2981;if(1===g.tag)if(null===g.alternate)g.tag=17;else{var y=wg(1073741823,null);y.tag=2;xg(g,y)}g.expirationTime=1073741823;\nbreak a}h=void 0;g=b;var A=e.pingCache;null===A?(A=e.pingCache=new Wi,h=new Set,A.set(k,h)):(h=A.get(k),void 0===h&&(h=new Set,A.set(k,h)));if(!h.has(g)){h.add(g);var q=Oj.bind(null,e,k,g);k.then(q,q)}p.effectTag|=4096;p.expirationTime=b;break a}p=p.return}while(null!==p);h=Error((pb(g.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+qb(g))}S!==\njj&&(S=ij);h=Ai(h,g);p=f;do{switch(p.tag){case 3:k=h;p.effectTag|=4096;p.expirationTime=b;var B=Xi(p,k,b);yg(p,B);break a;case 1:k=h;var w=p.type,ub=p.stateNode;if(0===(p.effectTag&64)&&(\"function\"===typeof w.getDerivedStateFromError||null!==ub&&\"function\"===typeof ub.componentDidCatch&&(null===aj||!aj.has(ub)))){p.effectTag|=4096;p.expirationTime=b;var vb=$i(p,k,b);yg(p,vb);break a}}p=p.return}while(null!==p)}X=Pj(X)}catch(Xc){b=Xc;continue}break}while(1)}\nfunction Fj(){var a=cj.current;cj.current=sh;return null===a?sh:a}function Ag(a,b){a<lj&&2<a&&(lj=a);null!==b&&a<mj&&2<a&&(mj=a,nj=b)}function Bg(a){a>wi&&(wi=a)}function Kj(){for(;null!==X;)X=Qj(X)}function Gj(){for(;null!==X&&!Uf();)X=Qj(X)}function Qj(a){var b=Rj(a.alternate,a,U);a.memoizedProps=a.pendingProps;null===b&&(b=Pj(a));dj.current=null;return b}\nfunction Pj(a){X=a;do{var b=X.alternate;a=X.return;if(0===(X.effectTag&2048)){b=si(b,X,U);if(1===U||1!==X.childExpirationTime){for(var c=0,d=X.child;null!==d;){var e=d.expirationTime,f=d.childExpirationTime;e>c&&(c=e);f>c&&(c=f);d=d.sibling}X.childExpirationTime=c}if(null!==b)return b;null!==a&&0===(a.effectTag&2048)&&(null===a.firstEffect&&(a.firstEffect=X.firstEffect),null!==X.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=X.firstEffect),a.lastEffect=X.lastEffect),1<X.effectTag&&(null!==\na.lastEffect?a.lastEffect.nextEffect=X:a.firstEffect=X,a.lastEffect=X))}else{b=zi(X);if(null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}b=X.sibling;if(null!==b)return b;X=a}while(null!==X);S===ti&&(S=jj);return null}function Ij(a){var b=a.expirationTime;a=a.childExpirationTime;return b>a?b:a}function Jj(a){var b=ag();cg(99,Sj.bind(null,a,b));return null}\nfunction Sj(a,b){do Dj();while(null!==rj);if((W&(fj|gj))!==V)throw Error(u(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;a.finishedWork=null;a.finishedExpirationTime=0;if(c===a.current)throw Error(u(177));a.callbackNode=null;a.callbackExpirationTime=0;a.callbackPriority=90;a.nextKnownPendingLevel=0;var e=Ij(c);a.firstPendingTime=e;d<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:d<=a.firstSuspendedTime&&(a.firstSuspendedTime=\nd-1);d<=a.lastPingedTime&&(a.lastPingedTime=0);d<=a.lastExpiredTime&&(a.lastExpiredTime=0);a===T&&(X=T=null,U=0);1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect;if(null!==e){var f=W;W|=gj;dj.current=null;Dd=fd;var g=xd();if(yd(g)){if(\"selectionStart\"in g)var h={start:g.selectionStart,end:g.selectionEnd};else a:{h=(h=g.ownerDocument)&&h.defaultView||window;var k=h.getSelection&&h.getSelection();if(k&&0!==k.rangeCount){h=k.anchorNode;var l=k.anchorOffset,\nm=k.focusNode;k=k.focusOffset;try{h.nodeType,m.nodeType}catch(wb){h=null;break a}var p=0,x=-1,z=-1,ca=0,D=0,t=g,y=null;b:for(;;){for(var A;;){t!==h||0!==l&&3!==t.nodeType||(x=p+l);t!==m||0!==k&&3!==t.nodeType||(z=p+k);3===t.nodeType&&(p+=t.nodeValue.length);if(null===(A=t.firstChild))break;y=t;t=A}for(;;){if(t===g)break b;y===h&&++ca===l&&(x=p);y===m&&++D===k&&(z=p);if(null!==(A=t.nextSibling))break;t=y;y=t.parentNode}t=A}h=-1===x||-1===z?null:{start:x,end:z}}else h=null}h=h||{start:0,end:0}}else h=\nnull;Ed={activeElementDetached:null,focusedElem:g,selectionRange:h};fd=!1;Y=e;do try{Tj()}catch(wb){if(null===Y)throw Error(u(330));Ei(Y,wb);Y=Y.nextEffect}while(null!==Y);Y=e;do try{for(g=a,h=b;null!==Y;){var q=Y.effectTag;q&16&&Rb(Y.stateNode,\"\");if(q&128){var B=Y.alternate;if(null!==B){var w=B.ref;null!==w&&(\"function\"===typeof w?w(null):w.current=null)}}switch(q&1038){case 2:Pi(Y);Y.effectTag&=-3;break;case 6:Pi(Y);Y.effectTag&=-3;Si(Y.alternate,Y);break;case 1024:Y.effectTag&=-1025;break;case 1028:Y.effectTag&=\n-1025;Si(Y.alternate,Y);break;case 4:Si(Y.alternate,Y);break;case 8:l=Y,Mi(g,l,h),Ni(l)}Y=Y.nextEffect}}catch(wb){if(null===Y)throw Error(u(330));Ei(Y,wb);Y=Y.nextEffect}while(null!==Y);w=Ed;B=xd();q=w.focusedElem;h=w.selectionRange;if(B!==q&&q&&q.ownerDocument&&wd(q.ownerDocument.documentElement,q)){null!==h&&yd(q)&&(B=h.start,w=h.end,void 0===w&&(w=B),\"selectionStart\"in q?(q.selectionStart=B,q.selectionEnd=Math.min(w,q.value.length)):(w=(B=q.ownerDocument||document)&&B.defaultView||window,w.getSelection&&\n(w=w.getSelection(),l=q.textContent.length,g=Math.min(h.start,l),h=void 0===h.end?g:Math.min(h.end,l),!w.extend&&g>h&&(l=h,h=g,g=l),l=vd(q,g),m=vd(q,h),l&&m&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==m.node||w.focusOffset!==m.offset)&&(B=B.createRange(),B.setStart(l.node,l.offset),w.removeAllRanges(),g>h?(w.addRange(B),w.extend(m.node,m.offset)):(B.setEnd(m.node,m.offset),w.addRange(B))))));B=[];for(w=q;w=w.parentNode;)1===w.nodeType&&B.push({element:w,left:w.scrollLeft,\ntop:w.scrollTop});\"function\"===typeof q.focus&&q.focus();for(q=0;q<B.length;q++)w=B[q],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}fd=!!Dd;Ed=Dd=null;a.current=c;Y=e;do try{for(q=a;null!==Y;){var ub=Y.effectTag;ub&36&&Ji(q,Y.alternate,Y);if(ub&128){B=void 0;var vb=Y.ref;if(null!==vb){var Xc=Y.stateNode;switch(Y.tag){case 5:B=Xc;break;default:B=Xc}\"function\"===typeof vb?vb(B):vb.current=B}}Y=Y.nextEffect}}catch(wb){if(null===Y)throw Error(u(330));Ei(Y,wb);Y=Y.nextEffect}while(null!==Y);Y=\nnull;Vf();W=f}else a.current=c;if(qj)qj=!1,rj=a,sj=b;else for(Y=e;null!==Y;)b=Y.nextEffect,Y.nextEffect=null,Y=b;b=a.firstPendingTime;0===b&&(aj=null);1073741823===b?a===vj?uj++:(uj=0,vj=a):uj=0;\"function\"===typeof Uj&&Uj(c.stateNode,d);Z(a);if(Yi)throw Yi=!1,a=Zi,Zi=null,a;if((W&ej)!==V)return null;gg();return null}function Tj(){for(;null!==Y;){var a=Y.effectTag;0!==(a&256)&&Gi(Y.alternate,Y);0===(a&512)||qj||(qj=!0,dg(97,function(){Dj();return null}));Y=Y.nextEffect}}\nfunction Dj(){if(90!==sj){var a=97<sj?97:sj;sj=90;return cg(a,Vj)}}function Vj(){if(null===rj)return!1;var a=rj;rj=null;if((W&(fj|gj))!==V)throw Error(u(331));var b=W;W|=gj;for(a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(c.effectTag&512))switch(c.tag){case 0:case 11:case 15:case 22:Hi(5,c),Ii(5,c)}}catch(d){if(null===a)throw Error(u(330));Ei(a,d)}c=a.nextEffect;a.nextEffect=null;a=c}W=b;gg();return!0}\nfunction Wj(a,b,c){b=Ai(c,b);b=Xi(a,b,1073741823);xg(a,b);a=xj(a,1073741823);null!==a&&Z(a)}function Ei(a,b){if(3===a.tag)Wj(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){Wj(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===aj||!aj.has(d))){a=Ai(b,a);a=$i(c,a,1073741823);xg(c,a);c=xj(c,1073741823);null!==c&&Z(c);break}}c=c.return}}\nfunction Oj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);T===a&&U===c?S===vi||S===ui&&1073741823===lj&&$f()-Ti<pj?Ej(a,U):oj=!0:Aj(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,Z(a)))}function Vi(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=Gg(),b=Hg(b,a,null));a=xj(a,b);null!==a&&Z(a)}var Rj;\nRj=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||K.current)rg=!0;else{if(d<c){rg=!1;switch(b.tag){case 3:hi(b);Xh();break;case 5:fh(b);if(b.mode&4&&1!==c&&e.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:L(b.type)&&Gf(b);break;case 4:dh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;e=b.type._context;I(jg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;\nif(0!==d&&d>=c)return ji(a,b,c);I(M,M.current&1);b=$h(a,b,c);return null!==b?b.sibling:null}I(M,M.current&1);break;case 19:d=b.childExpirationTime>=c;if(0!==(a.effectTag&64)){if(d)return mi(a,b,c);b.effectTag|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null);I(M,M.current);if(!d)return null}return $h(a,b,c)}rg=!1}}else rg=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;e=Cf(b,J.current);qg(b,c);e=oh(null,\nb,d,a,e,c);b.effectTag|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(L(d)){var f=!0;Gf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;ug(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Fg(b,d,g,a);e.updater=Jg;b.stateNode=e;e._reactInternalFiber=b;Ng(b,d,a,c);b=gi(null,b,d,!0,f,c)}else b.tag=0,R(null,b,e,c),b=b.child;return b;case 16:a:{e=b.elementType;null!==a&&(a.alternate=\nnull,b.alternate=null,b.effectTag|=2);a=b.pendingProps;ob(e);if(1!==e._status)throw e._result;e=e._result;b.type=e;f=b.tag=Xj(e);a=ig(e,a);switch(f){case 0:b=di(null,b,e,a,c);break a;case 1:b=fi(null,b,e,a,c);break a;case 11:b=Zh(null,b,e,a,c);break a;case 14:b=ai(null,b,e,ig(e.type,a),d,c);break a}throw Error(u(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),di(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),fi(a,b,d,e,c);\ncase 3:hi(b);d=b.updateQueue;if(null===a||null===d)throw Error(u(282));d=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;vg(a,b);zg(b,d,null,c);d=b.memoizedState.element;if(d===e)Xh(),b=$h(a,b,c);else{if(e=b.stateNode.hydrate)Ph=Jd(b.stateNode.containerInfo.firstChild),Oh=b,e=Qh=!0;if(e)for(c=Yg(b,null,d,c),b.child=c;c;)c.effectTag=c.effectTag&-3|1024,c=c.sibling;else R(a,b,d,c),Xh();b=b.child}return b;case 5:return fh(b),null===a&&Uh(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:\nnull,g=e.children,Gd(d,e)?g=null:null!==f&&Gd(d,f)&&(b.effectTag|=16),ei(a,b),b.mode&4&&1!==c&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(R(a,b,g,c),b=b.child),b;case 6:return null===a&&Uh(b),null;case 13:return ji(a,b,c);case 4:return dh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Xg(b,null,d,c):R(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),Zh(a,b,d,e,c);case 7:return R(a,b,b.pendingProps,c),b.child;case 8:return R(a,\nb,b.pendingProps.children,c),b.child;case 12:return R(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(jg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=$e(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!K.current){b=$h(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==\nk){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=wg(c,null),l.tag=2,xg(h,l));h.expirationTime<c&&(h.expirationTime=c);l=h.alternate;null!==l&&l.expirationTime<c&&(l.expirationTime=c);pg(h.return,c);k.expirationTime<c&&(k.expirationTime=c);break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=\ng}R(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,qg(b,c),e=sg(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,R(a,b,d,c),b.child;case 14:return e=b.type,f=ig(e,b.pendingProps),f=ig(e.type,f),ai(a,b,e,f,d,c);case 15:return ci(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:ig(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,L(d)?(a=!0,Gf(b)):a=!1,qg(b,c),Lg(b,d,e),Ng(b,d,e,c),gi(null,\nb,d,!0,a,c);case 19:return mi(a,b,c)}throw Error(u(156,b.tag));};var Uj=null,Li=null;function Yj(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Uj=function(a){try{b.onCommitFiberRoot(c,a,void 0,64===(a.current.effectTag&64))}catch(e){}};Li=function(a){try{b.onCommitFiberUnmount(c,a)}catch(e){}}}catch(d){}return!0}\nfunction Zj(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Sh(a,b,c,d){return new Zj(a,b,c,d)}\nfunction bi(a){a=a.prototype;return!(!a||!a.isReactComponent)}function Xj(a){if(\"function\"===typeof a)return bi(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===gb)return 11;if(a===jb)return 14}return 2}\nfunction Sg(a,b){var c=a.alternate;null===c?(c=Sh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{expirationTime:b.expirationTime,\nfirstContext:b.firstContext,responders:b.responders};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Ug(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bi(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ab:return Wg(c.children,e,f,b);case fb:g=8;e|=7;break;case bb:g=8;e|=1;break;case cb:return a=Sh(12,c,b,e|8),a.elementType=cb,a.type=cb,a.expirationTime=f,a;case hb:return a=Sh(13,c,b,e),a.type=hb,a.elementType=hb,a.expirationTime=f,a;case ib:return a=Sh(19,c,b,e),a.elementType=ib,a.expirationTime=f,a;default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case db:g=\n10;break a;case eb:g=9;break a;case gb:g=11;break a;case jb:g=14;break a;case kb:g=16;d=null;break a;case lb:g=22;break a}throw Error(u(130,null==a?a:typeof a,\"\"));}b=Sh(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function Wg(a,b,c,d){a=Sh(7,a,d,b);a.expirationTime=c;return a}function Tg(a,b,c){a=Sh(6,a,null,b);a.expirationTime=c;return a}\nfunction Vg(a,b,c){b=Sh(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction ak(a,b,c){this.tag=b;this.current=null;this.containerInfo=a;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}\nfunction Aj(a,b){var c=a.firstSuspendedTime;a=a.lastSuspendedTime;return 0!==c&&c>=b&&a<=b}function xi(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;c<b&&(a.firstSuspendedTime=b);if(d>b||0===c)a.lastSuspendedTime=b;b<=a.lastPingedTime&&(a.lastPingedTime=0);b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}\nfunction yi(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function Cj(a,b){var c=a.lastExpiredTime;if(0===c||c>b)a.lastExpiredTime=b}\nfunction bk(a,b,c,d){var e=b.current,f=Gg(),g=Dg.suspense;f=Hg(f,e,g);a:if(c){c=c._reactInternalFiber;b:{if(dc(c)!==c||1!==c.tag)throw Error(u(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(L(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(u(171));}if(1===c.tag){var k=c.type;if(L(k)){c=Ff(c,k,h);break a}}c=h}else c=Af;null===b.context?b.context=c:b.pendingContext=c;b=wg(f,g);b.payload={element:a};d=void 0===\nd?null:d;null!==d&&(b.callback=d);xg(e,b);Ig(e,f);return f}function ck(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function dk(a,b){a=a.memoizedState;null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function ek(a,b){dk(a,b);(a=a.alternate)&&dk(a,b)}\nfunction fk(a,b,c){c=null!=c&&!0===c.hydrate;var d=new ak(a,b,c),e=Sh(3,null,null,2===b?7:1===b?3:0);d.current=e;e.stateNode=d;ug(e);a[Od]=d.current;c&&0!==b&&Jc(a,9===a.nodeType?a:a.ownerDocument);this._internalRoot=d}fk.prototype.render=function(a){bk(a,this._internalRoot,null,null)};fk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;bk(null,a,null,function(){b[Od]=null})};\nfunction gk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function hk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new fk(a,0,b?{hydrate:!0}:void 0)}\nfunction ik(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=ck(g);h.call(a)}}bk(b,g,a,e)}else{f=c._reactRootContainer=hk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=ck(g);k.call(a)}}Nj(function(){bk(b,g,a,e)})}return ck(g)}function jk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$a,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nwc=function(a){if(13===a.tag){var b=hg(Gg(),150,100);Ig(a,b);ek(a,b)}};xc=function(a){13===a.tag&&(Ig(a,3),ek(a,3))};yc=function(a){if(13===a.tag){var b=Gg();b=Hg(b,a,null);Ig(a,b);ek(a,b)}};\nza=function(a,b,c){switch(b){case \"input\":Cb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Qd(d);if(!e)throw Error(u(90));yb(d);Cb(d,e)}}}break;case \"textarea\":Kb(a,c);break;case \"select\":b=c.value,null!=b&&Hb(a,!!c.multiple,b,!1)}};Fa=Mj;\nGa=function(a,b,c,d,e){var f=W;W|=4;try{return cg(98,a.bind(null,b,c,d,e))}finally{W=f,W===V&&gg()}};Ha=function(){(W&(1|fj|gj))===V&&(Lj(),Dj())};Ia=function(a,b){var c=W;W|=2;try{return a(b)}finally{W=c,W===V&&gg()}};function kk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(b))throw Error(u(200));return jk(a,b,null,c)}var lk={Events:[Nc,Pd,Qd,xa,ta,Xd,function(a){jc(a,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};\n(function(a){var b=a.findFiberByHostInstance;return Yj(n({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=hc(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:tc,bundleType:0,version:\"16.13.1\",\nrendererPackageName:\"react-dom\"});exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;exports.createPortal=kk;exports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(void 0===b){if(\"function\"===typeof a.render)throw Error(u(188));throw Error(u(268,Object.keys(a)));}a=hc(b);a=null===a?null:a.stateNode;return a};\nexports.flushSync=function(a,b){if((W&(fj|gj))!==V)throw Error(u(187));var c=W;W|=1;try{return cg(99,a.bind(null,b))}finally{W=c,gg()}};exports.hydrate=function(a,b,c){if(!gk(b))throw Error(u(200));return ik(null,a,b,!0,c)};exports.render=function(a,b,c){if(!gk(b))throw Error(u(200));return ik(null,a,b,!1,c)};\nexports.unmountComponentAtNode=function(a){if(!gk(a))throw Error(u(40));return a._reactRootContainer?(Nj(function(){ik(null,null,a,!1,function(){a._reactRootContainer=null;a[Od]=null})}),!0):!1};exports.unstable_batchedUpdates=Mj;exports.unstable_createPortal=function(a,b){return kk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!gk(c))throw Error(u(200));if(null==a||void 0===a._reactInternalFiber)throw Error(u(38));return ik(a,b,c,!1,d)};exports.version=\"16.13.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=Z;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};\nexports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ButtonAccessibilityImageAlt from './button-accessibility-image-alt.jsx';\nimport ButtonBackgroundColor from './button-background-color.jsx';\nimport ButtonBold from './button-bold.jsx';\nimport ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonCamera from './button-camera.jsx';\nimport ButtonCode from './button-code.jsx';\nimport ButtonColor from './button-color.jsx';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonDropdown from './button-dropdown.jsx';\nimport ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonEmbedVideo from './button-embed-video.jsx';\nimport ButtonEmbed from './button-embed.jsx';\nimport ButtonH1 from './button-h1.jsx';\nimport ButtonH2 from './button-h2.jsx';\nimport ButtonHline from './button-hline.jsx';\nimport ButtonSmiley from './button-smiley.jsx';\nimport ButtonImageAlignCenter from './button-image-align-center.jsx';\nimport ButtonImageAlignLeft from './button-image-align-left.jsx';\nimport ButtonImageAlignRight from './button-image-align-right.jsx';\nimport ButtonImage from './button-image.jsx';\nimport ButtonIndentBlock from './button-indent-block.jsx';\nimport ButtonItalic from './button-italic.jsx';\nimport ButtonItemSelectorAudio from './button-item-selector-audio.jsx';\nimport ButtonItemSelectorImage from './button-item-selector-image.jsx';\nimport ButtonItemSelectorVideo from './button-item-selector-video.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkBrowse from './button-link-browse.jsx';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\nimport ButtonLink from './button-link.jsx';\nimport ButtonOl from './button-ol.jsx';\nimport ButtonOutdentBlock from './button-outdent-block.jsx';\nimport ButtonParagraphAlignLeft from './button-paragraph-align-left.jsx';\nimport ButtonParagraphAlignRight from './button-paragraph-align-right.jsx';\nimport ButtonParagraphAlign from './button-paragraph-align.jsx';\nimport ButtonParagraphCenter from './button-paragraph-center.jsx';\nimport ButtonParagraphJustify from './button-paragraph-justify.jsx';\nimport ButtonQuote from './button-quote.jsx';\nimport ButtonRemoveFormat from './button-remove-format.jsx';\nimport ButtonRemoveImage from './button-remove-image.jsx';\nimport ButtonSeparator from './button-separator.jsx';\nimport ButtonSpacing from './button-spacing.jsx';\nimport ButtonStrike from './button-strike.jsx';\nimport ButtonStylesListHeader from './button-styles-list-header.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport ButtonStyles from './button-styles.jsx';\nimport ButtonSubscript from './button-subscript.jsx';\nimport ButtonSuperscript from './button-superscript.jsx';\nimport ButtonTableCell from './button-table-cell.jsx';\nimport ButtonTableColumn from './button-table-column.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\nimport ButtonTableHeading from './button-table-heading.jsx';\nimport ButtonTableRemove from './button-table-remove.jsx';\nimport ButtonTableRow from './button-table-row.jsx';\nimport ButtonTable from './button-table.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\nimport ButtonTwitter from './button-twitter.jsx';\nimport ButtonUl from './button-ul.jsx';\nimport ButtonUnderline from './button-underline.jsx';\n\nexport default {\n\t[ButtonAccessibilityImageAlt.key]: ButtonAccessibilityImageAlt,\n\t[ButtonBackgroundColor.key]: ButtonBackgroundColor,\n\t[ButtonBold.key]: ButtonBold,\n\t[ButtonCameraImage.key]: ButtonCameraImage,\n\t[ButtonCamera.key]: ButtonCamera,\n\t[ButtonCode.key]: ButtonCode,\n\t[ButtonColor.key]: ButtonColor,\n\t[ButtonCommandListItem.key]: ButtonCommandListItem,\n\t[ButtonCommandsList.key]: ButtonCommandsList,\n\t[ButtonDropdown.key]: ButtonDropdown,\n\t[ButtonEmbedEdit.key]: ButtonEmbedEdit,\n\t[ButtonEmbed.key]: ButtonEmbed,\n\t[ButtonEmbedVideoEdit.key]: ButtonEmbedVideoEdit,\n\t[ButtonEmbedVideo.key]: ButtonEmbedVideo,\n\t[ButtonH1.key]: ButtonH1,\n\t[ButtonH2.key]: ButtonH2,\n\t[ButtonHline.key]: ButtonHline,\n\t[ButtonSmiley.key]: ButtonSmiley,\n\t[ButtonImageAlignCenter.key]: ButtonImageAlignCenter,\n\t[ButtonImageAlignLeft.key]: ButtonImageAlignLeft,\n\t[ButtonImageAlignRight.key]: ButtonImageAlignRight,\n\t[ButtonImage.key]: ButtonImage,\n\t[ButtonIndentBlock.key]: ButtonIndentBlock,\n\t[ButtonItalic.key]: ButtonItalic,\n\t[ButtonItemSelectorAudio.key]: ButtonItemSelectorAudio,\n\t[ButtonItemSelectorImage.key]: ButtonItemSelectorImage,\n\t[ButtonItemSelectorVideo.key]: ButtonItemSelectorVideo,\n\t[ButtonLinkAutocompleteList.key]: ButtonLinkAutocompleteList,\n\t[ButtonLinkBrowse.key]: ButtonLinkBrowse,\n\t[ButtonLinkEditBrowse.key]: ButtonLinkEditBrowse,\n\t[ButtonLinkEdit.key]: ButtonLinkEdit,\n\t[ButtonLinkTargetEdit.key]: ButtonLinkTargetEdit,\n\t[ButtonLink.key]: ButtonLink,\n\t[ButtonOl.key]: ButtonOl,\n\t[ButtonOutdentBlock.key]: ButtonOutdentBlock,\n\t[ButtonParagraphAlign.key]: ButtonParagraphAlign,\n\t[ButtonParagraphAlignLeft.key]: ButtonParagraphAlignLeft,\n\t[ButtonParagraphAlignRight.key]: ButtonParagraphAlignRight,\n\t[ButtonParagraphCenter.key]: ButtonParagraphCenter,\n\t[ButtonParagraphJustify.key]: ButtonParagraphJustify,\n\t[ButtonQuote.key]: ButtonQuote,\n\t[ButtonRemoveFormat.key]: ButtonRemoveFormat,\n\t[ButtonRemoveImage.key]: ButtonRemoveImage,\n\t[ButtonSeparator.key]: ButtonSeparator,\n\t[ButtonSpacing.key]: ButtonSpacing,\n\t[ButtonStrike.key]: ButtonStrike,\n\t[ButtonStylesListHeader.key]: ButtonStylesListHeader,\n\t[ButtonStylesListItemRemove.key]: ButtonStylesListItemRemove,\n\t[ButtonStylesListItem.key]: ButtonStylesListItem,\n\t[ButtonStylesList.key]: ButtonStylesList,\n\t[ButtonStyles.key]: ButtonStyles,\n\t[ButtonSubscript.key]: ButtonSubscript,\n\t[ButtonSuperscript.key]: ButtonSuperscript,\n\t[ButtonTableCell.key]: ButtonTableCell,\n\t[ButtonTableColumn.key]: ButtonTableColumn,\n\t[ButtonTableEdit.key]: ButtonTableEdit,\n\t[ButtonTableHeading.key]: ButtonTableHeading,\n\t[ButtonTableRemove.key]: ButtonTableRemove,\n\t[ButtonTableRow.key]: ButtonTableRow,\n\t[ButtonTable.key]: ButtonTable,\n\t[ButtonTargetList.key]: ButtonTargetList,\n\t[ButtonTwitter.key]: ButtonTwitter,\n\t[ButtonUl.key]: ButtonUl,\n\t[ButtonUnderline.key]: ButtonUnderline,\n};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonAccessibilityImageAlt class provides functionality for changing text color in a document.\n *\n * @class ButtonAccessibilityImageAlt\n *\n */\nclass ButtonAccessibilityImageAlt extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'imageAlt';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst selection = props.context.editor\n\t\t\t.get('nativeEditor')\n\t\t\t.getSelection();\n\n\t\tconst element =\n\t\t\tselection.getSelectedElement() || selection.getStartElement();\n\n\t\tthis._element = element;\n\n\t\tconst imageElement = this._element.findOne('img');\n\n\t\tconst imageAlt = imageElement\n\t\t\t? imageElement.getAttribute('alt')\n\t\t\t: this._element.getAttribute('alt');\n\n\t\tthis.state = {\n\t\t\timageAlt,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn (\n\t\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taria-label=\"alt\"\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleAltChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\tplaceholder=\"alt\"\n\t\t\t\t\t\t\tref=\"refAltInput\"\n\t\t\t\t\t\t\ttitle=\"alt\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.imageAlt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\t\tonClick={this._updateImageAlt}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"check\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t<small className=\"ae-icon small\">Alt</small>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @protected\n\t * @method _focusAltInput\n\t */\n\t_focusAltInput() {\n\t\tconst instance = this;\n\n\t\tconst focusAltEl = function() {\n\t\t\tReactDOM.findDOMNode(instance.refs.refAltInput).focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusAltEl);\n\t\t} else {\n\t\t\tsetTimeout(focusAltEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Event attached to alt input that fires when its value is changed\n\t *\n\t * @protected\n\t * @method  _handleAltChange\n\t * @param {MouseEvent} event\n\t */\n\t_handleAltChange = event => {\n\t\tthis.setState({\n\t\t\timageAlt: event.target.value,\n\t\t});\n\n\t\tthis._focusAltInput();\n\t};\n\n\t/**\n\t * Event attached to al tinput that fires when key is down\n\t * This method check that enter key is pushed to update the components state\n\t *\n\t * @protected\n\t * @method  _handleKeyDown\n\t * @param {MouseEvent} event\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._updateImageAlt();\n\t\t}\n\t};\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonAccessibilityImageAlt.key);\n\t};\n\n\t/**\n\t * Method called by clicking ok button or pushing key enter to update imageAlt state and to update alt property from the image that is selected\n\t * This method calls cancelExclusive to show the previous toolbar before enter to edit alt property\n\t *\n\t * @protected\n\t * @method  _updateImageAlt\n\t */\n\t_updateImageAlt = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst imageAlt = this.refs.refAltInput.value;\n\n\t\tthis.setState({\n\t\t\timageAlt,\n\t\t});\n\n\t\tconst imageElement = this._element.findOne('img');\n\t\tconst image = imageElement ? imageElement : this._element;\n\n\t\timage.setAttribute('alt', imageAlt);\n\n\t\teditor.fire('actionPerformed', this);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the alt button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default EditorContext.toProps(ButtonAccessibilityImageAlt);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\nclass ButtonBackgroundColor extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'backgroundColor';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tlet activeColorClass = '';\n\n\t\tconst colors = this._getColors();\n\n\t\tconst itemStyle = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: '',\n\t\t\t},\n\t\t};\n\n\t\tcolors.forEach(item => {\n\t\t\titemStyle.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(itemStyle)) {\n\t\t\t\tactiveColor = item.name;\n\n\t\t\t\tactiveColorClass = item.style.attributes.class;\n\t\t\t}\n\t\t});\n\n\t\tconst {expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span className={activeColorClass}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"textbox\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tstyleConfig.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(styleConfig)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(styleConfig));\n\t\t\t}\n\t\t});\n\n\t\tstyleConfig.attributes.class = className;\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.normal,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-body',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: '',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-primary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.disabled,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-secondary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-success',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-danger',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-warning',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-info',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-info'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonBackgroundColor;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonBold class provides functionality for styling an selection with strong (bold) style.\n *\n * @class ButtonBold\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonBold extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bold',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 66 /* B*/,\n\t\t\tname: 'bold',\n\t\t},\n\t\tstyle: 'coreStyles_bold',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default bold\n\t * @memberof ButtonBold\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'bold';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button  ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bold}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-bold\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bold}>\n\t\t\t\t<ButtonIcon symbol=\"bold\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonBold)))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonCamera class renders in two different ways:\n *\n * - Normal: Just a button that allows to switch to the edition mode.\n * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.\n *\n * @class ButtonCamera\n */\nclass ButtonCamera extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default camera\n\t * @memberof ButtonCamera\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'camera';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCamera\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonCameraImage {...this.props} />;\n\t\t} else {\n\t\t\tconst disabled = !(\n\t\t\t\tnavigator.getUserMedia ||\n\t\t\t\t(navigator.webkitGetUserMedia &&\n\t\t\t\t\tlocation.protocol === 'https') ||\n\t\t\t\tnavigator.mozGetUserMedia ||\n\t\t\t\tnavigator.msGetUserMedia\n\t\t\t);\n\n\t\t\tconst label = disabled\n\t\t\t\t? AlloyEditor.Strings.cameraDisabled\n\t\t\t\t: AlloyEditor.Strings.camera;\n\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image-camera\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonClick={this.props.requestExclusive.bind(ButtonCamera.key)}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={label}>\n\t\t\t\t\t<ButtonIcon symbol=\"camera\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonCamera;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonCode class provides wraps a selection in `pre` element.\n *\n * @class ButtonCode\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonCode extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'pre',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default code\n\t * @memberof ButtonCode\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'code';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.code}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-code\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.code}>\n\t\t\t\t<ButtonIcon symbol=\"code\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonCode)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonColor class provides functionality for changing text color in a document.\n *\n *\n * @class ButtonColor\n */\nclass ButtonColor extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'color';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tconst colors = this._getColors();\n\n\t\tcolors.some(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveColor = item.name;\n\t\t\t}\n\t\t});\n\n\t\tconst {expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"color-picker\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig Color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - The style name, for example \"default\".\n\t * - style - An object with one property, called `element` which value\n\t *          represents the style which have to be applied to the element.\n\t * - styleFn - The function that is invoked to apply the style to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-info'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.dark,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-dark'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.darkGray,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-gray-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-gray-dark'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.secondary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.light,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-light'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.lighter,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-lighter'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.white,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-dark',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-white'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonColor;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonEmbedVideo class provides functionality for changing text color in a document.\n *\n * @class ButtonEmbedVideo\n */\nclass ButtonEmbedVideo extends React.Component {\n\tstatic key = 'embedVideo';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedVideoEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.video}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-video\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.video}>\n\t\t\t\t\t<ButtonIcon symbol=\"video\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonEmbedVideo;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.\n * ButtonEmbed renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.\n *\n * @class ButtonEmbed\n * @uses ButtonKeystroke\n */\nclass ButtonEmbed extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t\tname: 'embed',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embed\n\t * @memberof ButtonEmbed\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embed';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon symbol=\"plus\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonEmbed.key);\n\t};\n}\n\nexport default ButtonKeystroke(ButtonEmbed);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonH1 class provides wraps a selection in `h1` element.\n *\n * @class ButtonH1\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH1 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h1',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h1\n\t * @memberof ButtonH1\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h1';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h1}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h1\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h1}>\n\t\t\t\t<ButtonIcon symbol=\"h1\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH1)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonActionStyle from '../base/button-action-style';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonH2 class provides wraps a selection in `h2` element.\n *\n * @class ButtonH2\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH2 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h2',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h2\n\t * @memberof ButtonH2\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h2';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h2}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h2\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h2}>\n\t\t\t\t<ButtonIcon symbol=\"h2\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH2)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonHline class provides inserts horizontal line.\n *\n * @class ButtonHline\n * @uses ButtonCommand\n */\nclass ButtonHline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'horizontalrule',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default hline\n\t * @memberof ButtonHline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'hline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.horizontalrule}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-hline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.horizontalrule}>\n\t\t\t\t<ButtonIcon symbol=\"hr\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonHline);\n","import path from 'path';\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport EditorContext from '../../adapter/editor-context';\n\nfunction ButtonPathIcon({className = '', iconFile}) {\n\treturn (\n\t\t<EditorContext.Consumer>\n\t\t\t{({editor}) => {\n\t\t\t\tconst nativeEditor = editor.get('nativeEditor');\n\t\t\t\tconst spritemap = nativeEditor.config.spritemap || '';\n\t\t\t\tconst dirname = path.dirname(spritemap);\n\t\t\t\tconst iconPath = path.join(dirname, iconFile);\n\t\t\t\tconst combinedClassName = `ae-svg-icon`;\n\t\t\t\t// console.debug(`ButtonIcon.<EditorContext.Consumer> ${path}, combinedClassName ${combinedClassName}`);\n\n\t\t\t\treturn (\n\t\t\t\t\t<svg className={combinedClassName} height=\"18\" width=\"18\">\n\t\t\t\t\t\t<use href={iconPath} />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\t}}\n\t\t</EditorContext.Consumer>\n\t);\n}\n\n/**\n * The ButtonSmiley class provides inserts horizontal line.\n *\n * @class ButtonSmiley\n * @uses ButtonCommand\n */\nclass ButtonSmiley extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSmiley\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'smiley',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default smiley\n\t * @memberof ButtonSmiley\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'smiley';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSmiley\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label=\"Smiles\"\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-smiley\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle=\"Smiles\">\n\t\t\t\t<ButtonPathIcon iconFile=\"smiley.svg#smiley\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonSmiley);\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.\n *\n * @class ButtonImageAlignCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageCenter\n\t * @memberof ButtonImageAlignCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignCenter))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImageAlignLeft class provides functionality for aligning an image on left.\n *\n * @class ButtonImageAlignLeft\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageLeft\n\t * @memberof ButtonImageAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignLeft))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonImageAlignRight class provides functionality for aligning an image on right.\n *\n * @class ButtonImageAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageRight\n\t * @memberof ButtonImageAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon symbol=\"align-image-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignRight))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport {fitImage} from '../../utils';\n\n/**\n * The ButtonImage class inserts an image to the content.\n *\n * @class ButtonImage\n */\nclass ButtonImage extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default image\n\t * @memberof ButtonImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageFromFile';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.fileInput = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputSyle = {display: 'none'};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.image}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image\"\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.image}>\n\t\t\t\t\t<ButtonIcon symbol=\"document-image\" />\n\t\t\t\t</button>\n\n\t\t\t\t<input\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tonChange={this._onInputChange}\n\t\t\t\t\tref={this.fileInput}\n\t\t\t\t\tstyle={inputSyle}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Simulates click on the input element. This will open browser's native file open dialog.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method handleClick\n\t * @param {SyntheticEvent} event The received click event on the button.\n\t */\n\thandleClick = () => {\n\t\tthis.fileInput.current.click();\n\t};\n\n\t/**\n\t * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added\n\t * to the content. The image file will be passed in the `imageFiles` property.\n\t * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.\n\t * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.\n\t * The passed params will be:\n\t * - `el` - the created img element\n\t * - `file` - the original image file from the input element\n\t *\n\t * @fires ButtonImage#beforeImageAdd\n\t * @fires ButtonImage#imageAdd\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method _onInputChange\n\t * @protected\n\t */\n\t_onInputChange = () => {\n\t\tconst inputEl = this.fileInput.current;\n\n\t\t// On IE11 the function might be called with an empty array of\n\t\t// files. In such a case, no actions will be taken.\n\t\tif (!inputEl.files.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst reader = new FileReader();\n\t\tconst file = inputEl.files[0];\n\n\t\treader.onload = async event => {\n\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles: file,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\ttry{\n\t\t\t\t\tconst data = await fitImage(event.target.result, file.type);\n\n\t\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t`<img src=\"${data}\">`\n\t\t\t\t\t);\n\n\t\t\t\t\teditor.insertElement(el);\n\n\t\t\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\t\t\tconst imageData = {\n\t\t\t\t\t\tel,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t};\n\n\t\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconsole.warn(`Failed to fit image with error`, e);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\treader.readAsDataURL(file);\n\n\t\tinputEl.value = '';\n\t};\n}\n\nexport default ButtonImage;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonIndentBlock class provides functionality for indenting the selected blocks.\n *\n * @class ButtonIndentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonIndentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'indent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default indentBlock\n\t * @memberof ButtonIndentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'indentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.indent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-indent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.indent}>\n\t\t\t\t<ButtonIcon symbol=\"indent-less\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonIndentBlock))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonItalic class provides functionality for styling an selection with italic (em) style.\n *\n * @class ButtonItalic\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonItalic extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'italic',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 73 /* I*/,\n\t\t\tname: 'italic',\n\t\t},\n\t\tstyle: 'coreStyles_italic',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default italic\n\t * @memberof ButtonItalic\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'italic';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.italic}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-italic\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.italic}>\n\t\t\t\t<ButtonIcon symbol=\"italic\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonItalic)))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * @class ButtonItemSelectorAudio\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorAudio extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'audioselector',\n\t};\n\n\tstatic key = 'audio';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.audio}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-audio\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.audio}>\n\t\t\t\t<ButtonIcon symbol=\"audio\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorAudio);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * @class ButtonItemSelectorImage\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'imageselector',\n\t};\n\n\tstatic key = 'image';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.image}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-image\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.image}>\n\t\t\t\t<ButtonIcon symbol=\"picture\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorImage);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * @class ButtonItemSelectorVideo\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorVideo extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'videoselector',\n\t};\n\n\tstatic key = 'video';\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.video}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-video\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.video}>\n\t\t\t\t<ButtonIcon symbol=\"video\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorVideo);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonProps from '../base/button-props';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonLink from './button-link.jsx';\n\n/**\n * The ButtonLinkBrowse class provides functionality for changing text color in a document.\n *\n * @uses ButtonKeystroke\n * @uses ButtonProps\n *\n * @class ButtonLinkBrowse\n */\nclass ButtonLinkBrowse extends React.Component {\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\tname: 'linkBrowse',\n\t\t},\n\t};\n\n\tstatic key = 'linkBrowse';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEditBrowse {...this.props} />;\n\t\t} else {\n\t\t\treturn <ButtonLink {...this.props} />;\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive() {\n\t\tthis.props.requestExclusive(ButtonLinkBrowse.key);\n\t}\n}\n\nexport default ButtonProps(ButtonKeystroke(ButtonLinkBrowse));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.\n *\n * @class ButtonOrderedList\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonOrderedList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'numberedlist',\n\t\tstyle: {\n\t\t\telement: 'ol',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ol\n\t * @memberof ButtonOrderedList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ol';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.numberedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ol\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.numberedlist}>\n\t\t\t\t<ButtonIcon symbol=\"list-ol\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonOrderedList))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonOutdentBlock class provides functionality for outdenting blocks.\n *\n * @class ButtonOutdentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonOutdentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'outdent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default outdentBlock\n\t * @memberof ButtonOutdentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'outdentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.outdent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-outdent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.outdent}>\n\t\t\t\t<ButtonIcon symbol=\"indent-more\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonOutdentBlock))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.\n *\n * @class ButtonParagraphAlignLeft\n *\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphLeft\n\t * @memberof ButtonParagraphAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon symbol=\"align-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignLeft))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.\n *\n * @class ButtonParagraphAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphRight\n\t * @memberof ButtonParagraphAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon symbol=\"align-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignRight))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphAlign class provides functionality to work with table rows.\n *\n * @class ButtonParagraphAlign\n */\nclass ButtonParagraphAlign extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'paragraphAlign';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonParagraphAlign.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tinlineIcons={false}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst activeCommand = this._getCommands()\n\t\t\t.filter(alignment => {\n\t\t\t\tconst command = editor.getCommand(alignment.command);\n\n\t\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t\t})\n\t\t\t.pop()\n\t\t\t|| this._getCommands()[0];\n\n\t\tconst iconClassName = activeCommand.icon;\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-container-dropdown-xsmall ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={activeCommand.label}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<ButtonIcon symbol={iconClassName} />\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyleft',\n\t\t\t\t\ticon: 'align-left',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignLeft,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifycenter',\n\t\t\t\t\ticon: 'align-center',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignCenter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyright',\n\t\t\t\t\ticon: 'align-right',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyblock',\n\t\t\t\t\ticon: 'align-justify',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignJustify,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonParagraphAlign;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphCenter class provides functionality for centering a paragraph.\n *\n * @class ButtonParagraphCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphCenter\n\t * @memberof ButtonParagraphCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon symbol=\"align-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphCenter))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonCommandActive from '../base/button-command-active';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonParagraphJustify class provides functionality for justfying a paragraph.\n *\n * @class ButtonParagraphJustify\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphJustify extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyblock',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphJustify\n\t * @memberof ButtonParagraphJustify\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphJustify';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignJustify}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-justify\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignJustify}>\n\t\t\t\t<ButtonIcon symbol=\"align-justify\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphJustify))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonQuote class wraps a selection in `blockquote` element.\n *\n * @class ButtonQuote\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonQuote extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'blockquote',\n\t\tstyle: {\n\t\t\telement: 'blockquote',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default quote\n\t * @memberof ButtonQuote\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'quote';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.quote}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-quote\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.quote}>\n\t\t\t\t<ButtonIcon symbol=\"quote-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonQuote)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonRemoveFormat class removes style formatting.\n *\n * @class ButtonRemoveFormat\n * @uses ButtonCommand\n */\nclass ButtonRemoveFormat extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'removeFormat',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default removeFormat\n\t * @memberof ButtonRemoveFormat\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'removeFormat';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeformat}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-removeformat\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.removeformat}>\n\t\t\t\t<ButtonIcon symbol=\"remove-style\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonRemoveFormat);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonRemoveImage class removes an image using a CKEDITOR.command.\n *\n * @class ButtonRemoveImage\n * @uses ButtonCommand\n */\nclass ButtonRemoveImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'removeImage',\n\t};\n\n\tstatic key = 'removeImage';\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeImage}\n\t\t\t\taria-pressed={false}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttitle={AlloyEditor.Strings.removeImage}>\n\t\t\t\t<ButtonIcon symbol=\"times-circle\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonRemoveImage);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\n/**\n * The ButtonSeparator function renders a simple separator.\n */\nfunction ButtonSeparator(_props) {\n\treturn <span className=\"ae-separator\" />;\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default separator\n * @memberof ButtonSeparator\n * @property {String} key\n * @static\n */\nButtonSeparator.key = 'separator';\n\nexport default ButtonSeparator;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonSpacing class provides functionality for changing text spacing in a document.\n *\n * @class ButtonSpacing\n */\nclass ButtonSpacing extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tstatic key = 'spacing';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeSpacing = '1.0x';\n\n\t\tconst spacings = this._getSpacings();\n\n\t\tspacings.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveSpacing = item.name;\n\t\t\t}\n\t\t});\n\n\t\tconst {editor, expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeSpacing,\n\t\t\teditor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: spacings,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-container-dropdown-small ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"separator\" />\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t{activeSpacing}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getSpacings().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given spacing definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _checkActive\n\t * @param {Object} styleConfig Spacing definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the spacing is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\tlet active = true;\n\n\t\tconst elementPath = nativeEditor.elementPath();\n\n\t\tif (elementPath && elementPath.lastElement) {\n\t\t\tstyleConfig.attributes.class.split(' ').forEach(className => {\n\t\t\t\tactive = active && elementPath.lastElement.hasClass(className);\n\t\t\t});\n\t\t} else {\n\t\t\tactive = false;\n\t\t}\n\n\t\treturn active;\n\t}\n\n\t/**\n\t * Returns an array of spacings. Each spacing consists from three properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t * - styleFn - a function which applies selected style to the editor selection\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _getSpacings\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the spacings.\n\t */\n\t_getSpacings() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: '1.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '1.5x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-1 mb-1',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-1 mb-1'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '2.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-2 mb-2',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-2 mb-2'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '3.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-3 mb-3',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-3 mb-3'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '4.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-4 mb-4',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-4 mb-4'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '5.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-5 mb-5',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-5 mb-5'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonSpacing;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonStrike class styles a selection with strike style.\n *\n * @class ButtonStrike\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonStrike extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'strike',\n\t\tstyle: 'coreStyles_strike',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default strike\n\t * @memberof ButtonStrike\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'strike';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.strike}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-strike\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.strike}>\n\t\t\t\t<ButtonIcon symbol=\"strikethrough\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonStrike)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\n\n/**\n * The ButtonStyles class provides functionality for styling a selection with a list of\n * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration\n * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)\n *\n * @class ButtonStyles\n */\nclass ButtonStyles extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default styles\n\t * @memberof ButtonStyles\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'styles';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeStyle = AlloyEditor.Strings.normal;\n\n\t\tconst styles = this._getStyles();\n\n\t\tstyles.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveStyle = item.name;\n\t\t\t}\n\t\t});\n\n\t\tlet buttonStylesList;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonStylesList = (\n\t\t\t\t<ButtonStylesList\n\t\t\t\t\tactiveStyle={activeStyle}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\tshowRemoveStylesItem={this.props.showRemoveStylesItem}\n\t\t\t\t\tstyles={styles}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles + ' ' + activeStyle}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.styles + ' ' + activeStyle}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeStyle}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonStylesList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Checks if the given style definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _checkActive\n\t * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of styles. Each style consists from two properties:\n\t * - name - the style name, for example \"h1\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _getStyles\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the styles.\n\t */\n\t_getStyles() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h1,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h1',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h2,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h2',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.formatted,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'pre',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.cite,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'cite',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.code,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'code',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonStyles;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonSubscript class provides functionality for applying subscript style to a text selection.\n *\n * @class ButtonSubscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSubscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'subscript',\n\t\tstyle: 'coreStyles_subscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default subscript\n\t * @memberof ButtonSubscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'subscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.subscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-subscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.subscript}>\n\t\t\t\t<ButtonIcon symbol=\"subscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonSubscript)));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.\n *\n * @class ButtonSuperscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSuperscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'superscript',\n\t\tstyle: 'coreStyles_superscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default superscript\n\t * @memberof ButtonSuperscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'superscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.superscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-superscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.superscript}>\n\t\t\t\t<ButtonIcon symbol=\"superscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonSuperscript))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableCell class provides functionality to work with table cells.\n *\n * @class ButtonTableCell\n */\nclass ButtonTableCell extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableCell\n\t * @memberof ButtonTableCell\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableCell';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableCell.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.cell}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.cell}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-cell\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellDelete,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMerge',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMerge,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeDown',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeDown,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeRight',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellHorizontalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitHorizontal,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellVerticalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitVertical,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableCell;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableColumn class provides functionality to work with table columns.\n *\n * @class ButtonTableColumn\n */\nclass ButtonTableColumn extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableColumn\n\t * @memberof ButtonTableColumn\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableColumn';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableColumn.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.column}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.column}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-column\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableColumn;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableHeading class provides functionality to work with table heading.\n *\n * @class ButtonTableHeading\n */\nclass ButtonTableHeading extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableHeading\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableHeading';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableHeading.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst activeHeading = new CKEDITOR.Table(\n\t\t\tthis.context.editor.get('nativeEditor')\n\t\t).getHeading();\n\t\tconst activeHeadingIntro = AlloyEditor.Strings.headers + ':';\n\t\tconst activeHeadingLabel =\n\t\t\tAlloyEditor.Strings['headers' + activeHeading];\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown-xl ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label=\"\"\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle=\"\">\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeHeadingIntro}{' '}\n\t\t\t\t\t\t\t<strong>{activeHeadingLabel}</strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingNone',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersNone,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingRow',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersRow,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingColumn',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersColumn,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingBoth',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersBoth,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableHeading;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableRemove class provides functionality for removing a table\n *\n * @class ButtonTableRemove\n */\nclass ButtonTableRemove extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRemove\n\t * @memberof ButtonTableRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.deleteTable}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-table-remove\"\n\t\t\t\tonClick={this._removeTable}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.deleteTable}>\n\t\t\t\t<ButtonIcon symbol=\"trash\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Removes the table in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method _removeTable\n\t * @protected\n\t */\n\t_removeTable = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonTableRemove;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonTableRow class provides functionality to work with table rows.\n *\n * @class ButtonTableRow\n */\nclass ButtonTableRow extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableRow\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRow';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableRow.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.row}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<ButtonIcon symbol=\"add-row\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableRow;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\n\n/**\n * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonTableEdit UI with all the table edition controls.\n *\n * @class ButtonTable\n */\nclass ButtonTable extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default table\n\t * @memberof ButtonTable\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'table';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTable\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonTableEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.table}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-table\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.table}>\n\t\t\t\t\t<ButtonIcon symbol=\"table\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonTable;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonIcon from './button-icon.jsx';\n\nconst MAX_TWEET_LENGTH = 280;\n\n/**\n * The ButtonTwitter class provides functionality for creating a link which\n * allows people to tweet part of the content in the editor.\n *\n * @class ButtonTwitter\n * @uses ButtonStateClasses\n */\nclass ButtonTwitter extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default twitter\n\t * @memberof ButtonTwitter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'twitter';\n\n\t/**\n\t * Creates or removes the twitter link on the selection.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method handleClick\n\t */\n\thandleClick = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\n\t\tif (this.isActive()) {\n\t\t\tlinkUtils.remove(linkUtils.getFromSelection());\n\t\t} else {\n\t\t\tlinkUtils.create(this._getHref(), {\n\t\t\t\tclass: 'ae-twitter-link',\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a twitter link, false otherwise.\n\t */\n\tisActive() {\n\t\tconst link = new CKEDITOR.Link(\n\t\t\tthis.context.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\treturn (\n\t\t\tlink &&\n\t\t\tlink.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.twitter}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-twitter\"\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.twitter}>\n\t\t\t\t<ButtonIcon symbol=\"twitter\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Generates the appropriate twitter url based on the selected text and the configuration\n\t * options received via props.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method _getHref\n\t * @protected\n\t * @return {String} A valid twitter url with the selected text and given configuration.\n\t */\n\t_getHref() {\n\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\t\tconst selectedText = nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getSelectedText()\n\t\t\t.substring(0, MAX_TWEET_LENGTH);\n\t\tconst url = this.props.url;\n\t\tconst via = this.props.via;\n\t\tlet twitterHref =\n\t\t\t'https://twitter.com/intent/tweet?text=' + selectedText;\n\n\t\tif (url) {\n\t\t\ttwitterHref += '&url=' + url;\n\t\t}\n\n\t\tif (via) {\n\t\t\ttwitterHref += '&via=' + via;\n\t\t}\n\n\t\treturn twitterHref;\n\t}\n}\n\nexport default ButtonStateClasses(ButtonTwitter);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.\n *\n * @class ButtonUnorderedlist\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnorderedlist extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bulletedlist',\n\t\tstyle: {\n\t\t\telement: 'ul',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ul\n\t * @memberof ButtonUnorderedlist\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ul';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bulletedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ul\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bulletedlist}>\n\t\t\t\t<ButtonIcon symbol=\"list-ul\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonUnorderedlist))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport ButtonCommand from '../base/button-command';\nimport ButtonKeystroke from '../base/button-keystroke';\nimport ButtonStateClasses from '../base/button-state-classes';\nimport ButtonStyle from '../base/button-style';\nimport ButtonIcon from './button-icon.jsx';\n\n/**\n * The ButtonUnderline class provides functionality for underlying a text selection.\n *\n * @class ButtonUnderline\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnderline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'underline',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 85 /* U*/,\n\t\t\tname: 'underline',\n\t\t},\n\t\tstyle: 'coreStyles_underline',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default underline\n\t * @memberof ButtonUnderline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'underline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.underline}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-underline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.underline}>\n\t\t\t\t<ButtonIcon symbol=\"underline\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonUnderline)))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nexport {default as ButtonActionStyle} from './button-action-style';\nexport {default as ButtonCommandActive} from './button-command-active';\nexport {default as ButtonCommand} from './button-command';\nexport {default as ButtonKeystroke} from './button-keystroke';\nexport {default as ButtonProps} from './button-props';\nexport {default as ButtonStateClasses} from './button-state-classes';\nexport {default as ButtonStyle} from './button-style';\nexport {default as ToolbarButtons} from './toolbar-buttons';\nexport {default as WidgetArrowBox} from './widget-arrow-box';\nexport {default as WidgetDropdown} from './widget-dropdown';\nexport {default as WidgetExclusive} from './widget-exclusive';\nexport {default as WidgetFocusManager} from './widget-focus-manager';\nexport {default as WidgetInteractionPoint} from './widget-interaction-point';\nexport {default as WidgetPosition} from './widget-position';\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonActionStyle is a mixin that provides applying style\n * implementation for a button based on the `applyStyle` and\n * `removeStyle` API of CKEDITOR.\n *\n * To execute properly, the component has to expose the following\n * methods which can be obtained out of the box using the {{#crossLink\n * \"ButtonStyle\"}}{{/crossLink}} mixin:\n * - `Function` {{#crossLink \"ButtonStyle/isActive\"}}{{/crossLink}} to\n *    check the active state\n * - `Function` {{#crossLink \"ButtonStyle/getStyle\"}}{{/crossLink}} to\n *    return the style that should be applied\n *\n * @class ButtonActionStyle\n */\nconst ButtonActionStyle = {\n\t/**\n\t * Removes or applies the component style to the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonActionStyle\n\t * @method applyStyle\n\t */\n\tapplyStyle() {\n\t\tif (Lang.isFunction(this.isActive) && Lang.isFunction(this.getStyle)) {\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\teditor.getSelection().lock();\n\n\t\t\tif (this.isActive()) {\n\t\t\t\teditor.removeStyle(this.getStyle());\n\t\t\t} else {\n\t\t\t\teditor.applyStyle(this.getStyle());\n\t\t\t}\n\n\t\t\teditor.getSelection().unlock();\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t},\n};\n\nexport default ButtonActionStyle;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * ButtonCommandActive is a mixin that provides an `isActive` method to\n * determine if a context-aware command is currently in an active state.\n *\n * @class ButtonCommandActive\n */\nconst ButtonCommandActive = {\n\t/**\n\t * Checks if the command is active in the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandActive\n\t * @method isActive\n\t * @return {Boolean} True if the command is active, false otherwise.\n\t */\n\tisActive() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst command = editor.getCommand(this.props.command);\n\n\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t},\n};\n\nexport default ButtonCommandActive;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\n/**\n * ButtonCommand is a mixin that executes a command via CKEDITOR's API.\n *\n * @class ButtonCommand\n */\nconst ButtonCommand = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The command that should be executed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @property {String} command\n\t\t */\n\t\tcommand: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Indicates that the command may cause the editor to have a different.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @property {boolean} modifiesSelection\n\t\t */\n\t\tmodifiesSelection: PropTypes.bool,\n\t},\n\n\t/**\n\t * Executes a CKEditor command and fires `actionPerformed` event.\n\t *\n\t * @instance\n\t * @memberof ButtonCommand\n\t * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.\n\t * @method execCommand\n\t */\n\texecCommand(data) {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\teditor.execCommand(this.props.command, data);\n\n\t\tif (this.props.modifiesSelection) {\n\t\t\teditor.selectionChange(true);\n\t\t}\n\n\t\teditor.fire('actionPerformed', this);\n\t},\n};\n\nexport default ButtonCommand;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring\n * a function of the instance to be invoked upon the keystroke activation.\n *\n * @class ButtonKeystroke\n */\nconst ButtonKeystroke = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The keystroke definition. An object with the following properties:\n\t\t * - fn: The function to be executed\n\t\t * - keys: The keystroke definition, as expected by http://docs.ckeditor.com/#!/api/CKEDITOR.editor-method-setKeystroke\n\t\t * - name: The name for the CKEditor command that will be created. If empty,\n\t\t * a random name will be created on the fly\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @property {Object} keystroke\n\t\t */\n\t\tkeystroke: PropTypes.object.isRequired,\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonKeystroke\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst keystroke = this.props.keystroke;\n\n\t\tconst commandName =\n\t\t\tkeystroke.name || ((Math.random() * 1e9) >>> 0).toString();\n\n\t\tlet command = nativeEditor.getCommand(commandName);\n\n\t\tif (!command) {\n\t\t\tcommand = new CKEDITOR.command(nativeEditor, {\n\t\t\t\texec: function(editor) {\n\t\t\t\t\tconst keystrokeFn = keystroke.fn;\n\n\t\t\t\t\tif (Lang.isString(keystrokeFn)) {\n\t\t\t\t\t\tthis[keystrokeFn].call(this, editor);\n\t\t\t\t\t} else if (Lang.isFunction(keystrokeFn)) {\n\t\t\t\t\t\tkeystrokeFn.call(this, editor);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this),\n\t\t\t});\n\n\t\t\tnativeEditor.addCommand(commandName, command);\n\t\t}\n\n\t\tthis._defaultKeystrokeCommand =\n\t\t\tnativeEditor.keystrokeHandler.keystrokes[keystroke.keys];\n\n\t\tnativeEditor.setKeystroke(keystroke.keys, commandName);\n\t},\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonKeystroke\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tthis.props.editor\n\t\t\t.get('nativeEditor')\n\t\t\t.setKeystroke(\n\t\t\t\tthis.props.keystroke.keys,\n\t\t\t\tthis._defaultKeystrokeCommand\n\t\t\t);\n\t},\n};\n\nexport default ButtonKeystroke;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\nimport ButtonLinkEdit from '../buttons/button-link-edit.jsx';\n\n/**\n * ButtonProps is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonProps\n */\nconst ButtonProps = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonProps\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\t},\n\n\t/**\n\t * Merges the properties, passed to the current component with user's configuration\n\t * via `buttonCfg` property.\n\t *\n\t * @instance\n\t * @memberof ButtonProps\n\t * @method mergeButtonCfgProps\n\t * @param {Object} props The properties to be merged with the provided configuration for this\n\t * button. If not passed, the user configuration will be merged with `this.props`\n\t * @return {Object} The merged properties\n\t */\n\tmergeButtonCfgProps(props) {\n\t\tprops = props || this.props;\n\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\t\tconst result = CKEDITOR.tools.merge(\n\t\t\tprops,\n\t\t\tbuttonCfg[ButtonLinkEdit.key]\n\t\t);\n\n\t\treturn result;\n\t},\n};\n\nexport default ButtonProps;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStateClasses is a mixin that decorates the domElement of a component\n * with different CSS classes based on the current state of the element.\n *\n * To check for state, the component can expose the following methods:\n * - `Function` **isActive** to check the active state\n * - `Function` **isDisabled** to check the disabled state\n *\n * @class ButtonStateClasses\n */\nconst ButtonStateClasses = {\n\t/**\n\t * Returns the list of state classes associated to the current element's state, according\n\t * to the results of the isActive and isDisabled methods.\n\t *\n\t * @instance\n\t * @memberof ButtonStateClasses\n\t * @method getStateClasses\n\t * @return {String} A string with the state CSS classes.\n\t */\n\tgetStateClasses() {\n\t\tlet stateClasses = '';\n\n\t\t// Check for active state\n\t\tif (Lang.isFunction(this.isActive) && this.isActive()) {\n\t\t\tstateClasses += 'ae-button-pressed';\n\t\t}\n\n\t\t// Check for disabled state\n\t\tif (Lang.isFunction(this.isDisabled) && this.isDisabled()) {\n\t\t\tstateClasses += ' ae-button-disabled';\n\t\t}\n\n\t\treturn stateClasses;\n\t},\n};\n\nexport default ButtonStateClasses;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\n\nimport Lang from '../../oop/lang';\n\n/**\n * ButtonStyle is a mixin that provides a style prop and some methods to\n * apply the resulting style and checking if it is present in a given\n * path or selection.\n *\n * @class ButtonStyle\n */\nconst ButtonStyle = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * The style the button should handle. Allowed values are:\n\t\t * - Object as described by\n\t\t *   http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t\t * - String pointing to an object inside the editor instance\n\t\t *   configuration. For example, `style = 'coreStyles_bold'` will\n\t\t *   try to retrieve the style object from\n\t\t *   `editor.config.coreStyles_bold`. Nested properties such as\n\t\t *   `style = 'myplugin.myConfig.myStyle'` are also supported\n\t\t *   and will try to retrieve the style object from the editor\n\t\t *   configuration as well.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @property {Object|String} style\n\t\t */\n\t\tstyle: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n\n\t\t/**\n\t\t * The style function the button should handle.\n\t\t * If specified, style function has higher priority than style property.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @property {function} styleFn\n\t\t */\n\t\tstyleFn: PropTypes.func,\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server,\n\t * immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tlet style = this.props.style;\n\n\t\tif (Lang.isString(style)) {\n\t\t\tconst parts = style.split('.');\n\t\t\tlet currentMember = this.props.editor.get('nativeEditor').config;\n\t\t\tlet property = parts.shift();\n\n\t\t\twhile (\n\t\t\t\tproperty &&\n\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t) {\n\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\tproperty = parts.shift();\n\t\t\t}\n\n\t\t\tif (Lang.isObject(currentMember)) {\n\t\t\t\tstyle = currentMember;\n\t\t\t}\n\t\t}\n\n\t\tthis._style = new CKEDITOR.style(style);\n\t},\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted\n\t * from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tthis._style = null;\n\t},\n\n\t/**\n\t * Returns instance of CKEDITOR.style which represents the current\n\t * button style.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method getStyle\n\t * @return {CKEDITOR.style} The current style representation.\n\t */\n\tgetStyle() {\n\t\treturn this._style;\n\t},\n\n\t/**\n\t * Checks if style is active in the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStyle\n\t * @method isActive\n\t * @return {Boolean} True if style is active, false otherwise.\n\t */\n\tisActive() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst elementPath = editor.elementPath();\n\n\t\treturn this.getStyle().checkActive(elementPath, editor);\n\t},\n};\n\nexport default ButtonStyle;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport Lang from '../../oop/lang';\n\n/**\n * ToolbarButtons is a mixin which provides a list of buttons which have\n * to be displayed on the current toolbar depending on user preferences\n * and given state.\n *\n * @class ToolbarButtons\n */\nconst ToolbarButtons = {\n\t/**\n\t * Analyses the current selection and returns the buttons or button\n\t * groups to be rendered.\n\t *\n\t * @instance\n\t * @method getToolbarButtonGroups\n\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t * @return {Array} An Array which contains the buttons or button groups that should be rendered.\n\t */\n\tgetToolbarButtonGroups(buttons, additionalProps) {\n\t\tconst instance = this;\n\n\t\tif (Lang.isFunction(buttons)) {\n\t\t\tbuttons = buttons.call(this) || [];\n\t\t}\n\n\t\treturn buttons.reduce((list, button) => {\n\t\t\tif (Array.isArray(button)) {\n\t\t\t\tlist.push(instance.getToolbarButtons(button, additionalProps));\n\t\t\t\treturn list;\n\t\t\t} else {\n\t\t\t\treturn instance.getToolbarButtons(buttons, additionalProps);\n\t\t\t}\n\t\t}, []);\n\t},\n\n\t/**\n\t * Analyzes the current selection and the buttons exclusive mode value to figure out which\n\t * buttons should be present in a given state.\n\t *\n\t * @instance\n\t * @memberof ToolbarButtons\n\t * @method getToolbarButtons\n\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t * @return {Array} An Array which contains the buttons that should be rendered.\n\t */\n\tgetToolbarButtons(buttons, additionalProps) {\n\t\tconst buttonProps = {};\n\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst buttonCfg = nativeEditor.config.buttonCfg || {};\n\n\t\tif (Lang.isFunction(buttons)) {\n\t\t\tbuttons = buttons.call(this) || [];\n\t\t}\n\n\t\tconst toolbarButtons = this.filterExclusive(\n\t\t\tbuttons\n\t\t\t\t.filter(button => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbutton &&\n\t\t\t\t\t\t(AlloyEditor.Buttons[button] ||\n\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name])\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.map(button => {\n\t\t\t\t\tif (Lang.isString(button)) {\n\t\t\t\t\t\tbuttonProps[button] = buttonCfg[button];\n\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button];\n\t\t\t\t\t} else if (Lang.isString(button.name)) {\n\t\t\t\t\t\tbuttonProps[\n\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name].key\n\t\t\t\t\t\t] = CKEDITOR.tools.merge(buttonCfg[button], button.cfg);\n\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button.name];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn button;\n\t\t\t\t})\n\t\t).map(function(button, index) {\n\t\t\tlet props = this.mergeExclusiveProps(\n\t\t\t\t{\n\t\t\t\t\teditor: this.props.editor,\n\t\t\t\t\tkey:\n\t\t\t\t\t\tbutton.key !== 'separator'\n\t\t\t\t\t\t\t? button.key\n\t\t\t\t\t\t\t: `${button.key}-${index}`,\n\t\t\t\t\ttabKey: button.key,\n\t\t\t\t\ttabIndex:\n\t\t\t\t\t\tthis.props.trigger &&\n\t\t\t\t\t\tthis.props.trigger.props.tabKey === button.key\n\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t: -1,\n\t\t\t\t\ttrigger: this.props.trigger,\n\t\t\t\t},\n\t\t\t\tbutton.key\n\t\t\t);\n\n\t\t\tprops = this.mergeDropdownProps(props, button.key);\n\n\t\t\tif (additionalProps) {\n\t\t\t\tprops = CKEDITOR.tools.merge(props, additionalProps);\n\t\t\t}\n\n\t\t\tprops = CKEDITOR.tools.merge(props, buttonProps[button.key]);\n\n\t\t\treturn React.createElement(button, props);\n\t\t}, this);\n\n\t\treturn toolbarButtons;\n\t},\n};\n\nexport default ToolbarButtons;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Lang from '../../oop/lang';\n\n/**\n * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget\n * depending on the point of user interaction with the editor.\n *\n * @class WidgetArrowBox\n */\nconst WidgetArrowBox = {\n\t/**\n\t * Returns the list of arrow box classes associated to the current element's state. It relies\n\t * on the getInteractionPoint method to calculate the selection direction.\n\t *\n\t * @instance\n\t * @memberof WidgetArrowBox\n\t * @method getArrowBoxClasses\n\t * @return {String} A string with the arrow box CSS classes.\n\t */\n\tgetArrowBoxClasses() {\n\t\tlet arrowBoxClasses = 'ae-arrow-box';\n\n\t\tif (\n\t\t\tLang.isFunction(this.getInteractionPoint) &&\n\t\t\tthis.getInteractionPoint()\n\t\t) {\n\t\t\tif (\n\t\t\t\tthis.getInteractionPoint().direction ===\n\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t) {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-top';\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses += ' ae-arrow-box-bottom';\n\t\t\t}\n\t\t}\n\n\t\treturn arrowBoxClasses;\n\t},\n};\n\nexport default WidgetArrowBox;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ReactDOM from 'react-dom';\n\n/**\n * Provides functionality for managing different dropdowns inside a widget.\n *\n * @class WidgetDropdown\n */\nconst WidgetDropdown = {\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps(_nextProps) {\n\t\tthis.setState({\n\t\t\tdropdownTrigger: null,\n\t\t\titemDropdown: null,\n\t\t});\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\treturn {\n\t\t\tdropdownTrigger: null,\n\t\t\titemDropdown: null,\n\t\t};\n\t},\n\n\t/**\n\t * Merges the provided object with two more properties:\n\t * - expanded - boolean flag which indicates if an widget should be\n\t *   rendered exclusively.\n\t * - toggleDropdown - function, which can be used by an widget in\n\t *   order to obtain exclusive state.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method mergeDropdownProps\n\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t *    to dropdown state.\n\t * @param {Object} itemKey They key of an React Widget which contains the dropdown.\n\t * @return {Object} The merged object.\n\t */\n\tmergeDropdownProps(obj, itemKey) {\n\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\texpanded: this.state.itemDropdown === itemKey ? true : false,\n\t\t\ttabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,\n\t\t\ttoggleDropdown: this.toggleDropdown.bind(this, itemKey),\n\t\t});\n\t},\n\n\t/**\n\t * Sets the active dropdown of the widget or discards the toggled\n\t * item from the state.\n\t *\n\t * @instance\n\t * @memberof WidgetDropdown\n\t * @method toggleDropdown\n\t * @param {Object} itemDropdown The widget which requests to toggle its dropdown.\n\t * @param {Number} toggleDirection User movement direction when toggled via keyboard.\n\t */\n\ttoggleDropdown(itemDropdown, toggleDirection) {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tdropdownTrigger: itemDropdown,\n\t\t\t\titemDropdown:\n\t\t\t\t\titemDropdown !== this.state.itemDropdown\n\t\t\t\t\t\t? itemDropdown\n\t\t\t\t\t\t: null,\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\tif (!this.state.itemDropdown) {\n\t\t\t\t\tif (this.moveFocus) {\n\t\t\t\t\t\tthis.moveFocus(toggleDirection);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tReactDOM.findDOMNode(this).focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n};\n\nexport default WidgetDropdown;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Provides functionality for managing exclusive state of an widget.\n * The exclusive state means that a button may request to be the only rendered\n * widget in its parent container. WidgetExclusive will manage this state by\n * filtering and suppressing the other sibling widgets from displaying.\n *\n * @class WidgetExclusive\n */\nconst WidgetExclusive = {\n\t/**\n\t * Cancels the exclusive state of an widget.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method cancelExclusive\n\t * @param {Object} itemExclusive The widget which exclusive state should be canceled.\n\t */\n\tcancelExclusive(itemExclusive) {\n\t\tif (this.state.itemExclusive === itemExclusive) {\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: null,\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t * Calling this.setState() within this function will not trigger an\n\t * additional render.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method componentWillReceiveProps\n\t * @param {Object} nextProps Object containing the current set of properties.\n\t */\n\tcomponentWillReceiveProps(_nextProps) {\n\t\t// Receiving properties means that the component is being\n\t\t// re-rendered.  Re-rendering is triggered by editorInteraction,\n\t\t// so we have to reset the exclusive state and render the UI\n\t\t// according to the new selection.\n\t\tthis.setState({\n\t\t\titemExclusive: null,\n\t\t});\n\t},\n\n\t/**\n\t * Filters the items and returns only those with exclusive state.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method filterExclusive\n\t * @param {Array} items The widgets to be filtered.\n\t * @return {Array|Object} The item with executive state.\n\t */\n\tfilterExclusive(items) {\n\t\treturn items.filter(item => {\n\t\t\tif (this.state.itemExclusive) {\n\t\t\t\tif (this.state.itemExclusive === item.key) {\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Merges the provided object with three more properties:\n\t * - cancelExclusive - function, which can be used by a widget in\n\t *   order to cancel executive state.\n\t * - renderExclusive - boolean flag which indicates if an widget\n\t *   should be rendered exclusively.\n\t * - requestExclusive - function, which can be used by a widget in\n\t *   order to obtain exclusive state.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method mergeExclusiveProps\n\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t *    to exclusive state.\n\t * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.\n\t * @return {Object} The merged object.\n\t */\n\tmergeExclusiveProps(obj, itemKey) {\n\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\tcancelExclusive: this.cancelExclusive.bind(this, itemKey),\n\t\t\trenderExclusive: this.state.itemExclusive === itemKey,\n\t\t\trequestExclusive: this.requestExclusive.bind(this, itemKey),\n\t\t});\n\t},\n\n\t/**\n\t * Requests and sets exclusive state of an widget.\n\t *\n\t * @instance\n\t * @memberof WidgetExclusive\n\t * @method requestExclusive\n\t * @param {Object} itemExclusive The widget which requests exclusive state.\n\t */\n\trequestExclusive(itemExclusive) {\n\t\tthis.setState({\n\t\t\titemExclusive,\n\t\t});\n\t},\n};\n\nexport default WidgetExclusive;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport Lang from '../../oop/lang';\n\nconst DIRECTION_NONE = 0;\nconst DIRECTION_NEXT = 1;\nconst DIRECTION_PREV = -1;\n\nconst ACTION_NONE = 0;\nconst ACTION_MOVE_FOCUS = 1;\nconst ACTION_DISMISS_FOCUS = 2;\n\n/**\n * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,\n * it exposes the following props and methods:\n *\n * @class WidgetFocusManager\n */\nconst WidgetFocusManager = {\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * Callback method to be invoked when the focus manager is to be dismissed. This happens\n\t\t * in the following scenarios if a dismiss callback has been specified:\n\t\t * - A dismiss key has been pressed\n\t\t * - In a non-circular focus manager, when:\n\t\t *     - The active descendant is the first one and a prev key has been pressed.\n\t\t *     - The active descendant is the last one and a next key has been pressed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {Function} onDismiss\n\t\t */\n\t\tonDismiss: PropTypes.func,\n\n\t\t/**\n\t\t * Indicates if focus should be set to the first/last descendant when the limits are reached.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {boolean} circular\n\t\t */\n\t\tcircular: PropTypes.bool.isRequired,\n\n\t\t/**\n\t\t * Indicate if should focus the first child of a container\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {Boolean} focusFirstChild\n\t\t */\n\t\tfocusFirstChild: PropTypes.bool,\n\n\t\t/**\n\t\t * String representing the CSS selector used to define the elements that should be handled.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {String} descendants\n\t\t */\n\t\tdescendants: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Object representing the keys used to navigate between descendants. The format for the prop is:\n\t\t * `{dismiss: value, dismissNext: value, dismissPrev: value, next: value, prev: value}` where\n\t\t * value can be both a number or an array of numbers with the allowed keyCodes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @property {Object} keys\n\t\t */\n\t\tkeys: PropTypes.object.isRequired,\n\t},\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._refresh();\n\t},\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * Refreshes the descendants list.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method componentDidUpdate\n\t */\n\tcomponentDidUpdate() {\n\t\tthis._refresh();\n\t},\n\n\t/**\n\t * Focuses the current active descendant.\n\t *\n\t * Several Widgets can be nested in a component hierarchy by attaching this focus method to\n\t * the widget DOM node, transferring the DOM focus control to the inner FocusManager.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method focus\n\t */\n\tfocus(event) {\n\t\tif (!event || this._isValidTarget(event.target)) {\n\t\t\tif (this._descendants && this._descendants.length) {\n\t\t\t\tconst activeDescendantEl = this._descendants[\n\t\t\t\t\tthis._activeDescendant\n\t\t\t\t];\n\t\t\t\t// When user clicks with the mouse, the activeElement is already set and there\n\t\t\t\t// is no need to focus it. Focusing of the active descendant (usually some button) is required\n\t\t\t\t// in case of keyboard navigation, because the focused element might be not the first button,\n\t\t\t\t// but the div element, which contains the button.\n\t\t\t\tif (\n\t\t\t\t\tdocument.activeElement !== activeDescendantEl &&\n\t\t\t\t\t!this.props.focusFirstChild\n\t\t\t\t) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis._descendants.indexOf(document.activeElement) === -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tactiveDescendantEl.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (event) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Handles the key events on a DOM node to execute the appropriate navigation when needed.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @param {Object} event The Keyboard event that was detected on the widget DOM node.\n\t * @method handleKey\n\t */\n\thandleKey(event) {\n\t\tif (this._isValidTarget(event.target) && this._descendants) {\n\t\t\tconst action = this._getFocusAction(event);\n\n\t\t\tif (action.type) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (action.type === ACTION_MOVE_FOCUS) {\n\t\t\t\t\tthis._moveFocus(action.direction);\n\t\t\t\t}\n\n\t\t\t\tif (action.type === ACTION_DISMISS_FOCUS) {\n\t\t\t\t\tthis.props.onDismiss(action.direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Moves the focus among descendants in the especified direction.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method moveFocus\n\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t */\n\tmoveFocus(direction) {\n\t\tdirection = Lang.isNumber(direction) ? direction : 0;\n\n\t\tthis._moveFocus(direction);\n\t},\n\n\t/**\n\t * Returns the action, if any, that a keyboard event in the current focus manager state\n\t * should produce.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _getFocusAction\n\t * @param {object} event The Keyboard event.\n\t * @protected\n\t * @return {Object} An action object with type and direction properties.\n\t */\n\t_getFocusAction(event) {\n\t\tconst action = {\n\t\t\ttype: ACTION_NONE,\n\t\t};\n\n\t\tif (this.props.keys) {\n\t\t\tconst direction = this._getFocusMoveDirection(event);\n\n\t\t\tif (direction) {\n\t\t\t\taction.direction = direction;\n\t\t\t\taction.type = ACTION_MOVE_FOCUS;\n\t\t\t}\n\n\t\t\tconst dismissAction = this._getFocusDismissAction(event, direction);\n\n\t\t\tif (dismissAction.dismiss) {\n\t\t\t\taction.direction = dismissAction.direction;\n\t\t\t\taction.type = ACTION_DISMISS_FOCUS;\n\t\t\t}\n\t\t}\n\n\t\treturn action;\n\t},\n\n\t/**\n\t * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This\n\t * will happen in any of these scenarios if a dismiss callback has been specified:\n\t * - A dismiss key has been pressed\n\t * - In a non-circular focus manager, when:\n\t *     - The active descendant is the first one and a prev key has been pressed.\n\t *     - The active descendant is the last one and a next key has been pressed.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _getFocusDismissAction\n\t * @param {Number} focusMoveDirection The focus movement direction (if any).\n\t * @param {Object} event The Keyboard event.\n\t * @protected\n\t * @return {Object} A dismiss action with dismiss and direction properties.\n\t */\n\t_getFocusDismissAction(event, focusMoveDirection) {\n\t\tconst dismissAction = {\n\t\t\tdirection: focusMoveDirection,\n\t\t\tdismiss: false,\n\t\t};\n\n\t\tif (this.props.onDismiss) {\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {\n\t\t\t\tdismissAction.dismiss = true;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismissNext)) {\n\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\tdismissAction.direction = DIRECTION_NEXT;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismissPrev)) {\n\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\tdismissAction.direction = DIRECTION_PREV;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!dismissAction.dismiss &&\n\t\t\t\t!this.props.circular &&\n\t\t\t\tfocusMoveDirection\n\t\t\t) {\n\t\t\t\tdismissAction.dismiss =\n\t\t\t\t\t(focusMoveDirection === DIRECTION_PREV &&\n\t\t\t\t\t\tthis._activeDescendant === 0) ||\n\t\t\t\t\t(focusMoveDirection === DIRECTION_NEXT &&\n\t\t\t\t\t\tthis._activeDescendant ===\n\t\t\t\t\t\t\tthis._descendants.length - 1);\n\t\t\t}\n\t\t}\n\n\t\treturn dismissAction;\n\t},\n\n\t/**\n\t * Returns the direction, if any, in which the focus should be moved. In presence of the\n\t * shift key modifier, the direction of the movement is inverted.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _getFocusMoveDirection\n\t * @param {Object} event The Keyboard event.\n\t * @protected\n\t * @return {Number} The computed direction of the expected focus movement.\n\t */\n\t_getFocusMoveDirection(event) {\n\t\tlet direction = DIRECTION_NONE;\n\n\t\tif (this._isValidKey(event.keyCode, this.props.keys.next)) {\n\t\t\tdirection = DIRECTION_NEXT;\n\t\t}\n\t\tif (this._isValidKey(event.keyCode, this.props.keys.prev)) {\n\t\t\tdirection = DIRECTION_PREV;\n\t\t}\n\n\t\tif (event.shifKey) {\n\t\t\tdirection *= -1;\n\t\t}\n\n\t\treturn direction;\n\t},\n\n\t/**\n\t * Indicates if a given keyCode is valid for the given set of keys.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _isValidKey\n\t * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.\n\t * @param {Number} keyCode An event keyCode.\n\t * @protected\n\t * @return {Boolean} A boolean value indicating if the key is valid.\n\t */\n\t_isValidKey(keyCode, keys) {\n\t\treturn Lang.isArray(keys)\n\t\t\t? keys.indexOf(keyCode) !== -1\n\t\t\t: keyCode === keys;\n\t},\n\n\t/**\n\t * Indicates if a given element is valid for focus management. User input elements such as\n\t * input, select or textarea are excluded.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _isValidKey\n\t * @param {DOMNode} element A DOM element.\n\t * @protected\n\t * @return {Boolean} A boolean value indicating if the element is valid.\n\t */\n\t_isValidTarget(element) {\n\t\tconst tagName = element.tagName.toLowerCase();\n\n\t\treturn (\n\t\t\ttagName !== 'input' &&\n\t\t\ttagName !== 'select' &&\n\t\t\ttagName !== 'textarea'\n\t\t);\n\t},\n\n\t/**\n\t * Moves the focus among descendants in the especified direction.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _moveFocus\n\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t * @protected\n\t */\n\t_moveFocus(direction) {\n\t\tconst numDescendants = this._descendants.length;\n\n\t\tlet descendant = this._descendants[this._activeDescendant];\n\n\t\tdescendant.setAttribute('tabIndex', -1);\n\n\t\tthis._activeDescendant += direction;\n\n\t\tif (this.props.circular) {\n\t\t\t// Calculate proper modulo result since remainder operator doesn't behave in the\n\t\t\t// same way for negative numbers\n\t\t\tthis._activeDescendant =\n\t\t\t\t((this._activeDescendant % numDescendants) + numDescendants) %\n\t\t\t\tnumDescendants;\n\t\t} else {\n\t\t\tthis._activeDescendant = Math.max(\n\t\t\t\tMath.min(this._activeDescendant, numDescendants - 1),\n\t\t\t\t0\n\t\t\t);\n\t\t}\n\n\t\tdescendant = this._descendants[this._activeDescendant];\n\n\t\tdescendant.setAttribute('tabIndex', 0);\n\t\tdescendant.focus();\n\t},\n\n\t/**\n\t * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.\n\t *\n\t * @instance\n\t * @memberof WidgetFocusManager\n\t * @method _refresh\n\t * @protected\n\t */\n\t_refresh() {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst descendants = domNode.querySelectorAll(\n\t\t\t\tthis.props.descendants\n\t\t\t);\n\n\t\t\tlet priorityDescendants = [];\n\n\t\t\tthis._descendants = [];\n\n\t\t\tArray.prototype.slice.call(descendants).forEach(item => {\n\t\t\t\tconst dataTabIndex = item.getAttribute('data-tabindex');\n\n\t\t\t\tif (dataTabIndex) {\n\t\t\t\t\tpriorityDescendants.push(item);\n\t\t\t\t} else {\n\t\t\t\t\tthis._descendants.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tpriorityDescendants = priorityDescendants.sort((a, b) => {\n\t\t\t\treturn (\n\t\t\t\t\tLang.toInt(a.getAttribute('data-tabindex')) >\n\t\t\t\t\tLang.toInt(b.getAttribute('data-tabindex'))\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tthis._descendants = priorityDescendants.concat(this._descendants);\n\n\t\t\tthis._activeDescendant = 0;\n\n\t\t\tthis._descendants.some((item, index) => {\n\t\t\t\tif (item.getAttribute('tabindex') === '0') {\n\t\t\t\t\tthis._activeDescendant = index;\n\t\t\t\t\tthis.focus();\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n};\n\nexport default WidgetFocusManager;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport WidgetInteractionPoint from './widget-interaction-point';\n\n/**\n * Calculates the position where an Widget should be displayed based on\n * the point where user interacted with the editor.\n *\n * @class WidgetPosition\n * @uses WidgetInteractionPoint\n */\nconst WidgetPosition = {\n\tmixins: [WidgetInteractionPoint],\n\n\t// Allows validating props being passed to the component.\n\tpropTypes: {\n\t\t/**\n\t\t * Should the widget to be restricted to the viewport, or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @property {Boolean} constrainToViewport\n\t\t * @default true\n\t\t */\n\t\tconstrainToViewport: PropTypes.bool,\n\n\t\t/**\n\t\t * The gutter (vertical and horizontal) between the interaction\n\t\t * point and where the widget should be rendered.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @property {Object} gutter\n\t\t * @default {\n\t\t *     left: 0,\n\t\t *     top: 10\n\t\t * }\n\t\t */\n\t\tgutter: PropTypes.object,\n\t},\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in\n\t * the widget.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method getDefaultProps\n\t */\n\tgetDefaultProps() {\n\t\treturn {\n\t\t\tgutter: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 10,\n\t\t\t},\n\t\t\tconstrainToViewport: true,\n\t\t};\n\t},\n\n\t/**\n\t * Cancels an scheduled animation frame.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method cancelAnimation\n\t */\n\tcancelAnimation() {\n\t\tif (window.cancelAnimationFrame) {\n\t\t\twindow.cancelAnimationFrame(this._animationFrameId);\n\t\t}\n\t},\n\n\t/**\n\t * Returns an object which contains the position of the element in\n\t * page coordinates, restricted to fit to given viewport.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method getConstrainedPosition\n\t * @param {Object} attrs The following properties, provided as numbers:\n\t * - height\n\t * - left\n\t * - top\n\t * - width\n\t * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:\n\t * - width\n\t * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the\n\t * element.\n\t */\n\tgetConstrainedPosition(attrs, viewPaneSize) {\n\t\tviewPaneSize =\n\t\t\tviewPaneSize || new CKEDITOR.dom.window(window).getViewPaneSize();\n\n\t\tlet x = attrs.left;\n\t\tlet y = attrs.top;\n\n\t\tif (attrs.left + attrs.width > viewPaneSize.width) {\n\t\t\tx -= attrs.left + attrs.width - viewPaneSize.width;\n\t\t}\n\n\t\tif (y < 0) {\n\t\t\ty = 0;\n\t\t}\n\n\t\treturn {\n\t\t\tx,\n\t\t\ty,\n\t\t};\n\t},\n\n\t/**\n\t * Returns the position of the Widget taking in consideration the\n\t * {{#crossLink \"WidgetPosition/gutter:attribute\"}}{{/crossLink}} attribute.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @protected\n\t * @method  getWidgetXYPoint\n\t * @param {Number} left The left offset in page coordinates where Toolbar should be shown.\n\t * @param {Number} top The top offset in page coordinates where Toolbar should be shown.\n\t * @param {Number} direction The direction of the selection. May be one of the following:\n\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t * @return {Array} An Array with left and top offsets in page coordinates.\n\t */\n\tgetWidgetXYPoint(left, top, direction) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tconst gutter = this.props.gutter;\n\t\tconst offsetWidth = domNode.offsetWidth;\n\t\tconst halfWidth = offsetWidth / 2;\n\n\t\tif (\n\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM ||\n\t\t\tdirection === CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t) {\n\t\t\tleft = left - gutter.left - halfWidth;\n\n\t\t\ttop =\n\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t? top + gutter.top\n\t\t\t\t\t: top - domNode.offsetHeight - gutter.top;\n\t\t} else if (\n\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT ||\n\t\t\tdirection === CKEDITOR.SELECTION_RIGHT_TO_LEFT\n\t\t) {\n\t\t\tleft =\n\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT\n\t\t\t\t\t? left + gutter.left + domNode.offsetHeight / 2\n\t\t\t\t\t: left - (3 * domNode.offsetHeight) / 2 - gutter.left;\n\n\t\t\ttop = top - gutter.top - domNode.offsetHeight / 2;\n\t\t}\n\n\t\tif (left < 0) {\n\t\t\tleft = 0;\n\t\t}\n\n\t\tif (left > document.body.offsetWidth - halfWidth) {\n\t\t\tleft = document.body.offsetWidth - halfWidth;\n\t\t}\n\n\t\tif (top < 0) {\n\t\t\ttop = 0;\n\t\t}\n\n\t\treturn [left, top];\n\t},\n\n\t/**\n\t * Returns true if the widget is visible, false otherwise\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method isVisible\n\t * @return {Boolean} True if the widget is visible, false otherwise\n\t */\n\tisVisible() {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\treturn domElement.hasClass('alloy-editor-visible');\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Moves a widget from a starting point to a destination point.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method moveToPoint\n\t * @param  {Object} startPoint The starting point for the movement.\n\t * @param  {Object} endPoint The destination point for the movement.\n\t */\n\tmoveToPoint(startPoint, endPoint) {\n\t\tconst domElement = new CKEDITOR.dom.element(ReactDOM.findDOMNode(this));\n\n\t\tdomElement.setStyles({\n\t\t\tleft: startPoint[0] + 'px',\n\t\t\ttop: startPoint[1] + 'px',\n\t\t\topacity: 0,\n\t\t\tpointerEvents: 'none',\n\t\t});\n\n\t\tdomElement.removeClass('alloy-editor-invisible');\n\n\t\tthis._animate(() => {\n\t\t\tdomElement.addClass('ae-toolbar-transition');\n\t\t\tdomElement.addClass('alloy-editor-visible');\n\t\t\tdomElement.setStyles({\n\t\t\t\tleft: endPoint[0] + 'px',\n\t\t\t\ttop: endPoint[1] + 'px',\n\t\t\t\topacity: 1,\n\t\t\t});\n\n\t\t\t// 150ms to match transition-duration for .ae-toolbar-transition:\n\t\t\tsetTimeout(() => {\n\t\t\t\tdomElement.setStyles({\n\t\t\t\t\tpointerEvents: '',\n\t\t\t\t});\n\t\t\t}, 150);\n\t\t});\n\t},\n\n\t/**\n\t * Shows the widget with the default animation transition.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method show\n\t */\n\tshow() {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\t\tconst uiNode = this.props.editor.get('uiNode');\n\n\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\tif (!this.isVisible() && domNode) {\n\t\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\t\tif (interactionPoint) {\n\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\tlet finalX, finalY, initialX, initialY;\n\n\t\t\t\tfinalX = initialX = parseFloat(domElement.getStyle('left'));\n\t\t\t\tfinalY = initialY = parseFloat(domElement.getStyle('top'));\n\n\t\t\t\tif (this.props.constrainToViewport) {\n\t\t\t\t\tconst res = this.getConstrainedPosition({\n\t\t\t\t\t\theight: parseFloat(domNode.offsetHeight),\n\t\t\t\t\t\tleft: finalX,\n\t\t\t\t\t\ttop: finalY,\n\t\t\t\t\t\twidth: parseFloat(domNode.offsetWidth),\n\t\t\t\t\t});\n\n\t\t\t\t\tfinalX = res.x;\n\t\t\t\t\tfinalY = res.y;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tinteractionPoint.direction ===\n\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t) {\n\t\t\t\t\tinitialY =\n\t\t\t\t\t\tthis.props.selectionData.region.bottom + scrollTop;\n\t\t\t\t} else {\n\t\t\t\t\tinitialY = this.props.selectionData.region.top + scrollTop;\n\t\t\t\t}\n\n\t\t\t\tthis.moveToPoint([initialX, initialY], [finalX, finalY]);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Updates the widget position based on the current interaction point.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method updatePosition\n\t */\n\tupdatePosition() {\n\t\tconst interactionPoint = this.getInteractionPoint();\n\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (interactionPoint && domNode) {\n\t\t\tconst uiNode = this.props.editor.get('uiNode') || document.body;\n\t\t\tconst uiNodeStyle = getComputedStyle(uiNode);\n\t\t\tconst uiNodeMarginLeft = parseInt(\n\t\t\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t\t\t10\n\t\t\t);\n\t\t\tconst uiNodeMarginRight = parseInt(\n\t\t\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t\t\t10\n\t\t\t);\n\t\t\tconst totalWidth =\n\t\t\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\t\t\tconst scrollTop = uiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;\n\n\t\t\tconst xy = this.getWidgetXYPoint(\n\t\t\t\tinteractionPoint.x,\n\t\t\t\tinteractionPoint.y,\n\t\t\t\tinteractionPoint.direction\n\t\t\t);\n\t\t\txy[1] += scrollTop;\n\n\t\t\tif (xy[0] < 0) {\n\t\t\t\txy[0] = 0;\n\t\t\t}\n\t\t\tif (xy[0] > totalWidth - domNode.offsetWidth) {\n\t\t\t\txy[0] = totalWidth - domNode.offsetWidth;\n\t\t\t}\n\n\t\t\tnew CKEDITOR.dom.element(domNode).setStyles({\n\t\t\t\tleft: xy[0] + 'px',\n\t\t\t\ttop: xy[1] + 'px',\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Requests an animation frame, if possible, to simulate an animation.\n\t *\n\t * @instance\n\t * @memberof WidgetPosition\n\t * @method _animate\n\t * @param {Function} callback The function to be executed on the scheduled frame.\n\t * @protected\n\t */\n\t_animate(callback) {\n\t\tif (window.requestAnimationFrame) {\n\t\t\tthis._animationFrameId = window.requestAnimationFrame(callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t},\n};\n\nexport default WidgetPosition;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport ToolbarAdd from './toolbar-add.jsx';\nimport ToolbarStyles from './toolbar-styles.jsx';\n\nexport default {\n\t[ToolbarAdd.key]: ToolbarAdd,\n\t[ToolbarStyles.key]: ToolbarStyles,\n};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ToolbarButtons from '../base/toolbar-buttons';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetExclusive from '../base/widget-exclusive';\nimport WidgetFocusManager from '../base/widget-focus-manager';\nimport ButtonIcon from '../buttons/button-icon.jsx';\n\nconst POSITION_LEFT = 1;\nconst POSITION_RIGHT = 2;\n\n/**\n * The ToolbarAdd class provides functionality for adding content to the editor.\n *\n * @class ToolbarAdd\n * @uses ToolbarButtons\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass ToolbarAdd extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\n\t\t// In case of exclusive rendering, focus the first descendant (button)\n\t\t// so the user will be able to start interacting with the buttons immediately.\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\t// Some operations such as `requestExclusive` may force editor to blur which will\n\t\t// invalidate the `props.editorEvent` stored value, without causing a `props` change.\n\t\t// For example, if the editor is empty, `ae_placeholder` plugin will remove\n\t\t// the target from the DOM and will prevent `add` toolbar from rendering.\n\t\t//\n\t\t// It should be safe to assume that if you have been able to render the toolbar\n\t\t// and request the exclusive mode, then rendering might be kept until the exclusive mode is left.\n\t\tif (\n\t\t\t!this.state.itemExclusive &&\n\t\t\tthis.props.editorEvent &&\n\t\t\tthis.props.editorEvent.data.nativeEvent.target &&\n\t\t\t!this.props.editorEvent.data.nativeEvent.target.isContentEditable\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst buttons = this._getButtons();\n\t\tconst className = this._getToolbarClassName();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\tclassName={className}\n\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\trole=\"toolbar\"\n\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t<div className=\"ae-container\">{buttons}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of buttons that will eventually render to HTML.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getButtons\n\t * @protected\n\t * @return {Object} The buttons which have to be rendered.\n\t */\n\t_getButtons() {\n\t\tlet buttons;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tbuttons = this.getToolbarButtons(this.props.config.buttons);\n\t\t} else {\n\t\t\tif (this.props.selectionData && this.props.selectionData.region) {\n\t\t\t\tbuttons = (\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-add\"\n\t\t\t\t\t\tonClick={this.props.requestExclusive.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tToolbarAdd.key\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.add}>\n\t\t\t\t\t\t<ButtonIcon symbol=\"plus\" />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\t/**\n\t * Returns the class name of the toolbar in case of both exclusive and normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getToolbarClassName\n\t * @protected\n\t * @return {String} The class name which have to be applied to the DOM element.\n\t */\n\t_getToolbarClassName() {\n\t\tlet cssClass = 'ae-toolbar-add';\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tcssClass = 'ae-toolbar ' + this.getArrowBoxClasses();\n\t\t}\n\n\t\treturn cssClass;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar in exclusive or normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\tlet region;\n\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tif (this.props.selectionData) {\n\t\t\t\tregion = this.props.selectionData.region;\n\t\t\t}\n\n\t\t\tif (region) {\n\t\t\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\t\t\tconst domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\tconst startRect = region.startRect || region;\n\n\t\t\t\tconst nativeEditor = this.context.editor.get('nativeEditor');\n\n\t\t\t\tconst clientRect = nativeEditor.editable().getClientRect();\n\n\t\t\t\tlet offsetLeft;\n\n\t\t\t\tconst position =\n\t\t\t\t\tthis.props.config.position || this.props.position;\n\n\t\t\t\tif (position === POSITION_LEFT) {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.left -\n\t\t\t\t\t\tdomNode.offsetWidth -\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t} else {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.right +\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.left = offsetLeft;\n\n\t\t\t\tdomNode.style.top =\n\t\t\t\t\tMath.floor((region.bottom + region.top) / 2) + 'px';\n\n\t\t\t\tconst uiNode = this.context.editor.get('uiNode');\n\n\t\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\t\tif (nativeEditor.element.getStyle('overflow') !== 'auto') {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tregion.top -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2 +\n\t\t\t\t\t\t\t\tstartRect.height / 2 +\n\t\t\t\t\t\t\t\tscrollTop\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tnativeEditor.element.$.offsetTop +\n\t\t\t\t\t\t\t\tstartRect.height / 2 -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.opacity = 1;\n\n\t\t\t\tdomElement.removeClass('ae-arrow-box');\n\n\t\t\t\tthis.cancelAnimation();\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default add\n * @memberof ToolbarAdd\n * @property {String} key\n * @static\n */\nToolbarAdd.key = 'add';\n\n/**\n * Defines the constant for positioning the Toolbar on left of the editable area.\n *\n * @default 1\n * @memberof ToolbarAdd\n * @property {String} left\n * @static\n */\nToolbarAdd.left = POSITION_LEFT;\n\n/**\n * Defines the constant for positioning the Toolbar on right of the editable area.\n *\n * @default 2\n * @memberof ToolbarAdd\n * @property {String} right\n * @static\n */\nToolbarAdd.right = POSITION_RIGHT;\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarAdd\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarAdd.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-button',\n\tgutterExclusive: {\n\t\tleft: 10,\n\t\ttop: 0,\n\t},\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n\tposition: POSITION_LEFT,\n};\n\nexport default WidgetDropdown(\n\tWidgetExclusive(WidgetFocusManager(ToolbarButtons(ToolbarAdd)))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../../adapter/editor-context';\nimport Lang from '../../oop/lang';\nimport ToolbarButtons from '../base/toolbar-buttons';\nimport WidgetDropdown from '../base/widget-dropdown';\nimport WidgetExclusive from '../base/widget-exclusive';\nimport WidgetFocusManager from '../base/widget-focus-manager';\n\n/**\n * The ToolbarStyles class hosts the buttons for styling a text selection.\n *\n * @class ToolbarStyles\n * @uses ToolbarButtons\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass ToolbarStyles extends React.Component {\n\tstatic contextType = EditorContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst currentSelection = this._getCurrentSelection();\n\n\t\tif (currentSelection) {\n\t\t\tconst getArrowBoxClassesFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.getArrowBoxClasses\n\t\t\t);\n\t\t\tlet arrowBoxClasses;\n\n\t\t\tif (getArrowBoxClassesFn) {\n\t\t\t\tarrowBoxClasses = getArrowBoxClassesFn();\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses = this.getArrowBoxClasses();\n\t\t\t}\n\n\t\t\tconst cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;\n\n\t\t\tlet buttons = currentSelection.buttons;\n\n\t\t\tif (typeof buttons === 'object' && !Array.isArray(buttons)) {\n\t\t\t\tbuttons =\n\t\t\t\t\tbuttons[this.context.editor.get('mode')] ||\n\t\t\t\t\tbuttons['simple'];\n\t\t\t}\n\n\t\t\tconst buttonsGroup = this.getToolbarButtonGroups(buttons, {\n\t\t\t\tmanualSelection: this.props.editorEvent\n\t\t\t\t\t? this.props.editorEvent.data.manualSelection\n\t\t\t\t\t: null,\n\t\t\t\tselectionType: currentSelection.name,\n\t\t\t});\n\n\t\t\tconst hasGroups =\n\t\t\t\tbuttonsGroup.filter(button => {\n\t\t\t\t\treturn Array.isArray(button);\n\t\t\t\t}).length > 0;\n\n\t\t\tlet className = 'ae-container';\n\n\t\t\tif (hasGroups) {\n\t\t\t\tclassName += ' ae-container-column';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles}\n\t\t\t\t\tclassName={cssClasses}\n\t\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\t\trole=\"toolbar\"\n\t\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t{buttonsGroup.map((value, index) => {\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"ae-row\" key={index}>\n\t\t\t\t\t\t\t\t\t\t{value.map(button => {\n\t\t\t\t\t\t\t\t\t\t\treturn button;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Retrieve a function from String. It converts a fully qualified string into the mapped function.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getSelectionFunction\n\t * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').\n\t * @protected\n\t * @return {Function} The mapped function.\n\t */\n\t_getSelectionFunction(selectionFn) {\n\t\tlet selectionFunction;\n\n\t\tif (Lang.isFunction(selectionFn)) {\n\t\t\tselectionFunction = selectionFn;\n\t\t} else if (Lang.isString(selectionFn)) {\n\t\t\tconst parts = selectionFn.split('.');\n\t\t\tlet currentMember = window;\n\t\t\tlet property = parts.shift();\n\n\t\t\twhile (\n\t\t\t\tproperty &&\n\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t) {\n\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\tproperty = parts.shift();\n\t\t\t}\n\n\t\t\tif (Lang.isFunction(currentMember)) {\n\t\t\t\tselectionFunction = currentMember;\n\t\t\t}\n\t\t}\n\n\t\treturn selectionFunction;\n\t}\n\n\t/**\n\t * Analyzes the current editor selection and returns the selection configuration that matches.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getCurrentSelection\n\t * @protected\n\t * @return {Object} The matched selection configuration.\n\t */\n\t_getCurrentSelection() {\n\t\tconst eventPayload = this.props.editorEvent\n\t\t\t? this.props.editorEvent.data\n\t\t\t: null;\n\t\tlet selection;\n\n\t\tif (eventPayload) {\n\t\t\tthis.props.config.selections.some(function(item) {\n\t\t\t\tconst testFn = this._getSelectionFunction(item.test);\n\t\t\t\tlet result;\n\n\t\t\t\tif (testFn) {\n\t\t\t\t\tresult =\n\t\t\t\t\t\teventPayload.manualSelection === item.name ||\n\t\t\t\t\t\ttestFn({\n\t\t\t\t\t\t\tdata: eventPayload,\n\t\t\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (result) {\n\t\t\t\t\tselection = item;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, this);\n\t\t}\n\n\t\treturn selection;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentSelection = this._getCurrentSelection();\n\t\tlet result;\n\n\t\t// If current selection has a function called `setPosition`, call it\n\t\t// and check the returned value. If false, fallback to the default positioning logic.\n\t\tif (currentSelection) {\n\t\t\tconst setPositionFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.setPosition\n\t\t\t);\n\n\t\t\tif (setPositionFn) {\n\t\t\t\tresult = setPositionFn.call(this, {\n\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\teditorEvent: this.props.editorEvent,\n\t\t\t\t\tselectionData: this.props.selectionData,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!result) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t}\n\t}\n}\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarStyles\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarStyles.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n};\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default styles\n * @memberof ToolbarStyles\n * @property {String} key\n * @static\n */\nToolbarStyles.key = 'styles';\n\nexport default WidgetDropdown(\n\tWidgetExclusive(WidgetFocusManager(ToolbarButtons(ToolbarStyles)))\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport '../core';\n\nimport '../plugins';\n\nimport '../components/uibridge';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {removeImageCommand} from '../commands';\nimport UI from '../components/main.jsx';\nimport Base from '../oop/base';\nimport Lang from '../oop/lang';\nimport extend from '../oop/oop';\nimport Selections from '../selections/selections';\nimport EditorContext from './editor-context';\n\nconst EMBED_VIDEO_WIDTH = 560;\nconst EMBED_VIDEO_HEIGHT = 315;\n\n/**\n * AlloyEditor main class. Creates instance of the editor and provides the user configuration\n * to the UI.\n *\n * @class Core\n * @constructor\n * @param {Object} config The configuration to be used.\n */\nfunction Core(config) {\n\tCore.superclass.constructor.call(this, config);\n}\n\nextend(\n\tCore,\n\tBase,\n\t{\n\t\t/**\n\t\t * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor\n\t\t * instance, passing it the provided configuration attributes.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method initializer\n\t\t * @param {Object} config Configuration object literal for the editor.\n\t\t */\n\t\tinitializer(config) {\n\t\t\tconst node = this.get('srcNode');\n\n\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\tnode.setAttribute('contenteditable', 'true');\n\t\t\t}\n\n\t\t\tconst editor = CKEDITOR.inline(node);\n\n\t\t\teditor.config.allowedContent = this.get('allowedContent');\n\n\t\t\teditor.config.toolbars = this.get('toolbars');\n\n\t\t\teditor.config.removePlugins = this.get('removePlugins');\n\n\t\t\teditor.config.extraPlugins = this.get('extraPlugins');\n\n\t\t\teditor.config.embedProviders = this.get('embedProviders');\n\n\t\t\teditor.config.placeholderClass = this.get('placeholderClass');\n\n\t\t\teditor.config.pasteFromWordRemoveStyles = false;\n\t\t\teditor.config.pasteFromWordRemoveFontStyles = false;\n\n\t\t\teditor.config.selectionKeystrokes = this.get('selectionKeystrokes');\n\n\t\t\teditor.config.spritemap = this.get('spritemap');\n\n\t\t\tLang.mix(editor.config, config);\n\n\t\t\tif (CKEDITOR.env.ie && !CKEDITOR.env.edge) {\n\t\t\t\tconst plugin =\n\t\t\t\t\tCKEDITOR.env.version === 11\n\t\t\t\t\t\t? 'ae_dragresize_ie11'\n\t\t\t\t\t\t: 'ae_dragresize_ie';\n\n\t\t\t\teditor.config.extraPlugins = editor.config.extraPlugins.replace(\n\t\t\t\t\t'ae_dragresize',\n\t\t\t\t\tplugin\n\t\t\t\t);\n\t\t\t\teditor.config.removePlugins = editor.config.removePlugins.replace(\n\t\t\t\t\t'ae_dragresize',\n\t\t\t\t\tplugin\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tthis._addReadOnlyLinkClickListener(editor);\n\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\tconst extraCommands = this.get('extraCommands');\n\n\t\t\t\tconst extraCommandKeys = Object.keys(extraCommands);\n\t\t\t\tfor (let i = 0; i < extraCommandKeys.length; i++) {\n\t\t\t\t\tconst commandName = extraCommandKeys[i];\n\n\t\t\t\t\tif (editor.commands[commandName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.addCommand(commandName, extraCommands[commandName]);\n\t\t\t\t}\n\n\t\t\t\teditable.addClass('ae-editable');\n\t\t\t});\n\n\t\t\tthis._editor = editor;\n\n\t\t\tAlloyEditor.loadLanguageResources(this._renderUI.bind(this));\n\t\t},\n\n\t\t/**\n\t\t * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor\n\t\t * instance and destroys all created toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method destructor\n\t\t */\n\t\tdestructor() {\n\t\t\tthis._destroyed = true;\n\n\t\t\tif (this._editorUIElement) {\n\t\t\t\tReactDOM.unmountComponentAtNode(this._editorUIElement);\n\t\t\t\tthis._editorUIElement.parentNode.removeChild(\n\t\t\t\t\tthis._editorUIElement\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst nativeEditor = this.get('nativeEditor');\n\n\t\t\tif (nativeEditor) {\n\t\t\t\tconst editable = nativeEditor.editable();\n\n\t\t\t\tif (editable) {\n\t\t\t\t\teditable.removeClass('ae-editable');\n\n\t\t\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\t\t\tthis.get('srcNode').setAttribute(\n\t\t\t\t\t\t\t'contenteditable',\n\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._clearSelections();\n\n\t\t\t\tnativeEditor.destroy();\n\t\t\t\tfor(const inst in CKEDITOR.instances) {\n\t\t\t\t\tinst.destroy();\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clear selections from window object\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _clearSelections\n\t\t */\n\t\t_clearSelections() {\n\t\t\tconst nativeEditor = this.get('nativeEditor');\n\t\t\tconst isMSSelection = typeof window.getSelection != 'function';\n\n\t\t\tif (isMSSelection) {\n\t\t\t\tnativeEditor.document.$.selection.empty();\n\t\t\t} else {\n\t\t\t\tnativeEditor.document\n\t\t\t\t\t.getWindow()\n\t\t\t\t\t.$.getSelection()\n\t\t\t\t\t.removeAllRanges();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Method to set default link behavior\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _addReadOnlyLinkClickListener\n\t\t * @param {Object} editor\n\t\t */\n\t\t_addReadOnlyLinkClickListener(editor) {\n\t\t\teditor.editable().on('click', this._defaultReadOnlyClickFn, this, {\n\t\t\t\teditor,\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens\n\t\t * the link in a new window.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @event readOnlyClick\n\t\t * @protected\n\t\t * @method _defaultReadOnlyClickFn\n\t\t * @param {Object} event The fired `click` event payload\n\t\t */\n\t\t_defaultReadOnlyClickFn(event) {\n\t\t\tconst mouseEvent = event.data.$;\n\t\t\tconst hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;\n\t\t\tconst shouldOpen = this._editor.config.readOnly || hasCtrlKey;\n\n\t\t\tmouseEvent.preventDefault();\n\n\t\t\tif (!shouldOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.listenerData.editor\n\t\t\t\t\t.editable()\n\t\t\t\t\t.editor.fire('readOnlyClick', event.data) !== false\n\t\t\t) {\n\t\t\t\tconst ckElement = new CKEDITOR.dom.elementPath(\n\t\t\t\t\tevent.data.getTarget(),\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t\tconst link = ckElement.lastElement;\n\n\t\t\t\tif (link) {\n\t\t\t\t\tconst href = link.$.attributes.href\n\t\t\t\t\t\t? link.$.attributes.href.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tconst target = hasCtrlKey\n\t\t\t\t\t\t? '_blank'\n\t\t\t\t\t\t: link.$.attributes.target\n\t\t\t\t\t\t? link.$.attributes.target.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tthis._redirectLink(href, target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _getNativeEditor\n\t\t * @return {Object} The current instance of CKEditor.\n\t\t */\n\t\t_getNativeEditor() {\n\t\t\treturn this._editor;\n\t\t},\n\n\t\t/**\n\t\t * Redirects the browser to a given link\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _redirectLink\n\t\t * @param {string} href The href to take the browser to\n\t\t * @param {string=} target Specifies where to display the link\n\t\t */\n\t\t_redirectLink(href, target) {\n\t\t\tif (target && href) {\n\t\t\t\twindow.open(href, target);\n\t\t\t} else if (href) {\n\t\t\t\twindow.location.href = href;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Renders the specified from the user toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _renderUI\n\t\t */\n\t\t_renderUI() {\n\t\t\tif (!this._destroyed) {\n\t\t\t\tconst editorUIElement = document.createElement('div');\n\t\t\t\teditorUIElement.className = 'ae-ui';\n\n\t\t\t\tconst uiNode = this.get('uiNode') || document.body;\n\n\t\t\t\tuiNode.appendChild(editorUIElement);\n\n\t\t\t\tconst callbackRef = element => {\n\t\t\t\t\tif (!this._mainUI && element) {\n\t\t\t\t\t\tthis._mainUI = element;\n\t\t\t\t\t\tthis.get('nativeEditor').fire('uiReady');\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<EditorContext.Provider value={{editor: this}}>\n\t\t\t\t\t\t<UI\n\t\t\t\t\t\t\teventsDelay={this.get('eventsDelay')}\n\t\t\t\t\t\t\tref={callbackRef}\n\t\t\t\t\t\t\ttoolbars={this.get('toolbars')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</EditorContext.Provider>,\n\t\t\t\t\teditorUIElement\n\t\t\t\t);\n\n\t\t\t\tthis._editorUIElement = editorUIElement;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The function returns an HTML element from the passed value. If the passed value is a string, it should be\n\t\t * the Id of the element which have to be retrieved from the DOM.\n\t\t * If an HTML Element is passed, the element itself will be returned.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @method _toElement\n\t\t * @protected\n\t\t * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,\n\t\t * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.\n\t\t * @return {HTMLElement} An HTML element.\n\t\t */\n\t\t_toElement(value) {\n\t\t\tif (Lang.isString(value)) {\n\t\t\t\tvalue = document.getElementById(value);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\t/**\n\t\t * Validates the allowed content attribute. Look\n\t\t * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the\n\t\t * supported values.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateAllowedContent\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid configuration, false otherwise\n\t\t */\n\t\t_validateAllowedContent(value) {\n\t\t\treturn (\n\t\t\t\tLang.isString(value) ||\n\t\t\t\tLang.isObject(value) ||\n\t\t\t\tLang.isBoolean(value)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Validates the value of toolbars attribute\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateToolbars\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise\n\t\t */\n\t\t_validateToolbars(value) {\n\t\t\treturn Lang.isObject(value) || Lang.isNull(value);\n\t\t},\n\t},\n\t{\n\t\tATTRS: {\n\t\t\t/**\n\t\t\t * Configures the allowed content for the current instance of AlloyEditor.\n\t\t\t * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)\n\t\t\t * for more information about the valid values.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property allowedContent\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t * @type {Boolean, String, Object}\n\t\t\t */\n\t\t\tallowedContent: {\n\t\t\t\tvalidator: '_validateAllowedContent',\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Callback to be invoked when clicking on the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkCallback\n\t\t\t * @default undefined\n\t\t\t * @type {Function|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkCallback: {\n\t\t\t\tvalidator: Lang.isFunction,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Configuration for the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkUrl\n\t\t\t * @default undefined\n\t\t\t * @type {String|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkUrl: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * List of embed providers for videos\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property embedProviders\n\t\t\t * @default []\n\t\t\t * @type Array}\n\t\t\t */\n\t\t\tembedProviders: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'facebook',\n\t\t\t\t\t\ttpl: `<iframe allowFullScreen=\"true\" allowTransparency=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n\t\t\t\t\t\t\t\t\t\t\t\t src=\"https://www.facebook.com/plugins/video.php?href={embedId}'\n\t\t\t\t\t\t\t\t\t\t\t\t &show_text=0&width=${EMBED_VIDEO_WIDTH}&height=${EMBED_VIDEO_HEIGHT}\" scrolling=\"no\"\n\t\t\t\t\t\t\t\t\t\t\t\t style=\"border:none;overflow:hidden\" width=\"${EMBED_VIDEO_WIDTH}}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'(https?:\\\\/\\\\/(?:www\\\\.)?facebook.com\\\\/\\\\S*\\\\/videos\\\\/\\\\S*)',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'twitch',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen=\"true\" frameborder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t height=\"${EMBED_VIDEO_HEIGHT}\"\n\t\t\t\t\t\t\t\t\t\t\t\t src=\"https://player.twitch.tv/?autoplay=false&video={embedId}\"\n\t\t\t\t\t\t\t\t\t\t\t\t scrolling=\"no\" width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?twitch.tv\\\\/videos\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'vimeo',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n\t\t\t\t\t\t\t\t\t\t\t\t mozallowfullscreen src=\"https://player.vimeo.com/video/{embedId}\"\n\t\t\t\t\t\t\t\t\t\t\t\t webkitallowfullscreen width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/album\\\\/.*\\\\/video\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/channels\\\\/.*\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/groups\\\\/.*\\\\/videos\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'youtube',\n\t\t\t\t\t\ttpl: `<iframe allow=\"autoplay; encrypted-media\" allowfullscreen\n\t\t\t\t\t\t\t\t\t\t\t\t height=\"${EMBED_VIDEO_HEIGHT}\" frameborder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t src=\"https://www.youtube.com/embed/{embedId}?rel=0\"\n\t\t\t\t\t\t\t\t\t\t\t\t width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?youtube.com\\\\/watch\\\\?v=(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies whether AlloyEditor set the contenteditable attribute\n\t\t\t * to \"true\" on its srcNode.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property enableContentEditable\n\t\t\t * @type Boolean\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tenableContentEditable: {\n\t\t\t\tvalidator: Lang.isBoolean,\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The delay (timeout), in ms, after which events such like key or mouse events will be processed.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property eventsDelay\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\teventsDelay: {\n\t\t\t\tvalidator: Lang.isNumber,\n\t\t\t\tvalue: 100,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The list of extra commands to be added to the editor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraCommands\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\textraCommands: {\n\t\t\t\tvalidator: Lang.isObject,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoveImage: removeImageCommand,\n\t\t\t\t},\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to\n\t\t\t * make AlloyEditor to work properly.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraPlugins\n\t\t\t * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\textraPlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue:\n\t\t\t\t\t'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' +\n\t\t\t\t\t'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,' +\n\t\t\t\t\t'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton,smiley',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the \"mode\" for alloy editor\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property mode\n\t\t\t * @default 'simple'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tmode: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'simple',\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property nativeEditor\n\t\t\t * @readOnly\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\tnativeEditor: {\n\t\t\t\tgetter: '_getNativeEditor',\n\t\t\t\treadOnly: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the class, which should be added by Placeholder plugin\n\t\t\t * {{#crossLink \"CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}\n\t\t\t * when editor is not focused.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property placeholderClass\n\t\t\t * @default 'ae-placeholder'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tplaceholderClass: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'ae-placeholder',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.\n\t\t\t * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor\n\t\t\t * comes with its own highly optimized copy of CKEditor (just customized via their official download page).\n\t\t\t * This version does not come with the unneeded plugins, so the value of this property won't be needed.\n\t\t\t * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the\n\t\t\t * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them\n\t\t\t * entirely from CKEditor. It just removes them from its current instance, in which you will use different\n\t\t\t * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same\n\t\t\t * page!\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property removePlugins\n\t\t\t * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tremovePlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'contextmenu,toolbar,elementspath,resize,liststyle,link',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar\n\t\t\t * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke\n\t\t\t * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with\n\t\t\t * the selection name to trigger.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property selectionKeystrokes\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tselectionKeystrokes: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\t\t\t\tselection: 'link',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t\t\t\t\tselection: 'embed',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The path to the spritemap SVG used for icons\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property spritemap\n\t\t\t * @type String\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tspritemap: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'alloy-editor/assets/icons/icons.svg',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property srcNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tsrcNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The toolbars configuration for this editor instance\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property {Object} toolbars\n\t\t\t */\n\t\t\ttoolbars: {\n\t\t\t\tvalidator: '_validateToolbars',\n\t\t\t\tvalue: {\n\t\t\t\t\tadd: {\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t'imageFromFile',\n\t\t\t\t\t\t\t'embed',\n\t\t\t\t\t\t\t'camera',\n\t\t\t\t\t\t\t'hline',\n\t\t\t\t\t\t\t'table',\n\t\t\t\t\t\t\t'smiley',\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttabIndex: 2,\n\t\t\t\t\t},\n\t\t\t\t\tstyles: {\n\t\t\t\t\t\tselections: Selections,\n\t\t\t\t\t\ttabIndex: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property uiNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tuiNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\t\t},\n\t}\n);\n\nCKEDITOR.event.implementOn(Core);\n\nexport default Core;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport debounce from './debounce';\n\nimport './link';\n\nimport './plugins';\n\nimport './selection-region';\n\nimport './table';\n\nimport './tools';\n\nimport './uicore';\n\nexport {debounce};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Debounce util function. If a function execution is expensive, it might be debounced. This means\n * that it will be executed after some amount of time after its last call. For example, if we attach a\n * a function on scroll event, it might be called hundreds times per second. In this case it may be\n * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last\n * scroll event.\n *\n * @memberof CKEDITOR.tools\n * @method debounce\n * @param {Array} args An array of arguments which the callback will receive.\n * @param {Function} callback The callback which has to be called after given timeout.\n * @param {Number} timeout Timeout in milliseconds after which the callback will be called.\n * @param {Object} context The context in which the callback will be called. This argument is optional.\n * @static\n */\nfunction debounce(callback, timeout, context, args = []) {\n\tlet debounceHandle;\n\n\tconst callFn = function(...callArgs) {\n\t\t/* eslint-disable no-invalid-this */\n\t\tconst callContext = context || this;\n\t\t/* eslint-enable no-invalid-this */\n\n\t\tclearTimeout(debounceHandle);\n\n\t\tdebounceHandle = setTimeout(() => {\n\t\t\tcallback.apply(callContext, [...callArgs, ...args]);\n\t\t}, timeout);\n\t};\n\n\tcallFn.detach = function() {\n\t\tclearTimeout(debounceHandle);\n\t};\n\n\treturn callFn;\n}\n\nCKEDITOR.tools.debounce = CKEDITOR.tools.debounce || debounce;\n\nexport default debounce;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst REGEX_BOOKMARK_SCHEME = /^#.*/i;\nconst REGEX_EMAIL_SCHEME = /^[a-z0-9\\u0430-\\u044F._-]+@/i;\nconst REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\\-.]*):|^\\//i;\n\n/**\n * Link class utility. Provides methods for create, delete and update links.\n *\n * @class CKEDITOR.Link\n * @constructor\n * @param {Object} editor The CKEditor instance.\n */\nfunction Link(editor, config) {\n\tthis._editor = editor;\n\tthis.appendProtocol =\n\t\tconfig && config.appendProtocol === false ? false : true;\n}\n\nLink.prototype = {\n\tconstructor: Link,\n\n\t/**\n\t * Advances the editor selection to the next available position after a\n\t * given link or the one in the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method advanceSelection\n\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t */\n\tadvanceSelection(link) {\n\t\tlink = link || this.getFromSelection();\n\n\t\tconst selection = this._editor.getSelection();\n\t\tconst range = selection ? selection.getRanges()[0] : null;\n\n\t\tif (link && range) {\n/*\n\n\t\t\tconst range = this._editor.getSelection().getRanges()[0];\n\n\t\tif (link) {\n*/\n\t\t\trange.moveToElementEditEnd(link);\n\n\t\t\tconst nextNode = range.getNextEditableNode();\n\n\t\t\tif (\n\t\t\t\tnextNode &&\n\t\t\t\t!this._editor.element.equals(nextNode.getCommonAncestor(link))\n\t\t\t) {\n\t\t\t\tconst whitespace = /\\s/.exec(nextNode.getText());\n\n\t\t\t\tconst offset = whitespace ? whitespace.index + 1 : 0;\n\n\t\t\t\trange.setStart(nextNode, offset);\n\t\t\t\trange.setEnd(nextNode, offset);\n\t\t\t}\n\t\t}\n\n\t\tthis._editor.getSelection().selectRanges([range]);\n\t},\n\n\t/**\n\t * Create a link with given URI as href.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method create\n\t * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t * @param {String} URI The URI of the link.\n\t */\n\tcreate(URI, attrs, modifySelection) {\n\t\tconst selection = this._editor.getSelection();\n\n/*\n\t\tconst range = selection.getRanges()[0];\n\n\t\tif (range.collapsed) {\n*/\n\t\tconst range = selection ? selection.getRanges()[0] : null;\n\n\t\tif (range && range.collapsed) {\n\t\t\tconst text = new CKEDITOR.dom.text(URI, this._editor.document);\n\t\t\trange.insertNode(text);\n\t\t\trange.selectNodeContents(text);\n\t\t}\n\n\t\tURI = this._getCompleteURI(URI);\n\n\t\tconst linkAttrs = CKEDITOR.tools.merge(\n\t\t\t{\n\t\t\t\t'data-cke-saved-href': URI,\n\t\t\t\thref: URI,\n\t\t\t},\n\t\t\tattrs\n\t\t);\n\n\t\tconst style = new CKEDITOR.style({\n\t\t\tattributes: linkAttrs,\n\t\t\telement: 'a',\n\t\t});\n\n\t\tstyle.type = CKEDITOR.STYLE_INLINE;\n\t\tstyle.applyToRange(range, this._editor);\n\n\t\tif (modifySelection && modifySelection.advance) {\n\t\t\tthis.advanceSelection();\n\t\t} else {\n\t\t\trange.select();\n\t\t}\n\t},\n\n\t/**\n\t * Retrieves a link from the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method getFromSelection\n\t * @return {CKEDITOR.dom.element} The retrieved link or null if not found.\n\t */\n\tgetFromSelection() {\n\t\tconst selection = this._editor.getSelection();\n\n\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\tif (selectedElement && selectedElement.is('a')) {\n\t\t\treturn selectedElement;\n\t\t}\n\n\t\tif (selectedElement && CKEDITOR.env.ie) {\n\t\t\tconst children = selectedElement.getChildren();\n\n\t\t\tconst count = children.count();\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tconst node = children.getItem(i);\n\n\t\t\t\tif (node.is('a')) {\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n/*\n\n\t\tconst range = selection.getRanges()[0];\n*/\n\t\tconst range = selection ? selection.getRanges()[0] : null;\n\n\t\tif (range) {\n\t\t\trange.shrink(CKEDITOR.SHRINK_TEXT);\n\n\t\t\treturn this._editor\n\t\t\t\t.elementPath(range.getCommonAncestor())\n\t\t\t\t.contains('a', 1);\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Removes a link from the editor.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method remove\n\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t */\n\tremove(link, modifySelection) {\n\t\tconst editor = this._editor;\n\n\t\tif (link) {\n\t\t\tif (modifySelection && modifySelection.advance) {\n\t\t\t\tthis.advanceSelection();\n\t\t\t}\n\n\t\t\tlink.remove(editor);\n\t\t} else {\n\t\t\tconst style = new CKEDITOR.style({\n\t\t\t\talwaysRemoveElement: 1,\n\t\t\t\telement: 'a',\n\t\t\t\ttype: CKEDITOR.STYLE_INLINE,\n\t\t\t});\n\n\t\t\t// 'removeStyle()' removes the style from the editor's current selection.\n\t\t\t//  We need to force the selection to be the whole link element\n\t\t\t//  to remove it properly.\n\n\t\t\tconst selection = editor.getSelection();\n\t\t\tselection.selectElement(selection.getStartElement());\n\n\t\t\teditor.removeStyle(style);\n\t\t}\n\t},\n\n\t/**\n\t * Updates the href of an already existing link.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method update\n\t * @param {CKEDITOR.dom.element} link The link element which href should be removed.\n\t * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.\n\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t */\n\tupdate(attrs, link, modifySelection) {\n\t\tconst instance = this;\n\n\t\tlink = link || this.getFromSelection();\n\n\t\tif (typeof attrs === 'string') {\n\t\t\tconst uri = instance._getCompleteURI(attrs);\n\n\t\t\tlink.setAttributes({\n\t\t\t\t'data-cke-saved-href': uri,\n\t\t\t\thref: uri,\n\t\t\t});\n\t\t} else if (typeof attrs === 'object') {\n\t\t\tconst removeAttrs = [];\n\n\t\t\tconst setAttrs = {};\n\n\t\t\tObject.keys(attrs).forEach(key => {\n\t\t\t\tif (attrs[key] === null) {\n\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\tremoveAttrs.push('data-cke-saved-href');\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveAttrs.push(key);\n\t\t\t\t} else {\n\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\tconst uri = instance._getCompleteURI(attrs[key]);\n\n\t\t\t\t\t\tsetAttrs['data-cke-saved-href'] = uri;\n\t\t\t\t\t\tsetAttrs[key] = uri;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetAttrs[key] = attrs[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlink.removeAttributes(removeAttrs);\n\t\t\tlink.setAttributes(setAttrs);\n\t\t}\n\n\t\tif (modifySelection && modifySelection.advance) {\n\t\t\tthis.advanceSelection(link);\n\t\t}\n\t},\n\n\t/**\n\t * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.\n\t * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI\n\t * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.\n\t * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with\n\t * hierarchical path '//' is added to the URI.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Link\n\t * @method _getCompleteURI\n\t * @param {String} URI The URI of the link.\n\t * @protected\n\t * @return {String} The URI updated with the protocol.\n\t */\n\t_getCompleteURI(URI) {\n\t\tif (REGEX_BOOKMARK_SCHEME.test(URI)) {\n\t\t\treturn URI;\n\t\t} else if (REGEX_EMAIL_SCHEME.test(URI)) {\n\t\t\tURI = 'mailto:' + URI;\n\t\t} else if (!REGEX_URI_SCHEME.test(URI)) {\n\t\t\tURI = this.appendProtocol ? 'http://' + URI : URI;\n\t\t}\n\n\t\treturn URI;\n\t},\n};\n\nCKEDITOR.Link = CKEDITOR.Link || Link;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n// Wraps each of the plugin lifecycle methods in a closure that will\n// set up the editor.__processingPlugin__ variable so it can be globally\n// accessed exposing the plugin being processed and the lifecycle phase\n// in which it is happening\n//\n// @param {Object} plugin The plugin to wrap lifecycle methods\nconst wrapPluginLifecycle = function(plugin) {\n\tconst methods = ['beforeInit', 'init', 'afterInit'];\n\n\tmethods.forEach(methodName => {\n\t\tif (plugin[methodName]) {\n\t\t\tplugin[methodName] = CKEDITOR.tools.override(\n\t\t\t\tplugin[methodName],\n\t\t\t\toriginalPluginMethod => {\n\t\t\t\t\tconst payload = {\n\t\t\t\t\t\tphase: methodName,\n\t\t\t\t\t\tplugin,\n\t\t\t\t\t};\n\n\t\t\t\t\treturn function(editor) {\n\t\t\t\t\t\teditor.__processingPlugin__ = payload;\n\n\t\t\t\t\t\t// eslint-disable-next-line no-invalid-this\n\t\t\t\t\t\toriginalPluginMethod.call(this, editor);\n\n\t\t\t\t\t\teditor.__processingPlugin__ = null;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n};\n\n// Filters the requires object to remove unwanted dependencies. At this point\n// only 'toolbar' has been identified, but more can appear. An unwanted plugin\n// dependency is one that prevents a necessary plugin from being removed\n//\n// @param {string|Array<string>} requires The requires object\n// @return {string} The filtered requires object\nconst filterUnwantedDependencies = function(requires) {\n\tif (typeof requires === 'string') {\n\t\trequires = requires.split(',');\n\t}\n\n\treturn requires.filter(require => {\n\t\treturn require !== 'toolbar';\n\t});\n};\n\n/**\n * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.\n *\n * @class CKEDITOR.plugins\n */\n\n/**\n * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of\n * the loaded plugins to add some metainformation about the plugin being processed\n *\n * @param {String/Array} names The name of the resource to load. It may be a\n * string with a single resource name, or an array with several names.\n * @param {Function} callback A function to be called when all resources\n * are loaded. The callback will receive an array containing all loaded names.\n * @param {Object} [scope] The scope object to be used for the callback call.\n * @memberof CKEDITOR.plugins\n * @method load\n * @static\n */\nCKEDITOR.plugins.load = CKEDITOR.tools.override(\n\tCKEDITOR.plugins.load,\n\tpluginsLoad => {\n\t\t// Wrap original load function so we can transform the plugin input parameter\n\t\t// before passing it down to the original callback\n\t\treturn function(names, callback, scope) {\n\t\t\t// eslint-disable-next-line no-invalid-this\n\t\t\tpluginsLoad.call(this, names, plugins => {\n\t\t\t\tif (callback) {\n\t\t\t\t\tObject.keys(plugins).forEach(pluginName => {\n\t\t\t\t\t\tconst plugin = plugins[pluginName];\n\n\t\t\t\t\t\tif (plugin.requires) {\n\t\t\t\t\t\t\tplugin.requires = filterUnwantedDependencies(\n\t\t\t\t\t\t\t\tplugin.requires\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twrapPluginLifecycle(plugin);\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback.call(scope, plugins);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}\n);\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_selectionregion')) {\n\tCKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;\n\tCKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;\n\tCKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;\n\tCKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;\n\n\t/**\n\t * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end\n\t * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will\n\t * be merged into each editor instance, so the developer may use them directly via the editor, without making\n\t * an instance of this class**.\n\t *\n\t * @class SelectionRegion\n\t * @constructor\n\t */\n\tfunction SelectionRegion() {}\n\n\tSelectionRegion.prototype = {\n\t\tconstructor: SelectionRegion,\n\n\t\t/**\n\t\t * Creates selection from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromPoint\n\t\t * @param {Number} x X point in page coordinates.\n\t\t * @param {Number} y Y point in page coordinates.\n\t\t */\n\t\tcreateSelectionFromPoint(x, y) {\n\t\t\tthis.createSelectionFromRange(x, y, x, y);\n\t\t},\n\n\t\t/**\n\t\t * Creates selection from range. A range consists from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromRange\n\t\t * @param {Number} startX X coordinate of the first point.\n\t\t * @param {Number} startY Y coordinate of the first point.\n\t\t * @param {Number} endX X coordinate of the second point.\n\t\t * @param {Number} endY Y coordinate of the second point.\n\t\t */\n\t\tcreateSelectionFromRange(startX, startY, endX, endY) {\n\t\t\tlet end;\n\t\t\tlet endContainer;\n\t\t\tlet endOffset;\n\t\t\tlet range;\n\t\t\tlet start;\n\t\t\tlet startContainer;\n\t\t\tlet startOffset;\n\n\t\t\tif (typeof document.caretPositionFromPoint === 'function') {\n\t\t\t\tstart = document.caretPositionFromPoint(startX, startY);\n\t\t\t\tend = document.caretPositionFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.offsetNode;\n\t\t\t\tendContainer = end.offsetNode;\n\n\t\t\t\tstartOffset = start.offset;\n\t\t\t\tendOffset = end.offset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t} else if (typeof document.caretRangeFromPoint === 'function') {\n\t\t\t\tstart = document.caretRangeFromPoint(startX, startY);\n\t\t\t\tend = document.caretRangeFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.startContainer;\n\t\t\t\tendContainer = end.startContainer;\n\n\t\t\t\tstartOffset = start.startOffset;\n\t\t\t\tendOffset = end.startOffset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t}\n\n\t\t\tif (range && document.getSelection) {\n\t\t\t\trange.setStart(\n\t\t\t\t\tnew CKEDITOR.dom.node(startContainer),\n\t\t\t\t\tstartOffset\n\t\t\t\t);\n\t\t\t\trange.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);\n\n\t\t\t\tthis.getSelection().selectRanges([range]);\n\t\t\t} else if (typeof document.body.createTextRange === 'function') {\n\t\t\t\tconst selection = this.getSelection();\n\n\t\t\t\tselection.unlock();\n\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToPoint(startX, startY);\n\n\t\t\t\tconst endRange = range.duplicate();\n\t\t\t\tendRange.moveToPoint(endX, endY);\n\n\t\t\t\trange.setEndPoint('EndToEnd', endRange);\n\t\t\t\trange.select();\n\n\t\t\t\tthis.getSelection().lock();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current position of the caret. The points are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getCaretRegion\n\t\t * @return {Object} Returns object with the following properties:\n\t\t * - bottom\n\t\t * - left\n\t\t * - right\n\t\t * - top\n\t\t */\n\t\tgetCaretRegion() {\n\t\t\tconst selection = this.getSelection();\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t};\n\n\t\t\tconst bookmarks = selection.createBookmarks();\n\n\t\t\tif (!bookmarks.length) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tconst bookmarkNodeEl = bookmarks[0].startNode.$;\n\n\t\t\tbookmarkNodeEl.style.display = 'inline-block';\n\n\t\t\tregion = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();\n\n\t\t\tbookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);\n\n\t\t\tconst scrollPos = new CKEDITOR.dom.window(\n\t\t\t\twindow\n\t\t\t).getScrollPosition();\n\n\t\t\tregion.bottom = scrollPos.y + region.bottom;\n\t\t\tregion.left = scrollPos.x + region.left;\n\t\t\tregion.right = scrollPos.x + region.right;\n\t\t\tregion.top = scrollPos.y + region.top;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns data for the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionData\n\t\t * @return {Object|null} Returns an object with the following data:\n\t\t * - element - The currently selected element, if any\n\t\t * - text - The selected text\n\t\t * - region - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method\"}}{{/crossLink}}\n\t\t */\n\t\tgetSelectionData() {\n\t\t\tconst selection = this.getSelection();\n\n\t\t\tif (!selection.getNative()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst result = {\n\t\t\t\telement: selection.getSelectedElement(),\n\t\t\t\ttext: selection.getSelectedText(),\n\t\t\t};\n\n\t\t\tresult.region = this.getSelectionRegion(selection);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionRegion\n\t\t * @return {Object} Returns object which is being returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method\"}}{{/crossLink}} with three more properties:\n\t\t * - direction - the direction of the selection. Can be one of these:\n\t\t *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t * - height - The height of the selection region\n\t\t * - width - The width of the selection region\n\t\t */\n\t\tgetSelectionRegion() {\n\t\t\tconst region = this.getClientRectsRegion();\n\n\t\t\tregion.direction = this.getSelectionDirection();\n\n\t\t\tregion.height = region.bottom - region.top;\n\t\t\tregion.width = region.right - region.left;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns true if the current selection is empty, false otherwise.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method isSelectionEmpty\n\t\t * @return {Boolean} Returns true if the current selection is empty, false otherwise.\n\t\t */\n\t\tisSelectionEmpty() {\n\t\t\tconst selection = this.getSelection();\n\n\t\t\tif (selection.getType() === CKEDITOR.SELECTION_NONE) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst ranges = selection ? selection.getRanges() : null;\n\t\t\treturn ranges && ranges.length === 1 && ranges[0].collapsed;\n\t\t},\n\n\t\t/**\n\t\t * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,\n\t\t * normalized across browses. All offsets below are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getClientRectsRegion\n\t\t * @return {Object} Returns object with the following data:\n\t\t * - bottom - bottom offset of all client rectangles\n\t\t * - left - left offset of all client rectangles\n\t\t * - right - right offset of all client rectangles\n\t\t * - top - top offset of all client rectangles\n\t\t * - startRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t * - endRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t *\n\t\t * If there is no native selection, the objects will be filled with 0.\n\t\t */\n\t\tgetClientRectsRegion() {\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst nativeSelection = selection.getNative();\n\n\t\t\tconst defaultRect = {\n\t\t\t\tbottom: 0,\n\t\t\t\theight: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: 0,\n\t\t\t};\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tendRect: defaultRect,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tstartRect: defaultRect,\n\t\t\t};\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tlet bottom = 0;\n\t\t\tlet clientRects;\n\t\t\tlet left = Infinity;\n\t\t\tlet right = -Infinity;\n\t\t\tlet top = Infinity;\n\n\t\t\tif (nativeSelection.createRange) {\n\t\t\t\tclientRects = nativeSelection.createRange().getClientRects();\n\t\t\t} else {\n\t\t\t\tclientRects =\n\t\t\t\t\tnativeSelection.rangeCount > 0\n\t\t\t\t\t\t? nativeSelection.getRangeAt(0).getClientRects()\n\t\t\t\t\t\t: [];\n\t\t\t}\n\n\t\t\tif (clientRects.length === 0) {\n\t\t\t\tregion = this.getCaretRegion();\n\t\t\t} else {\n\t\t\t\tfor (let i = 0, length = clientRects.length; i < length; i++) {\n\t\t\t\t\tconst item = clientRects[i];\n\n\t\t\t\t\tif (item.left < left) {\n\t\t\t\t\t\tleft = item.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.right > right) {\n\t\t\t\t\t\tright = item.right;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.top < top) {\n\t\t\t\t\t\ttop = item.top;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.bottom > bottom) {\n\t\t\t\t\t\tbottom = item.bottom;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst scrollPos = new CKEDITOR.dom.window(\n\t\t\t\t\twindow\n\t\t\t\t).getScrollPosition();\n\n\t\t\t\tregion.bottom = scrollPos.y + bottom;\n\t\t\t\tregion.left = scrollPos.x + left;\n\t\t\t\tregion.right = scrollPos.x + right;\n\t\t\t\tregion.top = scrollPos.y + top;\n\n\t\t\t\tif (clientRects.length) {\n\t\t\t\t\tconst endRect = clientRects[clientRects.length - 1];\n\t\t\t\t\tconst startRect = clientRects[0];\n\n\t\t\t\t\tregion.endRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + endRect.bottom,\n\t\t\t\t\t\theight: endRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + endRect.left,\n\t\t\t\t\t\tright: scrollPos.x + endRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + endRect.top,\n\t\t\t\t\t\twidth: endRect.width,\n\t\t\t\t\t};\n\n\t\t\t\t\tregion.startRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + startRect.bottom,\n\t\t\t\t\t\theight: startRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + startRect.left,\n\t\t\t\t\t\tright: scrollPos.x + startRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + startRect.top,\n\t\t\t\t\t\twidth: startRect.width,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.\n\t\t * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionDirection\n\t\t * @return {Number} Returns a number which represents selection direction. It might be one of these:\n\t\t * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t */\n\t\tgetSelectionDirection() {\n\t\t\tlet direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t\tconst selection = this.getSelection();\n\t\t\tconst nativeSelection = selection.getNative();\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn direction;\n\t\t\t}\n\n\t\t\tlet anchorNode;\n\n\t\t\tif (\n\t\t\t\t(anchorNode = nativeSelection.anchorNode) &&\n\t\t\t\tanchorNode.compareDocumentPosition\n\t\t\t) {\n\t\t\t\tconst position = anchorNode.compareDocumentPosition(\n\t\t\t\t\tnativeSelection.focusNode\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t(!position &&\n\t\t\t\t\t\tnativeSelection.anchorOffset >\n\t\t\t\t\t\t\tnativeSelection.focusOffset) ||\n\t\t\t\t\tposition === Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t) {\n\t\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t},\n\t};\n\n\tCKEDITOR.plugins.add('ae_selectionregion', {\n\t\tinit(editor) {\n\t\t\tlet attr;\n\t\t\tconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\t\tfor (attr in SelectionRegion.prototype) {\n\t\t\t\tif (\n\t\t\t\t\thasOwnProperty.call(SelectionRegion.prototype, attr) &&\n\t\t\t\t\ttypeof editor[attr] === 'undefined'\n\t\t\t\t) {\n\t\t\t\t\teditor[attr] = SelectionRegion.prototype[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst IE_NON_DIRECTLY_EDITABLE_ELEMENT = {\n\ttable: 1,\n\tcol: 1,\n\tcolgroup: 1,\n\ttbody: 1,\n\ttd: 1,\n\ttfoot: 1,\n\tth: 1,\n\tthead: 1,\n\ttr: 1,\n};\n\n/**\n * Table class utility. Provides methods for create, delete and update tables.\n *\n * @class CKEDITOR.Table\n * @constructor\n * @param {Object} editor The CKEditor instance.\n */\n\nfunction Table(editor) {\n\tthis._editor = editor;\n}\n\nTable.HEADING_BOTH = 'Both';\nTable.HEADING_COL = 'Column';\nTable.HEADING_NONE = 'None';\nTable.HEADING_ROW = 'Row';\n\nTable.prototype = {\n\tconstructor: Table,\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method create\n\t * @param {Object} config Table configuration object\n\t * @return {Object} The created table\n\t */\n\tcreate(config) {\n\t\tconst editor = this._editor;\n\t\tconst table = this._createElement('table');\n\n\t\tconfig = config || {};\n\n\t\t// Generate the rows and cols.\n\t\tconst tbody = table.append(this._createElement('tbody'));\n\t\tconst rows = config.rows || 1;\n\t\tconst cols = config.cols || 1;\n\n\t\tfor (let i = 0; i < rows; i++) {\n\t\t\tconst row = tbody.append(this._createElement('tr'));\n\t\t\tfor (let j = 0; j < cols; j++) {\n\t\t\t\tconst cell = row.append(this._createElement('td'));\n\n\t\t\t\tcell.appendBogus();\n\t\t\t}\n\t\t}\n\n\t\tthis.setAttributes(table, config.attrs);\n\t\tthis.setHeading(table, config.heading);\n\n\t\t// Insert the table element if we're creating one.\n\t\teditor.insertElement(table);\n\n\t\tconst firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);\n\t\tconst range = editor.createRange();\n\t\trange.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);\n\t\trange.select();\n\n\t\treturn table;\n\t},\n\n\t/**\n\t * Retrieves a table from the current selection.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method getFromSelection\n\t * @return {CKEDITOR.dom.element} The retrieved table or null if not found.\n\t */\n\tgetFromSelection() {\n\t\tlet table;\n\t\tconst selection = this._editor.getSelection();\n\t\tconst selected = selection.getSelectedElement();\n\n\t\tif (selected && selected.is('table')) {\n\t\t\ttable = selected;\n\t\t} else {\n\t\t\tconst ranges = selection ? selection.getRanges() : null;\n/*\n\n\t\t\tconst ranges = selection.getRanges();\n*/\n\n\t\t\tif (ranges && ranges.length > 0) {\n\t\t\t\t// Webkit could report the following range on cell selection (#4948):\n\t\t\t\t// <table><tr><td>[&nbsp;</td></tr></table>]\n\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (CKEDITOR.env.webkit) {\n\t\t\t\t\tranges[0].shrink(CKEDITOR.NODE_ELEMENT);\n\t\t\t\t}\n\n\t\t\t\ttable = this._editor\n\t\t\t\t\t.elementPath(ranges[0].getCommonAncestor(true))\n\t\t\t\t\t.contains('table', 1);\n\t\t\t}\n\t\t}\n\n\t\treturn table;\n\t},\n\n\t/**\n\t * Checks if a given table can be considered as editable. This method\n\t * workarounds a limitation of IE where for some elements (like table),\n\t * `isContentEditable` returns always false. This is because IE does not support\n\t * `contenteditable` on such elements. However, despite such elements\n\t * cannot be set as content editable directly, a content editable SPAN,\n\t * or DIV element can be placed inside the individual table cells.\n\t * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method isEditable\n\t * @param {CKEDITOR.dom.element} el The table element to test if editable\n\t * @return {Boolean}\n\t */\n\tisEditable(el) {\n\t\tif (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {\n\t\t\treturn !el.isReadOnly();\n\t\t}\n\n\t\tif (el.hasAttribute('contenteditable')) {\n\t\t\treturn el.getAttribute('contenteditable') !== 'false';\n\t\t}\n\n\t\treturn this.isEditable(el.getParent());\n\t},\n\n\t/**\n\t * Returns which heading style is set for the given table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method getHeading\n\t * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.\n\t * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t */\n\tgetHeading(table) {\n\t\ttable = table || this.getFromSelection();\n\n\t\tif (!table) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst rowHeadingSettings = table.$.tHead !== null;\n\n\t\tlet colHeadingSettings = true;\n\n\t\t// Check if all of the first cells in every row are TH\n\t\tfor (let row = 0; row < table.$.rows.length; row++) {\n\t\t\t// If just one cell isn't a TH then it isn't a header column\n\t\t\tconst cell = table.$.rows[row].cells[0];\n\n\t\t\tif (cell && cell.nodeName.toLowerCase() !== 'th') {\n\t\t\t\tcolHeadingSettings = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlet headingSettings = Table.HEADING_NONE;\n\n\t\tif (rowHeadingSettings) {\n\t\t\theadingSettings = Table.HEADING_ROW;\n\t\t}\n\n\t\tif (colHeadingSettings) {\n\t\t\theadingSettings =\n\t\t\t\theadingSettings === Table.HEADING_ROW\n\t\t\t\t\t? Table.HEADING_BOTH\n\t\t\t\t\t: Table.HEADING_COL;\n\t\t}\n\n\t\treturn headingSettings;\n\t},\n\n\t/**\n\t * Removes a table from the editor.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method remove\n\t * @param {CKEDITOR.dom.element} table The table element which table style should be removed.\n\t */\n\tremove(table) {\n\t\tconst editor = this._editor;\n\n\t\tif (table) {\n\t\t\ttable.remove();\n\t\t} else {\n\t\t\ttable = editor.elementPath().contains('table', 1);\n\n\t\t\tif (table) {\n\t\t\t\t// If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)\n\t\t\t\tconst parent = table.getParent();\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\tif (\n\t\t\t\t\tparent.getChildCount() === 1 &&\n\t\t\t\t\t!parent.is('td', 'th') &&\n\t\t\t\t\t!parent.equals(editable)\n\t\t\t\t) {\n\t\t\t\t\ttable = parent;\n\t\t\t\t}\n\n\t\t\t\tconst range = editor.createRange();\n\t\t\t\trange.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);\n\t\t\t\ttable.remove();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Assigns provided attributes to a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method setAttributes\n\t * @param {Object} table The table to which the attributes should be assigned\n\t * @param {Object} attrs The attributes which have to be assigned to the table\n\t */\n\tsetAttributes(table, attrs) {\n\t\tif (attrs) {\n\t\t\tObject.keys(attrs).forEach(attr => {\n\t\t\t\ttable.setAttribute(attr, attrs[attr]);\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Sets the appropriate table heading style to a table.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @method setHeading\n\t * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.\n\t * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t */\n\tsetHeading(table, heading) {\n\t\ttable = table || this.getFromSelection();\n\n\t\tlet i;\n\t\tlet newCell;\n\t\tlet tableHead;\n\t\tconst tableBody = table.getElementsByTag('tbody').getItem(0);\n\n\t\tlet tableHeading = this.getHeading(table);\n\t\tconst hadColHeading =\n\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\tconst needColHeading =\n\t\t\theading === Table.HEADING_COL || heading === Table.HEADING_BOTH;\n\t\tconst needRowHeading =\n\t\t\theading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;\n\n\t\t// If we need row heading and don't have a <thead> element yet, move the\n\t\t// first row of the table to the head and convert the nodes to <th> ones.\n\t\tif (!table.$.tHead && needRowHeading) {\n\t\t\tconst tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);\n\t\t\tconst tableFirstRowChildCount = tableFirstRow.getChildCount();\n\n\t\t\t// Change TD to TH:\n\t\t\tfor (i = 0; i < tableFirstRowChildCount; i++) {\n\t\t\t\tconst cell = tableFirstRow.getChild(i);\n\n\t\t\t\t// Skip bookmark nodes. (#6155)\n\t\t\t\tif (\n\t\t\t\t\tcell.type === CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t!cell.data('cke-bookmark')\n\t\t\t\t) {\n\t\t\t\t\tcell.renameNode('th');\n\t\t\t\t\tcell.setAttribute('scope', 'col');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttableHead = this._createElement(table.$.createTHead());\n\t\t\ttableHead.append(tableFirstRow.remove());\n\t\t}\n\n\t\t// If we don't need row heading and we have a <thead> element, move the\n\t\t// row out of there and into the <tbody> element.\n\t\tif (table.$.tHead !== null && !needRowHeading) {\n\t\t\t// Move the row out of the THead and put it in the TBody:\n\t\t\ttableHead = this._createElement(table.$.tHead);\n\n\t\t\tconst previousFirstRow = tableBody.getFirst();\n\n\t\t\twhile (tableHead.getChildCount() > 0) {\n\t\t\t\tconst newFirstRow = tableHead.getFirst();\n\t\t\t\tconst newFirstRowChildCount = newFirstRow.getChildCount();\n\n\t\t\t\tfor (i = 0; i < newFirstRowChildCount; i++) {\n\t\t\t\t\tnewCell = newFirstRow.getChild(i);\n\n\t\t\t\t\tif (newCell.type === CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tnewFirstRow.insertBefore(previousFirstRow);\n\t\t\t}\n\n\t\t\ttableHead.remove();\n\t\t}\n\n\t\ttableHeading = this.getHeading(table);\n\t\tconst hasColHeading =\n\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\t// If we need column heading and the table doesn't have it, convert every first cell in\n\t\t// every row into a `<th scope=\"row\">` element.\n\t\tif (!hasColHeading && needColHeading) {\n\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\tif (table.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th') {\n\t\t\t\t\tnewCell = new CKEDITOR.dom.element(\n\t\t\t\t\t\ttable.$.rows[i].cells[0]\n\t\t\t\t\t);\n\t\t\t\t\tnewCell.renameNode('th');\n\t\t\t\t\tnewCell.setAttribute('scope', 'row');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If we don't need column heading but the table has it, convert every first cell in every\n\t\t// row back into a `<td>` element.\n\t\tif (hadColHeading && !needColHeading) {\n\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\tconst row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tif (row.getParent().getName() === 'tbody') {\n\t\t\t\t\tnewCell = new CKEDITOR.dom.element(row.$.cells[0]);\n\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Creates a new CKEDITOR.dom.element using the passed tag name.\n\t *\n\t * @instance\n\t * @memberof CKEDITOR.Table\n\t * @protected\n\t * @method _createElement\n\t * @param {String} name The tag name from which an element should be created\n\t * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class\n\t */\n\t_createElement(name) {\n\t\treturn new CKEDITOR.dom.element(name, this._editor.document);\n\t},\n};\n\nCKEDITOR.on('instanceReady', event => {\n\tconst headingCommands = [\n\t\tTable.HEADING_NONE,\n\t\tTable.HEADING_ROW,\n\t\tTable.HEADING_COL,\n\t\tTable.HEADING_BOTH,\n\t];\n\n\tconst tableUtils = new Table(event.editor);\n\n\theadingCommands.forEach(heading => {\n\t\tevent.editor.addCommand('tableHeading' + heading, {\n\t\t\texec(_editor) {\n\t\t\t\ttableUtils.setHeading(null, heading);\n\t\t\t},\n\t\t});\n\t});\n});\n\nCKEDITOR.Table = CKEDITOR.Table || Table;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.\n *\n * @class CKEDITOR.tools\n */\n\n/**\n * Sends a request using the JSONP technique.\n *\n * @memberof CKEDITOR.tools\n * @method jsonp\n * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.\n * @param {Function} callback A function to be called in case of success.\n * @param {Function} errorCallback A function to be called in case of failure.\n * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.\n * @return {Object} An object with the following properties:\n *  - id: the transaction ID\n *  - a `cancel()` method\n * @static\n */\nCKEDITOR.tools.jsonp = function(\n\turlTemplate,\n\turlParams,\n\tcallback,\n\terrorCallback\n) {\n\tconst callbackKey = CKEDITOR.tools.getNextNumber();\n\n\turlParams = urlParams || {};\n\turlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';\n\n\tif (!CKEDITOR._.jsonpCallbacks) {\n\t\tCKEDITOR._.jsonpCallbacks = {};\n\t}\n\n\tCKEDITOR._.jsonpCallbacks[callbackKey] = function(response) {\n\t\tsetTimeout(() => {\n\t\t\tcleanUp();\n\n\t\t\tcallback(response);\n\t\t});\n\t};\n\n\tlet scriptElement = new CKEDITOR.dom.element('script');\n\tscriptElement.setAttribute('src', urlTemplate.output(urlParams));\n\tscriptElement.on('error', () => {\n\t\tcleanUp();\n\n\t\tif (errorCallback) {\n\t\t\terrorCallback();\n\t\t}\n\t});\n\n\tfunction cleanUp() {\n\t\tif (scriptElement) {\n\t\t\tscriptElement.remove();\n\t\t\tdelete CKEDITOR._.jsonpCallbacks[callbackKey];\n\t\t\tscriptElement = null;\n\t\t}\n\t}\n\n\tCKEDITOR.document.getBody().append(scriptElement);\n\n\treturn {\n\t\tcancel: cleanUp,\n\t\tid: callbackKey,\n\t};\n};\n\n/**\n * Returns a new object containing all of the properties of all the supplied\n * objects. The properties from later objects will overwrite those in earlier\n * objects.\n *\n * Passing in a single object will create a shallow copy of it.\n *\n * @memberof CKEDITOR.tools\n * @method merge\n * @param {Object} objects* One or more objects to merge.\n * @return {Object} A new merged object.\n * @static\n */\nCKEDITOR.tools.merge =\n\tCKEDITOR.tools.merge ||\n\tfunction(...args) {\n\t\tconst result = {};\n\n\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\tconst obj = args[i];\n\n\t\t\tfor (const key in obj) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t\t\tresult[key] = obj[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n/**\n * Simulates event on a DOM element.\n *\n * @memberof CKEDITOR.tools\n * @method simulate\n * @param {DOMElement} element The element on which the event shoud be simualted.\n * @param {String} event The name of the event which have to be simulated.\n * @static\n */\nCKEDITOR.tools.simulate = function(element, event) {\n\tconst eventInstance = document.createEvent('Events');\n\teventInstance.initEvent(event, true, false);\n\telement.dispatchEvent(eventInstance);\n};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_uicore')) {\n\t/**\n\t * UICore class which will handle user interactions with the editor. These interactions\n\t * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via\n\t * CKEditor's event system - \"editorInteraction\". The UI may listen to this event and\n\t * execute some actions - for example to show/hide toolbars.\n\t *\n\t * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed\n\t * by setting {{#crossLink \"CKEDITOR.plugins.ae_uicore/allowEsc:attribute\"}}{{/crossLink}} config property in editor's configuration to true.\n\t *\n\t * @class ae_uicore\n\t */\n\n\t/**\n\t * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,\n\t * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout\n\t * is 50ms. This value can be overwritten via {{#crossLink \"CKEDITOR.plugins.ae_uicore/timeout:attribute\"}}{{/crossLink}}\n\t * property of editor's configuration, like: editor.config.uicore.timeout = 100\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#editorInteraction\n\t * @param {Object} data An object which contains the following properties:\n\t * - nativeEvent - The event as received from CKEditor.\n\t * - selectionData - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t */\n\n\t/**\n\t * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#ariaUpdate\n\t * @param {Object} data An object which contains the following properties:\n\t * - message - The provided message from the UI element.\n\t */\n\n\t/**\n\t * If set to true, the editor will still fire {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event,\n\t * if user presses Esc key.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute allowEsc\n\t * @default false\n\t * @type Boolean\n\t */\n\n\t/**\n\t * Specifies the default timeout after which the {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event\n\t * will be fired.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute timeout\n\t * @default 50 (ms)\n\t * @type Number\n\t */\n\n\tCKEDITOR.plugins.add('ae_uicore', {\n\t\t/**\n\t\t * Initializer lifecycle implementation for the UICore plugin.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method init\n\t\t * @param {Object} editor The current CKEditor instance.\n\t\t * @protected\n\t\t */\n\t\tinit(editor) {\n\t\t\tlet ariaState = [];\n\n\t\t\tconst ariaElement = this._createAriaElement(editor.id);\n\n\t\t\tconst uiTasksTimeout = editor.config.uicore\n\t\t\t\t? editor.config.uicore.timeout\n\t\t\t\t: 50;\n\n\t\t\tconst handleUI = CKEDITOR.tools.debounce(event => {\n\t\t\t\tariaState = [];\n\n\t\t\t\tif (\n\t\t\t\t\tevent.name !== 'keyup' ||\n\t\t\t\t\tevent.data.$.keyCode !== 27 ||\n\t\t\t\t\teditor.config.allowEsc\n\t\t\t\t) {\n\t\t\t\t\tconst selectionData = editor.getSelectionData();\n\n\t\t\t\t\tif (selectionData) {\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event.data.$,\n\t\t\t\t\t\t\tselectionData,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tconst handleAria = CKEDITOR.tools.debounce(_event => {\n\t\t\t\tariaElement.innerHTML = ariaState.join('. ');\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tconst handleMouseLeave = CKEDITOR.tools.debounce(event => {\n\t\t\t\tconst aeUINodes = document.querySelectorAll('.ae-ui');\n\n\t\t\t\tlet found;\n\n\t\t\t\tfor (let i = 0; i < aeUINodes.length; i++) {\n\t\t\t\t\tif (aeUINodes[i].contains(event.data.$.relatedTarget)) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\thandleUI(event);\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\teditor.on('ariaUpdate', event => {\n\t\t\t\t// handleAria is debounced function, so if it is being called multiple times, it will\n\t\t\t\t// be canceled until some time passes.\n\t\t\t\t// For that reason here we explicitly append the current message to the list of messages\n\t\t\t\t// and call handleAria. Since it is debounced, when some timeout passes,\n\t\t\t\t// all the messages will be applied to the live region and not only the last one.\n\n\t\t\t\tariaState.push(event.data.message);\n\n\t\t\t\thandleAria();\n\t\t\t});\n\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\tconst focusHandler = editable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'focus',\n\t\t\t\t\tevent => {\n\t\t\t\t\t\tfocusHandler.removeListener();\n\n\t\t\t\t\t\teditable.attachListener(editable, 'keyup', handleUI);\n\t\t\t\t\t\teditable.attachListener(editable, 'mouseup', handleUI);\n\t\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\t\teditable,\n\t\t\t\t\t\t\t'mouseleave',\n\t\t\t\t\t\t\thandleMouseLeave\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\thandleUI(event);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\teditor.on('destroy', _event => {\n\t\t\t\tariaElement.parentNode.removeChild(ariaElement);\n\n\t\t\t\thandleUI.detach();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Creates and applies an HTML element to the body of the document which will contain ARIA messages.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method _createAriaElement\n\t\t * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.\n\t\t * @protected\n\t\t * @return {HTMLElement} The created and applied to DOM element.\n\t\t */\n\t\t_createAriaElement(id) {\n\t\t\tconst statusElement = document.createElement('div');\n\n\t\t\tstatusElement.className = 'ae-sr-only';\n\n\t\t\tstatusElement.setAttribute('aria-live', 'polite');\n\t\t\tstatusElement.setAttribute('role', 'status');\n\t\t\tstatusElement.setAttribute('id', id + 'LiveRegion');\n\n\t\t\tdocument.body.appendChild(statusElement);\n\n\t\t\treturn statusElement;\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport regeneratorRuntime from \"regenerator-runtime\";\nimport {fitImage} from '../utils';\n\nconst isIE = CKEDITOR.env.ie;\n\nif (!CKEDITOR.plugins.get('ae_addimages')) {\n\t/**\n\t * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_addimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#imageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_addimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\tthis.fitImageMaxWidth = editor.config.fitImageMaxWidth;\n\t\t\tthis.fitImageMaxHeight = editor.config.fitImageMaxHeight;\n\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'dragenter',\n\t\t\t\t\tthis._onDragEnter,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'dragover',\n\t\t\t\t\tthis._onDragOver,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'drop',\n\t\t\t\t\tthis._onDragDrop,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'paste',\n\t\t\t\t\tthis._onPaste,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further\n\t\t * processing to {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}}\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _handleFiles\n\t\t * @param {Array} files Array of dropped files. Only the images from this list will be processed.\n\t\t * @param {Object} editor The current editor instance\n\t\t * @protected\n\t\t */\n\t\t_handleFiles(files, editor) {\n\t\t\tlet file;\n\t\t\tlet i;\n\n\t\t\tconst imageFiles = [];\n\n\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\tfile = files[i];\n\n\t\t\t\tif (file.type.indexOf('image') === 0) {\n\t\t\t\t\timageFiles.push(file);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tfor (i = 0; i < imageFiles.length; i++) {\n\t\t\t\t\tfile = imageFiles[i];\n\n\t\t\t\t\tthis._processFile(file, editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Handles drag drop event. The function will create a selection from the current\n\t\t * point and will send a list of files to be processed to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_handleFiles:method\"}}{{/crossLink}} method.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragDrop\n\t\t * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragDrop(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tconst transferFiles = nativeEvent.dataTransfer.files;\n\n\t\t\tif (transferFiles.length > 0) {\n\t\t\t\tnew CKEDITOR.dom.event(nativeEvent).preventDefault();\n\n\t\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\t\tevent.listenerData.editor.createSelectionFromPoint(\n\t\t\t\t\tnativeEvent.clientX,\n\t\t\t\t\tnativeEvent.clientY\n\t\t\t\t);\n\n\t\t\t\tthis._handleFiles(transferFiles, editor);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag enter event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragEnter\n\t\t * @param {DOM event} event dragenter event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragEnter(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag over event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragOver\n\t\t * @param {DOM event} event dragover event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragOver(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if the pasted data is image and passes it to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}} for processing.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onPaste\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onPaste(event) {\n\t\t\tif (\n\t\t\t\tevent.data &&\n\t\t\t\tevent.data.$ &&\n\t\t\t\tevent.data.$.clipboardData &&\n\t\t\t\tevent.data.$.clipboardData.items &&\n\t\t\t\tevent.data.$.clipboardData.items.length > 0\n\t\t\t) {\n\t\t\t\tconst pastedData = event.data.$.clipboardData.items[0];\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tconst imageFile = pastedData.getAsFile();\n\n\t\t\t\t\tthis._processFile(imageFile, event.listenerData.editor);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Prevents a native event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_preventEvent(event) {\n\t\t\tevent = new CKEDITOR.dom.event(event.data.$);\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t},\n\n\t\t/**\n\t\t * Processes an image file. The function creates an img element and sets as source\n\t\t * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#imageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_processFile(file, editor) {\n\t\t\tconst reader = new FileReader();\n\n\t\t\treader.addEventListener('loadend', async (e) => {\n\t\t\t\ttry{\n\t\t\t\t\tconst data = await fitImage(e.target.result, file.type);\n\t\t\t\t\t// editor.config.fitImageMaxWidth, editor.config.fitImageMaxHeight)\n\t\t\t\t\t// .then( (data) => {\n\t\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t'<img src=\"' + data + '\">'\n\t\t\t\t\t);\n\n\t\t\t\t\teditor.insertElement(el);\n\n\t\t\t\t\tconst imageData = {\n\t\t\t\t\t\tel,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t};\n\n\t\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t\t\t// }\n\t\t\t\t\t// );\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconsole.warn(`Failed to fit image with error`, e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treader.readAsDataURL(file);\n\t\t},\n\t});\n}\n/*\n\nfunction _fitImage(sourceData, fileType, maxWidth, maxHeight) {\n\treturn new Promise ((resolved, _) => {\n\t\tif(!maxWidth || !maxHeight) {\n\t\t\tresolved(sourceData);\n\t\t}\n\t\telse {\n\t\t\tconst source = new Image();\n\t\t\tsource.onload = () => {\n\t\t\t\tlet width = source.width;\n\t\t\t\tlet height = source.height;\n\n\t\t\t\tif (width > height) {\n\t\t\t\t\tif (width > maxWidth) {\n\t\t\t\t\t\theight *= maxWidth / width;\n\t\t\t\t\t\twidth = maxWidth;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (height > maxHeight) {\n\t\t\t\t\t\twidth *= maxHeight / height;\n\t\t\t\t\t\theight = maxHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst canvas = document.createElement(\"canvas\");\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\t\t\t\tconst context = canvas.getContext(\"2d\");\n\t\t\t\tcontext.drawImage(source, 0, 0, width, height);\n\n\t\t\t\tconst dataurl = canvas.toDataURL(fileType);\n\t\t\t\tresolved(dataurl);\n\t\t\t};\n\t\t\tsource.src = sourceData;\n\t\t}\n\t})\n}\n*/\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_autolink')) {\n\t// Disables the auto URL detection feature in IE, their lacks functionality:\n\t// They convert the links only on space. We do on space, comma, semicolon and Enter.\n\tif (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {\n\t\tdocument.execCommand('AutoUrlDetect', false, false);\n\t}\n\n\tconst KEY_BACK = 8;\n\n\tconst KEY_COMMA = 188;\n\n\tconst KEY_ENTER = 13;\n\n\tconst KEY_SEMICOLON = 186;\n\n\tconst KEY_SPACE = 32;\n\n\tconst DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];\n\n\tconst REGEX_LAST_WORD = /[^\\s]+/gim;\n\n\t// Seen at https://stackoverflow.com/a/5717133/2103996\n\tconst REGEX_URL =\n\t\t'^(https?:\\\\/\\\\/)?' + // protocol\n\t\t'((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n\t\t'((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n\t\t'(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n\t\t'(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n\t\t'(\\\\#[-a-z\\\\d_]*)?$';\n\n\tconst REGEX_EMAIL = /[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}/i;\n\n\t/**\n\t * CKEditor plugin which automatically generates links when user types text which looks like URL.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolink\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolink', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers the `keyup` event on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'keyup',\n\t\t\t\t\tthis._onKeyUp,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\teditor.on('paste', event => {\n\t\t\t\tif (event.data.method === 'paste') {\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.data.dataValue.indexOf('<') > -1 ||\n\t\t\t\t\t\tevent.data.dataValue.indexOf('&lt;') > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.data.dataValue.indexOf('<u><font color=\"') >\n\t\t\t\t\t\t\t-1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\t\t\t/<u><font color=\"#(.*?)\">|<\\/font><\\/u>/g,\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst instance = this;\n\n\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\tRegExp(REGEX_URL, 'gim'),\n\t\t\t\t\t\turl => {\n\t\t\t\t\t\t\tif (instance._isValidURL(url)) {\n\t\t\t\t\t\t\t\tif (instance._isValidEmail(url)) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t'<a href=\"mailto:' +\n\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t'<a href=\"' + url + '\">' + url + '</a>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the last word introduced by the user. Reads from the current\n\t\t * caret position backwards until it finds the first white space.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _getLastWord\n\t\t * @protected\n\t\t * @return {String} The last word introduced by user\n\t\t */\n\t\t_getLastWord(editor) {\n\t\t\tconst selection = editor.getSelection();\n\t\t\tconst range = selection ? selection.getRanges()[0] : null;\n/*\n\n\t\t\tconst range = editor.getSelection().getRanges()[0];\n*/\n\n\t\t\tif (!range) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst offset = range.startOffset;\n\n\t\t\tlet previousText = '';\n\n\t\t\t// The user pressed Enter, so we have to look on the previous node\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tlet previousNode = range.startContainer.getPrevious();\n\n\t\t\t\tlet lastChild;\n\n\t\t\t\tif (previousNode) {\n\t\t\t\t\t// If previous node is a SPACE, (it does not have 'getLast' method),\n\t\t\t\t\t// ignore it and find the previous text node\n\t\t\t\t\twhile (!previousNode.getLast) {\n\t\t\t\t\t\tpreviousNode = previousNode.getPrevious();\n\t\t\t\t\t}\n\n\t\t\t\t\tlastChild = previousNode.getLast();\n\n\t\t\t\t\t// Depending on the browser, the last child node may be a <BR>\n\t\t\t\t\t// (which does not have 'getText' method),\n\t\t\t\t\t// so ignore it and find the previous text node\n\t\t\t\t\twhile (lastChild && !lastChild.getText()) {\n\t\t\t\t\t\tlastChild = lastChild.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check if the lastChild is already a link\n\t\t\t\tif (!(lastChild && lastChild.$.href)) {\n\t\t\t\t\tthis._startContainer = lastChild;\n\t\t\t\t\tpreviousText = lastChild ? lastChild.getText() : '';\n\t\t\t\t\tthis._offset = previousText.length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._startContainer = range.startContainer;\n\n\t\t\t\t// Last character is the delimiter, ignore it\n\t\t\t\tpreviousText = this._startContainer\n\t\t\t\t\t.getText()\n\t\t\t\t\t.substring(0, offset - 1);\n\n\t\t\t\tthis._offset = offset - 1;\n\t\t\t}\n\n\t\t\tlet lastWord = '';\n\n\t\t\tconst match = previousText.match(REGEX_LAST_WORD);\n\n\t\t\tif (match) {\n\t\t\t\tlastWord = match.pop();\n\t\t\t}\n\n\t\t\treturn lastWord;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid Email.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidEmail\n\t\t * @param {String} link The email we want to know if it is a valid Email\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the email is a valid Email, false otherwise\n\t\t */\n\t\t_isValidEmail(email) {\n\t\t\treturn REGEX_EMAIL.test(email);\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid URL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidURL\n\t\t * @param {String} link The link we want to know if it is a valid URL\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the link is a valid URL, false otherwise\n\t\t */\n\t\t_isValidURL(link) {\n\t\t\treturn RegExp(REGEX_URL, 'i').test(link);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously\n\t\t * created link.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyDown\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._onKeyDown);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\tevent.cancel();\n\t\t\t\tevent.data.preventDefault();\n\n\t\t\t\tthis._removeLink(editor);\n\t\t\t}\n\n\t\t\tthis._ckLink = null;\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Enter` and `Space` key events in order to check if the last word\n\t\t * introduced by the user should be replaced by a link element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyUp\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyUp(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tthis._currentKeyCode = nativeEvent.keyCode;\n\n\t\t\tif (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {\n\t\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\t\tconst lastWord = this._getLastWord(editor);\n\n\t\t\t\tif (this._isValidURL(lastWord)) {\n\t\t\t\t\tthis._replaceContentByLink(editor, lastWord);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Replaces content by a link element.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _replaceContentByLink\n\t\t * @param {String} content The text that has to be replaced by an link element\n\t\t * @protected\n\t\t */\n\t\t_replaceContentByLink(editor, content) {\n\t\t\tlet range = editor.createRange();\n\t\t\tconst node = CKEDITOR.dom.element.get(this._startContainer);\n\t\t\tconst offset = this._offset;\n\n\t\t\t// Select the content, so CKEDITOR.Link can properly replace it\n\t\t\trange.setStart(node, offset - content.length);\n\t\t\trange.setEnd(node, offset);\n\t\t\trange.select();\n\n\t\t\tconst ckLink = new CKEDITOR.Link(editor);\n\t\t\tckLink.create(content);\n\t\t\tthis._ckLink = ckLink;\n\n\t\t\tconst linkNode = ckLink.getFromSelection();\n\t\t\teditor.fire('autolinkAdd', linkNode);\n\n\t\t\tthis._subscribeToKeyEvent(editor);\n\n\t\t\t// Now range is on the link and it is selected. We have to\n\t\t\t// return focus to the caret position.\n\t\t\t/*range = editor.getSelection().getRanges()[0];*/\n\t\t\tconst selection = editor.getSelection();\n\t\t\trange = selection ? selection.getRanges()[0] : null;\n\t\t\tif(!range) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t// If user pressed `Enter`, get the next editable node at position 0,\n\t\t\t// otherwise set the cursor at the next character of the link (the white space)\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tconst nextEditableNode = range.getNextEditableNode();\n\n\t\t\t\trange.setStart(nextEditableNode, 0);\n\t\t\t\trange.setEnd(nextEditableNode, 0);\n\t\t\t} else {\n\t\t\t\tconst enclosedNode = range.getEnclosedNode();\n\n\t\t\t\trange.setStart(enclosedNode, 0);\n\t\t\t\trange.setEnd(enclosedNode, 0);\n\t\t\t}\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Fired when a URL is detected in text and converted to a link.\n\t\t *\n\t\t * @event CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @param {CKEDITOR.dom.element} el Node of the created link.\n\t\t */\n\n\t\t/**\n\t\t * Removes the created link element, and replaces it by its text.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _removeLink\n\t\t * @protected\n\t\t */\n\t\t_removeLink(editor) {\n\t\t\tconst selection = editor.getSelection();\n\t\t\tconst range = selection ? selection.getRanges()[0] : null;\n\t\t\tif(!range) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t/*const range = editor.getSelection().getRanges()[0];*/\n\t\t\tconst caretOffset = range.startOffset;\n\n\t\t\t// Select the link, so CKEDITOR.Link can properly remove it\n\t\t\tconst linkNode =\n\t\t\t\tthis._startContainer.getNext() || this._startContainer;\n\n\t\t\tconst newRange = editor.createRange();\n\t\t\tnewRange.setStart(linkNode, 0);\n\t\t\tnewRange.setEndAfter(linkNode);\n\t\t\tnewRange.select();\n\n\t\t\tthis._ckLink.remove();\n\n\t\t\t// Return focus to the caret position\n\t\t\trange.setEnd(range.startContainer, caretOffset);\n\t\t\trange.setStart(range.startContainer, caretOffset);\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Subscribe to a key event of the editable aria.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _subscribeToKeyEvent\n\t\t * @protected\n\t\t */\n\t\t_subscribeToKeyEvent(editor) {\n\t\t\tconst editable = editor.editable();\n\n\t\t\t// Change the priority of keydown listener - 1 means the highest priority.\n\t\t\t// In Chrome on pressing `Enter` the listener is not being invoked.\n\t\t\t// See http://dev.ckeditor.com/ticket/11861 for more information.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._onKeyDown,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_autolist')) {\n\tconst KEY_BACK = 8;\n\n\tconst KEY_SPACE = 32;\n\n\tconst DEFAULT_CONFIG = [\n\t\t{\n\t\t\tregex: /^\\*$/,\n\t\t\ttype: 'bulletedlist',\n\t\t},\n\t\t{\n\t\t\tregex: /^1\\.$/,\n\t\t\ttype: 'numberedlist',\n\t\t},\n\t];\n\n\t/**\n\t * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolist\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolist', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKeditor plugin lifecycle.\n\t\t * The function registers the `keydown` event on the content editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'keydown',\n\t\t\t\t\tthis._onKeyDown,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Checks for pressing the `Backspace` key in order to undo the list creation.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkForBackspaceAndUndo\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_checkForBackspaceAndUndo(event) {\n\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._checkForBackspaceAndUndo);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\teditor.execCommand('undo');\n\t\t\t\teditor.insertHtml(event.listenerData.bullet + '&nbsp;');\n\t\t\t\tevent.data.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks current line to find match with MATCHES object to create OL or UL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkLine\n\t\t * @param {editor} Editor object\n\t\t * @protected\n\t\t * @return {Object|null} Returns an object which contains the detected list config if any\n\t\t */\n\t\t_getListConfig(editor) {\n\t\t\tconst configRegex = editor.config.autolist || DEFAULT_CONFIG;\n\n\t\t\t/*const range = editor.getSelection().getRanges()[0];*/\n\t\t\tconst selection = editor.getSelection();\n\t\t\tconst range = selection ? selection.getRanges()[0] : null;\n\t\t\tif(!range) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst textContainer = range.endContainer.getText();\n\n\t\t\tconst bullet = textContainer.substring(0, range.startOffset);\n\n\t\t\tconst text = textContainer.substring(\n\t\t\t\trange.startOffset,\n\t\t\t\ttextContainer.length\n\t\t\t);\n\n\t\t\tlet index = 0;\n\n\t\t\tconst regexLen = configRegex.length;\n\n\t\t\tlet autolistCfg = null;\n\n\t\t\twhile (!autolistCfg && regexLen > index) {\n\t\t\t\tconst regexItem = configRegex[index];\n\n\t\t\t\tif (regexItem.regex.test(bullet)) {\n\t\t\t\t\tautolistCfg = {\n\t\t\t\t\t\tbullet,\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\ttype: regexItem.type,\n\t\t\t\t\t};\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\treturn autolistCfg;\n\t\t},\n\n\t\t/**\n\t\t * Create list with different types: Bulleted or Numbered list\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _createList\n\t\t * @param {Object} listConfig Object that contains bullet, text and type for creating the list\n\t\t * @protected\n\t\t */\n\t\t_createList(listConfig) {\n\t\t\tconst editor = listConfig.editor;\n\n\t\t\tconst selection = editor.getSelection();\n\t\t\tconst range = selection ? selection.getRanges()[0] : null;\n\t\t\tif(!range) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t/*const range = editor.getSelection().getRanges()[0];*/\n\n\t\t\trange.endContainer.setText(listConfig.text);\n\t\t\teditor.execCommand(listConfig.type);\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\t// Subscribe to keydown in order to check if the next key press is `Backspace`.\n\t\t\t// If so, the creation of the list will be discarded.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._checkForBackspaceAndUndo,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor,\n\t\t\t\t\tbullet: listConfig.bullet,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Space` key events to check if the last word\n\t\t * introduced by the user should be replaced by a list (OL or UL)\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _onKeyDown\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown(event) {\n\t\t\tconst nativeEvent = event.data.$;\n\n\t\t\tif (nativeEvent.keyCode === KEY_SPACE) {\n\t\t\t\tconst listConfig = this._getListConfig(\n\t\t\t\t\tevent.listenerData.editor\n\t\t\t\t);\n\n\t\t\t\tif (listConfig) {\n\t\t\t\t\tevent.data.preventDefault();\n\t\t\t\t\tthis._createList(listConfig);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * CKEditor plugin: Dragable image resizing\n * https://github.com/sstur/ck-dragresize\n * - Shows semi-transparent overlay while resizing\n * - Enforces Aspect Ratio (unless holding shift)\n * - Snap to size of other images in editor\n * - Escape while dragging cancels resize\n */\nif (!CKEDITOR.plugins.get('ae_dragresize')) {\n\tconst IMAGE_HANDLES = {\n\t\tboth: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],\n\t\theight: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],\n\t\tscale: ['tl', 'tr', 'bl', 'br'],\n\t\twidth: ['tl', 'tr', 'lm', 'rm', 'bl', 'br'],\n\t};\n\n\tconst POSITION_ELEMENT_FN = {\n\t\tbl(handle, left, top, box) {\n\t\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t\t},\n\t\tbm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\tbox.height - 4 + top\n\t\t\t);\n\t\t},\n\t\tbr(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t\t},\n\t\tlm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\t-3 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t\ttl(handle, left, top, _box) {\n\t\t\tpositionElement(handle, left - 3, top - 3);\n\t\t},\n\t\ttm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\t-3 + top\n\t\t\t);\n\t\t},\n\t\ttr(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t\t},\n\t\trm(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tbox.width - 4 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t};\n\n\tconst IMAGE_SNAP_TO_SIZE = 7;\n\n\tconst isFirefox = 'MozAppearance' in document.documentElement.style;\n\n\tconst isWebKit = 'WebkitAppearance' in document.documentElement.style;\n\n\tconst enablePlugin = isWebKit || isFirefox;\n\n\tif (enablePlugin) {\n\t\t// CSS is added in a compressed form\n\t\tCKEDITOR.addCss(\n\t\t\t'img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}'\n\t\t);\n\t}\n\n\t/**\n\t * Initializes the plugin\n\t */\n\tCKEDITOR.plugins.add('ae_dragresize', {\n\t\tonLoad() {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tinit(editor) {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.once('contentDom', _evt => {\n\t\t\t\tinit(editor);\n\t\t\t});\n\t\t},\n\t});\n\n\tfunction init(editor) {\n\t\tconst window = editor.window.$;\n\n\t\tconst document = editor.document.$;\n\n\t\tif (isFirefox) {\n\t\t\t// Disable the native image resizing\n\t\t\tdocument.execCommand('enableObjectResizing', false, false);\n\t\t}\n\n\t\tconst snapToSize =\n\t\t\ttypeof IMAGE_SNAP_TO_SIZE === 'undefined'\n\t\t\t\t? null\n\t\t\t\t: IMAGE_SNAP_TO_SIZE;\n\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\tconst resizer = new Resizer(editor, {\n\t\t\timageScaleResize: editor.config.imageScaleResize,\n\t\t\tsnapToSize,\n\t\t});\n\n\t\tconst mouseDownListener = function(e) {\n\t\t\tif (resizer.isHandle(e.target)) {\n\t\t\t\tresizer.initDrag(e);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\n\t\tfunction selectionChange() {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (!selection) return;\n\t\t\t// If an element is selected and that element is an IMG\n\t\t\tif (\n\t\t\t\tselection.getType() !== CKEDITOR.SELECTION_NONE &&\n\t\t\t\tselection.getStartElement().is('img')\n\t\t\t) {\n\t\t\t\t// And we're not right or middle clicking on the image\n\t\t\t\tif (\n\t\t\t\t\t!window.event ||\n\t\t\t\t\t!window.event.button ||\n\t\t\t\t\twindow.event.button === 0\n\t\t\t\t) {\n\t\t\t\t\tresizer.show(selection.getStartElement().$);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresizer.hide();\n\t\t\t}\n\t\t}\n\n\t\teditor.on('selectionChange', selectionChange);\n\n\t\teditor.on('getData', e => {\n\t\t\tlet html = e.data.dataValue || '';\n\t\t\thtml = html.replace(/<div id=\"ckimgrsz\"([\\s\\S]*?)<\\/div>/i, '');\n\t\t\thtml = html.replace(/\\b(ckimgrsz)\\b/g, '');\n\t\t\te.data.dataValue = html;\n\t\t});\n\n\t\teditor.on('beforeUndoImage', () => {\n\t\t\t// Remove the handles before undo images are saved\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('afterUndoImage', () => {\n\t\t\t// Restore the handles after undo images are saved\n\t\t\tselectionChange();\n\t\t});\n\n\t\teditor.on('blur', () => {\n\t\t\t// Remove the handles when editor loses focus\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('beforeModeUnload', function self() {\n\t\t\teditor.removeListener('beforeModeUnload', self);\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('destroy', () => {\n\t\t\tconst resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\tif (resizeElement) {\n\t\t\t\tresizeElement.remove();\n\t\t\t}\n\n\t\t\tif (isFirefox) {\n\t\t\t\tdocument.execCommand('enableObjectResizing', false, true);\n\t\t\t}\n\n\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t});\n\n\t\t// Update the selection when the browser window is resized\n\t\tlet resizeTimeout;\n\t\teditor.window.on('resize', () => {\n\t\t\t// Cancel any resize waiting to happen\n\t\t\tclearTimeout(resizeTimeout);\n\t\t\t// Delay resize to \"debounce\"\n\t\t\tresizeTimeout = setTimeout(selectionChange, 50);\n\t\t});\n\t}\n\n\tfunction Resizer(editor, cfg) {\n\t\tthis.editor = editor;\n\t\tthis.window = editor.window.$;\n\t\tthis.document = editor.document.$;\n\t\tthis.cfg = cfg || {};\n\t\tthis.init();\n\t}\n\n\tResizer.prototype = {\n\t\tinit() {\n\t\t\tconst instance = this;\n\n\t\t\tconst container = (this.container = this.document.createElement(\n\t\t\t\t'div'\n\t\t\t));\n\n\t\t\tcontainer.id = 'ckimgrsz';\n\t\t\tthis.preview = this.document.createElement('span');\n\t\t\tcontainer.appendChild(this.preview);\n\n\t\t\tconst handles = (this.handles = {});\n\n\t\t\tIMAGE_HANDLES[this.cfg.imageScaleResize].forEach(handleName => {\n\t\t\t\thandles[handleName] = instance.handles[\n\t\t\t\t\thandleName\n\t\t\t\t] = instance.createHandle(handleName);\n\t\t\t});\n\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, n)) {\n\t\t\t\t\tcontainer.appendChild(handles[n]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreateHandle(name) {\n\t\t\tconst el = this.document.createElement('i');\n\t\t\tel.classList.add(name);\n\t\t\treturn el;\n\t\t},\n\t\tisHandle(el) {\n\t\t\tconst handles = this.handles;\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (handles[n] === el) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tshow(el) {\n\t\t\tlet uiNode = this.editor.config.uiNode;\n\n\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tthis.el = el;\n\t\t\tif (this.cfg.snapToSize) {\n\t\t\t\tthis.otherImages = toArray(\n\t\t\t\t\tthis.document.getElementsByTagName('img')\n\t\t\t\t);\n\t\t\t\tthis.otherImages.splice(this.otherImages.indexOf(el), 1);\n\t\t\t}\n\t\t\tconst box = (this.box = getBoundingBox(this.window, el));\n\t\t\tpositionElement(this.container, box.left, box.top + scrollTop);\n\n\t\t\tuiNode = uiNode || document.body;\n\n\t\t\tuiNode.appendChild(this.container);\n\n\t\t\tthis.el.classList.add('ckimgrsz');\n\t\t\tthis.showHandles();\n\t\t},\n\t\thide() {\n\t\t\t// Remove class from all img.ckimgrsz\n\t\t\tconst elements = this.document.getElementsByClassName('ckimgrsz');\n\t\t\tfor (let i = 0; i < elements.length; ++i) {\n\t\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t\t}\n\t\t\tthis.hideHandles();\n\t\t\tif (this.container.parentNode) {\n\t\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t\t}\n\t\t},\n\t\tinitDrag(e) {\n\t\t\tif (e.button !== 0) {\n\t\t\t\t// right-click or middle-click\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizer = this;\n\t\t\tconst drag = new DragEvent(this.window, this.document);\n\t\t\tdrag.onStart = function() {\n\t\t\t\tresizer.showPreview();\n\t\t\t\tresizer.isDragging = true;\n\t\t\t\tresizer.editor.getSelection().lock();\n\t\t\t};\n\t\t\tdrag.onDrag = function() {\n\t\t\t\tresizer.calculateSize(this);\n\t\t\t\tresizer.updatePreview();\n\t\t\t\tconst box = resizer.previewBox;\n\t\t\t\tresizer.updateHandles(box, box.left, box.top);\n\t\t\t};\n\t\t\tdrag.onRelease = function() {\n\t\t\t\tresizer.isDragging = false;\n\t\t\t\tresizer.hidePreview();\n\t\t\t\tresizer.hide();\n\t\t\t\tresizer.editor.getSelection().unlock();\n\t\t\t\t// Save an undo snapshot before the image is permanently changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.onComplete = function() {\n\t\t\t\tresizer.resizeComplete();\n\t\t\t\t// Save another snapshot after the image is changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.start(e);\n\t\t},\n\t\tupdateHandles(box, left, top) {\n\t\t\tleft = left || 0;\n\t\t\ttop = top || 0;\n\t\t\tconst handles = this.handles;\n\n\t\t\tfor (const handle in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, handle)) {\n\t\t\t\t\tPOSITION_ELEMENT_FN[handle](\n\t\t\t\t\t\thandles[handle],\n\t\t\t\t\t\tleft,\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\tbox\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowHandles() {\n\t\t\tconst handles = this.handles;\n\t\t\tthis.updateHandles(this.box);\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, n)) {\n\t\t\t\t\thandles[n].style.display = 'block';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thideHandles() {\n\t\t\tconst handles = this.handles;\n\t\t\tfor (const n in handles) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(handles, n)) {\n\t\t\t\t\thandles[n].style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowPreview() {\n\t\t\tthis.preview.style.backgroundImage = 'url(\"' + this.el.src + '\")';\n\t\t\tthis.calculateSize();\n\t\t\tthis.updatePreview();\n\t\t\tthis.preview.style.display = 'block';\n\t\t},\n\t\tupdatePreview() {\n\t\t\tconst box = this.previewBox;\n\t\t\tpositionElement(this.preview, box.left, box.top);\n\t\t\tthis.preview.style.width = this.previewBox.width + 'px';\n\t\t\tthis.preview.style.height = this.previewBox.height + 'px';\n\t\t},\n\t\thidePreview() {\n\t\t\tconst box = getBoundingBox(this.window, this.preview);\n\t\t\tthis.result = {\n\t\t\t\twidth: box.width,\n\t\t\t\theight: box.height,\n\t\t\t};\n\t\t\tthis.preview.style.display = 'none';\n\t\t},\n\t\tcalculateSize(data) {\n\t\t\tconst box = (this.previewBox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: this.box.width,\n\t\t\t\theight: this.box.height,\n\t\t\t});\n\n\t\t\tif (!data) return;\n\n\t\t\tconst attr = data.target.className;\n\n\t\t\tif (~attr.indexOf('r')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('b')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height + data.delta.y);\n\t\t\t}\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height - data.delta.y);\n\t\t\t}\n\t\t\t// if dragging corner, enforce aspect ratio (unless shift key is being held)\n\t\t\tif (attr.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\t\tconst ratio = this.box.width / this.box.height;\n\t\t\t\tif (box.width / box.height > ratio) {\n\t\t\t\t\tbox.height = Math.round(box.width / ratio);\n\t\t\t\t} else {\n\t\t\t\t\tbox.width = Math.round(box.height * ratio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst snapToSize = this.cfg.snapToSize;\n\n\t\t\tif (snapToSize) {\n\t\t\t\tconst others = this.otherImages;\n\t\t\t\tfor (let i = 0; i < others.length; i++) {\n\t\t\t\t\tconst other = getBoundingBox(this.window, others[i]);\n\t\t\t\t\tif (\n\t\t\t\t\t\tMath.abs(box.width - other.width) <= snapToSize &&\n\t\t\t\t\t\tMath.abs(box.height - other.height) <= snapToSize\n\t\t\t\t\t) {\n\t\t\t\t\t\tbox.width = other.width;\n\t\t\t\t\t\tbox.height = other.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recalculate left or top position\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.left = this.box.width - box.width;\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.top = this.box.height - box.height;\n\t\t\t}\n\t\t},\n\t\tresizeComplete() {\n\t\t\tresizeElement.call(\n\t\t\t\tthis,\n\t\t\t\tthis.el,\n\t\t\t\tthis.result.width,\n\t\t\t\tthis.result.height\n\t\t\t);\n\t\t},\n\t};\n\n\tfunction DragEvent(window, document) {\n\t\tthis.window = window;\n\t\tthis.document = document;\n\t\tthis.events = {\n\t\t\tmousemove: bind(this.mousemove, this),\n\t\t\tkeydown: bind(this.keydown, this),\n\t\t\tmouseup: bind(this.mouseup, this),\n\t\t};\n\t}\n\n\tDragEvent.prototype = {\n\t\tstart(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.target = e.target;\n\t\t\tthis.attr = e.target.className;\n\t\t\tthis.startPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.update(e);\n\t\t\tconst events = this.events;\n\t\t\tthis.document.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.addEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.addEventListener('mouseup', events.mouseup, false);\n\t\t\tthis.document.body.classList.add('dragging-' + this.attr);\n\t\t\tif (this.onStart) {\n\t\t\t\tthis.onStart();\n\t\t\t}\n\t\t},\n\t\tupdate(e) {\n\t\t\tthis.currentPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.delta = {\n\t\t\t\tx: e.clientX - this.startPos.x,\n\t\t\t\ty: e.clientY - this.startPos.y,\n\t\t\t};\n\t\t\tthis.keys = {\n\t\t\t\tshift: e.shiftKey,\n\t\t\t\tctrl: e.ctrlKey,\n\t\t\t\talt: e.altKey,\n\t\t\t};\n\t\t},\n\t\tmousemove(e) {\n\t\t\tthis.update(e);\n\t\t\tif (this.onDrag) {\n\t\t\t\tthis.onDrag();\n\t\t\t}\n\t\t\tif (e.which === 0) {\n\t\t\t\t// mouse button released outside window; mouseup wasn't fired (Chrome)\n\t\t\t\tthis.mouseup(e);\n\t\t\t}\n\t\t},\n\t\tkeydown(e) {\n\t\t\t// escape key cancels dragging\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tthis.release();\n\t\t\t}\n\t\t},\n\t\tmouseup(e) {\n\t\t\tthis.update(e);\n\t\t\tthis.release();\n\t\t\tif (this.onComplete) {\n\t\t\t\tthis.onComplete();\n\t\t\t}\n\t\t},\n\t\trelease() {\n\t\t\tthis.document.body.classList.remove('dragging-' + this.attr);\n\t\t\tconst events = this.events;\n\t\t\tthis.document.removeEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.removeEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.removeEventListener('mouseup', events.mouseup, false);\n\t\t\tif (this.onRelease) {\n\t\t\t\tthis.onRelease();\n\t\t\t}\n\t\t},\n\t};\n\n\t// helper functions\n\tfunction toArray(obj) {\n\t\tconst len = obj.length;\n\n\t\tconst arr = new Array(len);\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarr[i] = obj[i];\n\t\t}\n\t\treturn arr;\n\t}\n\n\tfunction bind(fn, ctx) {\n\t\tif (fn.bind) {\n\t\t\treturn fn.bind(ctx);\n\t\t}\n\t\treturn function(...args) {\n\t\t\tfn.apply(ctx, args);\n\t\t};\n\t}\n\n\tfunction positionElement(el, left, top) {\n\t\tel.style.left = String(left) + 'px';\n\t\tel.style.top = String(top) + 'px';\n\t}\n\n\tfunction resizeElement(el, width, height) {\n\t\tconst imageScaleResize = this.editor.config.imageScaleResize;\n\t\tif (imageScaleResize === 'both') {\n\t\t\tel.style.width = String(width) + 'px';\n\t\t\tel.style.height = String(height) + 'px';\n\t\t} else if (\n\t\t\timageScaleResize === 'width' ||\n\t\t\timageScaleResize === 'scale'\n\t\t) {\n\t\t\tel.style.height = 'auto';\n\t\t\tel.style.width = String(width) + 'px';\n\t\t} else if (imageScaleResize === 'height') {\n\t\t\tel.style.height = String(height) + 'px';\n\t\t\tel.style.width = 'auto';\n\t\t}\n\t}\n\n\tfunction getBoundingBox(window, el) {\n\t\tconst rect = el.getBoundingClientRect();\n\t\treturn {\n\t\t\tleft: rect.left + window.pageXOffset,\n\t\t\ttop: rect.top + window.pageYOffset,\n\t\t\twidth: rect.width,\n\t\t\theight: rect.height,\n\t\t};\n\t}\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * CKEditor plugin: Image2\n * - Show gripper to resize images on IE\n */\nif (!CKEDITOR.plugins.get('ae_dragresize_ie')) {\n\tconst alignmentsObj = {\n\t\tcenter: 1,\n\t\tleft: 0,\n\t\tright: 2,\n\t};\n\n\t/*\n\t * Set cursor css depend on imageScaleResize config\n\t **/\n\n\tconst cursor = {\n\t\tboth: 'nwse-resize',\n\t\theight: 'ns-resize',\n\t\tscale: 'nwse-resize',\n\t\twidth: 'ew-resize',\n\t};\n\n\tconst regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tconst template = '<img alt=\"\" src=\"\" />';\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie', {\n\t\thidpi: true,\n\n\t\ticons: 'image',\n\n\t\tinit(editor) {\n\t\t\tconst image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\t\t},\n\n\t\tonLoad() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ns-resize{' +\n\t\t\t\t\t'cursor: ns-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ew-resize{' +\n\t\t\t\t\t'cursor: ew-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizing{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\trequires: 'widget',\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>   <img style=float:left />   \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p style=text-align:center>\n\t// \t\t       <p style=text-align:center>   <img />                    \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>  <img style=float:right />  \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Non-captioned widget (config.image2_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>         <img class=left />         \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p class=center>           \n\t// \t\t       <p class=center>             <img />                     \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper class=right>        <img class=right />        \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>            <figure style=float:left />           \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper style=text-align:center>     <div style=text-align:center>         \n\t// \t\t       <figure style=display:inline-block /> <figure style=display:inline-block />\n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>           <figure style=float:right />          \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// Captioned widget (config.image2_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>                  <figure class=left />                 \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper class=center>                <div class=center>                    \n\t// \t\t       <figure />                              <figure />                             \n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper class=right>                 <figure class=right />                \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\teditor.on('imageAdd', imageData => {\n\t\t\teditor.widgets.initOn(imageData.data.el, 'image');\n\t\t});\n\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\tconst captionedClass = editor.config.image2_captionedClass;\n\n\t\treturn {\n\t\t\tinit() {\n\t\t\t\tconst helpers = CKEDITOR.plugins.image2;\n\n\t\t\t\tconst image = this.parts.image;\n\n\t\t\t\tconst data = {\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tconst link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) {\n\t\t\t\t\tthis.parts.link = link;\n\t\t\t\t}\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tconst alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\tif (editor.config.image2_disableResizer !== true) {\n\t\t\t\t\tsetupResizer(this);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\tdata() {\n\t\t\t\tconst features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.hasCaption = false;\n\t\t\t\t}\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.align = 'none';\n\t\t\t\t}\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) {\n\t\t\t\t\t\tdelete this.parts.link;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link) {\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\talt: this.data.alt,\n\n\t\t\t\t\tcontenteditable: this.parts.image.getAttribute(\n\t\t\t\t\t\t'contenteditable'\n\t\t\t\t\t)\n\t\t\t\t\t\t? this.parts.image.getAttribute('contenteditable')\n\t\t\t\t\t\t: true,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\tsrc: this.data.src,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (const c in this.data.classes) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\t\tthis.data.classes,\n\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension)) {\n\t\t\t\t\tsetDimensions(this);\n\t\t\t\t}\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tdraggable: false,\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tconst classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tconst classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.image2_captionedClass nor config.image2_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (const c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) {\n\t\t\t\t\t\t\tdelete classes[c];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tgetLabel() {\n\t\t\t\tconst label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn label;\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\timage: 'img',\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate,\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (image2) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.image2 = {\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio(image) {\n\t\t\tconst $ = image.$;\n\n\t\t\tconst natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: image.$.naturalHeigh,\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst img = new Image();\n\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: img.heigh,\n\t\t\t\t\twidth: img.width,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\t};\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.image2_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tconst isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tconst captionedClass = editor.config.image2_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tconst dimensions = {\n\t\t\t\theight: 1,\n\t\t\t\twidth: 1,\n\t\t\t};\n\n\t\t\tconst name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tconst figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (const d in dimensions) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(dimensions, d)) {\n\t\t\t\t\tconst dimension = image.attributes[d];\n\n\t\t\t\t\tif (dimension && dimension.match(regexPercent)) {\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (image2_alignClasses).\n\t\t\tconst attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tdelete attrsHolder.attributes.contenteditable;\n\n\t\t\tconst attrs = attrsHolder.attributes;\n\n\t\t\tconst align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tconst resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper) {\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({\n\t\t\t\t\t\t\ta: 1,\n\t\t\t\t\t\t\timg: 1,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tconst styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tclass: alignClasses[1],\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tstyle: 'text-align:center',\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (\n\t\t\t\t\talign in\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: 1,\n\t\t\t\t\t\tright: 1,\n\t\t\t\t\t}\n\t\t\t\t) {\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyles['float'] = align;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tconst captionedClass = editor.config.image2_captionedClass;\n\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\tconst validChildren = {\n\t\t\ta: 1,\n\t\t\tfigure: 1,\n\t\t\timg: 1,\n\t\t};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tel.name in\n\t\t\t\t\t{\n\t\t\t\t\t\tdiv: 1,\n\t\t\t\t\t\tp: 1,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If image2_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') {\n\t\t\treturn true;\n\t\t} else if (el.name == 'a') {\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tconst data = widget.data;\n\n\t\tconst dimensions = {\n\t\t\theight: data.height,\n\t\t\twidth: data.width,\n\t\t};\n\n\t\tconst image = widget.parts.image;\n\n\t\tfor (const d in dimensions) {\n\t\t\tif (dimensions[d]) {\n\t\t\t\timage.setAttribute(d, dimensions[d]);\n\t\t\t} else {\n\t\t\t\timage.removeAttribute(d);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tconst editor = widget.editor;\n\n\t\tconst editable = editor.editable();\n\n\t\tconst doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\t\tconst resizer = (widget.resizer = doc.createElement('span'));\n\n\t\tresizer.addClass('cke_image_resizer');\n\t\tresizer.addClass(\n\t\t\t'cke_image_resizer_' + cursor[editor.config.imageScaleResize]\n\t\t);\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tconst imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tconst oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tconst resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) {\n\t\t\t\toldResizeWrapper.remove();\n\t\t\t}\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', evt => {\n\t\t\tconst image = widget.parts.image;\n\n\t\t\t// \"factor\" can be either 1 or -1. I.e.: For right-aligned images, we need to\n\t\t\t// subtract the difference to get proper width, etc. Without \"factor\",\n\t\t\t// resizer starts working the opposite way.\n\t\t\tconst factor = widget.data.align == 'right' ? -1 : 1;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\t\t\tconst startX = evt.data.$.screenX;\n\n\t\t\tconst startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\t\t\tconst startWidth = image.$.clientWidth;\n\n\t\t\tconst startHeight = image.$.clientHeight;\n\n\t\t\tconst listeners = [];\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tconst cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');\n\n\t\t\tlet nativeEvt;\n\t\t\tlet newWidth;\n\t\t\tlet newHeight;\n\t\t\tlet updateData;\n\n\t\t\tlet moveDiffX;\n\t\t\tlet moveDiffY;\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tconst globalDoc = CKEDITOR.document;\n\n\t\t\t\tconst listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc)) {\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\t\t\t\t}\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; ) {\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tconst imageScaleResize = editor.config.imageScaleResize;\n\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'width' ||\n\t\t\t\t\timageScaleResize === 'both' ||\n\t\t\t\t\timageScaleResize === 'scale'\n\t\t\t\t) {\n\t\t\t\t\tnewWidth = startWidth + factor * moveDiffX;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'height' ||\n\t\t\t\t\timageScaleResize === 'both'\n\t\t\t\t) {\n\t\t\t\t\tnewHeight = startHeight - moveDiffY;\n\t\t\t\t}\n\n\t\t\t\tif (imageScaleResize === 'scale') {\n\t\t\t\t\tnewHeight = 'auto';\n\t\t\t\t}\n\n\t\t\t\tnewWidth = newWidth || startWidth;\n\t\t\t\tnewHeight = newHeight || startHeight;\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (\n\t\t\t\t\tnewWidth >= 15 &&\n\t\t\t\t\t(newHeight >= 15 || newHeight === 'auto')\n\t\t\t\t) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) {\n\t\t\t\t\tl.removeListener();\n\t\t\t\t}\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\n\t\t// Change the position of the widget resizer when data changes.\n\t\twidget.on('data', () => {\n\t\t\tresizer[widget.data.align == 'right' ? 'addClass' : 'removeClass'](\n\t\t\t\t'cke_image_resizer_left'\n\t\t\t);\n\t\t});\n\n\t\twidget.parts.image.on('click', () => {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tconst element = selection.getStartElement();\n\n\t\t\t\tif (element) {\n\t\t\t\t\tconst widgetElement = element.findOne('img');\n\n\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event,\n\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#image2_alignClasses or\n\t// config#image2_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tconst rules = {\n\t\t\tfigcaption: true,\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.image2_captionedClass,\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t};\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tconst alignClasses = editor.config.image2_alignClasses;\n\n\t\tconst features = {\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n}\n\nCKEDITOR.config.image2_captionedClass = 'image';\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n(function() {\n\tif (CKEDITOR.plugins.get('ae_dragresize_ie11')) {\n\t\treturn;\n\t}\n\n\tconst template = '<img alt=\"\" src=\"\" />';\n\n\tconst templateBlock = new CKEDITOR.template(\n\t\t'<figure class=\"{captionedClass}\">' +\n\t\t\ttemplate +\n\t\t\t'<figcaption>{captionPlaceholder}</figcaption>' +\n\t\t\t'</figure>'\n\t);\n\n\tconst alignmentsObj = {left: 0, center: 1, right: 2};\n\n\tconst regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie11', {\n\t\trequires: 'widget',\n\t\tonLoad() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_editable.cke_image_ne, .cke_editable.cke_image_ne *{cursor:ne-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_nw, .cke_editable.cke_image_nw *{cursor:nw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_sw, .cke_editable.cke_image_sw *{cursor:sw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_se, .cke_editable.cke_image_se *{cursor:se-resize !important}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_ne{' +\n\t\t\t\t\t'cursor:ne-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_nw{' +\n\t\t\t\t\t'cursor:nw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_se{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_sw{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:sw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizing>.cke_image_resizer{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Expand widget wrapper when linked inline image.\n\t\t\t\t\t'.cke_widget_wrapper>a{' +\n\t\t\t\t\t'display:inline-block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\tinit(editor) {\n\t\t\t// Adapts configuration from original image plugin. Should be removed\n\t\t\t// when we'll rename ae_dragresize_ie11 to image.\n\n\t\t\tconst image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne('img');\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tafterInit(editor) {\n\t\t\t// Integrate with align commands (justify plugin).\n\t\t\tconst align = {left: 1, right: 1, center: 1, block: 1};\n\n\t\t\tconst integrate = alignCommandIntegrator(editor);\n\n\t\t\tfor (const value in align) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(align, value)) {\n\t\t\t\t\tintegrate(value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>   <img style=float:left />   \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p style=text-align:center>\n\t// \t\t       <p style=text-align:center>   <img />                    \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>  <img style=float:right />  \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Non-captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                  Data                         \n\t// \t\t\n\t// \t\tnone  <wrapper>                      <img />                      \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>         <img class=left />         \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tcenter<wrapper>                      <p class=center>           \n\t// \t\t       <p class=center>             <img />                     \n\t// \t\t         <img />                     </p>                         \n\t// \t\t       </p>                                                       \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t// \t\tright <wrapper class=right>        <img class=right />        \n\t// \t\t       <img />                                                    \n\t// \t\t      </wrapper>                                                  \n\t// \t\t\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper style=float:left>            <figure style=float:left />           \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper style=text-align:center>     <div style=text-align:center>         \n\t// \t\t       <figure style=display:inline-block /> <figure style=display:inline-block />\n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper style=float:right>           <figure style=float:right />          \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// Captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t\n\t// \t\tAlign Internal form                           Data                                    \n\t// \t\t\n\t// \t\tnone  <wrapper>                               <figure />                              \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tleft  <wrapper class=left>                  <figure class=left />                 \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t// \t\tcenter<wrapper class=center>                <div class=center>                    \n\t// \t\t       <figure />                              <figure />                             \n\t// \t\t      </wrapper>                              </p>                                    \n\t// \t\t\n\t// \t\tright <wrapper class=right>                 <figure class=right />                \n\t// \t\t       <figure />                                                                     \n\t// \t\t      </wrapper>                                                                      \n\t// \t\t\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tfunction deflate() {\n\t\t\tif (this.deflated) return;\n\n\t\t\t// Remember whether widget was focused before destroyed.\n\t\t\tif (editor.widgets.focused == this.widget) this.focused = true;\n\n\t\t\teditor.widgets.destroy(this.widget);\n\n\t\t\t// Mark widget was destroyed.\n\t\t\tthis.deflated = true;\n\t\t}\n\n\t\tfunction inflate() {\n\t\t\tconst editable = editor.editable();\n\n\t\t\tconst doc = editor.document;\n\n\t\t\t// Create a new widget. This widget will be either captioned\n\t\t\t// non-captioned, block or inline according to what is the\n\t\t\t// new state of the widget.\n\t\t\tif (this.deflated) {\n\t\t\t\tthis.widget = editor.widgets.initOn(\n\t\t\t\t\tthis.element,\n\t\t\t\t\t'image',\n\t\t\t\t\tthis.widget.data\n\t\t\t\t);\n\n\t\t\t\t// Once widget was re-created, it may become an inline element without\n\t\t\t\t// block wrapper (i.e. when unaligned, end not captioned). Let's do some\n\t\t\t\t// sort of autoparagraphing here (#10853).\n\t\t\t\tif (\n\t\t\t\t\tthis.widget.inline &&\n\t\t\t\t\t!new CKEDITOR.dom.elementPath(this.widget.wrapper, editable)\n\t\t\t\t\t\t.block\n\t\t\t\t) {\n\t\t\t\t\tconst block = doc.createElement(\n\t\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div'\n\t\t\t\t\t);\n\t\t\t\t\tblock.replace(this.widget.wrapper);\n\t\t\t\t\tthis.widget.wrapper.move(block);\n\t\t\t\t}\n\n\t\t\t\t// The focus must be transferred from the old one (destroyed)\n\t\t\t\t// to the new one (just created).\n\t\t\t\tif (this.focused) {\n\t\t\t\t\tthis.widget.focus();\n\t\t\t\t\tdelete this.focused;\n\t\t\t\t}\n\n\t\t\t\tdelete this.deflated;\n\t\t\t}\n\n\t\t\t// If now widget was destroyed just update wrapper's alignment.\n\t\t\t// According to the new state.\n\t\t\telse {\n\t\t\t\tsetWrapperAlign(this.widget, alignClasses);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\timage: 'img',\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\t// parts#link defined in widget#init\n\t\t\t},\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate,\n\n\t\t\tdata() {\n\t\t\t\tconst features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t)\n\t\t\t\t\tthis.data.hasCaption = false;\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t)\n\t\t\t\t\tthis.data.align = 'none';\n\n\t\t\t\t// Convert the internal form of the widget from the old state to the new one.\n\t\t\t\tthis.shiftState({\n\t\t\t\t\twidget: this,\n\t\t\t\t\telement: this.element,\n\t\t\t\t\toldData: this.oldData,\n\t\t\t\t\tnewData: this.data,\n\t\t\t\t\tdeflate,\n\t\t\t\t\tinflate,\n\t\t\t\t});\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) delete this.parts.link;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link)\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\tsrc: this.data.src,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\talt: this.data.alt,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (const c in this.data.classes) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\t\tthis.data.classes,\n\t\t\t\t\t\t\t\tc\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension))\n\t\t\t\t\tsetDimensions(this);\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tinit() {\n\t\t\t\tconst helpers = CKEDITOR.plugins.ae_dragresize_ie11;\n\n\t\t\t\tconst image = this.parts.image;\n\n\t\t\t\tconst data = {\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tconst link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) this.parts.link = link;\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tconst alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update data.link object with attributes if the link has been discovered.\n\t\t\t\tif (editor.plugins.link && this.parts.link) {\n\t\t\t\t\tdata.link = helpers.getLinkAttributesParser()(\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\tthis.parts.link\n\t\t\t\t\t);\n\n\t\t\t\t\t// Get rid of cke_widget_* classes in data. Otherwise\n\t\t\t\t\t// they might appear in link dialog.\n\t\t\t\t\tconst advanced = data.link.advanced;\n\t\t\t\t\tif (advanced && advanced.advCSSClasses) {\n\t\t\t\t\t\tadvanced.advCSSClasses = CKEDITOR.tools.trim(\n\t\t\t\t\t\t\tadvanced.advCSSClasses.replace(/cke_\\S+/, '')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\t// Setup dynamic image resizing with mouse.\n\t\t\t\t// Don't initialize resizer when dimensions are disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\teditor.filter.checkFeature(this.features.dimension) &&\n\t\t\t\t\teditor.config.ae_dragresize_ie11_disableResizer !== true\n\t\t\t\t)\n\t\t\t\t\tsetupResizer(this);\n\n\t\t\t\tconst dragHandlerStyle = this.dragHandlerContainer.$.style;\n\t\t\t\tdragHandlerStyle.setAttribute(\n\t\t\t\t\t'backgroundColor',\n\t\t\t\t\t'rgba(255, 255, 255, 1'\n\t\t\t\t);\n\t\t\t\tdragHandlerStyle.setAttribute('opacity', '1');\n\n\t\t\t\tthis.shiftState = helpers.stateShifter(this.editor);\n\n\t\t\t\t// Add widget editing option to its context menu.\n\t\t\t\tthis.on('contextMenu', function(evt) {\n\t\t\t\t\tevt.data.image = CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\t// Integrate context menu items for link.\n\t\t\t\t\t// Note that widget may be wrapped in a link, which\n\t\t\t\t\t// does not belong to that widget (#11814).\n\t\t\t\t\tif (this.parts.link || this.wrapper.getAscendant('a'))\n\t\t\t\t\t\tevt.data.link = evt.data.unlink = CKEDITOR.TRISTATE_OFF;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tconst classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tconst classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.ae_dragresize_ie11_captionedClass nor config.ae_dragresize_ie11_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (const c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) delete classes[c];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tgetLabel() {\n\t\t\t\tconst label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn this.editor.lang.widget.label.replace(/%1/, label);\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (ae_dragresize_ie11) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.ae_dragresize_ie11 = {\n\t\tstateShifter(editor) {\n\t\t\t// Tag name used for centering non-captioned widgets.\n\t\t\tconst doc = editor.document;\n\n\t\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t\tconst captionedClass =\n\t\t\t\teditor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t\tconst editable = editor.editable();\n\n\t\t\t// The order that stateActions get executed. It matters!\n\n\t\t\tconst shiftables = ['hasCaption', 'align', 'link'];\n\n\t\t\t// Atomic procedures, one per state variable.\n\t\t\tconst stateActions = {\n\t\t\t\talign(shift, oldValue, newValue) {\n\t\t\t\t\tconst el = shift.element;\n\n\t\t\t\t\t// Alignment changed.\n\t\t\t\t\tif (\n\t\t\t\t\t\tshift.changed.align ||\n\t\t\t\t\t\t(el.$.style.marginLeft === 'auto' &&\n\t\t\t\t\t\t\tel.$.style.marginRight === 'auto')\n\t\t\t\t\t) {\n\t\t\t\t\t\t// No caption in the new state.\n\t\t\t\t\t\tif (!shift.newData.hasCaption) {\n\t\t\t\t\t\t\t// Changed to \"center\" (non-captioned).\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tnewValue == 'center' ||\n\t\t\t\t\t\t\t\t(el.$.style.marginLeft === 'auto' &&\n\t\t\t\t\t\t\t\t\tel.$.style.marginRight === 'auto')\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Changed to \"non-center\" from \"center\" while caption removed.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!shift.changed.hasCaption &&\n\t\t\t\t\t\t\t\toldValue == 'center' &&\n\t\t\t\t\t\t\t\tnewValue != 'center'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = unwrapFromCentering(el);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Alignment remains and \"center\" removed caption.\n\t\t\t\t\telse if (\n\t\t\t\t\t\tnewValue == 'center' &&\n\t\t\t\t\t\tshift.changed.hasCaption &&\n\t\t\t\t\t\t!shift.newData.hasCaption\n\t\t\t\t\t) {\n\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Finally set display for figure.\n\t\t\t\t\tif (!alignClasses && el.is('figure')) {\n\t\t\t\t\t\tif (newValue == 'center')\n\t\t\t\t\t\t\tel.setStyle('display', 'inline-block');\n\t\t\t\t\t\telse el.removeStyle('display');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\thasCaption(shift, oldValue, newValue) {\n\t\t\t\t\t// This action is for real state change only.\n\t\t\t\t\tif (!shift.changed.hasCaption) return;\n\n\t\t\t\t\t// Get <img/> or <a><img/></a> from widget. Note that widget element might itself\n\t\t\t\t\t// be what we're looking for. Also element can be <p style=\"text-align:center\"><a>...</a></p>.\n\t\t\t\t\tlet imageOrLink;\n\t\t\t\t\tif (shift.element.is({img: 1, a: 1}))\n\t\t\t\t\t\timageOrLink = shift.element;\n\t\t\t\t\telse imageOrLink = shift.element.findOne('a,img');\n\n\t\t\t\t\t// Switching hasCaption always destroys the widget.\n\t\t\t\t\tshift.deflate();\n\n\t\t\t\t\t// There was no caption, but the caption is to be added.\n\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t// Create new <figure> from widget template.\n\t\t\t\t\t\tconst figure = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\ttemplateBlock.output({\n\t\t\t\t\t\t\t\tcaptionedClass,\n\t\t\t\t\t\t\t\tcaptionPlaceholder:\n\t\t\t\t\t\t\t\t\teditor.lang.ae_dragresize_ie11\n\t\t\t\t\t\t\t\t\t\t.captionPlaceholder,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tdoc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Replace element with <figure>.\n\t\t\t\t\t\treplaceSafely(figure, shift.element);\n\n\t\t\t\t\t\t// Use old <img/> or <a><img/></a> instead of the one from the template,\n\t\t\t\t\t\t// so we won't lose additional attributes.\n\t\t\t\t\t\timageOrLink.replace(figure.findOne('img'));\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = figure;\n\t\t\t\t\t}\n\n\t\t\t\t\t// The caption was present, but now it's to be removed.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Unwrap <img/> or <a><img/></a> from figure.\n\t\t\t\t\t\timageOrLink.replace(shift.element);\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = imageOrLink;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tlink(shift, oldValue, newValue) {\n\t\t\t\t\tif (shift.changed.link) {\n\t\t\t\t\t\tconst img = shift.element.is('img')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('img');\n\n\t\t\t\t\t\tconst link = shift.element.is('a')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('a');\n\n\t\t\t\t\t\t// Why deflate:\n\t\t\t\t\t\t// If element is <img/>, it will be wrapped into <a>,\n\t\t\t\t\t\t// which becomes a new widget.element.\n\t\t\t\t\t\t// If element is <a><img/></a>, it will be unlinked\n\t\t\t\t\t\t// so <img/> becomes a new widget.element.\n\n\t\t\t\t\t\tconst needsDeflate =\n\t\t\t\t\t\t\t(shift.element.is('a') && !newValue) ||\n\t\t\t\t\t\t\t(shift.element.is('img') && newValue);\n\n\t\t\t\t\t\tlet newEl;\n\n\t\t\t\t\t\tif (needsDeflate) shift.deflate();\n\n\t\t\t\t\t\t// If unlinked the image, returned element is <img>.\n\t\t\t\t\t\tif (!newValue) newEl = unwrapFromLink(link);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// If linked the image, returned element is <a>.\n\t\t\t\t\t\t\tif (!oldValue)\n\t\t\t\t\t\t\t\tnewEl = wrapInLink(img, shift.newData.link);\n\n\t\t\t\t\t\t\t// Set and remove all attributes associated with this state.\n\t\t\t\t\t\t\tconst attributes = CKEDITOR.plugins.ae_dragresize_ie11.getLinkAttributesGetter()(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnewValue\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (!CKEDITOR.tools.isEmpty(attributes.set))\n\t\t\t\t\t\t\t\t(newEl || link).setAttributes(attributes.set);\n\n\t\t\t\t\t\t\tif (attributes.removed.length)\n\t\t\t\t\t\t\t\t(newEl || link).removeAttributes(\n\t\t\t\t\t\t\t\t\tattributes.removed\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (needsDeflate) shift.element = newEl;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tfunction wrapInCentering(editor, element) {\n\t\t\t\tconst attribsAndStyles = {};\n\n\t\t\t\tif (alignClasses)\n\t\t\t\t\tattribsAndStyles.attributes = {class: alignClasses[1]};\n\t\t\t\telse attribsAndStyles.styles = {'text-align': 'center'};\n\n\t\t\t\t// There's no gentle way to center inline element with CSS, so create p/div\n\t\t\t\t// that wraps widget contents and does the trick either with style or class.\n\t\t\t\tconst center = doc.createElement(\n\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div',\n\t\t\t\t\tattribsAndStyles\n\t\t\t\t);\n\n\t\t\t\t// Replace element with centering wrapper.\n\t\t\t\treplaceSafely(center, element);\n\t\t\t\telement.move(center);\n\n\t\t\t\treturn center;\n\t\t\t}\n\n\t\t\tfunction unwrapFromCentering(element) {\n\t\t\t\tconst imageOrLink = element.findOne('a,img');\n\n\t\t\t\timageOrLink.replace(element);\n\n\t\t\t\treturn imageOrLink;\n\t\t\t}\n\n\t\t\t// Wraps <img/> -> <a><img/></a>.\n\t\t\t// Returns reference to <a>.\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} img\n\t\t\t// @param {Object} linkData\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction wrapInLink(img, linkData) {\n\t\t\t\tconst link = doc.createElement('a', {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\thref: linkData.url,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tlink.replace(img);\n\t\t\t\timg.move(link);\n\n\t\t\t\treturn link;\n\t\t\t}\n\n\t\t\t// De-wraps <a><img/></a> -> <img/>.\n\t\t\t// Returns the reference to <img/>\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} link\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction unwrapFromLink(link) {\n\t\t\t\tconst img = link.findOne('img');\n\n\t\t\t\timg.replace(link);\n\n\t\t\t\treturn img;\n\t\t\t}\n\n\t\t\tfunction replaceSafely(replacing, replaced) {\n\t\t\t\tif (replaced.getParent()) {\n\t\t\t\t\tconst range = editor.createRange();\n\n\t\t\t\t\trange.moveToPosition(\n\t\t\t\t\t\treplaced,\n\t\t\t\t\t\tCKEDITOR.POSITION_BEFORE_START\n\t\t\t\t\t);\n\n\t\t\t\t\t// Remove old element. Do it before insertion to avoid a case when\n\t\t\t\t\t// element is moved from 'replaced' element before it, what creates\n\t\t\t\t\t// a tricky case which insertElementIntorRange does not handle.\n\t\t\t\t\treplaced.remove();\n\n\t\t\t\t\teditable.insertElementIntoRange(replacing, range);\n\t\t\t\t} else {\n\t\t\t\t\treplacing.replace(replaced);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn function(shift) {\n\t\t\t\tlet name;\n\t\t\t\tlet i;\n\n\t\t\t\tshift.changed = {};\n\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tshift.changed[name] = shift.oldData\n\t\t\t\t\t\t? shift.oldData[name] !== shift.newData[name]\n\t\t\t\t\t\t: false;\n\t\t\t\t}\n\n\t\t\t\t// Iterate over possible state variables.\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tstateActions[name](\n\t\t\t\t\t\tshift,\n\t\t\t\t\t\tshift.oldData ? shift.oldData[name] : null,\n\t\t\t\t\t\tshift.newData[name]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tshift.inflate();\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio(image) {\n\t\t\tconst $ = image.$;\n\n\t\t\tconst natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t\theight: image.$.naturalHeight,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst img = new Image();\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: img.width,\n\t\t\t\t\theight: img.height,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute getter function. Default getter comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom getter e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom getter is used, a data model format it produces\n\t\t * must be compatible with {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** A custom getter must understand the data model format produced by\n\t\t * {@link #getLinkAttributesParser} to work correctly.\n\t\t *\n\t\t * @return {Function} A function that gets (composes) link attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesGetter() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.getLinkAttributes;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute parser function. Default parser comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#parseLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom parser e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom parser is used, a data model format produced by the parser\n\t\t * must be compatible with {@link #getLinkAttributesGetter}.\n\t\t *\n\t\t * **Note:** If a custom parser is used, it should be compatible with the\n\t\t * {@link CKEDITOR.plugins.link#parseLinkAttributes} data model format. Otherwise the\n\t\t * Link plugin dialog may not be populated correctly with parsed data. However\n\t\t * as long as Enhanced Image is **not** used with the Link plugin dialog, any custom data model\n\t\t * will work, being stored as an internal property of Enhanced Image widget's data only.\n\t\t *\n\t\t * @return {Function} A function that parses attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesParser() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.parseLinkAttributes;\n\t\t},\n\t};\n\n\tfunction setWrapperAlign(widget, alignClasses) {\n\t\tconst wrapper = widget.wrapper;\n\n\t\tconst align = widget.data.align;\n\n\t\tconst hasCaption = widget.data.hasCaption;\n\n\t\tif (alignClasses) {\n\t\t\t// Remove all align classes first.\n\t\t\tfor (let i = 3; i--; ) wrapper.removeClass(alignClasses[i]);\n\n\t\t\tif (align == 'center') {\n\t\t\t\t// Avoid touching non-captioned, centered widgets because\n\t\t\t\t// they have the class set on the element instead of wrapper:\n\t\t\t\t//\n\t\t\t\t// \t<div class=\"cke_widget_wrapper\">\n\t\t\t\t// \t\t<p class=\"center-class\">\n\t\t\t\t// \t\t\t<img />\n\t\t\t\t// \t\t</p>\n\t\t\t\t// \t</div>\n\t\t\t\tif (hasCaption) {\n\t\t\t\t\twrapper.addClass(alignClasses[1]);\n\t\t\t\t}\n\t\t\t} else if (align != 'none') {\n\t\t\t\twrapper.addClass(alignClasses[alignmentsObj[align]]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (align == 'center') {\n\t\t\t\tif (hasCaption) wrapper.setStyle('text-align', 'center');\n\t\t\t\telse wrapper.removeStyle('text-align');\n\n\t\t\t\twrapper.removeStyle('float');\n\t\t\t} else {\n\t\t\t\tif (align == 'none') wrapper.removeStyle('float');\n\t\t\t\telse wrapper.setStyle('float', align);\n\n\t\t\t\twrapper.removeStyle('text-align');\n\t\t\t}\n\n\t\t\tconst image = wrapper.$.querySelector('img');\n\n\t\t\tconst imageStyles = image.getAttribute('style');\n\n\t\t\tif (imageStyles) {\n\t\t\t\tlet styles = '';\n\n\t\t\t\tconst heightStyles = /(height:.+?;)/.exec(imageStyles);\n\t\t\t\tif (heightStyles) {\n\t\t\t\t\tstyles += heightStyles[0];\n\t\t\t\t}\n\n\t\t\t\tconst widthStyles = /(width:.+?;)/.exec(imageStyles);\n\t\t\t\tif (widthStyles) {\n\t\t\t\t\tstyles += widthStyles[0];\n\t\t\t\t}\n\n\t\t\t\timage.setAttribute('style', styles);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.ae_dragresize_ie11_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tconst isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tconst captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tconst dimensions = {width: 1, height: 1};\n\n\t\t\tconst name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) return;\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tconst figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) return;\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (const d in dimensions) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(dimensions, d)) {\n\t\t\t\t\tconst dimension = image.attributes[d];\n\t\t\t\t\tif (dimension && dimension.match(regexPercent))\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (ae_dragresize_ie11_alignClasses).\n\t\t\tconst attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tconst attrs = attrsHolder.attributes;\n\n\t\t\tconst align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tconst resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper)\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({img: 1, a: 1})\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tconst styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {class: alignClasses[1]}\n\t\t\t\t\t\t\t\t: {style: 'text-align:center'}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (align in {left: 1, right: 1}) {\n\t\t\t\t\tif (alignClasses)\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\telse styles['float'] = align;\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles))\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles) + ';';\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tconst captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst validChildren = {figure: 1, a: 1, img: 1};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (!(el.name in {div: 1, p: 1})) return false;\n\n\t\t\tconst children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) return false;\n\n\t\t\tconst child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) return false;\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) return false;\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) return false;\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If ae_dragresize_ie11_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') return true;\n\t\telse if (el.name == 'a')\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tconst data = widget.data;\n\n\t\tconst dimensions = {width: data.width, height: data.height};\n\n\t\tconst image = widget.parts.image;\n\n\t\tfor (const d in dimensions) {\n\t\t\tif (dimensions[d]) image.setAttribute(d, dimensions[d]);\n\t\t\telse image.removeAttribute(d);\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tconst editor = widget.editor;\n\n\t\tconst editable = editor.editable();\n\n\t\tconst doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\n\t\tconst resizer = (widget.resizer = doc.createElement('span'));\n\n\t\t// Create resizer for each corner (NE, NW, SE, SW)\n\n\t\tconst resizerNE = doc.createElement('span');\n\n\t\tconst resizerNW = doc.createElement('span');\n\n\t\tconst resizerSE = doc.createElement('span');\n\n\t\tconst resizerSW = doc.createElement('span');\n\n\t\tresizerNE.addClass('cke_image_resizer');\n\t\tresizerNE.addClass('cke_image_resizer_ne');\n\n\t\tresizerNW.addClass('cke_image_resizer');\n\t\tresizerNW.addClass('cke_image_resizer_nw');\n\n\t\tresizerSE.addClass('cke_image_resizer');\n\t\tresizerSE.addClass('cke_image_resizer_se');\n\n\t\tresizerSW.addClass('cke_image_resizer');\n\t\tresizerSW.addClass('cke_image_resizer_sw');\n\n\t\t// Add each directional resizer as a child of resizer\n\t\tresizer.append(resizerNE);\n\t\tresizer.append(resizerNW);\n\t\tresizer.append(resizerSE);\n\t\tresizer.append(resizerSW);\n\n\t\t// resizer.setAttribute( 'title', editor.lang.ae_dragresize_ie11.resizer );\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tconst imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tconst oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tconst resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) oldResizeWrapper.remove();\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', evt => {\n\t\t\tconst image = widget.parts.image;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\n\t\t\tconst startX = evt.data.$.screenX;\n\n\t\t\tconst startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\n\t\t\tconst startWidth = image.$.clientWidth;\n\n\t\t\tconst startHeight = image.$.clientHeight;\n\n\t\t\tconst ratio = startWidth / startHeight;\n\n\t\t\tconst listeners = [];\n\n\t\t\tconst target = evt.data.getTarget();\n\n\t\t\tlet factorX;\n\n\t\t\tlet factorY;\n\n\t\t\tlet moveDiffX;\n\n\t\t\tlet moveDiffY;\n\n\t\t\tlet nativeEvt;\n\n\t\t\tlet newHeight;\n\n\t\t\tlet newWidth;\n\n\t\t\tlet updateData;\n\n\t\t\t// \"factorX\" and \"factorY\" can be either 1 or -1. I.e.: We need to\n\t\t\t// add/subtract the difference to get proper width, etc. Without \"factorX\"\n\t\t\t// and \"factorY\", resizer starts working the opposite way.\n\t\t\tif (target.hasClass('cke_image_resizer_ne')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_nw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_se')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = -1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_sw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = -1;\n\t\t\t}\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tconst cursorClass =\n\t\t\t\t'cke_image_' +\n\t\t\t\t(!~factorY ? 's' : 'n') +\n\t\t\t\t(!~factorX ? 'w' : 'e');\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tconst globalDoc = CKEDITOR.document;\n\n\t\t\t\tconst listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc))\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; )\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate width first, and then adjust height, preserving ratio.\n\t\t\tfunction adjustToX() {\n\t\t\t\tnewWidth = startWidth + factorX * moveDiffX;\n\t\t\t\tnewHeight = Math.round(newWidth / ratio);\n\t\t\t}\n\n\t\t\t// Calculate height first, and then adjust width, preserving ratio.\n\t\t\tfunction adjustToY() {\n\t\t\t\tnewHeight = startHeight + factorY * moveDiffY;\n\t\t\t\tnewWidth = Math.round(newHeight * ratio);\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\t// Resize with NE, SE drag handles\n\t\t\t\tif (factorX == 1) {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Resize with NW, SW drag handles\n\t\t\t\telse {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (newWidth >= 15 && newHeight >= 15) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) l.removeListener();\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tconst removeWidgetAlignment = function(widget, imageAlignment) {\n\t\tif (imageAlignment === 'left' || imageAlignment === 'right') {\n\t\t\twidget.wrapper.removeStyle('float');\n\t\t} else if (imageAlignment === 'center') {\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t}\n\t};\n\n\t// Integrates widget alignment setting with justify\n\t// plugin's commands (execution and refreshment).\n\t// @param {CKEDITOR.editor} editor\n\t// @param {String} value 'left', 'right', 'center' or 'block'\n\tfunction alignCommandIntegrator(editor) {\n\t\tconst execCallbacks = [];\n\n\t\tlet enabled;\n\n\t\treturn function(value) {\n\t\t\tconst command = editor.getCommand('justify' + value);\n\n\t\t\t// Most likely, the justify plugin isn't loaded.\n\t\t\tif (!command) return;\n\n\t\t\t// This command will be manually refreshed along with\n\t\t\t// other commands after exec.\n\t\t\texecCallbacks.push(() => {\n\t\t\t\tcommand.refresh(editor, editor.elementPath());\n\t\t\t});\n\n\t\t\tif (value in {right: 1, left: 1, center: 1}) {\n\t\t\t\tcommand.on('exec', evt => {\n\t\t\t\t\tconst widget = getFocusedWidget(editor);\n\n\t\t\t\t\tif (widget) {\n\t\t\t\t\t\tif (widget.data.align === value) {\n\t\t\t\t\t\t\tremoveWidgetAlignment(widget, value);\n\n\t\t\t\t\t\t\tdelete widget.data.align;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidget.setData('align', value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Once the widget changed its align, all the align commands\n\t\t\t\t\t\t// must be refreshed: the event is to be cancelled.\n\t\t\t\t\t\tfor (let i = execCallbacks.length; i--; )\n\t\t\t\t\t\t\texecCallbacks[i]();\n\n\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcommand.on('refresh', function(evt) {\n\t\t\t\tconst widget = getFocusedWidget(editor);\n\n\t\t\t\tconst allowed = {right: 1, left: 1, center: 1};\n\n\t\t\t\tif (!widget) return;\n\n\t\t\t\t// Cache \"enabled\" on first use. This is because filter#checkFeature may\n\t\t\t\t// not be available during plugin's afterInit in the future  a moment when\n\t\t\t\t// alignCommandIntegrator is called.\n\t\t\t\tif (enabled === undefined)\n\t\t\t\t\tenabled = editor.filter.checkFeature(\n\t\t\t\t\t\teditor.widgets.registered.image.features.align\n\t\t\t\t\t);\n\n\t\t\t\t// Don't allow justify commands when widget alignment is disabled (#11004).\n\t\t\t\tif (!enabled) this.setState(CKEDITOR.TRISTATE_DISABLED);\n\t\t\t\telse {\n\t\t\t\t\tthis.setState(\n\t\t\t\t\t\twidget.data.align == value\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t: value in allowed\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tevt.cancel();\n\t\t\t});\n\t\t};\n\t}\n\n\t// Returns the focused widget, if of the type specific for this plugin.\n\t// If no widget is focused, `null` is returned.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {CKEDITOR.plugins.widget}\n\tfunction getFocusedWidget(editor) {\n\t\tconst widget = editor.widgets.focused;\n\n\t\tif (widget && widget.name == 'image') return widget;\n\n\t\treturn null;\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#ae_dragresize_ie11_alignClasses or\n\t// config#ae_dragresize_ie11_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst rules = {\n\t\t\t// Widget may need <div> or <p> centering wrapper.\n\t\t\tdiv: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\tp: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.ae_dragresize_ie11_captionedClass,\n\t\t\t},\n\t\t\tfigcaption: true,\n\t\t};\n\n\t\tif (alignClasses) {\n\t\t\t// Centering class from the config.\n\t\t\trules.div.classes = alignClasses[1];\n\t\t\trules.p.classes = rules.div.classes;\n\n\t\t\t// Left/right classes from the config.\n\t\t\trules.img.classes = alignClasses[0] + ',' + alignClasses[2];\n\t\t\trules.figure.classes += ',' + rules.img.classes;\n\t\t} else {\n\t\t\t// Centering with text-align.\n\t\t\trules.div.styles = 'text-align';\n\t\t\trules.p.styles = 'text-align';\n\n\t\t\trules.img.styles = 'float';\n\t\t\trules.figure.styles = 'float,display';\n\t\t}\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tconst alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tconst features = {\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n})();\n\n/**\n * A CSS class applied to the `<figure>` element of a captioned image.\n *\n * Read more in the [documentation](#!/guide/dev_captionedimage) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/captionedimage.html).\n *\n *\t\t// Changes the class to \"captionedImage\".\n *\t\tconfig.ae_dragresize_ie11_captionedClass = 'captionedImage';\n *\n * @cfg {String} [ae_dragresize_ie11_captionedClass='image']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.ae_dragresize_ie11_captionedClass = 'image';\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport {HIGH_PRIORITY} from './priorities';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_embed')) {\n\tconst REGEX_HTTP = /^https?/;\n\n\tconst REGEX_DEFAULT_LINK = /<a href=/;\n\n\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL =\n\t\t'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';\n\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL =\n\t\t'<div data-ae-embed-url=\"{url}\"></div>';\n\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href=\"{url}\">{url}</a>';\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed\n\t * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly\n\t * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to\n\t * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint\n\t * may be restricted per domain due to significant traffic.\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.ae_embed\n\t */\n\tCKEDITOR.plugins.add('ae_embed', {\n\t\trequires: 'widget',\n\t\tinit(editor) {\n\t\t\tconst AE_EMBED_URL_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedUrlTemplate ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL\n\t\t\t);\n\t\t\tconst AE_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\t);\n\t\t\tconst AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedLinkDefaultTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL\n\t\t\t);\n\n\t\t\t// Default function to upcast DOM elements to embed widgets.\n\t\t\t// It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\tconst defaultEmbedWidgetUpcastFn = function(element, data) {\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-ae-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-ae-embed-url'];\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Create a embedUrl command that can be invoked to easily embed media URLs\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec(editor, data) {\n\t\t\t\t\teditor.insertHtml(\n\t\t\t\t\t\tAE_EMBED_WIDGET_TPL.output({\n\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Create a widget to properly handle embed operations\n\t\t\teditor.widgets.add('ae_embed', {\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-ae-embed-url]',\n\n\t\t\t\t/**\n\t\t\t\t * Listener to be executed every time the widget's data changes. It takes care of\n\t\t\t\t * requesting the embed object to the configured oembed service and render it in\n\t\t\t\t * the editor\n\t\t\t\t *\n\t\t\t\t * @method data\n\t\t\t\t * @param {event} event Data change event\n\t\t\t\t */\n\t\t\t\tdata(event) {\n\t\t\t\t\tconst widget = this;\n\n\t\t\t\t\tconst url = event.data.url;\n\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tCKEDITOR.tools.jsonp(\n\t\t\t\t\t\t\tAE_EMBED_URL_TPL,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: encodeURIComponent(url),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresponse => {\n\t\t\t\t\t\t\t\tif (response.html) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tREGEX_DEFAULT_LINK.test(response.html)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twidget.element.setHtml(response.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t_msg => {\n\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcreateATag(url) {\n\t\t\t\t\tthis.editor.execCommand('undo');\n\n\t\t\t\t\tconst aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({\n\t\t\t\t\t\turl,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.editor.insertHtml(aTagHtml);\n\t\t\t\t\tthis.editor.fire('actionPerformed', this);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Function used to upcast an element to ae_embed widgets.\n\t\t\t\t *\n\t\t\t\t * @method upcast\n\t\t\t\t * @param {CKEDITOR.htmlParser.element} element The element to be checked\n\t\t\t\t * @param {Object} data The object that will be passed to the widget\n\t\t\t\t */\n\t\t\t\tupcast(element, data) {\n\t\t\t\t\tconst embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Add a listener to handle paste events and turn links into embed objects\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\teditor.on(\n\t\t\t\t\t'paste',\n\t\t\t\t\tevent => {\n\t\t\t\t\t\tconst link = event.data.dataValue;\n\n\t\t\t\t\t\tif (REGEX_HTTP.test(link)) {\n\t\t\t\t\t\t\tevent.stop();\n\n\t\t\t\t\t\t\teditor.execCommand('embedUrl', {\n\t\t\t\t\t\t\t\turl: event.data.dataValue,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnull,\n\t\t\t\t\tnull,\n\t\t\t\t\t// Make sure we run before autolink's paste handler,\n\t\t\t\t\t// otherwise the link will be turned into an anchor and our\n\t\t\t\t\t// REGEX_HTTP test will fail.\n\t\t\t\t\tHIGH_PRIORITY\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"ae_embed\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add a filter to skip filtering widget elements\n\t\t\teditor.filter.addElementCallback(element => {\n\t\t\t\tif ('data-ae-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * Priorities that can be used to control the order in which event handlers run.\n *\n * @see https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_event.html#method-on\n */\nexport const DEFAULT_PRIORITY = 10;\nexport const HIGH_PRIORITY = 5;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Resizer from './Resizer.es';\n\nif (!CKEDITOR.plugins.get('embedurl')) {\n\tconst REGEX_HTTP = /^https?/;\n\n\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL =\n\t\t'<div data-embed-url=\"{url}\" class=\"embed-responsive embed-responsive-16by9\">{content}<div class=\"embed-help-message\">{helpMessageIcon}<span> {helpMessage}</span></div></div><br>';\n\n\t/**\n\t * Enum for supported embed alignments\n\t * @type {Object}\n\t */\n\n\tconst EMBED_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported embed alignments\n\t * @type {Array}\n\t */\n\n\tconst ALIGN_VALUES = [\n\t\tEMBED_ALIGNMENT.CENTER,\n\t\tEMBED_ALIGNMENT.LEFT,\n\t\tEMBED_ALIGNMENT.RIGHT,\n\t];\n\n\t/**\n\t * Necessary styles for the center alignment\n\t * @type {Array.<Object>}\n\t */\n\n\tconst CENTERED_EMBED_STYLE = [\n\t\t{\n\t\t\tname: 'display',\n\t\t\tvalue: 'block',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-left',\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-right',\n\t\t\tvalue: 'auto',\n\t\t},\n\t];\n\n\t/**\n\t * Retrieves the alignment value of an embed element.\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @return {String} The alignment value\n\t */\n\n\tconst getEmbedAlignment = function(embed) {\n\t\tlet embedAlignment = embed.getStyle('float');\n\n\t\tif (\n\t\t\t!embedAlignment ||\n\t\t\tembedAlignment === 'inherit' ||\n\t\t\tembedAlignment === 'none'\n\t\t) {\n\t\t\tembedAlignment = embed.getAttribute('align');\n\t\t}\n\n\t\tif (!embedAlignment) {\n\t\t\tconst centeredEmbed = CENTERED_EMBED_STYLE.every(style => {\n\t\t\t\tlet styleCheck = embed.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(\n\t\t\t\t\t\tvendorPrefix =>\n\t\t\t\t\t\t\tembed.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tembedAlignment = centeredEmbed ? EMBED_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\treturn embedAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be removed\n\t */\n\n\tconst removeEmbedAlignment = function(embed, embedAlignment) {\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.removeStyle('float');\n\n\t\t\tif (embedAlignment === getEmbedAlignment(embed)) {\n\t\t\t\tembed.removeAttribute('align');\n\t\t\t}\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.removeStyle(vendorPrefix + style.name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be set\n\t */\n\n\tconst setEmbedAlignment = function(embed, embedAlignment) {\n\t\tremoveEmbedAlignment(embed, getEmbedAlignment(embed));\n\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.setStyle('float', embedAlignment);\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.setStyle(vendorPrefix + style.name, style.value)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst getSelectedElement = function(editor) {\n\t\tconst result = {\n\t\t\talignment: null,\n\t\t\telement: null,\n\t\t};\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (\n\t\t\t\tselectedElement &&\n\t\t\t\tselectedElement.getAttribute('data-cke-widget-wrapper')\n\t\t\t) {\n\t\t\t\tresult.alignment = getEmbedAlignment(selectedElement);\n\t\t\t\tresult.element = selectedElement;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconst resizeElement = function(el, width, height) {\n\t\tconst wrapperElement = el.parentElement;\n\n\t\tif (wrapperElement && width > 0 && height > 0) {\n\t\t\tconst rect = wrapperElement.getBoundingClientRect();\n\n\t\t\tconst pwidth =\n\t\t\t\twidth >= rect.width\n\t\t\t\t\t? 100\n\t\t\t\t\t: Math.floor((width / rect.width) * 100);\n\t\t\tconst style = `width:${pwidth}%;`;\n\n\t\t\twrapperElement.setAttribute('style', style);\n\n\t\t\tconst widgetElement = wrapperElement.querySelector(\n\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t);\n\n\t\t\tif (widgetElement) {\n\t\t\t\tconst styles =\n\t\t\t\t\tJSON.parse(widgetElement.getAttribute('data-styles')) || {};\n\n\t\t\t\tstyles.width = `${width}px`;\n\t\t\t\tstyles.height = `${height}px`;\n\n\t\t\t\twidgetElement.setAttribute(\n\t\t\t\t\t'data-styles',\n\t\t\t\t\tJSON.stringify(styles)\n\t\t\t\t);\n\n\t\t\t\tconst iframeElement = widgetElement.querySelector('iframe');\n\n\t\t\t\tif (iframeElement) {\n\t\t\t\t\tiframeElement.setAttribute('width', width);\n\t\t\t\t\tiframeElement.setAttribute('height', height);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst selectWidget = function(editor) {\n\t\tsetTimeout(() => {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tconst wrapperElement = selection.root.find(\n\t\t\t\t\t'[data-cke-widget-wrapper]'\n\t\t\t\t);\n\n\t\t\t\tif (wrapperElement) {\n\t\t\t\t\tconst elementList = wrapperElement.$;\n\t\t\t\t\tif (elementList.length > 0) {\n\t\t\t\t\t\tconst lastElement = new CKEDITOR.dom.element(\n\t\t\t\t\t\t\telementList[elementList.length - 1]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst imageElement = lastElement.findOne('img');\n\t\t\t\t\t\tconst widgetElement = lastElement.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement && widgetElement) {\n\t\t\t\t\t\t\tconst range = editor.createRange();\n\n\t\t\t\t\t\t\trange.setStart(widgetElement, 0);\n\t\t\t\t\t\t\trange.setEnd(imageElement, 1);\n\n\t\t\t\t\t\t\tselection.selectRanges([range]);\n\t\t\t\t\t\t\tselection.selectElement(lastElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 0);\n\t};\n\n\tlet currentAlignment = null;\n\tlet currentElement = null;\n\tlet resizer = null;\n\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.embedurl\n\t */\n\n\tCKEDITOR.plugins.add('embedurl', {\n\t\trequires: 'widget',\n\n\t\tinit: editor => {\n\t\t\tconst LFR_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL\n\t\t\t);\n\n\t\t\tlet providers = editor.config.embedProviders || [];\n\n\t\t\tproviders = providers.map(provider => {\n\t\t\t\treturn {\n\t\t\t\t\tid: provider.id,\n\t\t\t\t\ttpl: new CKEDITOR.template(\n\t\t\t\t\t\t`<div data-embed-id=\"{embedId}\">${provider.tpl}</div>`\n\t\t\t\t\t),\n\t\t\t\t\ttype: provider.type,\n\t\t\t\t\turlSchemes: provider.urlSchemes.map(\n\t\t\t\t\t\tscheme => new RegExp(scheme)\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst generateEmbedContent = (url, content) => {\n\t\t\t\treturn LFR_EMBED_WIDGET_TPL.output({\n\t\t\t\t\tcontent,\n\t\t\t\t\thelpMessage: AlloyEditor.Strings.videoPlaybackDisabled,\n\t\t\t\t\thelpMessageIcon: Liferay.Util.getLexiconIconTpl(\n\t\t\t\t\t\t'info-circle'\n\t\t\t\t\t),\n\t\t\t\t\turl,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst defaultEmbedWidgetUpcastFn = (element, data) => {\n\t\t\t\tlet upcastWidget = false;\n\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-embed-url'];\n\n\t\t\t\t\tupcastWidget = true;\n\t\t\t\t} else if (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-id']\n\t\t\t\t) {\n\t\t\t\t\tconst iframe = element.children[0];\n\n\t\t\t\t\tdata.url = iframe.attributes.src;\n\n\t\t\t\t\tdelete element.attributes.style;\n\n\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\tdata.url,\n\t\t\t\t\t\telement.getOuterHtml()\n\t\t\t\t\t);\n\n\t\t\t\t\tconst widgetFragment = new CKEDITOR.htmlParser.fragment.fromHtml(\n\t\t\t\t\t\tembedContent\n\t\t\t\t\t);\n\n\t\t\t\t\tupcastWidget = widgetFragment.children[0];\n\n\t\t\t\t\tupcastWidget.attributes['data-styles'] =\n\t\t\t\t\t\telement.attributes['data-styles'];\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive');\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive-16by9');\n\n\t\t\t\t\telement.replaceWith(upcastWidget);\n\t\t\t\t}\n\n\t\t\t\treturn upcastWidget;\n\t\t\t};\n\n\t\t\tconst showError = errorMsg => {\n\t\t\t\teditor.fire('error', errorMsg);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\teditor.getSelection().removeAllRanges();\n\n\t\t\t\t\teditor.focus();\n\n\t\t\t\t\tresizer.hide();\n\t\t\t\t}, 0);\n\t\t\t};\n\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec: (editor, data) => {\n\t\t\t\t\tconst type = data.type;\n\t\t\t\t\tconst url = data.url;\n\t\t\t\t\tlet content;\n\n\t\t\t\t\tif (REGEX_HTTP.test(url)) {\n\t\t\t\t\t\tconst validProvider = providers\n\t\t\t\t\t\t\t.filter(provider => {\n\t\t\t\t\t\t\t\treturn type ? provider.type === type : true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.some(provider => {\n\t\t\t\t\t\t\t\tconst scheme = provider.urlSchemes.find(\n\t\t\t\t\t\t\t\t\tscheme => scheme.test(url)\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (scheme) {\n\t\t\t\t\t\t\t\t\tconst embedId = scheme.exec(url)[1];\n\n\t\t\t\t\t\t\t\t\tcontent = provider.tpl.output({\n\t\t\t\t\t\t\t\t\t\tembedId,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn scheme;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (validProvider) {\n\t\t\t\t\t\t\teditor._selectEmbedWidget = url;\n\n\t\t\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertHtml(embedContent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowError(AlloyEditor.Strings.platformNotSupported);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(AlloyEditor.Strings.enterValidUrl);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\teditor.widgets.add('embedurl', {\n\t\t\t\tdraggable: false,\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-embed-url]',\n\n\t\t\t\tdata(event) {\n\t\t\t\t\tconst instance = this;\n\n\t\t\t\t\t// Sync dimensions and alignment with editor wrapper\n\n\t\t\t\t\tconst stylesJSON = instance.element.getAttribute(\n\t\t\t\t\t\t'data-styles'\n\t\t\t\t\t);\n\n\t\t\t\t\tlet styles = stylesJSON ? JSON.parse(stylesJSON) : null;\n\n\t\t\t\t\tif (!styles) {\n\t\t\t\t\t\tconst iframe = instance.wrapper.findOne('iframe');\n\n\t\t\t\t\t\tconst bounds = instance.wrapper.$.getBoundingClientRect();\n\t\t\t\t\t\tconst width = iframe.getAttribute('width');\n\n\t\t\t\t\t\tconst pwidth =\n\t\t\t\t\t\t\twidth >= bounds.width\n\t\t\t\t\t\t\t\t? 100\n\t\t\t\t\t\t\t\t: Math.round((width / bounds.width) * 100);\n\n\t\t\t\t\t\tstyles = {\n\t\t\t\t\t\t\twidth: `${pwidth}%`,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tinstance.wrapper.setAttribute(\n\t\t\t\t\t\t'style',\n\t\t\t\t\t\tCKEDITOR.tools.writeCssText(styles)\n\t\t\t\t\t);\n\n\t\t\t\t\tif (editor._selectEmbedWidget === event.data.url) {\n\t\t\t\t\t\tselectWidget(editor);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tdowncast(widget) {\n\t\t\t\t\tconst embedContent = widget.children[0];\n\n\t\t\t\t\tembedContent.attributes.class =\n\t\t\t\t\t\t'embed-responsive embed-responsive-16by9';\n\n\t\t\t\t\tembedContent.attributes['data-styles'] = JSON.stringify(\n\t\t\t\t\t\tCKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\twidget.parent.attributes.style\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tembedContent.attributes.style =\n\t\t\t\t\t\twidget.parent.attributes.style;\n\n\t\t\t\t\treturn embedContent;\n\t\t\t\t},\n\n\t\t\t\tupcast(element, data) {\n\t\t\t\t\tconst embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\twindow.addEventListener(\n\t\t\t\t'resize',\n\t\t\t\t() => {\n\t\t\t\t\tresizer.hide();\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\n\t\t\t\t\t\t\tconst region = element.getClientRect();\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst imageElement = element.findOne(\n\t\t\t\t\t\t\t'img.cke_widget_mask'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresizer.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.on('destroy', () => {\n\t\t\t\tconst resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\t\tif (resizeElement) {\n\t\t\t\t\tresizeElement.remove();\n\t\t\t\t}\n\n\t\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t\t});\n\n\t\t\teditor.on('blur', () => {\n\t\t\t\tresizer.hide();\n\t\t\t});\n\n\t\t\teditor.filter.addElementCallback(element => {\n\t\t\t\tif ('data-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst mouseDownListener = event => {\n\t\t\t\tconst result = getSelectedElement(editor);\n\n\t\t\t\tcurrentAlignment = result.alignment;\n\t\t\t\tcurrentElement = result.element;\n\n\t\t\t\tif (resizer.isHandle(event.target)) {\n\t\t\t\t\tresizer.initDrag(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tresizer = new Resizer(editor, {\n\t\t\t\tonComplete(element, width, height) {\n\t\t\t\t\tresizeElement(element, width, height);\n\n\t\t\t\t\tif (currentAlignment && currentElement) {\n\t\t\t\t\t\tsetEmbedAlignment(currentElement, currentAlignment);\n\t\t\t\t\t}\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\t\t},\n\n\t\tafterInit: editor => {\n\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\tconst command = editor.getCommand('justify' + alignValue);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', event => {\n\t\t\t\t\t\tconst selectedElement = editor\n\t\t\t\t\t\t\t.getSelection()\n\t\t\t\t\t\t\t.getSelectedElement();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectedElement &&\n\t\t\t\t\t\t\tselectedElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst selectedEmbed = selectedElement.findOne(\n\t\t\t\t\t\t\t\t'[data-widget=\"embedurl\"] [data-embed-id]'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (selectedEmbed) {\n\t\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (embedAlignment === alignValue) {\n\t\t\t\t\t\t\t\t\tremoveEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrentElement = selectedElement;\n\t\t\t\t\t\t\t\tcurrentAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst imageElement = selectedElement.findOne(\n\t\t\t\t\t\t\t\t\t'img'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\t\tconst elementPath = new CKEDITOR.dom.elementPath(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\t\t\t\t\t\tconst command = editor.getCommand(\n\t\t\t\t\t\t\t\t\t\t'justify' + alignValue\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (command) {\n\t\t\t\t\t\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', event => {\n\t\t\t\t\t\tconst lastElement = event.data.path.lastElement;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlastElement &&\n\t\t\t\t\t\t\tlastElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\tlastElement.findOne('[data-widget] [data-embed-id]')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\tlastElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.sender.setState(\n\t\t\t\t\t\t\t\tembedAlignment === alignValue\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n\nexport default CKEDITOR.plugins.get('embedurl');\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport DragEvent from './DragEvent.es';\n\nconst IMAGE_HANDLES = ['tl', 'tr', 'bl', 'br'];\n\nconst POSITION_ELEMENT_FN = {\n\tbl(handle, left, top, box) {\n\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t},\n\tbr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t},\n\trm(handle, left, top, box) {\n\t\tpositionElement(\n\t\t\thandle,\n\t\t\tbox.width - 4 + left,\n\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t);\n\t},\n\ttl(handle, left, top, _box) {\n\t\tpositionElement(handle, left - 3, top - 3);\n\t},\n\ttr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t},\n};\n\nconst positionElement = (el, left, top) => {\n\tel.style.left = `${left}px`;\n\tel.style.top = `${top}px`;\n};\n\nconst getBoundingBox = (window, el) => {\n\tconst rect = el.getBoundingClientRect();\n\n\treturn {\n\t\theight: rect.height,\n\t\tleft: rect.left + window.pageXOffset,\n\t\ttop: rect.top + window.pageYOffset,\n\t\twidth: rect.width,\n\t};\n};\n\nclass Resizer {\n\tconstructor(editor, cfg = {}) {\n\t\tthis.cfg = cfg;\n\t\tthis.editor = editor;\n\n\t\tthis.document = editor.document ? editor.document.$ : document;\n\t\tthis.window = editor.window ? editor.window.$ : window;\n\n\t\tthis.box = null;\n\t\tthis.container = null;\n\t\tthis.handles = {};\n\t\tthis.preview = null;\n\t\tthis.previewBox = null;\n\t\tthis.result = null;\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.container = this.document.createElement('div');\n\t\tthis.container.id = 'ckimgrsz';\n\n\t\tthis.preview = this.document.createElement('span');\n\n\t\tthis.container.appendChild(this.preview);\n\n\t\tthis.handles = {};\n\n\t\tIMAGE_HANDLES.forEach(handleName => {\n\t\t\tthis.handles[handleName] = this.createHandle(handleName);\n\t\t});\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.container.appendChild(this.handles[keys[i]]);\n\t\t}\n\t}\n\n\tcreateHandle(name) {\n\t\tconst el = this.document.createElement('i');\n\n\t\tel.classList.add(name);\n\n\t\treturn el;\n\t}\n\n\tisHandle(el) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tlet result = false;\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tif (this.handles[keys[i]] === el) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tshow(el) {\n\t\tconst uiNode = this.editor.config.uiNode || document.body;\n\n\t\tthis.el = el;\n\n\t\tthis.box = getBoundingBox(this.window, this.el);\n\n\t\tpositionElement(\n\t\t\tthis.container,\n\t\t\tthis.box.left,\n\t\t\tthis.box.top + uiNode.scrollTop\n\t\t);\n\n\t\tuiNode.appendChild(this.container);\n\n\t\tthis.el.classList.add('ckimgrsz');\n\n\t\tthis.showHandles();\n\t}\n\n\thide() {\n\t\tconst elements = this.document.getElementsByClassName('ckimgrsz');\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t}\n\n\t\tthis.hideHandles();\n\n\t\tif (this.container.parentNode) {\n\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t}\n\t}\n\n\tinitDrag(event) {\n\t\tif (event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst drag = new DragEvent(this.window, this.document);\n\n\t\tdrag.onStart = () => {\n\t\t\tthis.showPreview();\n\n\t\t\tthis.isDragging = true;\n\n\t\t\tthis.editor.getSelection().lock();\n\t\t};\n\n\t\tdrag.onDrag = () => {\n\t\t\tthis.calculateSize(drag);\n\n\t\t\tconst editorBounds = this.editor.element.$.getBoundingClientRect();\n\n\t\t\tif (this.previewBox.width >= editorBounds.width) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.updatePreview();\n\n\t\t\tconst box = this.previewBox;\n\n\t\t\tthis.updateHandles(box, box.left, box.top);\n\t\t};\n\n\t\tdrag.onRelease = () => {\n\t\t\tthis.hidePreview();\n\n\t\t\tthis.isDragging = false;\n\n\t\t\tthis.hide();\n\n\t\t\tthis.editor.getSelection().unlock();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.onComplete = () => {\n\t\t\tthis.resizeComplete();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.start(event);\n\t}\n\n\tupdateHandles(box, left = 0, top = 0) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tPOSITION_ELEMENT_FN[keys[i]](this.handles[keys[i]], left, top, box);\n\t\t}\n\t}\n\n\tshowHandles() {\n\t\tthis.updateHandles(this.box);\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'block';\n\t\t}\n\t}\n\n\thideHandles() {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'none';\n\t\t}\n\t}\n\n\tshowPreview() {\n\t\tthis.calculateSize();\n\n\t\tthis.updatePreview();\n\n\t\tthis.preview.style.display = 'block';\n\t}\n\n\tupdatePreview() {\n\t\tpositionElement(\n\t\t\tthis.preview,\n\t\t\tthis.previewBox.left,\n\t\t\tthis.previewBox.top\n\t\t);\n\n\t\tthis.preview.style.height = `${this.previewBox.height}px`;\n\t\tthis.preview.style.width = `${this.previewBox.width}px`;\n\t}\n\n\thidePreview() {\n\t\tconst box = getBoundingBox(this.window, this.preview);\n\n\t\tthis.result = {\n\t\t\theight: box.height,\n\t\t\twidth: box.width,\n\t\t};\n\n\t\tthis.preview.style.display = 'none';\n\t}\n\n\tcalculateSize(data) {\n\t\tthis.previewBox = {\n\t\t\theight: this.box.height,\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: this.box.width,\n\t\t};\n\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst className = data.target.className;\n\n\t\tif (className.indexOf('r') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('b') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height + data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height - data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\tconst ratio = this.box.width / this.box.height;\n\n\t\t\tif (this.previewBox.width / this.previewBox.height > ratio) {\n\t\t\t\tthis.previewBox.height = Math.round(\n\t\t\t\t\tthis.previewBox.width / ratio\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.previewBox.width = Math.round(\n\t\t\t\t\tthis.previewBox.height * ratio\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.left = this.box.width - this.previewBox.width;\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.top = this.box.height - this.previewBox.height;\n\t\t}\n\t}\n\n\tresizeComplete() {\n\t\tthis.cfg.onComplete(this.el, this.result.width, this.result.height);\n\t}\n}\n\nexport {Resizer};\nexport default Resizer;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nclass DragEvent {\n\tconstructor(window, document) {\n\t\tthis.document = document;\n\t\tthis.window = window;\n\n\t\tthis.events = {\n\t\t\tkeydown: this.keydown.bind(this),\n\t\t\tmousemove: this.mousemove.bind(this),\n\t\t\tmouseup: this.mouseup.bind(this),\n\t\t};\n\t}\n\n\tstart(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.target = event.target;\n\n\t\tthis.className = this.target.className;\n\n\t\tthis.startPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.update(event);\n\n\t\tthis.document.addEventListener('keydown', this.events.keydown, false);\n\t\tthis.document.addEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.addEventListener('mouseup', this.events.mouseup, false);\n\n\t\tthis.document.body.classList.add(`dragging-${this.className}`);\n\n\t\tif (typeof this.onStart === 'function') {\n\t\t\tthis.onStart();\n\t\t}\n\t}\n\n\tupdate(event) {\n\t\tthis.currentPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.delta = {\n\t\t\tx: event.clientX - this.startPos.x,\n\t\t\ty: event.clientY - this.startPos.y,\n\t\t};\n\n\t\tthis.keys = {\n\t\t\talt: event.altKey,\n\t\t\tctrl: event.ctrlKey,\n\t\t\tshift: event.shiftKey,\n\t\t};\n\t}\n\n\tmousemove(event) {\n\t\tthis.update(event);\n\n\t\tif (typeof this.onDrag === 'function') {\n\t\t\tthis.onDrag();\n\t\t}\n\n\t\tif (event.which === 0) {\n\t\t\tthis.mouseup(event);\n\t\t}\n\t}\n\n\tkeydown(event) {\n\t\tif (event.keyCode === 27) {\n\t\t\tthis.release();\n\t\t}\n\t}\n\n\tmouseup(event) {\n\t\tthis.update(event);\n\n\t\tthis.release();\n\n\t\tif (typeof this.onComplete === 'function') {\n\t\t\tthis.onComplete();\n\t\t}\n\t}\n\n\trelease() {\n\t\tthis.document.body.classList.remove(`dragging-${this.className}`);\n\n\t\tthis.document.removeEventListener(\n\t\t\t'keydown',\n\t\t\tthis.events.keydown,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mouseup',\n\t\t\tthis.events.mouseup,\n\t\t\tfalse\n\t\t);\n\n\t\tif (typeof this.onRelease === 'function') {\n\t\t\tthis.onRelease();\n\t\t}\n\t}\n}\n\nexport {DragEvent};\nexport default DragEvent;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport SelectionTest from '../selections/selection-test';\n\nif (!CKEDITOR.plugins.get('ae_imagealignment')) {\n\t/**\n\t * Enum for supported image alignments\n\t * @type {Object}\n\t */\n\tconst IMAGE_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported image alignments\n\t * @type {Array}\n\t */\n\tconst ALIGN_VALUES = [\n\t\tIMAGE_ALIGNMENT.LEFT,\n\t\tIMAGE_ALIGNMENT.RIGHT,\n\t\tIMAGE_ALIGNMENT.CENTER,\n\t];\n\n\t/**\n\t * Necessary styles for the left|center|right alignment\n\t * @type {Array.<Object>}\n\t */\n\tconst IMAGE_STYLE_ALIGNMENT = {\n\t\t[IMAGE_ALIGNMENT.LEFT]: [\n\t\t\t{\n\t\t\t\tname: 'display',\n\t\t\t\tvalue: 'inline-block',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'float',\n\t\t\t\tvalue: 'left',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-right',\n\t\t\t\tvalue: '1.2rem',\n\t\t\t},\n\t\t],\n\t\t[IMAGE_ALIGNMENT.CENTER]: [\n\t\t\t{\n\t\t\t\tname: 'display',\n\t\t\t\tvalue: 'block',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-left',\n\t\t\t\tvalue: 'auto',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-right',\n\t\t\t\tvalue: 'auto',\n\t\t\t},\n\t\t],\n\t\t[IMAGE_ALIGNMENT.RIGHT]: [\n\t\t\t{\n\t\t\t\tname: 'display',\n\t\t\t\tvalue: 'inline-block',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'float',\n\t\t\t\tvalue: 'right',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'margin-left',\n\t\t\t\tvalue: '1.2rem',\n\t\t\t},\n\t\t],\n\t};\n\n\t/**\n\t * Retrieves the alignment value of an image.\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @return {String} The alignment value\n\t */\n\tconst getImageAlignment = function(image) {\n\t\tlet imageAlignment = image.getStyle('float');\n\n\t\tif (\n\t\t\t!imageAlignment ||\n\t\t\timageAlignment === 'inherit' ||\n\t\t\timageAlignment === 'none'\n\t\t) {\n\t\t\timageAlignment = image.getAttribute('align');\n\t\t}\n\n\t\tif (!imageAlignment) {\n\t\t\tlet centeredImage = IMAGE_STYLE_ALIGNMENT[\n\t\t\t\tIMAGE_ALIGNMENT.CENTER\n\t\t\t].every(style => {\n\t\t\t\tlet styleCheck = image.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(vendorPrefix => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\timage.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tif (!imageAlignment) {\n\t\t\t\tconst imageContainer = image.$.parentNode;\n\n\t\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\t\tIMAGE_STYLE_ALIGNMENT[IMAGE_ALIGNMENT.CENTER].forEach(\n\t\t\t\t\t\tstyle => {\n\t\t\t\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix => {\n\t\t\t\t\t\t\t\t\timage.setStyle(\n\t\t\t\t\t\t\t\t\t\tvendorPrefix + style.name,\n\t\t\t\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tcenteredImage = true;\n\t\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\timageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\tif (!CKEDITOR.env.edge && CKEDITOR.env.ie) {\n\t\t\tconst p = image.findOne('p');\n\t\t\tif (p) {\n\t\t\t\timageAlignment = p.getStyle('text-align');\n\t\t\t}\n\t\t}\n\n\t\treturn imageAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tconst removeImageAlignment = function(image, imageAlignment) {\n\t\tif (\n\t\t\timageAlignment === IMAGE_ALIGNMENT.LEFT ||\n\t\t\timageAlignment === IMAGE_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tif (imageAlignment === getImageAlignment(image)) {\n\t\t\t\timage.removeAttribute('align');\n\t\t\t}\n\t\t} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {\n\t\t\tconst imageContainer = image.$.parentNode;\n\n\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t}\n\t\t}\n\n\t\tconst styles = IMAGE_STYLE_ALIGNMENT[imageAlignment];\n\n\t\tif (styles) {\n\t\t\tstyles.forEach(style => {\n\t\t\t\timage.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix => {\n\t\t\t\t\t\timage.removeStyle(vendorPrefix + style.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be set\n\t */\n\tconst setImageAlignment = function(image, imageAlignment) {\n\t\tremoveImageAlignment(image, getImageAlignment(image));\n\n\t\tconst styles = IMAGE_STYLE_ALIGNMENT[imageAlignment];\n\n\t\tif (styles) {\n\t\t\tstyles.forEach(style => {\n\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix => {\n\t\t\t\t\t\timage.setStyle(vendorPrefix + style.name, style.value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * CKEditor plugin which modifies the justify commands to properly align images. This\n\t * plugin is an excerpt of CKEditor's original image one that can be found at\n\t * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js\n\t *\n\t * @class CKEDITOR.plugins.ae_imagealignment\n\t */\n\tCKEDITOR.plugins.add('ae_imagealignment', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method afterInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tafterInit(editor) {\n\t\t\tconst self = this;\n\n\t\t\tALIGN_VALUES.forEach(value => {\n\t\t\t\tconst command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', event => {\n\t\t\t\t\t\tconst selectionData = editor.getSelectionData();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectionData &&\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst image = selectionData.element;\n\n\t\t\t\t\t\t\tconst imageAlignment = getImageAlignment(image);\n\n\t\t\t\t\t\t\tif (imageAlignment === value) {\n\t\t\t\t\t\t\t\tremoveImageAlignment(image, value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetImageAlignment(image, value);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\tself.refreshCommands(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnew CKEDITOR.dom.elementPath(image)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', function(event) {\n\t\t\t\t\t\tconst selectionData = {\n\t\t\t\t\t\t\telement: event.data.path.lastElement,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst imageAlignment = getImageAlignment(\n\t\t\t\t\t\t\t\tselectionData.element\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\timageAlignment === value\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Forces a refresh of the modified justify commands. This is needed because the applied changes\n\t\t * do not modify the selection, so the refresh is never triggered and the UI does not update\n\t\t * properly until the next selectionChange event.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance\n\t\t * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image\n\t\t */\n\t\trefreshCommands(editor, elementPath) {\n\t\t\tALIGN_VALUES.forEach(value => {\n\t\t\t\tconst command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_pasteimages')) {\n\t/**\n\t * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_pasteimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t * @event beforeImageAdd\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event imageAdd\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_pasteimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.once('contentDom', () => {\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'paste',\n\t\t\t\t\tthis._onPaste,\n\t\t\t\t\tthis,\n\t\t\t\t\t{\n\t\t\t\t\t\teditor,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * The function creates an img element with src the image data as Data URI.\n\t\t * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed\n\t\t * params will be:\n\t\t * - `el` - the created img element\n\t\t * - `file` - the original pasted data\n\t\t *\n\t\t * @method _onPaste\n\t\t * @protected\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t */\n\t\t_onPaste(event) {\n\t\t\tif (event.data.$.clipboardData) {\n\t\t\t\tconst pastedData = event.data.$.clipboardData.items[0];\n\t\t\t\tconst editor = event.listenerData.editor;\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\tconst imageFile = pastedData.getAsFile();\n\n\t\t\t\t\treader.onload = function(event) {\n\t\t\t\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\t\t\t\timageFiles: imageFile,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\t\t'<img src=\"' + event.target.result + '\">'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertElement(el);\n\n\t\t\t\t\t\t\tconst imageData = {\n\t\t\t\t\t\t\t\tel,\n\t\t\t\t\t\t\t\tfile: imageFile,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\treader.readAsDataURL(imageFile);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_placeholder')) {\n\t/**\n\t * CKEDITOR enterMode config set the behavior of paragraphs\n\t * When the content is empty CKEDITOR keeps the enterMode string\n\t * into the content\n\t * @property\n\t * @type {string}\n\t */\n\tconst brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';\n\n\tconst enterModeEmptyValue = {\n\t\t1: ['<p>' + brFiller + '</p>'],\n\t\t2: ['', ' ', brFiller],\n\t\t3: ['<div>' + brFiller + '</div>'],\n\t};\n\n\t/**\n\t * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there\n\t * is no content to the editor, there will be hint to the user.\n\t *\n\t * @class CKEDITOR.plugins.ae_placeholder\n\t */\n\n\t/**\n\t * Specifies the placeholder class which have to be aded to editor when editor is not focused.\n\t *\n\t * @attribute placeholderClass\n\t * @default ae_placeholder\n\t * @type String\n\t */\n\n\tCKEDITOR.plugins.add('ae_placeholder', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'blur' and 'contentDom' event listeners.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\teditor.on('blur', this._checkEmptyData, this);\n\t\t\teditor.on('change', this._checkEmptyData, this);\n\t\t\teditor.on('focus', this._removePlaceholderClass, this);\n\t\t\teditor.once('contentDom', this._checkEmptyData, this);\n\t\t},\n\n\t\t/**\n\t\t * Removes any data from the content and adds a class,\n\t\t * specified by the \"placeholderClass\" config attribute.\n\t\t *\n\t\t * @protected\n\t\t * @method _checkEmptyData\n\t\t * @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n\t\t */\n\t\t_checkEmptyData(event) {\n\t\t\tconst editor = event.editor;\n\n\t\t\tconst editableNode = editor.editable();\n\n\t\t\tconst innerHtml = editableNode.$.innerHTML.trim();\n\n\t\t\tconst isEmpty = enterModeEmptyValue[editor.config.enterMode].some(\n\t\t\t\telement => {\n\t\t\t\t\treturn innerHtml === element;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (isEmpty) {\n\t\t\t\teditableNode.addClass(editor.config.placeholderClass);\n\t\t\t} else {\n\t\t\t\teditableNode.removeClass(editor.config.placeholderClass);\n\t\t\t}\n\t\t},\n\n\t\t/**\n             * Remove placeholder class when input is focused\n             *\n             * @protected\n             * @method _removePlaceholderClass\n             + @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n             */\n\t\t_removePlaceholderClass(event) {\n\t\t\tconst editor = event.editor;\n\n\t\t\tconst editorNode = new CKEDITOR.dom.element(editor.element.$);\n\n\t\t\teditorNode.removeClass(editor.config.placeholderClass);\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nif (!CKEDITOR.plugins.get('ae_selectionkeystrokes')) {\n\t/**\n\t * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This\n\t * can be used to trigger different reactions in the editor.\n\t *\n\t * @class CKEDITOR.plugins.ae_selectionkeystrokes\n\t */\n\tCKEDITOR.plugins.add('ae_selectionkeystrokes', {\n\t\trequires: 'ae_selectionregion',\n\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function adds a command to the editor for every defined selectionKeystroke\n\t\t * in the configuration and maps it to the specified keystroke.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit(editor) {\n\t\t\tif (editor.config.selectionKeystrokes) {\n\t\t\t\teditor.config.selectionKeystrokes.forEach(\n\t\t\t\t\tselectionKeystroke => {\n\t\t\t\t\t\tconst command = new CKEDITOR.command(editor, {\n\t\t\t\t\t\t\texec(editor) {\n\t\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\t\tmanualSelection:\n\t\t\t\t\t\t\t\t\t\tselectionKeystroke.selection,\n\t\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\t\tselectionData: editor.getSelectionData(),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst commandName =\n\t\t\t\t\t\t\t'selectionKeystroke' + selectionKeystroke.selection;\n\n\t\t\t\t\t\teditor.addCommand(commandName, command);\n\t\t\t\t\t\teditor.setKeystroke(\n\t\t\t\t\t\t\tselectionKeystroke.keys,\n\t\t\t\t\t\t\tcommandName\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif (!CKEDITOR.plugins.get('ae_tableresize')) {\n\tconst pxUnit = CKEDITOR.tools.cssLength;\n\n\tfunction getWidth(el) {\n\t\treturn CKEDITOR.env.ie\n\t\t\t? el.$.clientWidth\n\t\t\t: parseInt(el.getComputedStyle('width'), 10);\n\t}\n\n\tfunction getBorderWidth(element, side) {\n\t\tlet computed = element.getComputedStyle('border-' + side + '-width');\n\n\t\tconst borderMap = {\n\t\t\tthin: '0px',\n\t\t\tmedium: '1px',\n\t\t\tthick: '2px',\n\t\t};\n\n\t\tif (computed.indexOf('px') < 0) {\n\t\t\t// look up keywords\n\t\t\tif (\n\t\t\t\tcomputed in borderMap &&\n\t\t\t\telement.getComputedStyle('border-style') != 'none'\n\t\t\t) {\n\t\t\t\tcomputed = borderMap[computed];\n\t\t\t} else {\n\t\t\t\tcomputed = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn parseInt(computed, 10);\n\t}\n\n\t// Gets the table row that contains the most columns.\n\tfunction getMasterPillarRow(table) {\n\t\tconst $rows = table.$.rows;\n\n\t\tlet maxCells = 0;\n\n\t\tlet cellsCount;\n\n\t\tlet $elected;\n\n\t\tlet $tr;\n\n\t\tfor (let i = 0, len = $rows.length; i < len; i++) {\n\t\t\t$tr = $rows[i];\n\t\t\tcellsCount = $tr.cells.length;\n\n\t\t\tif (cellsCount > maxCells) {\n\t\t\t\tmaxCells = cellsCount;\n\t\t\t\t$elected = $tr;\n\t\t\t}\n\t\t}\n\n\t\treturn $elected;\n\t}\n\n\tfunction buildTableColumnPillars(table) {\n\t\tconst pillars = [];\n\n\t\tlet pillarIndex = -1;\n\n\t\tconst rtl = table.getComputedStyle('direction') === 'rtl';\n\n\t\t// Get the raw row element that cointains the most columns.\n\t\tconst $tr = getMasterPillarRow(table);\n\n\t\t// Get the tbody element and position, which will be used to set the\n\t\t// top and bottom boundaries.\n\t\tconst tbody = new CKEDITOR.dom.element(table.$.tBodies[0]);\n\n\t\tconst tbodyPosition = tbody.getDocumentPosition();\n\n\t\t// Loop thorugh all cells, building pillars after each one of them.\n\t\tfor (let i = 0, len = $tr.cells.length; i < len; i++) {\n\t\t\t// Both the current cell and the successive one will be used in the\n\t\t\t// pillar size calculation.\n\t\t\tconst td = new CKEDITOR.dom.element($tr.cells[i]);\n\n\t\t\tconst nextTd =\n\t\t\t\t$tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);\n\n\t\t\tpillarIndex += td.$.colSpan || 1;\n\n\t\t\t// Calculate the pillar boundary positions.\n\t\t\tlet pillarLeft;\n\t\t\tlet pillarRight;\n\n\t\t\tlet x = td.getDocumentPosition().x;\n\n\t\t\t// Calculate positions based on the current cell.\n\t\t\tif (rtl) {\n\t\t\t\tpillarRight = x + getBorderWidth(td, 'left');\n\t\t\t} else {\n\t\t\t\tpillarLeft = x + td.$.offsetWidth - getBorderWidth(td, 'right');\n\t\t\t}\n\n\t\t\t// Calculate positions based on the next cell, if available.\n\t\t\tif (nextTd) {\n\t\t\t\tx = nextTd.getDocumentPosition().x;\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tpillarLeft =\n\t\t\t\t\t\tx +\n\t\t\t\t\t\tnextTd.$.offsetWidth -\n\t\t\t\t\t\tgetBorderWidth(nextTd, 'right');\n\t\t\t\t} else {\n\t\t\t\t\tpillarRight = x + getBorderWidth(nextTd, 'left');\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Otherwise calculate positions based on the table (for last cell).\n\t\t\telse {\n\t\t\t\tx = table.getDocumentPosition().x;\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tpillarLeft = x;\n\t\t\t\t} else {\n\t\t\t\t\tpillarRight = x + table.$.offsetWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pillarWidth = Math.max(pillarRight - pillarLeft, 4);\n\n\t\t\t// The pillar should reflects exactly the shape of the hovered\n\t\t\t// column border line.\n\t\t\tpillars.push({\n\t\t\t\ttable,\n\t\t\t\tindex: pillarIndex,\n\t\t\t\tx: pillarLeft,\n\t\t\t\ty: tbodyPosition.y,\n\t\t\t\twidth: pillarWidth,\n\t\t\t\theight: tbody.$.offsetHeight,\n\t\t\t\trtl,\n\t\t\t});\n\t\t}\n\n\t\treturn pillars;\n\t}\n\n\tfunction getPillarAtPosition(pillars, positionX) {\n\t\tfor (let i = 0, len = pillars.length; i < len; i++) {\n\t\t\tconst pillar = pillars[i];\n\n\t\t\tif (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {\n\t\t\t\treturn pillar;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction cancel(evt) {\n\t\t(evt.data || evt).preventDefault();\n\t}\n\n\tfunction ColumnResizer(editor, pillar) {\n\t\tlet currentShift;\n\t\tlet leftShiftBoundary;\n\t\tlet leftSideCells;\n\t\tlet resizing;\n\t\tlet rightShiftBoundary;\n\t\tlet rightSideCells;\n\t\tlet startOffset;\n\n\t\tconst document = editor.document;\n\n\t\tconst resizer = CKEDITOR.dom.element.createFromHtml(\n\t\t\t'<div data-cke-temp=1 contenteditable=false unselectable=on ' +\n\t\t\t\t'style=\"position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' +\n\t\t\t\t'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10\"></div>',\n\t\t\tdocument\n\t\t);\n\n\t\tconst isResizing = (this.isResizing = function() {\n\t\t\treturn resizing;\n\t\t});\n\n\t\tconst move = (this.move = function(posX) {\n\t\t\tlet resizerNewPosition =\n\t\t\t\tposX - Math.round(resizer.$.offsetWidth / 2);\n\n\t\t\tif (isResizing) {\n\t\t\t\tif (\n\t\t\t\t\tresizerNewPosition === leftShiftBoundary ||\n\t\t\t\t\tresizerNewPosition === rightShiftBoundary\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresizerNewPosition = Math.max(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\tleftShiftBoundary\n\t\t\t\t);\n\t\t\t\tresizerNewPosition = Math.min(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\trightShiftBoundary\n\t\t\t\t);\n\n\t\t\t\tcurrentShift = resizerNewPosition - startOffset;\n\t\t\t}\n\n\t\t\tresizer.setStyle('left', pxUnit(resizerNewPosition));\n\t\t});\n\n\t\tfunction detach() {\n\t\t\tresizer.removeListener('mouseup', onMouseUp);\n\t\t\tresizer.removeListener('mousedown', onMouseDown);\n\t\t\tresizer.removeListener('mousemove', onMouseMove);\n\t\t}\n\n\t\tfunction resizeStart() {\n\t\t\t// Before starting to resize, figure out which cells to change\n\t\t\t// and the boundaries of this resizing shift.\n\n\t\t\tconst columnIndex = pillar.index;\n\n\t\t\tconst map = CKEDITOR.tools.buildTableMap(pillar.table);\n\n\t\t\tconst leftColumnCells = [];\n\n\t\t\tconst rightColumnCells = [];\n\n\t\t\tlet leftMinSize = Number.MAX_VALUE;\n\n\t\t\tlet rightMinSize = leftMinSize;\n\n\t\t\tconst rtl = pillar.rtl;\n\n\t\t\tfor (let i = 0, len = map.length; i < len; i++) {\n\t\t\t\tconst row = map[i];\n\n\t\t\t\tlet leftCell = row[columnIndex + (rtl ? 1 : 0)];\n\n\t\t\t\tlet rightCell = row[columnIndex + (rtl ? 0 : 1)];\n\n\t\t\t\tleftCell = leftCell && new CKEDITOR.dom.element(leftCell);\n\t\t\t\trightCell = rightCell && new CKEDITOR.dom.element(rightCell);\n\n\t\t\t\tif (!leftCell || !rightCell || !leftCell.equals(rightCell)) {\n\t\t\t\t\tif (leftCell) {\n\t\t\t\t\t\tleftMinSize = Math.min(leftMinSize, getWidth(leftCell));\n\t\t\t\t\t}\n\t\t\t\t\tif (rightCell) {\n\t\t\t\t\t\trightMinSize = Math.min(\n\t\t\t\t\t\t\trightMinSize,\n\t\t\t\t\t\t\tgetWidth(rightCell)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tleftColumnCells.push(leftCell);\n\t\t\t\t\trightColumnCells.push(rightCell);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cache the list of cells to be resized.\n\t\t\tleftSideCells = leftColumnCells;\n\t\t\trightSideCells = rightColumnCells;\n\n\t\t\t// Cache the resize limit boundaries.\n\t\t\tleftShiftBoundary = pillar.x - leftMinSize;\n\t\t\trightShiftBoundary = pillar.x + rightMinSize;\n\n\t\t\tresizer.setOpacity(0.5);\n\t\t\tstartOffset = parseInt(resizer.getStyle('left'), 10);\n\t\t\tcurrentShift = 0;\n\t\t\tresizing = 1;\n\n\t\t\tresizer.on('mousemove', onMouseMove);\n\n\t\t\t// Prevent the native drag behavior otherwise 'mousemove' won't fire.\n\t\t\tdocument.on('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeEnd() {\n\t\t\tresizing = 0;\n\n\t\t\tresizer.setOpacity(0);\n\n\t\t\tif (currentShift) {\n\t\t\t\tresizeColumn();\n\t\t\t}\n\n\t\t\tconst table = pillar.table;\n\t\t\tsetTimeout(() => {\n\t\t\t\ttable.removeCustomData('_cke_table_pillars');\n\t\t\t}, 0);\n\n\t\t\tdocument.removeListener('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeColumn() {\n\t\t\tconst rtl = pillar.rtl;\n\n\t\t\tconst cellsCount = rtl\n\t\t\t\t? rightSideCells.length\n\t\t\t\t: leftSideCells.length;\n\n\t\t\t// Perform the actual resize to table cells, only for those by side of the pillar.\n\t\t\tfor (let i = 0; i < cellsCount; i++) {\n\t\t\t\tconst leftCell = leftSideCells[i];\n\n\t\t\t\tconst rightCell = rightSideCells[i];\n\n\t\t\t\tconst table = pillar.table;\n\n\t\t\t\t// Defer the resizing to avoid any interference among cells.\n\t\t\t\tCKEDITOR.tools.setTimeout(\n\t\t\t\t\t(\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftOldWidth,\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightOldWidth,\n\t\t\t\t\t\ttableWidth,\n\t\t\t\t\t\tsizeShift\n\t\t\t\t\t) => {\n\t\t\t\t\t\t// 1px is the minimum valid width (#11626).\n\t\t\t\t\t\tif (leftCell) {\n\t\t\t\t\t\t\tleftCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(leftOldWidth + sizeShift, 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rightCell) {\n\t\t\t\t\t\t\trightCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(rightOldWidth - sizeShift, 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we're in the last cell, we need to resize the table as well\n\t\t\t\t\t\tif (tableWidth) {\n\t\t\t\t\t\t\ttable.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(tableWidth + sizeShift * (rtl ? -1 : 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t0,\n\t\t\t\t\tthis,\n\t\t\t\t\t[\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftCell && getWidth(leftCell),\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightCell && getWidth(rightCell),\n\t\t\t\t\t\t(!leftCell || !rightCell) &&\n\t\t\t\t\t\t\tgetWidth(table) +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'left') +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'right'),\n\t\t\t\t\t\tcurrentShift,\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseDown(evt) {\n\t\t\tcancel(evt);\n\n\t\t\tresizeStart();\n\n\t\t\tdocument.on('mouseup', onMouseUp, this);\n\t\t}\n\n\t\tfunction onMouseUp(evt) {\n\t\t\tevt.removeListener();\n\n\t\t\tresizeEnd();\n\t\t}\n\n\t\tfunction onMouseMove(evt) {\n\t\t\tmove(evt.data.getPageOffset().x);\n\t\t}\n\n\t\t// Clean DOM when editor is destroyed.\n\t\teditor.on('destroy', () => {\n\t\t\tdetach();\n\n\t\t\tresizer.remove();\n\t\t});\n\n\t\t// Place the resizer after body to prevent it\n\t\t// from being editable.\n\t\tdocument.getDocumentElement().append(resizer);\n\n\t\tresizer.setStyles({\n\t\t\twidth: pxUnit(pillar.width),\n\t\t\theight: pxUnit(pillar.height),\n\t\t\tleft: pxUnit(pillar.x),\n\t\t\ttop: pxUnit(pillar.y),\n\t\t});\n\n\t\tresizer.on('mousedown', onMouseDown, this);\n\n\t\tdocument.getBody().setStyle('cursor', 'col-resize');\n\n\t\t// Display the resizer to receive events but don't show it,\n\t\t// only change the cursor to resizable shape.\n\t\tresizer.show();\n\n\t\tthis.destroy = function() {\n\t\t\tdetach();\n\n\t\t\tdocument.getBody().setStyle('cursor', 'auto');\n\n\t\t\tresizer.remove();\n\t\t};\n\t}\n\n\tfunction clearPillarsCache(evt) {\n\t\tconst target = evt.data.getTarget();\n\n\t\tif (evt.name === 'mouseout') {\n\t\t\t// Bypass interal mouse move.\n\t\t\tif (!target.is('table')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet dest = new CKEDITOR.dom.element(\n\t\t\t\tevt.data.$.relatedTarget || evt.data.$.toElement\n\t\t\t);\n\t\t\twhile (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {\n\t\t\t\tdest = dest.getParent();\n\t\t\t}\n\t\t\tif (!dest || dest.equals(target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\ttarget.getAscendant('table', 1).removeCustomData('_cke_table_pillars');\n\t\tevt.removeListener();\n\t}\n\n\tCKEDITOR.plugins.add('ae_tableresize', {\n\t\trequires: 'ae_tabletools',\n\n\t\tinit(editor) {\n\t\t\teditor.on('contentDom', () => {\n\t\t\t\tlet resizer;\n\n\t\t\t\tconst editable = editor.editable();\n\n\t\t\t\t// In Classic editor it is better to use document\n\t\t\t\t// instead of editable so event will work below body.\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable.isInline() ? editable : editor.document,\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tevt => {\n\t\t\t\t\t\tevt = evt.data;\n\n\t\t\t\t\t\tconst target = evt.getTarget();\n\n\t\t\t\t\t\t// FF may return document and IE8 some UFO (object with no nodeType property...)\n\t\t\t\t\t\t// instead of an element (#11823).\n\t\t\t\t\t\tif (target.type !== CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst pageX = evt.getPageOffset().x;\n\n\t\t\t\t\t\t// If we're already attached to a pillar, simply move the\n\t\t\t\t\t\t// resizer.\n\t\t\t\t\t\tif (resizer) {\n\t\t\t\t\t\t\tif (resizer.isResizing()) {\n\t\t\t\t\t\t\t\tresizer.move(pageX);\n\n\t\t\t\t\t\t\t\tcancel(evt);\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresizer.destroy();\n\n\t\t\t\t\t\t\t\tresizer = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Considering table, tr, td, tbody but nothing else.\n\t\t\t\t\t\tlet pillars;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!target.is('table') &&\n\t\t\t\t\t\t\t!target.getAscendant('tbody', 1)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst table = target.getAscendant('table', 1);\n\n\t\t\t\t\t\t// Make sure the table we found is inside the container\n\t\t\t\t\t\t// (eg. we should not use tables the editor is embedded within)\n\t\t\t\t\t\tif (!editor.editable().contains(table)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!(pillars = table.getCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars'\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Cache table pillars calculation result.\n\t\t\t\t\t\t\ttable.setCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars',\n\t\t\t\t\t\t\t\t(pillars = buildTableColumnPillars(table))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttable.on('mouseout', clearPillarsCache);\n\t\t\t\t\t\t\ttable.on('mousedown', clearPillarsCache);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst pillar = getPillarAtPosition(pillars, pageX);\n\n\t\t\t\t\t\tif (pillar) {\n\t\t\t\t\t\t\tresizer = new ColumnResizer(editor, pillar);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nif (!CKEDITOR.plugins.get('ae_tabletools')) {\n\tconst cellNodeRegex = /^(?:td|th)$/;\n\n\tfunction getSelectedCells(selection) {\n\t\tif(!selection) {\n\t\t\treturn null;\n\t\t}\n\t\tconst ranges = selection.getRanges();\n\t\tconst retval = [];\n\t\tconst database = {};\n\n\t\tfunction moveOutOfCellGuard(node) {\n\t\t\t// Apply to the first cell only.\n\t\t\tif (retval.length > 0) return;\n\n\t\t\t// If we are exiting from the first </td>, then the td should definitely be\n\t\t\t// included.\n\t\t\tif (\n\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcellNodeRegex.test(node.getName()) &&\n\t\t\t\t!node.getCustomData('selected_cell')\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\tdatabase,\n\t\t\t\t\tnode,\n\t\t\t\t\t'selected_cell',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tretval.push(node);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < ranges.length; i++) {\n\t\t\tconst range = ranges[i];\n\n\t\t\tif (range.collapsed) {\n\t\t\t\t// Walker does not handle collapsed ranges yet - fall back to old API.\n\t\t\t\tconst startNode = range.getCommonAncestor();\n\t\t\t\tconst nearestCell =\n\t\t\t\t\tstartNode.getAscendant('td', true) ||\n\t\t\t\t\tstartNode.getAscendant('th', true);\n\t\t\t\tif (nearestCell) retval.push(nearestCell);\n\t\t\t} else {\n\t\t\t\tconst walker = new CKEDITOR.dom.walker(range);\n\t\t\t\tlet node;\n\t\t\t\twalker.guard = moveOutOfCellGuard;\n\n\t\t\t\twhile ((node = walker.next())) {\n\t\t\t\t\t// If may be possible for us to have a range like this:\n\t\t\t\t\t// <td>^1</td><td>^2</td>\n\t\t\t\t\t// The 2nd td shouldn't be included.\n\t\t\t\t\t//\n\t\t\t\t\t// So we have to take care to include a td we've entered only when we've\n\t\t\t\t\t// walked into its children.\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnode.type != CKEDITOR.NODE_ELEMENT ||\n\t\t\t\t\t\t!node.is(CKEDITOR.dtd.table)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst parent =\n\t\t\t\t\t\t\tnode.getAscendant('td', true) ||\n\t\t\t\t\t\t\tnode.getAscendant('th', true);\n\t\t\t\t\t\tif (parent && !parent.getCustomData('selected_cell')) {\n\t\t\t\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\t\t\t\tdatabase,\n\t\t\t\t\t\t\t\tparent,\n\t\t\t\t\t\t\t\t'selected_cell',\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tretval.push(parent);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\treturn retval;\n\t}\n\n\tfunction getFocusElementAfterDelCells(cellsToDelete) {\n\t\tlet i = 0;\n\n\t\tconst last = cellsToDelete.length - 1;\n\n\t\tconst database = {};\n\n\t\tlet cell;\n\n\t\tlet focusedCell;\n\n\t\tlet tr;\n\n\t\twhile ((cell = cellsToDelete[i++]))\n\t\t\tCKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);\n\n\t\t// 1.first we check left or right side focusable cell row by row;\n\t\ti = 0;\n\t\twhile ((cell = cellsToDelete[i++])) {\n\t\t\tif (\n\t\t\t\t((focusedCell = cell.getPrevious()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell')) ||\n\t\t\t\t((focusedCell = cell.getNext()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell'))\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\t\t\t\treturn focusedCell;\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\t// 2. then we check the toppest row (outside the selection area square) focusable cell\n\t\ttr = cellsToDelete[0].getParent();\n\t\tif ((tr = tr.getPrevious())) return tr.getLast();\n\n\t\t// 3. last we check the lowerest  row focusable cell\n\t\ttr = cellsToDelete[last].getParent();\n\t\tif ((tr = tr.getNext())) return tr.getChild(0);\n\n\t\treturn null;\n\t}\n\n\tfunction insertRow(selection, insertBefore) {\n\t\tconst cells = getSelectedCells(selection);\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst doc = firstCell.getDocument();\n\n\t\tconst startRow = cells[0].getParent();\n\n\t\tconst startRowIndex = startRow.$.rowIndex;\n\n\t\tconst lastCell = cells[cells.length - 1];\n\n\t\tconst endRowIndex =\n\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\tconst endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]);\n\n\t\tconst rowIndex = insertBefore ? startRowIndex : endRowIndex;\n\n\t\tconst row = insertBefore ? startRow : endRow;\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst cloneRow = map[rowIndex];\n\n\t\tconst nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1];\n\n\t\tconst width = map[0].length;\n\n\t\tconst newRow = doc.createElement('tr');\n\t\tfor (let i = 0; cloneRow[i] && i < width; i++) {\n\t\t\tlet cell;\n\t\t\t// Check whether there's a spanning row here, do not break it.\n\t\t\tif (\n\t\t\t\tcloneRow[i].rowSpan > 1 &&\n\t\t\t\tnextRow &&\n\t\t\t\tcloneRow[i] == nextRow[i]\n\t\t\t) {\n\t\t\t\tcell = cloneRow[i];\n\t\t\t\tcell.rowSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneRow[i]).clone();\n\t\t\t\tcell.removeAttribute('rowSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tnewRow.append(cell);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.colSpan - 1;\n\t\t}\n\n\t\tif (insertBefore) {\n\t\t\tnewRow.insertBefore(row);\n\t\t} else {\n\t\t\tnewRow.insertAfter(row);\n\t\t}\n\t}\n\n\tfunction deleteRows(selectionOrRow) {\n\t\tif (selectionOrRow instanceof CKEDITOR.dom.selection) {\n\t\t\tconst cells = getSelectedCells(selectionOrRow);\n\n\t\t\tconst firstCell = cells[0];\n\n\t\t\tconst table = firstCell.getAscendant('table');\n\n\t\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\t\tconst startRow = cells[0].getParent();\n\n\t\t\tconst startRowIndex = startRow.$.rowIndex;\n\n\t\t\tconst lastCell = cells[cells.length - 1];\n\n\t\t\tconst endRowIndex =\n\t\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\t\tconst rowsToDelete = [];\n\n\t\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\t\tfor (let i = startRowIndex; i <= endRowIndex; i++) {\n\t\t\t\tconst mapRow = map[i];\n\n\t\t\t\tconst row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tfor (let j = 0; j < mapRow.length; j++) {\n\t\t\t\t\tconst cell = new CKEDITOR.dom.element(mapRow[j]);\n\n\t\t\t\t\tconst cellRowIndex = cell.getParent().$.rowIndex;\n\n\t\t\t\t\tif (cell.$.rowSpan == 1) cell.remove();\n\t\t\t\t\t// Row spanned cell.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Span row of the cell, reduce spanning.\n\t\t\t\t\t\tcell.$.rowSpan -= 1;\n\t\t\t\t\t\t// Root row of the cell, root cell to next row.\n\t\t\t\t\t\tif (cellRowIndex == i) {\n\t\t\t\t\t\t\tconst nextMapRow = map[i + 1];\n\t\t\t\t\t\t\tif (nextMapRow[j - 1]) {\n\t\t\t\t\t\t\t\tcell.insertAfter(\n\t\t\t\t\t\t\t\t\tnew CKEDITOR.dom.element(nextMapRow[j - 1])\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnew CKEDITOR.dom.element(\n\t\t\t\t\t\t\t\t\ttable.$.rows[i + 1]\n\t\t\t\t\t\t\t\t).append(cell, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tj += cell.$.colSpan - 1;\n\t\t\t\t}\n\n\t\t\t\trowsToDelete.push(row);\n\t\t\t}\n\n\t\t\tconst rows = table.$.rows;\n\n\t\t\t// Where to put the cursor after rows been deleted?\n\t\t\t// 1. Into next sibling row if any;\n\t\t\t// 2. Into previous sibling row if any;\n\t\t\t// 3. Into table's parent element if it's the very last row.\n\t\t\tconst cursorPosition = new CKEDITOR.dom.element(\n\t\t\t\trows[endRowIndex + 1] ||\n\t\t\t\t\t(startRowIndex > 0 ? rows[startRowIndex - 1] : null) ||\n\t\t\t\t\ttable.$.parentNode\n\t\t\t);\n\n\t\t\tfor (let i = rowsToDelete.length; i >= 0; i--)\n\t\t\t\tdeleteRows(rowsToDelete[i]);\n\n\t\t\treturn cursorPosition;\n\t\t} else if (selectionOrRow instanceof CKEDITOR.dom.element) {\n\t\t\tconst table = selectionOrRow.getAscendant('table');\n\n\t\t\tif (table.$.rows.length == 1) table.remove();\n\t\t\telse selectionOrRow.remove();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getCellColIndex(cell, isStart) {\n\t\tconst row = cell.getParent();\n\n\t\tconst rowCells = row.$.cells;\n\n\t\tlet colIndex = 0;\n\t\tfor (let i = 0; i < rowCells.length; i++) {\n\t\t\tconst mapCell = rowCells[i];\n\t\t\tcolIndex += isStart ? 1 : mapCell.colSpan;\n\t\t\tif (mapCell == cell.$) break;\n\t\t}\n\n\t\treturn colIndex - 1;\n\t}\n\n\tfunction getColumnsIndices(cells, isStart) {\n\t\tlet retval = isStart ? Infinity : 0;\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tconst colIndex = getCellColIndex(cells[i], isStart);\n\t\t\tif (isStart ? colIndex < retval : colIndex > retval)\n\t\t\t\tretval = colIndex;\n\t\t}\n\t\treturn retval;\n\t}\n\n\tfunction insertColumn(selection, insertBefore) {\n\t\tconst cells = getSelectedCells(selection);\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst startCol = getColumnsIndices(cells, 1);\n\n\t\tconst lastCol = getColumnsIndices(cells);\n\n\t\tconst colIndex = insertBefore ? startCol : lastCol;\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst cloneCol = [];\n\n\t\tconst nextCol = [];\n\n\t\tconst height = map.length;\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tcloneCol.push(map[i][colIndex]);\n\t\t\tconst nextCell = insertBefore\n\t\t\t\t? map[i][colIndex - 1]\n\t\t\t\t: map[i][colIndex + 1];\n\t\t\tnextCol.push(nextCell);\n\t\t}\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tlet cell;\n\n\t\t\tif (!cloneCol[i]) continue;\n\n\t\t\t// Check whether there's a spanning column here, do not break it.\n\t\t\tif (cloneCol[i].colSpan > 1 && nextCol[i] == cloneCol[i]) {\n\t\t\t\tcell = cloneCol[i];\n\t\t\t\tcell.colSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneCol[i]).clone();\n\t\t\t\tcell.removeAttribute('colSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tcell[insertBefore ? 'insertBefore' : 'insertAfter'].call(\n\t\t\t\t\tcell,\n\t\t\t\t\tnew CKEDITOR.dom.element(cloneCol[i])\n\t\t\t\t);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.rowSpan - 1;\n\t\t}\n\t}\n\n\tfunction deleteColumns(selectionOrCell) {\n\t\tconst cells = getSelectedCells(selectionOrCell);\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst lastCell = cells[cells.length - 1];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet startColIndex;\n\n\t\tlet endColIndex;\n\n\t\tconst rowsToDelete = [];\n\n\t\tlet rows;\n\n\t\t// Figure out selected cells' column indices.\n\t\tfor (let i = 0, rows = map.length; i < rows; i++) {\n\t\t\t// eslint-disable-next-line sort-vars\n\t\t\tfor (let j = 0, cols = map[i].length; j < cols; j++) {\n\t\t\t\tif (map[i][j] == firstCell.$) startColIndex = j;\n\t\t\t\tif (map[i][j] == lastCell.$) endColIndex = j;\n\t\t\t}\n\t\t}\n\n\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\tfor (let i = startColIndex; i <= endColIndex; i++) {\n\t\t\tfor (let j = 0; j < map.length; j++) {\n\t\t\t\tconst mapRow = map[j];\n\n\t\t\t\tconst row = new CKEDITOR.dom.element(table.$.rows[j]);\n\n\t\t\t\tconst cell = new CKEDITOR.dom.element(mapRow[i]);\n\n\t\t\t\tif (cell.$) {\n\t\t\t\t\tif (cell.$.colSpan == 1) cell.remove();\n\t\t\t\t\t// Reduce the col spans.\n\t\t\t\t\telse cell.$.colSpan -= 1;\n\n\t\t\t\t\tj += cell.$.rowSpan - 1;\n\n\t\t\t\t\tif (!row.$.cells.length) rowsToDelete.push(row);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst firstRowCells = table.$.rows[0] && table.$.rows[0].cells;\n\n\t\t// Where to put the cursor after columns been deleted?\n\t\t// 1. Into next cell of the first row if any;\n\t\t// 2. Into previous cell of the first row if any;\n\t\t// 3. Into table's parent element;\n\t\tconst cursorPosition = new CKEDITOR.dom.element(\n\t\t\tfirstRowCells[startColIndex] ||\n\t\t\t\t(startColIndex\n\t\t\t\t\t? firstRowCells[startColIndex - 1]\n\t\t\t\t\t: table.$.parentNode)\n\t\t);\n\n\t\t// Delete table rows only if all columns are gone (do not remove empty row).\n\t\tif (rowsToDelete.length == rows) table.remove();\n\n\t\treturn cursorPosition;\n\t}\n\n\tfunction insertCell(selection, insertBefore) {\n\t\tconst startElement = selection.getStartElement();\n\t\tconst cell =\n\t\t\tstartElement.getAscendant('td', 1) ||\n\t\t\tstartElement.getAscendant('th', 1);\n\n\t\tif (!cell) return;\n\n\t\t// Create the new cell element to be added.\n\t\tconst newCell = cell.clone();\n\t\tnewCell.appendBogus();\n\n\t\tif (insertBefore) newCell.insertBefore(cell);\n\t\telse newCell.insertAfter(cell);\n\t}\n\n\tfunction deleteCells(selectionOrCell) {\n\t\tif (selectionOrCell instanceof CKEDITOR.dom.selection) {\n\t\t\tconst cellsToDelete = getSelectedCells(selectionOrCell);\n\t\t\tconst table =\n\t\t\t\tcellsToDelete[0] && cellsToDelete[0].getAscendant('table');\n\t\t\tconst cellToFocus = getFocusElementAfterDelCells(cellsToDelete);\n\n\t\t\tfor (let i = cellsToDelete.length - 1; i >= 0; i--)\n\t\t\t\tdeleteCells(cellsToDelete[i]);\n\n\t\t\tif (cellToFocus) placeCursorInCell(cellToFocus, true);\n\t\t\telse if (table) table.remove();\n\t\t} else if (selectionOrCell instanceof CKEDITOR.dom.element) {\n\t\t\tconst tr = selectionOrCell.getParent();\n\t\t\tif (tr.getChildCount() == 1) tr.remove();\n\t\t\telse selectionOrCell.remove();\n\t\t}\n\t}\n\n\t// Remove filler at end and empty spaces around the cell content.\n\tfunction trimCell(cell) {\n\t\tconst bogus = cell.getBogus();\n\t\tif (bogus) {\n\t\t\tbogus.remove();\n\t\t}\n\t\tcell.trim();\n\t}\n\n\tfunction placeCursorInCell(cell, placeAtEnd) {\n\t\tconst docInner = cell.getDocument();\n\n\t\tconst docOuter = CKEDITOR.document;\n\n\t\t// Fixing \"Unspecified error\" thrown in IE10 by resetting\n\t\t// selection the dirty and shameful way (#10308).\n\t\t// We can not apply this hack to IE8 because\n\t\t// it causes error (#11058).\n\t\tif (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {\n\t\t\tdocOuter.focus();\n\t\t\tdocInner.focus();\n\t\t}\n\n\t\tconst range = new CKEDITOR.dom.range(docInner);\n\t\tif (\n\t\t\t!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)\n\t\t) {\n\t\t\trange.selectNodeContents(cell);\n\t\t\trange.collapse(placeAtEnd ? false : true);\n\t\t}\n\t\trange.select(true);\n\t}\n\n\tfunction cellInRow(tableMap, rowIndex, cell) {\n\t\tconst oRow = tableMap[rowIndex];\n\t\tif (typeof cell == 'undefined') return oRow;\n\n\t\tfor (let c = 0; oRow && c < oRow.length; c++) {\n\t\t\tif (cell.is && oRow[c] == cell.$) return c;\n\t\t\telse if (c == cell) return new CKEDITOR.dom.element(oRow[c]);\n\t\t}\n\t\treturn cell.is ? -1 : null;\n\t}\n\n\tfunction cellInCol(tableMap, colIndex) {\n\t\tconst oCol = [];\n\t\tfor (let r = 0; r < tableMap.length; r++) {\n\t\t\tconst row = tableMap[r];\n\t\t\toCol.push(row[colIndex]);\n\n\t\t\t// Avoid adding duplicate cells.\n\t\t\tif (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;\n\t\t}\n\t\treturn oCol;\n\t}\n\n\tfunction mergeCells(selection, mergeDirection, isDetect) {\n\t\tconst cells = getSelectedCells(selection);\n\n\t\t// Invalid merge request if:\n\t\t// 1. In batch mode despite that less than two selected.\n\t\t// 2. In solo mode while not exactly only one selected.\n\t\t// 3. Cells distributed in different table groups (e.g. from both thead and tbody).\n\t\tlet commonAncestor;\n\t\tif (\n\t\t\t(mergeDirection ? cells.length != 1 : cells.length < 2) ||\n\t\t\t((commonAncestor = selection.getCommonAncestor()) &&\n\t\t\t\tcommonAncestor.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcommonAncestor.is('table'))\n\t\t)\n\t\t\treturn false;\n\n\t\tlet cell;\n\n\t\tconst firstCell = cells[0];\n\n\t\tconst table = firstCell.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst mapHeight = map.length;\n\n\t\tconst mapWidth = map[0].length;\n\n\t\tconst startRow = firstCell.getParent().$.rowIndex;\n\n\t\tconst startColumn = cellInRow(map, startRow, firstCell);\n\n\t\tif (mergeDirection) {\n\t\t\tlet targetCell;\n\t\t\ttry {\n\t\t\t\tconst rowspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('rowspan'), 10) || 1;\n\t\t\t\tconst colspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('colspan'), 10) || 1;\n\n\t\t\t\ttargetCell =\n\t\t\t\t\tmap[\n\t\t\t\t\t\tmergeDirection == 'up'\n\t\t\t\t\t\t\t? startRow - rowspan\n\t\t\t\t\t\t\t: mergeDirection == 'down'\n\t\t\t\t\t\t\t? startRow + rowspan\n\t\t\t\t\t\t\t: startRow\n\t\t\t\t\t][\n\t\t\t\t\t\tmergeDirection == 'left'\n\t\t\t\t\t\t\t? startColumn - colspan\n\t\t\t\t\t\t\t: mergeDirection == 'right'\n\t\t\t\t\t\t\t? startColumn + colspan\n\t\t\t\t\t\t\t: startColumn\n\t\t\t\t\t];\n\t\t\t} catch (er) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 1. No cell could be merged.\n\t\t\t// 2. Same cell actually.\n\t\t\tif (!targetCell || firstCell.$ == targetCell) return false;\n\n\t\t\t// Sort in map order regardless of the DOM sequence.\n\t\t\tcells[\n\t\t\t\tmergeDirection == 'up' || mergeDirection == 'left'\n\t\t\t\t\t? 'unshift'\n\t\t\t\t\t: 'push'\n\t\t\t](new CKEDITOR.dom.element(targetCell));\n\t\t}\n\n\t\t// Start from here are merging way ignorance (merge up/right, batch merge).\n\t\tconst doc = firstCell.getDocument();\n\n\t\tlet lastRowIndex = startRow;\n\n\t\tlet totalRowSpan = 0;\n\n\t\tlet totalColSpan = 0;\n\n\t\t// Use a documentFragment as buffer when appending cell contents.\n\n\t\tconst frag = !isDetect && new CKEDITOR.dom.documentFragment(doc);\n\n\t\tlet dimension = 0;\n\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tcell = cells[i];\n\n\t\t\tconst tr = cell.getParent();\n\n\t\t\tconst cellFirstChild = cell.getFirst();\n\n\t\t\tconst colSpan = cell.$.colSpan;\n\n\t\t\tconst rowSpan = cell.$.rowSpan;\n\n\t\t\tconst rowIndex = tr.$.rowIndex;\n\n\t\t\tconst colIndex = cellInRow(map, rowIndex, cell);\n\n\t\t\t// Accumulated the actual places taken by all selected cells.\n\t\t\tdimension += colSpan * rowSpan;\n\t\t\t// Accumulated the maximum virtual spans from column and row.\n\t\t\ttotalColSpan = Math.max(\n\t\t\t\ttotalColSpan,\n\t\t\t\tcolIndex - startColumn + colSpan\n\t\t\t);\n\t\t\ttotalRowSpan = Math.max(\n\t\t\t\ttotalRowSpan,\n\t\t\t\trowIndex - startRow + rowSpan\n\t\t\t);\n\n\t\t\tif (!isDetect) {\n\t\t\t\t// Trim all cell fillers and check to remove empty cells.\n\t\t\t\tif ((trimCell(cell), cell.getChildren().count())) {\n\t\t\t\t\t// Merge vertically cells as two separated paragraphs.\n\t\t\t\t\tif (\n\t\t\t\t\t\trowIndex != lastRowIndex &&\n\t\t\t\t\t\tcellFirstChild &&\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary &&\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary({br: 1})\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst last = frag.getLast(\n\t\t\t\t\t\t\tCKEDITOR.dom.walker.whitespaces(true)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (last && !(last.is && last.is('br')))\n\t\t\t\t\t\t\tfrag.append('br');\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.moveChildren(frag);\n\t\t\t\t}\n\t\t\t\tif (i) {\n\t\t\t\t\tcell.remove();\n\t\t\t\t} else {\n\t\t\t\t\tcell.setHtml('');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastRowIndex = rowIndex;\n\t\t}\n\n\t\tif (!isDetect) {\n\t\t\tfrag.moveChildren(firstCell);\n\n\t\t\tfirstCell.appendBogus();\n\n\t\t\tif (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');\n\t\t\telse firstCell.$.rowSpan = totalRowSpan;\n\n\t\t\tif (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');\n\t\t\telse firstCell.$.colSpan = totalColSpan;\n\n\t\t\t// Swip empty <tr> left at the end of table due to the merging.\n\t\t\tconst trs = new CKEDITOR.dom.nodeList(table.$.rows);\n\n\t\t\tlet count = trs.count();\n\n\t\t\tfor (let i = count - 1; i >= 0; i--) {\n\t\t\t\tconst tailTr = trs.getItem(i);\n\t\t\t\tif (!tailTr.$.cells.length) {\n\t\t\t\t\ttailTr.remove();\n\t\t\t\t\tcount++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn firstCell;\n\t\t}\n\t\t// Be able to merge cells only if actual dimension of selected\n\t\t// cells equals to the caculated rectangle.\n\t\telse {\n\t\t\treturn totalRowSpan * totalColSpan == dimension;\n\t\t}\n\t}\n\n\tfunction verticalSplitCell(selection, isDetect) {\n\t\tconst cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tconst cell = cells[0];\n\n\t\tconst tr = cell.getParent();\n\n\t\tconst table = tr.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst rowIndex = tr.$.rowIndex;\n\n\t\tconst colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tconst rowSpan = cell.$.rowSpan;\n\n\t\tlet newCell;\n\n\t\tlet newRowSpan;\n\n\t\tlet newCellRowSpan;\n\n\t\tlet newRowIndex;\n\n\t\tif (rowSpan > 1) {\n\t\t\tnewRowSpan = Math.ceil(rowSpan / 2);\n\t\t\tnewCellRowSpan = Math.floor(rowSpan / 2);\n\t\t\tnewRowIndex = rowIndex + newRowSpan;\n\t\t\tconst newCellTr = new CKEDITOR.dom.element(\n\t\t\t\ttable.$.rows[newRowIndex]\n\t\t\t);\n\n\t\t\tconst newCellRow = cellInRow(map, newRowIndex);\n\n\t\t\tlet candidateCell;\n\n\t\t\tnewCell = cell.clone();\n\n\t\t\t// Figure out where to insert the new cell by checking the vitual row.\n\t\t\tfor (let c = 0; c < newCellRow.length; c++) {\n\t\t\t\tcandidateCell = newCellRow[c];\n\t\t\t\t// Catch first cell actually following the column.\n\t\t\t\tif (candidateCell.parentNode == newCellTr.$ && c > colIndex) {\n\t\t\t\t\tnewCell.insertBefore(\n\t\t\t\t\t\tnew CKEDITOR.dom.element(candidateCell)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcandidateCell = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The destination row is empty, append at will.\n\t\t\tif (!candidateCell) newCellTr.append(newCell);\n\t\t} else {\n\t\t\tnewCellRowSpan = newRowSpan = 1;\n\n\t\t\tconst newCellTr = tr.clone();\n\t\t\tnewCellTr.insertAfter(tr);\n\t\t\tnewCellTr.append((newCell = cell.clone()));\n\n\t\t\tconst cellsInSameRow = cellInRow(map, rowIndex);\n\t\t\tfor (let i = 0; i < cellsInSameRow.length; i++)\n\t\t\t\tcellsInSameRow[i].rowSpan++;\n\t\t}\n\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.rowSpan = newRowSpan;\n\t\tnewCell.$.rowSpan = newCellRowSpan;\n\t\tif (newRowSpan == 1) cell.removeAttribute('rowSpan');\n\t\tif (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');\n\n\t\treturn newCell;\n\t}\n\n\tfunction horizontalSplitCell(selection, isDetect) {\n\t\tconst cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tconst cell = cells[0];\n\n\t\tconst tr = cell.getParent();\n\n\t\tconst table = tr.getAscendant('table');\n\n\t\tconst map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tconst rowIndex = tr.$.rowIndex;\n\n\t\tconst colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tconst colSpan = cell.$.colSpan;\n\n\t\tlet newColSpan;\n\n\t\tlet newCellColSpan;\n\n\t\tif (colSpan > 1) {\n\t\t\tnewColSpan = Math.ceil(colSpan / 2);\n\t\t\tnewCellColSpan = Math.floor(colSpan / 2);\n\t\t} else {\n\t\t\tnewCellColSpan = newColSpan = 1;\n\t\t\tconst cellsInSameCol = cellInCol(map, colIndex);\n\t\t\tfor (let i = 0; i < cellsInSameCol.length; i++)\n\t\t\t\tcellsInSameCol[i].colSpan++;\n\t\t}\n\t\tconst newCell = cell.clone();\n\t\tnewCell.insertAfter(cell);\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.colSpan = newColSpan;\n\t\tnewCell.$.colSpan = newCellColSpan;\n\t\tif (newColSpan == 1) cell.removeAttribute('colSpan');\n\t\tif (newCellColSpan == 1) newCell.removeAttribute('colSpan');\n\n\t\treturn newCell;\n\t}\n\n\tCKEDITOR.plugins.add('ae_tabletools', {\n\t\tinit(editor) {\n\t\t\tfunction createDef(def) {\n\t\t\t\treturn CKEDITOR.tools.extend(def || {}, {\n\t\t\t\t\tcontextSensitive: 1,\n\t\t\t\t\trefresh(editor, path) {\n\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\tpath.contains({td: 1, th: 1}, 1)\n\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction addCmd(name, def) {\n\t\t\t\tlet cmd = editor.getCommand(name);\n\n\t\t\t\tif (cmd) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcmd = editor.addCommand(name, def);\n\t\t\t\teditor.addFeature(cmd);\n\t\t\t}\n\n\t\t\taddCmd(\n\t\t\t\t'rowDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tplaceCursorInCell(deleteRows(selection));\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertRow(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertRow(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tconst element = deleteColumns(selection);\n\t\t\t\t\t\tif (element) {\n\t\t\t\t\t\t\tplaceCursorInCell(element, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertColumn(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertColumn(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tdeleteCells(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMerge',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan,rowspan]',\n\t\t\t\t\trequiredContent: 'td[colspan,rowspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection()),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeRight',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'right'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeDown',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'down'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellVerticalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tverticalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellHorizontalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\thorizontalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec(editor) {\n\t\t\t\t\t\tconst selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\n\t\tgetSelectedCells,\n\t});\n}\n\n/**\n * Create a two-dimension array that reflects the actual layout of table cells,\n * with cell spans, with mappings to the original td elements.\n *\n * @param {CKEDITOR.dom.element} table\n * @member CKEDITOR.tools\n */\nCKEDITOR.tools.buildTableMap = function(table) {\n\tconst aRows = table.$.rows;\n\n\t// Row and Column counters.\n\tlet r = -1;\n\n\tconst aMap = [];\n\n\tfor (let i = 0; i < aRows.length; i++) {\n\t\tr++;\n\t\tif (!aMap[r]) {\n\t\t\taMap[r] = [];\n\t\t}\n\n\t\tlet c = -1;\n\n\t\tfor (let j = 0; j < aRows[i].cells.length; j++) {\n\t\t\tconst oCell = aRows[i].cells[j];\n\n\t\t\tc++;\n\t\t\twhile (aMap[r][c]) c++;\n\n\t\t\tconst iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;\n\t\t\tconst iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;\n\n\t\t\tfor (let rs = 0; rs < iRowSpan; rs++) {\n\t\t\t\tif (!aMap[r + rs]) aMap[r + rs] = [];\n\n\t\t\t\tfor (let cs = 0; cs < iColSpan; cs++) {\n\t\t\t\t\taMap[r + rs][c + cs] = aRows[i].cells[j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc += iColSpan - 1;\n\t\t}\n\t}\n\treturn aMap;\n};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport './button.jsx';\n\nimport './menu-button.jsx';\n\nimport './menu.jsx';\n\nimport './panel-menu-button.jsx';\n\nimport './richcombo.jsx';\n\nimport './uibridge';\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_buttonbridge')) {\n\tconst BUTTON_DEFS = {};\n\n\t/**\n\t * Generates a ButtonBridge React class for a given button definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateButtonBridge\n\t * @param {String} buttonName The button's name\n\t * @param {Object} buttonDefinition The button's definition\n\t * @return {Object} The generated or already existing React Button Class\n\t */\n\n\tfunction generateButtonBridge(buttonName, buttonDefinition, editor) {\n\t\tlet ButtonBridge = AlloyEditor.Buttons[buttonName];\n\n\t\tBUTTON_DEFS[editor.name] = BUTTON_DEFS[editor.name] || {};\n\t\tBUTTON_DEFS[editor.name][buttonName] =\n\t\t\tBUTTON_DEFS[editor.name][buttonName] || buttonDefinition;\n\n\t\tif (!ButtonBridge) {\n\t\t\tButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = buttonName;\n\n\t\t\t\tstatic key = buttonName;\n\n\t\t\t\t// API not yet implemented inside the button\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tconst buttonDisplayName =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].name ||\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command ||\n\t\t\t\t\t\tbuttonName;\n\n\t\t\t\t\tconst buttonLabel =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].label;\n\n\t\t\t\t\tconst buttonType = 'button-' + buttonDisplayName;\n\n\t\t\t\t\tconst iconClassName = 'ae-icon-' + buttonDisplayName;\n\n\t\t\t\t\tconst iconStyle = {};\n\n\t\t\t\t\tconst cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tbuttonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tconst cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-label={buttonLabel}\n\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\tdata-type={buttonType}\n\t\t\t\t\t\t\tonClick={this._handleClick}\n\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\ttitle={buttonLabel}>\n\t\t\t\t\t\t\t<span className={iconClassName} style={iconStyle} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_handleClick = () => {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst buttonCommand =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command;\n\n\t\t\t\t\tconst buttonOnClick =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].onClick;\n\n\t\t\t\t\tif (buttonOnClick) {\n\t\t\t\t\t\tbuttonOnClick.call(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.execCommand(buttonCommand);\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[buttonName] = ButtonBridge;\n\t\t}\n\n\t\treturn ButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('button')) {\n\t\tCKEDITOR.UI_BUTTON = 'button';\n\n\t\tCKEDITOR.plugins.add('button', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Button plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_BUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_buttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_buttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addButton = function(buttonName, buttonDefinition) {\n\t\t\t\tthis.add(buttonName, CKEDITOR.UI_BUTTON, buttonDefinition);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_BUTTON, {\n\t\t\t\tadd: generateButtonBridge,\n\t\t\t\tcreate(buttonDefinition) {\n\t\t\t\t\tconst buttonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst ButtonBridge = generateButtonBridge(\n\t\t\t\t\t\tbuttonName,\n\t\t\t\t\t\tbuttonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new ButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_menubuttonbridge')) {\n\tconst MENUBUTTON_DEFS = {};\n\n\t/**\n\t * Generates a MenuButtonBridge React class for a given menuButton definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateMenuButtonBridge\n\t * @param {String} menuButtonName The menuButton's name\n\t * @param {Object} menuButtonDefinition The menuButton's definition\n\t * @return {Object} The generated or already existing React MenuButton Class\n\t */\n\tfunction generateMenuButtonBridge(\n\t\tmenuButtonName,\n\t\tmenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet MenuButtonBridge = AlloyEditor.Buttons[menuButtonName];\n\n\t\tMENUBUTTON_DEFS[editor.name] = MENUBUTTON_DEFS[editor.name] || {};\n\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] =\n\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] ||\n\t\t\tmenuButtonDefinition;\n\n\t\tif (!MenuButtonBridge) {\n\t\t\tMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = menuButtonName;\n\n\t\t\t\tstatic key = menuButtonName;\n\n\t\t\t\t// API not yet implemented inside the menubutton\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst panelMenuButtonDisplayName =\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].name ||\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].command ||\n\t\t\t\t\t\tmenuButtonName;\n\n\t\t\t\t\tconst buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tconst iconClassName =\n\t\t\t\t\t\t'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tconst iconStyle = {};\n\n\t\t\t\t\tconst cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tconst cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getMenuItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getMenuItems() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\t\t\t\t\tconst items = menuButtonDefinition.onMenu();\n\t\t\t\t\tconst menuItems = Object.keys(items).map(key => {\n\t\t\t\t\t\tconst menuItem = editor.getMenuItem(key);\n\n\t\t\t\t\t\tif (!menuItem) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst menuItemDefinition =\n\t\t\t\t\t\t\tmenuItem.definition || menuItem;\n\t\t\t\t\t\tconst menuItemState = items[key];\n\n\t\t\t\t\t\tconst className =\n\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t(menuItemState === CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '');\n\t\t\t\t\t\tconst disabled =\n\t\t\t\t\t\t\tmenuItemState === CKEDITOR.TRISTATE_DISABLED;\n\t\t\t\t\t\tconst onClick = function() {\n\t\t\t\t\t\t\tif (menuItemDefinition.command) {\n\t\t\t\t\t\t\t\teditor.execCommand(menuItemDefinition.command);\n\t\t\t\t\t\t\t} else if (menuItemDefinition.onClick) {\n\t\t\t\t\t\t\t\tmenuItemDefinition.onClick.apply(\n\t\t\t\t\t\t\t\t\tmenuItemDefinition\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={menuItem.name} role=\"option\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tonClick={onClick}>\n\t\t\t\t\t\t\t\t\t{menuItemDefinition.label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn menuItems;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[menuButtonName] = MenuButtonBridge;\n\t\t}\n\n\t\treturn MenuButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('menubutton')) {\n\t\tCKEDITOR.UI_MENU_BUTTON = 'menubutton';\n\n\t\tCKEDITOR.plugins.add('menubutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor MenuButton plugin. It takes over the\n\t * responsibility of registering and creating menuButtons via:\n\t * - editor.ui.addMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_MENUBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @requires CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubuttonbridge', {\n\t\trequires: ['ae_uibridge', 'ae_menubridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_MENUBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addMenuButton = function(\n\t\t\t\tmenuButtonName,\n\t\t\t\tmenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tmenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_MENUBUTTON,\n\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_MENUBUTTON, {\n\t\t\t\tadd: generateMenuButtonBridge,\n\t\t\t\tcreate(menuButtonDefinition) {\n\t\t\t\t\tconst menuButtonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst MenuButtonBridge = generateMenuButtonBridge(\n\t\t\t\t\t\tmenuButtonName,\n\t\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new MenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_menubridge')) {\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Menu plugin. It takes over the\n\t * responsibility of adding, removing and retrieving menu groups and items\n\t * - editor.addMenuGroup(name, order)\n\t * - editor.addMenuItem(name, definition)\n\t * - editor.addMenuItems(definitions)\n\t * - editor.getMenuItem(name)\n\t * - editor.removeMenuItem(name)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubridge', {\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\t// Do nothing if the real menu plugin is present\n\t\t\tif (CKEDITOR.plugins.get('menu')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst groups = [];\n\t\t\tconst groupsOrder = (editor._.menuGroups = {});\n\t\t\tconst menuItems = (editor._.menuItems = {});\n\n\t\t\tfor (let i = 0; i < groups.length; i++) {\n\t\t\t\tgroupsOrder[groups[i]] = i + 1;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Registers an item group to the editor context menu in order to make it\n\t\t\t * possible to associate it with menu items later.\n\t\t\t *\n\t\t\t * @method addMenuGroup\n\t\t\t * @param {String} name Specify a group name.\n\t\t\t * @param {Number} [order=100] Define the display sequence of this group\n\t\t\t * inside the menu. A smaller value gets displayed first.\n\t\t\t */\n\t\t\teditor.addMenuGroup = function(name, order) {\n\t\t\t\tgroupsOrder[name] = order || 100;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds an item from the specified definition to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItem\n\t\t\t * @param {String} name The menu item name.\n\t\t\t * @param {Object} definition The menu item definition.\n\t\t\t */\n\t\t\teditor.addMenuItem = function(name, definition) {\n\t\t\t\tif (groupsOrder[definition.group]) {\n\t\t\t\t\tmenuItems[name] = {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tdefinition,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds one or more items from the specified definition object to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItems\n\t\t\t * @param {Object} definitions Object where keys are used as itemName and corresponding values as definition for a {@link #addMenuItem} call.\n\t\t\t */\n\t\t\teditor.addMenuItems = function(definitions) {\n\t\t\t\tfor (const itemName in definitions) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\tdefinitions,\n\t\t\t\t\t\t\titemName\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.addMenuItem(itemName, definitions[itemName]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Retrieves a particular menu item definition from the editor context menu.\n\t\t\t *\n\t\t\t * @method getMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t * @return {Object}\n\t\t\t */\n\t\t\teditor.getMenuItem = function(name) {\n\t\t\t\treturn menuItems[name];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Removes a particular menu item added before from the editor context menu.\n\t\t\t *\n\t\t\t * @method  removeMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t */\n\t\t\teditor.removeMenuItem = function(name) {\n\t\t\t\tdelete menuItems[name];\n\t\t\t};\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_panelmenubuttonbridge')) {\n\tconst PANEL_MENU_DEFS = {};\n\n\t/**\n\t * Generates a PanelMenuButtonBridge React class for a given panelmenubutton definition if it has not been\n\t * already created based on the panelmenubutton name and definition.\n\t *\n\t * @private\n\t * @method generatePanelMenuButtonBridge\n\t * @param {String} panelMenuButtonName The panel button name\n\t * @param {Object} panelMenuButtonDefinition The panel button definition\n\t * @return {Object} The generated or already existing React PanelMenuButton Class\n\t */\n\tconst generatePanelMenuButtonBridge = function(\n\t\tpanelMenuButtonName,\n\t\tpanelMenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet PanelMenuButtonBridge = AlloyEditor.Buttons[panelMenuButtonName];\n\n\t\tPANEL_MENU_DEFS[editor.name] = PANEL_MENU_DEFS[editor.name] || {};\n\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] =\n\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] ||\n\t\t\tpanelMenuButtonDefinition;\n\n\t\tif (!PanelMenuButtonBridge) {\n\t\t\tPanelMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = panelMenuButtonName;\n\n\t\t\t\tstatic key = panelMenuButtonName;\n\n\t\t\t\t// API not yet implemented inside the panel menu button bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcreatePanel() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst panelMenuButtonDisplayName =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.name ||\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.command ||\n\t\t\t\t\t\tpanelMenuButtonName;\n\n\t\t\t\t\tconst buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tconst iconClassName =\n\t\t\t\t\t\t'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tconst iconStyle = {};\n\n\t\t\t\t\tconst cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tconst cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet panel;\n\n\t\t\t\t\tif (this.props.expanded) {\n\t\t\t\t\t\tpanel = this._getPanel();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{panel}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getPanel() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst panelMenuButtonOnBlock =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.onBlock;\n\n\t\t\t\t\tconst panel = {\n\t\t\t\t\t\thide: this.props.toggleDropdown,\n\t\t\t\t\t\tshow: this.props.toggleDropdown,\n\t\t\t\t\t};\n\n\t\t\t\t\tconst blockElement = new CKEDITOR.dom.element('div');\n\n\t\t\t\t\tconst block = {\n\t\t\t\t\t\telement: blockElement,\n\t\t\t\t\t\tkeys: {},\n\t\t\t\t\t};\n\n\t\t\t\t\t/* istanbul ignore else */\n\t\t\t\t\tif (panelMenuButtonOnBlock) {\n\t\t\t\t\t\tpanelMenuButtonOnBlock.call(this, panel, block);\n\t\t\t\t\t}\n\n\t\t\t\t\t// TODO\n\t\t\t\t\t// Use block.keys to configure the panel keyboard navigation\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ButtonDropdown onDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={blockElement.getAttribute('class')}\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: blockElement.getHtml(),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[panelMenuButtonName] = PanelMenuButtonBridge;\n\t\t}\n\n\t\treturn PanelMenuButtonBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelmenubutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelmenubutton';\n\n\t\tCKEDITOR.plugins.add('panelmenubutton', {});\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelbutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelbutton';\n\n\t\tCKEDITOR.plugins.add('panelbutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor PanelButton plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addPanelMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_PANELBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_panelmenubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_panelmenubuttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_PANELBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addPanelMenuButton = function(\n\t\t\t\tpanelMenuButtonName,\n\t\t\t\tpanelMenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_PANELBUTTON,\n\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_PANELBUTTON, {\n\t\t\t\tadd: generatePanelMenuButtonBridge,\n\t\t\t\tcreate(panelMenuButtonDefinition) {\n\t\t\t\t\tconst panelMenuButtonName =\n\t\t\t\t\t\t'panelMenuButtonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst PanelMenuButtonBridge = generatePanelMenuButtonBridge(\n\t\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new PanelMenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport React from 'react';\n\nimport EditorContext from '../../adapter/editor-context';\nimport ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport ButtonIcon from '../buttons/button-icon.jsx';\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_richcombobridge')) {\n\tconst RICH_COMBO_DEFS = {};\n\n\t/**\n\t * Generates a RichComboBridge React class for a given richcombo definition if it has not been\n\t * already created based on the richcombo name and definition.\n\t *\n\t * @method generateRichComboBridge\n\t * @private\n\t * @param {String} richComboName The rich combo name\n\t * @param {Object} richComboDefinition The rich combo definition\n\t * @return {Object} The generated or already existing React RichCombo Class\n\t */\n\tconst generateRichComboBridge = function(\n\t\trichComboName,\n\t\trichComboDefinition,\n\t\teditor\n\t) {\n\t\tlet RichComboBridge = AlloyEditor.Buttons[richComboName];\n\n\t\tRICH_COMBO_DEFS[editor.name] = RICH_COMBO_DEFS[editor.name] || {};\n\t\tRICH_COMBO_DEFS[editor.name][richComboName] =\n\t\t\tRICH_COMBO_DEFS[editor.name][richComboName] || richComboDefinition;\n\t\tRICH_COMBO_DEFS[editor.name][richComboName].currentValue = undefined;\n\n\t\tif (!RichComboBridge) {\n\t\t\tRichComboBridge = class extends React.Component {\n\t\t\t\tstatic contextType = EditorContext;\n\n\t\t\t\tstatic displayName = richComboName;\n\n\t\t\t\tstatic key = richComboName;\n\n\t\t\t\tconstructor(props) {\n\t\t\t\t\tsuper(props);\n\t\t\t\t\tthis.state = {\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t\t.currentValue,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// API not yet implemented inside the richcombo bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcommit() {}\n\t\t\t\tcreatePanel() {}\n\t\t\t\tdisable() {}\n\t\t\t\tenable() {}\n\t\t\t\tgetState() {}\n\t\t\t\thideGroup() {}\n\t\t\t\thideItem() {}\n\t\t\t\tmark() {}\n\t\t\t\tshowAll() {}\n\t\t\t\tstartGroup() {}\n\t\t\t\tunmarkAll() {}\n\n\t\t\t\tadd(value, preview, title) {\n\t\t\t\t\tthis._items.push({\n\t\t\t\t\t\tpreview,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcomponentWillMount() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tthis._items = [];\n\n\t\t\t\t\tthis.setValue = this._setValue;\n\n\t\t\t\t\tif (editorCombo.init) {\n\t\t\t\t\t\teditorCombo.init.call(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (editorCombo.onRender) {\n\t\t\t\t\t\teditorCombo.onRender.call(this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcomponentWillUnmount() {\n\t\t\t\t\tthis._cacheValue(this.state.value);\n\n\t\t\t\t\tthis.setValue = this._cacheValue;\n\t\t\t\t}\n\n\t\t\t\tgetValue() {\n\t\t\t\t\treturn this.state.value;\n\t\t\t\t}\n\n\t\t\t\trender() {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst richComboLabel =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t.currentValue || richComboDefinition.label;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={richComboLabel}\n\t\t\t\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={richComboLabel}>\n\t\t\t\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t\t\t\t{richComboLabel}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ButtonIcon symbol=\"caret-bottom\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_cacheValue(value) {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\trichComboName\n\t\t\t\t\t].currentValue = value;\n\t\t\t\t}\n\n\t\t\t\t_getItems() {\n\t\t\t\t\tconst richCombo = this;\n\n\t\t\t\t\tconst items = this._items.map(item => {\n\t\t\t\t\t\tconst className =\n\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t(item.value === this.state.value ? 'active' : '');\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={item.title} role=\"option\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: item.preview,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdata-value={item.value}\n\t\t\t\t\t\t\t\t\tonClick={richCombo._onClick}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn items;\n\t\t\t\t}\n\n\t\t\t\t_onClick = event => {\n\t\t\t\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\t\t\t\tconst editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tif (editorCombo.onClick) {\n\t\t\t\t\t\tconst newValue = event.currentTarget.getAttribute(\n\t\t\t\t\t\t\t'data-value'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\teditorCombo.onClick.call(this, newValue);\n\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\t\trichComboName\n\t\t\t\t\t\t].currentValue = newValue;\n\n\t\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t_setValue(value) {\n\t\t\t\t\tthis._cacheValue(value);\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[richComboName] = RichComboBridge;\n\t\t}\n\n\t\treturn RichComboBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('richcombo')) {\n\t\tCKEDITOR.UI_RICHCOMBO = 'richcombo';\n\n\t\tCKEDITOR.plugins.add('richcombo', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor RichCombo plugin. It takes over the\n\t * responsibility of registering and creating rich combo elements via:\n\t * - editor.ui.addRichCombo(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_RICHCOMBO, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_richcombobridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_richcombobridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_RICHCOMBO to our own. We do this in the init phase to override\n\t\t * the one in the original plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\teditor.ui.addRichCombo = function(\n\t\t\t\trichComboName,\n\t\t\t\trichComboDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\trichComboName,\n\t\t\t\t\tCKEDITOR.UI_RICHCOMBO,\n\t\t\t\t\trichComboDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_RICHCOMBO, {\n\t\t\t\tadd: generateRichComboBridge,\n\t\t\t\tcreate(richComboDefinition) {\n\t\t\t\t\tconst richComboName =\n\t\t\t\t\t\t'richComboBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tconst RichComboBridge = generateRichComboBridge(\n\t\t\t\t\t\trichComboName,\n\t\t\t\t\t\trichComboDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new RichComboBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\n/* istanbul ignore if */\nif (!CKEDITOR.plugins.get('ae_uibridge')) {\n\t/**\n\t * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified\n\t * on top of the original ones. It bridges the calls to add components via:\n\t * - editor.ui.add(name, type, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_uibridge', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t *\n\t\t * @method beforeInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tbeforeInit(editor) {\n\t\t\tconst originalUIAddFn = editor.ui.add;\n\n\t\t\teditor.ui.add = function(name, type, definition) {\n\t\t\t\toriginalUIAddFn.call(this, name, type, definition);\n\n\t\t\t\tconst typeHandler = this._.handlers[type];\n\n\t\t\t\tif (typeHandler && typeHandler.add) {\n\t\t\t\t\ttypeHandler.add(name, definition, editor);\n\t\t\t\t\tAlloyEditor.registerBridgeButton(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\teditor.__processingPlugin__.plugin.name\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t});\n}\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport removeImageCommand from './remove-image';\n\nexport {removeImageCommand};\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nconst removeImageCommand = {\n\texec: editor => {\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst ranges = selection.getRanges();\n\t\t\tconst startContainer = ranges[0].startContainer;\n\n\t\t\tconst nextRange = new CKEDITOR.dom.range(startContainer);\n\t\t\tnextRange.setStart(startContainer, 0);\n\t\t\tnextRange.setEnd(startContainer, 0);\n\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement && selectedElement.getName() === 'img') {\n\t\t\t\tconst native = selection.getNative();\n\t\t\t\tif (native) {\n\t\t\t\t\tnative.removeAllRanges();\n\t\t\t\t}\n\n\t\t\t\tselection.selectRanges([nextRange]);\n\n\t\t\t\tselectedElement.remove();\n\t\t\t}\n\t\t}\n\t},\n};\n\nexport default removeImageCommand;\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport EditorContext from '../adapter/editor-context';\nimport WidgetExclusive from './base/widget-exclusive';\nimport WidgetFocusManager from './base/widget-focus-manager';\n\n/**\n * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).\n *\n * @class UI\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass UI extends React.Component {\n\tstatic contextType = EditorContext;\n\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '[class^=ae-toolbar-]',\n\t\teventsDelay: 0,\n\t\tkeys: {\n\t\t\tnext: 9,\n\t\t},\n\t};\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Localized messages for live aria updates. Should include the following messages:\n\t\t * - noToolbar: Notification for no available toolbar in the editor.\n\t\t * - oneToolbar: Notification for just one available toolbar in the editor.\n\t\t * - manyToolbars: Notification for more than one available toolbar in the editor.\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Object} ariaUpdates\n\t\t */\n\t\tariaUpdates: PropTypes.object,\n\n\t\t/**\n\t\t * The delay (ms), after which key or mouse events will be processed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Number} eventsDelay\n\t\t */\n\t\teventsDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The toolbars configuration for this editor instance\n\t\t *\n\t\t * @instance\n\t\t * @memberof UI\n\t\t * @property {Object} toolbars\n\t\t */\n\t\ttoolbars: PropTypes.object.isRequired,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thidden: false,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.on('editorInteraction', this._onEditorInteraction, this);\n\t\teditor.on('actionPerformed', this._onActionPerformed, this);\n\t\teditor.on('key', this._onEditorKey, this);\n\n\t\t// Set up events for hiding the UI when user stops interacting with the editor.\n\t\t// This may happen when he just clicks outside of the editor. However,\n\t\t// this does not include a situation when he clicks on some button, part of\n\t\t// editor's UI.\n\n\t\t// It is not easy to debounce _setUIHidden on mousedown, because if we\n\t\t// debounce it, when the handler is being invoked, the target might be no more part\n\t\t// of the editor's UI - onActionPerformed causes re-render.\n\t\tthis._mousedownListener = event => {\n\t\t\tthis._setUIHidden(event.target);\n\t\t};\n\n\t\tthis._keyDownListener = CKEDITOR.tools.debounce(\n\t\t\t_event => {\n\t\t\t\tthis._setUIHidden(document.activeElement);\n\t\t\t},\n\t\t\tthis.props.eventsDelay,\n\t\t\tthis\n\t\t);\n\n\t\tdocument.addEventListener('mousedown', this._mousedownListener);\n\t\tdocument.addEventListener('keydown', this._keyDownListener);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * Fires `ariaUpdate` event passing ARIA related messages.\n\t * Fires `editorUpdate` event passing the previous and current properties and state.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidUpdate\n\t */\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\tif (domNode) {\n\t\t\teditor.fire('ariaUpdate', {\n\t\t\t\tmessage: this._getAvailableToolbarsMessage(domNode),\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('editorUpdate', {\n\t\t\tprevProps,\n\t\t\tprevState,\n\t\t\tprops: this.props,\n\t\t\tstate: this.state,\n\t\t});\n\t}\n\n\t_getAriaUpdateTemplate(ariaUpdate) {\n\t\tif (!this._ariaUpdateTemplates) {\n\t\t\tthis._ariaUpdateTemplates = {};\n\t\t}\n\n\t\tif (!this._ariaUpdateTemplates[ariaUpdate]) {\n\t\t\tthis._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(\n\t\t\t\tthis._getAriaUpdates()[ariaUpdate]\n\t\t\t);\n\t\t}\n\n\t\treturn this._ariaUpdateTemplates[ariaUpdate];\n\t}\n\n\t/**\n\t * Returns the templates for ARIA messages.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _getAriaUpdates\n\t * @return {Object} ARIA relates messages. Default:\n\t * {\n\t *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars\n\t *  }\n\t */\n\t_getAriaUpdates() {\n\t\treturn (\n\t\t\tthis.props.ariaUpdates || {\n\t\t\t\tnoToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t\t\t\toneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t\t\t\tmanyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars,\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Returns an ARIA message which represents the number of currently available toolbars.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method _getAvailableToolbarsMessage\n\t * @protected\n\t * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.\n\t * @return {String} The ARIA message for the number of available toolbars\n\t */\n\t_getAvailableToolbarsMessage(domNode) {\n\t\tconst toolbarsNodeList = domNode.querySelectorAll('[role=\"toolbar\"]');\n\n\t\tif (!toolbarsNodeList.length) {\n\t\t\treturn this._getAriaUpdates().noToolbar;\n\t\t} else {\n\t\t\tconst toolbarNames = Array.prototype.slice\n\t\t\t\t.call(toolbarsNodeList)\n\t\t\t\t.map(toolbar => {\n\t\t\t\t\treturn toolbar.getAttribute('aria-label');\n\t\t\t\t});\n\n\t\t\tconst ariaUpdate =\n\t\t\t\ttoolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';\n\n\t\t\treturn this._getAriaUpdateTemplate(ariaUpdate).output({\n\t\t\t\ttoolbars: toolbarNames\n\t\t\t\t\t.join(',')\n\t\t\t\t\t.replace(/,([^,]*)$/, ' and ' + '$1'),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._mousedownListener) {\n\t\t\tdocument.removeEventListener('mousedown', this._mousedownListener);\n\t\t}\n\n\t\tif (this._keyDownListener) {\n\t\t\tthis._keyDownListener.detach();\n\t\t\tdocument.removeEventListener('keydown', this._keyDownListener);\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.\n\t * The editor's UI also takes care of rendering the items in exclusive mode.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.state.hidden) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet toolbars = Object.keys(this.props.toolbars).map(toolbar => {\n\t\t\treturn AlloyEditor.Toolbars[toolbar] || window[toolbar];\n\t\t});\n\n\t\ttoolbars = this.filterExclusive(toolbars).map(toolbar => {\n\t\t\tconst props = this.mergeExclusiveProps(\n\t\t\t\t{\n\t\t\t\t\tconfig: this.props.toolbars[toolbar.key],\n\t\t\t\t\teditor: this.context.editor,\n\t\t\t\t\teditorEvent: this.state.editorEvent,\n\t\t\t\t\tkey: toolbar.key,\n\t\t\t\t\tonDismiss: this._onDismissToolbarFocus,\n\t\t\t\t\tselectionData: this.state.selectionData,\n\t\t\t\t},\n\t\t\t\ttoolbar.key\n\t\t\t);\n\n\t\t\treturn React.createElement(toolbar, props);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"ae-toolbars\" onKeyDown={this.handleKey}>\n\t\t\t\t{toolbars}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onActionPerformed\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onActionPerformed(_event) {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\n\t\tthis.setState({\n\t\t\titemExclusive: null,\n\t\t\tselectionData: editor.getSelectionData(),\n\t\t});\n\t}\n\n\t/**\n\t * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onDismissToolbarFocus\n\t */\n\t_onDismissToolbarFocus = () => {\n\t\tconst editor = this.context.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\t};\n\n\t/**\n\t * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and\n\t * provides it via component's state property.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorInteraction\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onEditorInteraction(event) {\n\t\tthis.setState({\n\t\t\teditorEvent: event,\n\t\t\thidden: false,\n\t\t\titemExclusive: null,\n\t\t\tselectionData: event.data.selectionData,\n\t\t});\n\t}\n\n\t/**\n\t * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorKey\n\t */\n\t_onEditorKey(event) {\n\t\tconst nativeEvent = event.data.domEvent.$;\n\n\t\tif (nativeEvent.altKey && nativeEvent.keyCode === 121) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the target with which the user interacted is part of editor's UI or it is\n\t * the editable area. If none of these, sets the state of editor's UI to be hidden.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _setUIHidden\n\t * @param {DOMElement} target The DOM element with which user interacted lastly.\n\t */\n\t_setUIHidden(target) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst editable = this.context.editor.get('nativeEditor').editable();\n\t\t\tconst parentNode = target.parentNode;\n\t\t\tconst targetNode = new CKEDITOR.dom.node(target);\n\n\t\t\tif (!editable) {\n\t\t\t\tthis.setState({\n\t\t\t\t\thidden: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet res =\n\t\t\t\t\teditable.$ === target ||\n\t\t\t\t\teditable.contains(targetNode) ||\n\t\t\t\t\tnew CKEDITOR.dom.element(domNode).contains(targetNode);\n\n\t\t\t\tif (parentNode) {\n\t\t\t\t\tres = res || parentNode.id === 'ckimgrsz';\n\t\t\t\t}\n\n\t\t\t\tif (!res) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Fired when component updates and when it is rendered in the DOM.\n * The payload consists from a `message` property containing the ARIA message.\n *\n * @event ariaUpdate\n */\n\n/**\n * Fired when component updates. The payload consists from an object with the following\n * properties:\n * - prevProps - The previous properties of the component\n * - prevState - The previous state of the component\n * - props - The current properties of the component\n * - state - The current state of the component\n *\n * @event ariaUpdate\n */\n\nexport default WidgetExclusive(WidgetFocusManager(UI));\n","/**\n * SPDX-FileCopyrightText:  2014 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: LGPL-3.0-or-later\n */\n\nimport Attribute from './attribute';\nimport Lang from './lang';\nimport extend from './oop';\n\n/**\n * Quick and dirty impl of Base class.\n *\n * @class Base\n * @constructor\n */\nfunction Base(config) {\n\tBase.superclass.constructor.call(this, config);\n\n\tthis.init(config);\n}\n\nextend(Base, Attribute, {\n\t/**\n\t * Calls the `initializer` method of each class which extends Base starting from the parent to the child.\n\t * Will pass the configuration object to each initializer method.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method init\n\t * @param {Object} config Configuration object\n\t */\n\tinit(config) {\n\t\tthis._callChain('initializer', config);\n\t},\n\n\t/**\n\t * Calls the `destructor` method of each class which extends Base starting from the parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method destroy\n\t */\n\tdestroy() {\n\t\tthis._callChain('destructor');\n\t},\n\n\t/**\n\t * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method _callChain\n\t * @param {Object|Array} args The arguments with which the method should be invoked\n\t * @param {String} wat  The method, which should be invoked\n\t * @protected\n\t */\n\t_callChain(wat, args) {\n\t\tlet arr = [];\n\n\t\tlet ctor = this.constructor;\n\n\t\twhile (ctor) {\n\t\t\tif (Lang.isFunction(ctor.prototype[wat])) {\n\t\t\t\tarr.push(ctor.prototype[wat]);\n\t\t\t}\n\n\t\t\tctor = ctor.superclass ? ctor.superclass.constructor : null;\n\t\t}\n\n\t\tarr = arr.reverse();\n\n\t\targs = Lang.isArray(args) ? args : [args];\n\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tconst item = arr[i];\n\n\t\t\titem.apply(this, args);\n\t\t}\n\t},\n});\n\nexport default Base;\n","module.exports = \"2.11.6\";"],"sourceRoot":""}